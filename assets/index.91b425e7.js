var SV=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Wxe=SV((os,as)=>{const CV=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=i(r);fetch(r.href,o)}};CV();var zo=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function EV(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Q2(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(i){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}),e}var $={exports:{}},Kt={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var HI=Object.getOwnPropertySymbols,zV=Object.prototype.hasOwnProperty,IV=Object.prototype.propertyIsEnumerable;function RV(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function PV(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;var n=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(n.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(o){r[o]=o}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var HL=PV()?Object.assign:function(t,e){for(var i,n=RV(t),r,o=1;o<arguments.length;o++){i=Object(arguments[o]);for(var a in i)zV.call(i,a)&&(n[a]=i[a]);if(HI){r=HI(i);for(var s=0;s<r.length;s++)IV.call(i,r[s])&&(n[r[s]]=i[r[s]])}}return n};/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q2=HL,No=typeof Symbol=="function"&&Symbol.for,Gm=No?Symbol.for("react.element"):60103,LV=No?Symbol.for("react.portal"):60106,OV=No?Symbol.for("react.fragment"):60107,MV=No?Symbol.for("react.strict_mode"):60108,DV=No?Symbol.for("react.profiler"):60114,BV=No?Symbol.for("react.provider"):60109,FV=No?Symbol.for("react.context"):60110,NV=No?Symbol.for("react.forward_ref"):60112,jV=No?Symbol.for("react.suspense"):60113,UV=No?Symbol.for("react.memo"):60115,GV=No?Symbol.for("react.lazy"):60116,YI=typeof Symbol=="function"&&Symbol.iterator;function Hm(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WL={};function gf(t,e,i){this.props=t,this.context=e,this.refs=WL,this.updater=i||YL}gf.prototype.isReactComponent={};gf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Hm(85));this.updater.enqueueSetState(this,t,e,"setState")};gf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function VL(){}VL.prototype=gf.prototype;function K2(t,e,i){this.props=t,this.context=e,this.refs=WL,this.updater=i||YL}var X2=K2.prototype=new VL;X2.constructor=K2;q2(X2,gf.prototype);X2.isPureReactComponent=!0;var J2={current:null},$L=Object.prototype.hasOwnProperty,QL={key:!0,ref:!0,__self:!0,__source:!0};function qL(t,e,i){var n,r={},o=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)$L.call(e,n)&&!QL.hasOwnProperty(n)&&(r[n]=e[n]);var s=arguments.length-2;if(s===1)r.children=i;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)r[n]===void 0&&(r[n]=s[n]);return{$$typeof:Gm,type:t,key:o,ref:a,props:r,_owner:J2.current}}function HV(t,e){return{$$typeof:Gm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Z2(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gm}function YV(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(i){return e[i]})}var KL=/\/+/g,mv=[];function XL(t,e,i,n){if(mv.length){var r=mv.pop();return r.result=t,r.keyPrefix=e,r.func=i,r.context=n,r.count=0,r}return{result:t,keyPrefix:e,func:i,context:n,count:0}}function JL(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>mv.length&&mv.push(t)}function Ik(t,e,i,n){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gm:case LV:o=!0}}if(o)return i(n,t,e===""?"."+a1(t,0):e),1;if(o=0,e=e===""?".":e+":",Array.isArray(t))for(var a=0;a<t.length;a++){r=t[a];var s=e+a1(r,a);o+=Ik(r,s,i,n)}else if(t===null||typeof t!="object"?s=null:(s=YI&&t[YI]||t["@@iterator"],s=typeof s=="function"?s:null),typeof s=="function")for(t=s.call(t),a=0;!(r=t.next()).done;)r=r.value,s=e+a1(r,a++),o+=Ik(r,s,i,n);else if(r==="object")throw i=""+t,Error(Hm(31,i==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return o}function Rk(t,e,i){return t==null?0:Ik(t,"",e,i)}function a1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YV(t.key):e.toString(36)}function WV(t,e){t.func.call(t.context,e,t.count++)}function VV(t,e,i){var n=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?Pk(t,n,i,function(o){return o}):t!=null&&(Z2(t)&&(t=HV(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(KL,"$&/")+"/")+i)),n.push(t))}function Pk(t,e,i,n,r){var o="";i!=null&&(o=(""+i).replace(KL,"$&/")+"/"),e=XL(e,o,n,r),Rk(t,VV,e),JL(e)}var ZL={current:null};function _s(){var t=ZL.current;if(t===null)throw Error(Hm(321));return t}var $V={ReactCurrentDispatcher:ZL,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:J2,IsSomeRendererActing:{current:!1},assign:q2};Kt.Children={map:function(t,e,i){if(t==null)return t;var n=[];return Pk(t,n,null,e,i),n},forEach:function(t,e,i){if(t==null)return t;e=XL(null,null,e,i),Rk(t,WV,e),JL(e)},count:function(t){return Rk(t,function(){return null},null)},toArray:function(t){var e=[];return Pk(t,e,null,function(i){return i}),e},only:function(t){if(!Z2(t))throw Error(Hm(143));return t}};Kt.Component=gf;Kt.Fragment=OV;Kt.Profiler=DV;Kt.PureComponent=K2;Kt.StrictMode=MV;Kt.Suspense=jV;Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$V;Kt.cloneElement=function(t,e,i){if(t==null)throw Error(Hm(267,t));var n=q2({},t.props),r=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=J2.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)$L.call(e,l)&&!QL.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=i;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:Gm,type:t.type,key:r,ref:o,props:n,_owner:a}};Kt.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:FV,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:BV,_context:t},t.Consumer=t};Kt.createElement=qL;Kt.createFactory=function(t){var e=qL.bind(null,t);return e.type=t,e};Kt.createRef=function(){return{current:null}};Kt.forwardRef=function(t){return{$$typeof:NV,render:t}};Kt.isValidElement=Z2;Kt.lazy=function(t){return{$$typeof:GV,_ctor:t,_status:-1,_result:null}};Kt.memo=function(t,e){return{$$typeof:UV,type:t,compare:e===void 0?null:e}};Kt.useCallback=function(t,e){return _s().useCallback(t,e)};Kt.useContext=function(t,e){return _s().useContext(t,e)};Kt.useDebugValue=function(){};Kt.useEffect=function(t,e){return _s().useEffect(t,e)};Kt.useImperativeHandle=function(t,e,i){return _s().useImperativeHandle(t,e,i)};Kt.useLayoutEffect=function(t,e){return _s().useLayoutEffect(t,e)};Kt.useMemo=function(t,e){return _s().useMemo(t,e)};Kt.useReducer=function(t,e,i){return _s().useReducer(t,e,i)};Kt.useRef=function(t){return _s().useRef(t)};Kt.useState=function(t){return _s().useState(t)};Kt.version="16.14.0";$.exports=Kt;var ze=$.exports,dl={exports:{}},vo={},eO={exports:{}},tO={};/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,i,n,r,o;if(typeof window=="undefined"||typeof MessageChannel!="function"){var a=null,s=null,l=function(){if(a!==null)try{var te=t.unstable_now();a(!0,te),a=null}catch(ae){throw setTimeout(l,0),ae}},c=Date.now();t.unstable_now=function(){return Date.now()-c},e=function(te){a!==null?setTimeout(e,0,te):(a=te,setTimeout(l,0))},i=function(te,ae){s=setTimeout(te,ae)},n=function(){clearTimeout(s)},r=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,p=window.Date,h=window.setTimeout,m=window.clearTimeout;if(typeof console!="undefined"){var y=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),typeof y!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if(typeof d=="object"&&typeof d.now=="function")t.unstable_now=function(){return d.now()};else{var w=p.now();t.unstable_now=function(){return p.now()-w}}var g=!1,A=null,x=-1,T=5,E=0;r=function(){return t.unstable_now()>=E},o=function(){},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):T=0<te?Math.floor(1e3/te):5};var z=new MessageChannel,M=z.port2;z.port1.onmessage=function(){if(A!==null){var te=t.unstable_now();E=te+T;try{A(!0,te)?M.postMessage(null):(g=!1,A=null)}catch(ae){throw M.postMessage(null),ae}}else g=!1},e=function(te){A=te,g||(g=!0,M.postMessage(null))},i=function(te,ae){x=h(function(){te(t.unstable_now())},ae)},n=function(){m(x),x=-1}}function B(te,ae){var fe=te.length;te.push(ae);e:for(;;){var ve=fe-1>>>1,be=te[ve];if(be!==void 0&&0<H(be,ae))te[ve]=ae,te[fe]=be,fe=ve;else break e}}function L(te){return te=te[0],te===void 0?null:te}function F(te){var ae=te[0];if(ae!==void 0){var fe=te.pop();if(fe!==ae){te[0]=fe;e:for(var ve=0,be=te.length;ve<be;){var Ie=2*(ve+1)-1,He=te[Ie],Ve=Ie+1,et=te[Ve];if(He!==void 0&&0>H(He,fe))et!==void 0&&0>H(et,He)?(te[ve]=et,te[Ve]=fe,ve=Ve):(te[ve]=He,te[Ie]=fe,ve=Ie);else if(et!==void 0&&0>H(et,fe))te[ve]=et,te[Ve]=fe,ve=Ve;else break e}}return ae}return null}function H(te,ae){var fe=te.sortIndex-ae.sortIndex;return fe!==0?fe:te.id-ae.id}var X=[],de=[],we=1,Ee=null,ke=3,Be=!1,De=!1,We=!1;function Pe(te){for(var ae=L(de);ae!==null;){if(ae.callback===null)F(de);else if(ae.startTime<=te)F(de),ae.sortIndex=ae.expirationTime,B(X,ae);else break;ae=L(de)}}function Oe(te){if(We=!1,Pe(te),!De)if(L(X)!==null)De=!0,e(se);else{var ae=L(de);ae!==null&&i(Oe,ae.startTime-te)}}function se(te,ae){De=!1,We&&(We=!1,n()),Be=!0;var fe=ke;try{for(Pe(ae),Ee=L(X);Ee!==null&&(!(Ee.expirationTime>ae)||te&&!r());){var ve=Ee.callback;if(ve!==null){Ee.callback=null,ke=Ee.priorityLevel;var be=ve(Ee.expirationTime<=ae);ae=t.unstable_now(),typeof be=="function"?Ee.callback=be:Ee===L(X)&&F(X),Pe(ae)}else F(X);Ee=L(X)}if(Ee!==null)var Ie=!0;else{var He=L(de);He!==null&&i(Oe,He.startTime-ae),Ie=!1}return Ie}finally{Ee=null,ke=fe,Be=!1}}function Z(te){switch(te){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var ce=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){De||Be||(De=!0,e(se))},t.unstable_getCurrentPriorityLevel=function(){return ke},t.unstable_getFirstCallbackNode=function(){return L(X)},t.unstable_next=function(te){switch(ke){case 1:case 2:case 3:var ae=3;break;default:ae=ke}var fe=ke;ke=ae;try{return te()}finally{ke=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=ce,t.unstable_runWithPriority=function(te,ae){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var fe=ke;ke=te;try{return ae()}finally{ke=fe}},t.unstable_scheduleCallback=function(te,ae,fe){var ve=t.unstable_now();if(typeof fe=="object"&&fe!==null){var be=fe.delay;be=typeof be=="number"&&0<be?ve+be:ve,fe=typeof fe.timeout=="number"?fe.timeout:Z(te)}else fe=Z(te),be=ve;return fe=be+fe,te={id:we++,callback:ae,priorityLevel:te,startTime:be,expirationTime:fe,sortIndex:-1},be>ve?(te.sortIndex=be,B(de,te),L(X)===null&&te===L(de)&&(We?n():We=!0,i(Oe,be-ve))):(te.sortIndex=fe,B(X,te),De||Be||(De=!0,e(se))),te},t.unstable_shouldYield=function(){var te=t.unstable_now();Pe(te);var ae=L(X);return ae!==Ee&&Ee!==null&&ae!==null&&ae.callback!==null&&ae.startTime<=te&&ae.expirationTime<Ee.expirationTime||r()},t.unstable_wrapCallback=function(te){var ae=ke;return function(){var fe=ke;ke=ae;try{return te.apply(this,arguments)}finally{ke=fe}}}})(tO);eO.exports=tO;/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy=$.exports,ir=HL,bn=eO.exports;function Re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!qy)throw Error(Re(227));function QV(t,e,i,n,r,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(i,c)}catch(d){this.onError(d)}}var gh=!1,gv=null,bv=!1,Lk=null,qV={onError:function(t){gh=!0,gv=t}};function KV(t,e,i,n,r,o,a,s,l){gh=!1,gv=null,QV.apply(qV,arguments)}function XV(t,e,i,n,r,o,a,s,l){if(KV.apply(this,arguments),gh){if(gh){var c=gv;gh=!1,gv=null}else throw Error(Re(198));bv||(bv=!0,Lk=c)}}var eT=null,iO=null,nO=null;function WI(t,e,i){var n=t.type||"unknown-event";t.currentTarget=nO(i),XV(n,e,void 0,t),t.currentTarget=null}var vv=null,Zu={};function rO(){if(vv)for(var t in Zu){var e=Zu[t],i=vv.indexOf(t);if(!(-1<i))throw Error(Re(96,t));if(!yv[i]){if(!e.extractEvents)throw Error(Re(97,t));yv[i]=e,i=e.eventTypes;for(var n in i){var r=void 0,o=i[n],a=e,s=n;if(Ok.hasOwnProperty(s))throw Error(Re(99,s));Ok[s]=o;var l=o.phasedRegistrationNames;if(l){for(r in l)l.hasOwnProperty(r)&&VI(l[r],a,s);r=!0}else o.registrationName?(VI(o.registrationName,a,s),r=!0):r=!1;if(!r)throw Error(Re(98,n,t))}}}}function VI(t,e,i){if(zd[t])throw Error(Re(100,t));zd[t]=e,tT[t]=e.eventTypes[i].dependencies}var yv=[],Ok={},zd={},tT={};function oO(t){var e=!1,i;for(i in t)if(t.hasOwnProperty(i)){var n=t[i];if(!Zu.hasOwnProperty(i)||Zu[i]!==n){if(Zu[i])throw Error(Re(102,i));Zu[i]=n,e=!0}}e&&rO()}var Pl=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Mk=null,hd=null,md=null;function $I(t){if(t=iO(t)){if(typeof Mk!="function")throw Error(Re(280));var e=t.stateNode;e&&(e=eT(e),Mk(t.stateNode,t.type,e))}}function aO(t){hd?md?md.push(t):md=[t]:hd=t}function sO(){if(hd){var t=hd,e=md;if(md=hd=null,$I(t),e)for(t=0;t<e.length;t++)$I(e[t])}}function iT(t,e){return t(e)}function lO(t,e,i,n,r){return t(e,i,n,r)}function nT(){}var cO=iT,pc=!1,s1=!1;function rT(){(hd!==null||md!==null)&&(nT(),sO())}function uO(t,e,i){if(s1)return t(e,i);s1=!0;try{return cO(t,e,i)}finally{s1=!1,rT()}}var JV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,QI=Object.prototype.hasOwnProperty,qI={},KI={};function ZV(t){return QI.call(KI,t)?!0:QI.call(qI,t)?!1:JV.test(t)?KI[t]=!0:(qI[t]=!0,!1)}function e$(t,e,i,n){if(i!==null&&i.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function t$(t,e,i,n){if(e===null||typeof e=="undefined"||e$(t,e,i,n))return!0;if(n)return!1;if(i!==null)switch(i.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function or(t,e,i,n,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=o}var vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vn[t]=new or(t,0,!1,t,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vn[e]=new or(e,1,!1,t[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vn[t]=new or(t,2,!1,t.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vn[t]=new or(t,2,!1,t,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vn[t]=new or(t,3,!1,t.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(t){vn[t]=new or(t,3,!0,t,null,!1)});["capture","download"].forEach(function(t){vn[t]=new or(t,4,!1,t,null,!1)});["cols","rows","size","span"].forEach(function(t){vn[t]=new or(t,6,!1,t,null,!1)});["rowSpan","start"].forEach(function(t){vn[t]=new or(t,5,!1,t.toLowerCase(),null,!1)});var oT=/[\-:]([a-z])/g;function aT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(oT,aT);vn[e]=new or(e,1,!1,t,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(oT,aT);vn[e]=new or(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(oT,aT);vn[e]=new or(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(t){vn[t]=new or(t,1,!1,t.toLowerCase(),null,!1)});vn.xlinkHref=new or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(t){vn[t]=new or(t,1,!1,t.toLowerCase(),null,!0)});var Mo=qy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Mo.hasOwnProperty("ReactCurrentDispatcher")||(Mo.ReactCurrentDispatcher={current:null});Mo.hasOwnProperty("ReactCurrentBatchConfig")||(Mo.ReactCurrentBatchConfig={suspense:null});function sT(t,e,i,n){var r=vn.hasOwnProperty(e)?vn[e]:null,o=r!==null?r.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");o||(t$(e,i,r,n)&&(i=null),n||r===null?ZV(e)&&(i===null?t.removeAttribute(e):t.setAttribute(e,""+i)):r.mustUseProperty?t[r.propertyName]=i===null?r.type===3?!1:"":i:(e=r.attributeName,n=r.attributeNamespace,i===null?t.removeAttribute(e):(r=r.type,i=r===3||r===4&&i===!0?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}var i$=/^(.*)[\\\/]/,Sr=typeof Symbol=="function"&&Symbol.for,e0=Sr?Symbol.for("react.element"):60103,ed=Sr?Symbol.for("react.portal"):60106,dc=Sr?Symbol.for("react.fragment"):60107,dO=Sr?Symbol.for("react.strict_mode"):60108,B0=Sr?Symbol.for("react.profiler"):60114,fO=Sr?Symbol.for("react.provider"):60109,pO=Sr?Symbol.for("react.context"):60110,n$=Sr?Symbol.for("react.concurrent_mode"):60111,lT=Sr?Symbol.for("react.forward_ref"):60112,F0=Sr?Symbol.for("react.suspense"):60113,Dk=Sr?Symbol.for("react.suspense_list"):60120,cT=Sr?Symbol.for("react.memo"):60115,hO=Sr?Symbol.for("react.lazy"):60116,mO=Sr?Symbol.for("react.block"):60121,XI=typeof Symbol=="function"&&Symbol.iterator;function Mp(t){return t===null||typeof t!="object"?null:(t=XI&&t[XI]||t["@@iterator"],typeof t=="function"?t:null)}function r$(t){if(t._status===-1){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then(function(i){t._status===0&&(i=i.default,t._status=1,t._result=i)},function(i){t._status===0&&(t._status=2,t._result=i)})}}function ss(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case dc:return"Fragment";case ed:return"Portal";case B0:return"Profiler";case dO:return"StrictMode";case F0:return"Suspense";case Dk:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pO:return"Context.Consumer";case fO:return"Context.Provider";case lT:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case cT:return ss(t.type);case mO:return ss(t.render);case hO:if(t=t._status===1?t._result:null)return ss(t)}return null}function uT(t){var e="";do{e:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var i="";break e;default:var n=t._debugOwner,r=t._debugSource,o=ss(t.type);i=null,n&&(i=ss(n.type)),n=o,o="",r?o=" (at "+r.fileName.replace(i$,"")+":"+r.lineNumber+")":i&&(o=" (created by "+i+")"),i=`
    in `+(n||"Unknown")+o}e+=i,t=t.return}while(t);return e}function fl(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function gO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function o$(t){var e=gO(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof i!="undefined"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,o=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function t0(t){t._valueTracker||(t._valueTracker=o$(t))}function bO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=gO(t)?t.checked?"true":"false":t.value),t=n,t!==i?(e.setValue(t),!0):!1}function Bk(t,e){var i=e.checked;return ir({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i!=null?i:t._wrapperState.initialChecked})}function JI(t,e){var i=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;i=fl(e.value!=null?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vO(t,e){e=e.checked,e!=null&&sT(t,"checked",e,!1)}function Fk(t,e){vO(t,e);var i=fl(e.value),n=e.type;if(i!=null)n==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nk(t,e.type,i):e.hasOwnProperty("defaultValue")&&Nk(t,e.type,fl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ZI(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function Nk(t,e,i){(e!=="number"||t.ownerDocument.activeElement!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}function a$(t){var e="";return qy.Children.forEach(t,function(i){i!=null&&(e+=i)}),e}function jk(t,e){return t=ir({children:void 0},e),(e=a$(e.children))&&(t.children=e),t}function gd(t,e,i,n){if(t=t.options,e){e={};for(var r=0;r<i.length;r++)e["$"+i[r]]=!0;for(i=0;i<t.length;i++)r=e.hasOwnProperty("$"+t[i].value),t[i].selected!==r&&(t[i].selected=r),r&&n&&(t[i].defaultSelected=!0)}else{for(i=""+fl(i),e=null,r=0;r<t.length;r++){if(t[r].value===i){t[r].selected=!0,n&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Uk(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Re(91));return ir({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function e5(t,e){var i=e.value;if(i==null){if(i=e.children,e=e.defaultValue,i!=null){if(e!=null)throw Error(Re(92));if(Array.isArray(i)){if(!(1>=i.length))throw Error(Re(93));i=i[0]}e=i}e==null&&(e=""),i=e}t._wrapperState={initialValue:fl(i)}}function yO(t,e){var i=fl(e.value),n=fl(e.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),e.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),n!=null&&(t.defaultValue=""+n)}function t5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var wO={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function AO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gk(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?AO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var i0,xO=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,i,n,r){MSApp.execUnsafeLocalFunction(function(){return t(e,i,n,r)})}:t}(function(t,e){if(t.namespaceURI!==wO.svg||"innerHTML"in t)t.innerHTML=e;else{for(i0=i0||document.createElement("div"),i0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=i0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fh(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}function n0(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var td={animationend:n0("Animation","AnimationEnd"),animationiteration:n0("Animation","AnimationIteration"),animationstart:n0("Animation","AnimationStart"),transitionend:n0("Transition","TransitionEnd")},l1={},kO={};Pl&&(kO=document.createElement("div").style,"AnimationEvent"in window||(delete td.animationend.animation,delete td.animationiteration.animation,delete td.animationstart.animation),"TransitionEvent"in window||delete td.transitionend.transition);function Ky(t){if(l1[t])return l1[t];if(!td[t])return t;var e=td[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in kO)return l1[t]=e[i];return t}var _O=Ky("animationend"),TO=Ky("animationiteration"),SO=Ky("animationstart"),CO=Ky("transitionend"),ih="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i5=new(typeof WeakMap=="function"?WeakMap:Map);function dT(t){var e=i5.get(t);return e===void 0&&(e=new Map,i5.set(t,e)),e}function iu(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.effectTag&1026)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function EO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function n5(t){if(iu(t)!==t)throw Error(Re(188))}function s$(t){var e=t.alternate;if(!e){if(e=iu(t),e===null)throw Error(Re(188));return e!==t?null:t}for(var i=t,n=e;;){var r=i.return;if(r===null)break;var o=r.alternate;if(o===null){if(n=r.return,n!==null){i=n;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===i)return n5(r),t;if(o===n)return n5(r),e;o=o.sibling}throw Error(Re(188))}if(i.return!==n.return)i=r,n=o;else{for(var a=!1,s=r.child;s;){if(s===i){a=!0,i=r,n=o;break}if(s===n){a=!0,n=r,i=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===i){a=!0,i=o,n=r;break}if(s===n){a=!0,n=o,i=r;break}s=s.sibling}if(!a)throw Error(Re(189))}}if(i.alternate!==n)throw Error(Re(190))}if(i.tag!==3)throw Error(Re(188));return i.stateNode.current===i?t:e}function zO(t){if(t=s$(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Id(t,e){if(e==null)throw Error(Re(30));return t==null?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function fT(t,e,i){Array.isArray(t)?t.forEach(e,i):t&&e.call(i,t)}var Dp=null;function l$(t){if(t){var e=t._dispatchListeners,i=t._dispatchInstances;if(Array.isArray(e))for(var n=0;n<e.length&&!t.isPropagationStopped();n++)WI(t,e[n],i[n]);else e&&WI(t,e,i);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function Xy(t){if(t!==null&&(Dp=Id(Dp,t)),t=Dp,Dp=null,t){if(fT(t,l$),Dp)throw Error(Re(95));if(bv)throw t=Lk,bv=!1,Lk=null,t}}function pT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}function IO(t){if(!Pl)return!1;t="on"+t;var e=t in document;return e||(e=document.createElement("div"),e.setAttribute(t,"return;"),e=typeof e[t]=="function"),e}var wv=[];function RO(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>wv.length&&wv.push(t)}function PO(t,e,i,n){if(wv.length){var r=wv.pop();return r.topLevelType=t,r.eventSystemFlags=n,r.nativeEvent=e,r.targetInst=i,r}return{topLevelType:t,eventSystemFlags:n,nativeEvent:e,targetInst:i,ancestors:[]}}function LO(t){var e=t.targetInst,i=e;do{if(!i){t.ancestors.push(i);break}var n=i;if(n.tag===3)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=n.tag!==3?null:n.stateNode.containerInfo}if(!n)break;e=i.tag,e!==5&&e!==6||t.ancestors.push(i),i=Wm(n)}while(i);for(i=0;i<t.ancestors.length;i++){e=t.ancestors[i];var r=pT(t.nativeEvent);n=t.topLevelType;var o=t.nativeEvent,a=t.eventSystemFlags;i===0&&(a|=64);for(var s=null,l=0;l<yv.length;l++){var c=yv[l];c&&(c=c.extractEvents(n,e,o,r,a))&&(s=Id(s,c))}Xy(s)}}function Hk(t,e,i){if(!i.has(t)){switch(t){case"scroll":nh(e,"scroll",!0);break;case"focus":case"blur":nh(e,"focus",!0),nh(e,"blur",!0),i.set("blur",null),i.set("focus",null);break;case"cancel":case"close":IO(t)&&nh(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:ih.indexOf(t)===-1&&hi(t,e)}i.set(t,null)}}var OO,hT,MO,Yk=!1,ea=[],el=null,tl=null,il=null,Nh=new Map,jh=new Map,Bp=[],Wk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),c$="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function u$(t,e){var i=dT(e);Wk.forEach(function(n){Hk(n,e,i)}),c$.forEach(function(n){Hk(n,e,i)})}function Vk(t,e,i,n,r){return{blockedOn:t,topLevelType:e,eventSystemFlags:i|32,nativeEvent:r,container:n}}function r5(t,e){switch(t){case"focus":case"blur":el=null;break;case"dragenter":case"dragleave":tl=null;break;case"mouseover":case"mouseout":il=null;break;case"pointerover":case"pointerout":Nh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jh.delete(e.pointerId)}}function Fp(t,e,i,n,r,o){return t===null||t.nativeEvent!==o?(t=Vk(e,i,n,r,o),e!==null&&(e=Vm(e),e!==null&&hT(e)),t):(t.eventSystemFlags|=n,t)}function d$(t,e,i,n,r){switch(e){case"focus":return el=Fp(el,t,e,i,n,r),!0;case"dragenter":return tl=Fp(tl,t,e,i,n,r),!0;case"mouseover":return il=Fp(il,t,e,i,n,r),!0;case"pointerover":var o=r.pointerId;return Nh.set(o,Fp(Nh.get(o)||null,t,e,i,n,r)),!0;case"gotpointercapture":return o=r.pointerId,jh.set(o,Fp(jh.get(o)||null,t,e,i,n,r)),!0}return!1}function f$(t){var e=Wm(t.target);if(e!==null){var i=iu(e);if(i!==null){if(e=i.tag,e===13){if(e=EO(i),e!==null){t.blockedOn=e,bn.unstable_runWithPriority(t.priority,function(){MO(i)});return}}else if(e===3&&i.stateNode.hydrate){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function N0(t){if(t.blockedOn!==null)return!1;var e=bT(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(e!==null){var i=Vm(e);return i!==null&&hT(i),t.blockedOn=e,!1}return!0}function o5(t,e,i){N0(t)&&i.delete(e)}function p$(){for(Yk=!1;0<ea.length;){var t=ea[0];if(t.blockedOn!==null){t=Vm(t.blockedOn),t!==null&&OO(t);break}var e=bT(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);e!==null?t.blockedOn=e:ea.shift()}el!==null&&N0(el)&&(el=null),tl!==null&&N0(tl)&&(tl=null),il!==null&&N0(il)&&(il=null),Nh.forEach(o5),jh.forEach(o5)}function Np(t,e){t.blockedOn===e&&(t.blockedOn=null,Yk||(Yk=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,p$)))}function DO(t){function e(r){return Np(r,t)}if(0<ea.length){Np(ea[0],t);for(var i=1;i<ea.length;i++){var n=ea[i];n.blockedOn===t&&(n.blockedOn=null)}}for(el!==null&&Np(el,t),tl!==null&&Np(tl,t),il!==null&&Np(il,t),Nh.forEach(e),jh.forEach(e),i=0;i<Bp.length;i++)n=Bp[i],n.blockedOn===t&&(n.blockedOn=null);for(;0<Bp.length&&(i=Bp[0],i.blockedOn===null);)f$(i),i.blockedOn===null&&Bp.shift()}var BO={},FO=new Map,mT=new Map,h$=["abort","abort",_O,"animationEnd",TO,"animationIteration",SO,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",CO,"transitionEnd","waiting","waiting"];function gT(t,e){for(var i=0;i<t.length;i+=2){var n=t[i],r=t[i+1],o="on"+(r[0].toUpperCase()+r.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[n],eventPriority:e},mT.set(n,e),FO.set(n,o),BO[r]=o}}gT("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);gT("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);gT(h$,2);for(var a5="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),c1=0;c1<a5.length;c1++)mT.set(a5[c1],0);var m$=bn.unstable_UserBlockingPriority,g$=bn.unstable_runWithPriority,j0=!0;function hi(t,e){nh(e,t,!1)}function nh(t,e,i){var n=mT.get(e);switch(n===void 0?2:n){case 0:n=b$.bind(null,e,1,t);break;case 1:n=v$.bind(null,e,1,t);break;default:n=Jy.bind(null,e,1,t)}i?t.addEventListener(e,n,!0):t.addEventListener(e,n,!1)}function b$(t,e,i,n){pc||nT();var r=Jy,o=pc;pc=!0;try{lO(r,t,e,i,n)}finally{(pc=o)||rT()}}function v$(t,e,i,n){g$(m$,Jy.bind(null,t,e,i,n))}function Jy(t,e,i,n){if(j0)if(0<ea.length&&-1<Wk.indexOf(t))t=Vk(null,t,e,i,n),ea.push(t);else{var r=bT(t,e,i,n);if(r===null)r5(t,n);else if(-1<Wk.indexOf(t))t=Vk(r,t,e,i,n),ea.push(t);else if(!d$(r,t,e,i,n)){r5(t,n),t=PO(t,n,null,e);try{uO(LO,t)}finally{RO(t)}}}}function bT(t,e,i,n){if(i=pT(n),i=Wm(i),i!==null){var r=iu(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=EO(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.hydrate)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}t=PO(t,n,i,e);try{uO(LO,t)}finally{RO(t)}return null}var bh={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y$=["Webkit","ms","Moz","O"];Object.keys(bh).forEach(function(t){y$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bh[e]=bh[t]})});function NO(t,e,i){return e==null||typeof e=="boolean"||e===""?"":i||typeof e!="number"||e===0||bh.hasOwnProperty(t)&&bh[t]?(""+e).trim():e+"px"}function jO(t,e){t=t.style;for(var i in e)if(e.hasOwnProperty(i)){var n=i.indexOf("--")===0,r=NO(i,e[i],n);i==="float"&&(i="cssFloat"),n?t.setProperty(i,r):t[i]=r}}var w$=ir({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $k(t,e){if(e){if(w$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Re(137,t,""));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Re(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(Re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Re(62,""))}}function Qk(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s5=wO.html;function Wa(t,e){t=t.nodeType===9||t.nodeType===11?t:t.ownerDocument;var i=dT(t);e=tT[e];for(var n=0;n<e.length;n++)Hk(e[n],t,i)}function Av(){}function qk(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function l5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function c5(t,e){var i=l5(t);t=0;for(var n;i;){if(i.nodeType===3){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=l5(i)}}function UO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?UO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function u5(){for(var t=window,e=qk();e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=qk(t.document)}return e}function Kk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var GO="$",HO="/$",vT="$?",yT="$!",u1=null,d1=null;function YO(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Xk(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var f1=typeof setTimeout=="function"?setTimeout:void 0,A$=typeof clearTimeout=="function"?clearTimeout:void 0;function bd(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function d5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i===GO||i===yT||i===vT){if(e===0)return t;e--}else i===HO&&e++}t=t.previousSibling}return null}var wT=Math.random().toString(36).slice(2),$s="__reactInternalInstance$"+wT,xv="__reactEventHandlers$"+wT,Ym="__reactContainere$"+wT;function Wm(t){var e=t[$s];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Ym]||i[$s]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=d5(t);t!==null;){if(i=t[$s])return i;t=d5(t)}return e}t=i,i=t.parentNode}return null}function Vm(t){return t=t[$s]||t[Ym],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Re(33))}function AT(t){return t[xv]||null}function Va(t){do t=t.return;while(t&&t.tag!==5);return t||null}function WO(t,e){var i=t.stateNode;if(!i)return null;var n=eT(i);if(!n)return null;i=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(Re(231,e,typeof i));return i}function f5(t,e,i){(e=WO(t,i.dispatchConfig.phasedRegistrationNames[e]))&&(i._dispatchListeners=Id(i._dispatchListeners,e),i._dispatchInstances=Id(i._dispatchInstances,t))}function x$(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,i=[];e;)i.push(e),e=Va(e);for(e=i.length;0<e--;)f5(i[e],"captured",t);for(e=0;e<i.length;e++)f5(i[e],"bubbled",t)}}function Jk(t,e,i){t&&i&&i.dispatchConfig.registrationName&&(e=WO(t,i.dispatchConfig.registrationName))&&(i._dispatchListeners=Id(i._dispatchListeners,e),i._dispatchInstances=Id(i._dispatchInstances,t))}function k$(t){t&&t.dispatchConfig.registrationName&&Jk(t._targetInst,null,t)}function Rd(t){fT(t,x$)}var Qs=null,xT=null,U0=null;function VO(){if(U0)return U0;var t,e=xT,i=e.length,n,r="value"in Qs?Qs.value:Qs.textContent,o=r.length;for(t=0;t<i&&e[t]===r[t];t++);var a=i-t;for(n=1;n<=a&&e[i-n]===r[o-n];n++);return U0=r.slice(t,1<n?1-n:void 0)}function G0(){return!0}function kv(){return!1}function Kr(t,e,i,n){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=i,t=this.constructor.Interface;for(var r in t)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(i):r==="target"?this.target=n:this[r]=i[r]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?G0:kv,this.isPropagationStopped=kv,this}ir(Kr.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=G0)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=G0)},persist:function(){this.isPersistent=G0},isPersistent:kv,destructor:function(){var t=this.constructor.Interface,e;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=kv,this._dispatchInstances=this._dispatchListeners=null}});Kr.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};Kr.extend=function(t){function e(){}function i(){return n.apply(this,arguments)}var n=this;e.prototype=n.prototype;var r=new e;return ir(r,i.prototype),i.prototype=r,i.prototype.constructor=i,i.Interface=ir({},n.Interface,t),i.extend=n.extend,$O(i),i};$O(Kr);function _$(t,e,i,n){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,e,i,n),r}return new this(t,e,i,n)}function T$(t){if(!(t instanceof this))throw Error(Re(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function $O(t){t.eventPool=[],t.getPooled=_$,t.release=T$}var S$=Kr.extend({data:null}),C$=Kr.extend({data:null}),E$=[9,13,27,32],kT=Pl&&"CompositionEvent"in window,vh=null;Pl&&"documentMode"in document&&(vh=document.documentMode);var z$=Pl&&"TextEvent"in window&&!vh,QO=Pl&&(!kT||vh&&8<vh&&11>=vh),p5=String.fromCharCode(32),Ha={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},h5=!1;function qO(t,e){switch(t){case"keyup":return E$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function KO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var id=!1;function I$(t,e){switch(t){case"compositionend":return KO(e);case"keypress":return e.which!==32?null:(h5=!0,p5);case"textInput":return t=e.data,t===p5&&h5?null:t;default:return null}}function R$(t,e){if(id)return t==="compositionend"||!kT&&qO(t,e)?(t=VO(),U0=xT=Qs=null,id=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return QO&&e.locale!=="ko"?null:e.data;default:return null}}var P$={eventTypes:Ha,extractEvents:function(t,e,i,n){var r;if(kT)e:{switch(t){case"compositionstart":var o=Ha.compositionStart;break e;case"compositionend":o=Ha.compositionEnd;break e;case"compositionupdate":o=Ha.compositionUpdate;break e}o=void 0}else id?qO(t,i)&&(o=Ha.compositionEnd):t==="keydown"&&i.keyCode===229&&(o=Ha.compositionStart);return o?(QO&&i.locale!=="ko"&&(id||o!==Ha.compositionStart?o===Ha.compositionEnd&&id&&(r=VO()):(Qs=n,xT="value"in Qs?Qs.value:Qs.textContent,id=!0)),o=S$.getPooled(o,e,i,n),r?o.data=r:(r=KO(i),r!==null&&(o.data=r)),Rd(o),r=o):r=null,(t=z$?I$(t,i):R$(t,i))?(e=C$.getPooled(Ha.beforeInput,e,i,n),e.data=t,Rd(e)):e=null,r===null?e:e===null?r:[r,e]}},L$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!L$[t.type]:e==="textarea"}var JO={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function ZO(t,e,i){return t=Kr.getPooled(JO.change,t,e,i),t.type="change",aO(i),Rd(t),t}var yh=null,Uh=null;function O$(t){Xy(t)}function Zy(t){var e=Fc(t);if(bO(e))return t}function M$(t,e){if(t==="change")return e}var Zk=!1;Pl&&(Zk=IO("input")&&(!document.documentMode||9<document.documentMode));function m5(){yh&&(yh.detachEvent("onpropertychange",eM),Uh=yh=null)}function eM(t){if(t.propertyName==="value"&&Zy(Uh))if(t=ZO(Uh,t,pT(t)),pc)Xy(t);else{pc=!0;try{iT(O$,t)}finally{pc=!1,rT()}}}function D$(t,e,i){t==="focus"?(m5(),yh=e,Uh=i,yh.attachEvent("onpropertychange",eM)):t==="blur"&&m5()}function B$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zy(Uh)}function F$(t,e){if(t==="click")return Zy(e)}function N$(t,e){if(t==="input"||t==="change")return Zy(e)}var j$={eventTypes:JO,_isInputEventSupported:Zk,extractEvents:function(t,e,i,n){var r=e?Fc(e):window,o=r.nodeName&&r.nodeName.toLowerCase();if(o==="select"||o==="input"&&r.type==="file")var a=M$;else if(XO(r))if(Zk)a=N$;else{a=B$;var s=D$}else(o=r.nodeName)&&o.toLowerCase()==="input"&&(r.type==="checkbox"||r.type==="radio")&&(a=F$);if(a&&(a=a(t,e)))return ZO(a,i,n);s&&s(t,r,e),t==="blur"&&(t=r._wrapperState)&&t.controlled&&r.type==="number"&&Nk(r,"number",r.value)}},$m=Kr.extend({view:null,detail:null}),U$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=U$[t])?!!e[t]:!1}function _T(){return G$}var g5=0,b5=0,v5=!1,y5=!1,Qm=$m.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:_T,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=g5;return g5=t.screenX,v5?t.type==="mousemove"?t.screenX-e:0:(v5=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=b5;return b5=t.screenY,y5?t.type==="mousemove"?t.screenY-e:0:(y5=!0,0)}}),tM=Qm.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),jp={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},H$={eventTypes:jp,extractEvents:function(t,e,i,n,r){var o=t==="mouseover"||t==="pointerover",a=t==="mouseout"||t==="pointerout";if(o&&(r&32)===0&&(i.relatedTarget||i.fromElement)||!a&&!o)return null;if(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,a){if(a=e,e=(e=i.relatedTarget||i.toElement)?Wm(e):null,e!==null){var s=iu(e);(e!==s||e.tag!==5&&e.tag!==6)&&(e=null)}}else a=null;if(a===e)return null;if(t==="mouseout"||t==="mouseover")var l=Qm,c=jp.mouseLeave,d=jp.mouseEnter,p="mouse";else(t==="pointerout"||t==="pointerover")&&(l=tM,c=jp.pointerLeave,d=jp.pointerEnter,p="pointer");if(t=a==null?o:Fc(a),o=e==null?o:Fc(e),c=l.getPooled(c,a,i,n),c.type=p+"leave",c.target=t,c.relatedTarget=o,i=l.getPooled(d,e,i,n),i.type=p+"enter",i.target=o,i.relatedTarget=t,n=a,p=e,n&&p)e:{for(l=n,d=p,a=0,t=l;t;t=Va(t))a++;for(t=0,e=d;e;e=Va(e))t++;for(;0<a-t;)l=Va(l),a--;for(;0<t-a;)d=Va(d),t--;for(;a--;){if(l===d||l===d.alternate)break e;l=Va(l),d=Va(d)}l=null}else l=null;for(d=l,l=[];n&&n!==d&&(a=n.alternate,!(a!==null&&a===d));)l.push(n),n=Va(n);for(n=[];p&&p!==d&&(a=p.alternate,!(a!==null&&a===d));)n.push(p),p=Va(p);for(p=0;p<l.length;p++)Jk(l[p],"bubbled",c);for(p=n.length;0<p--;)Jk(n[p],"captured",i);return(r&64)===0?[c]:[c,i]}};function Y$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nc=typeof Object.is=="function"?Object.is:Y$,W$=Object.prototype.hasOwnProperty;function Gh(t,e){if(Nc(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++)if(!W$.call(e,i[n])||!Nc(t[i[n]],e[i[n]]))return!1;return!0}var V$=Pl&&"documentMode"in document&&11>=document.documentMode,iM={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},nd=null,e_=null,wh=null,t_=!1;function w5(t,e){var i=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;return t_||nd==null||nd!==qk(i)?null:(i=nd,"selectionStart"in i&&Kk(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),wh&&Gh(wh,i)?null:(wh=i,t=Kr.getPooled(iM.select,e_,t,e),t.type="select",t.target=nd,Rd(t),t))}var $$={eventTypes:iM,extractEvents:function(t,e,i,n,r,o){if(r=o||(n.window===n?n.document:n.nodeType===9?n:n.ownerDocument),!(o=!r)){e:{r=dT(r),o=tT.onSelect;for(var a=0;a<o.length;a++)if(!r.has(o[a])){r=!1;break e}r=!0}o=!r}if(o)return null;switch(r=e?Fc(e):window,t){case"focus":(XO(r)||r.contentEditable==="true")&&(nd=r,e_=e,wh=null);break;case"blur":wh=e_=nd=null;break;case"mousedown":t_=!0;break;case"contextmenu":case"mouseup":case"dragend":return t_=!1,w5(i,n);case"selectionchange":if(V$)break;case"keydown":case"keyup":return w5(i,n)}return null}},Q$=Kr.extend({animationName:null,elapsedTime:null,pseudoElement:null}),q$=Kr.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),K$=$m.extend({relatedTarget:null});function H0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}var X$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z$=$m.extend({key:function(t){if(t.key){var e=X$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=H0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?J$[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:_T,charCode:function(t){return t.type==="keypress"?H0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?H0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eQ=Qm.extend({dataTransfer:null}),tQ=$m.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:_T}),iQ=Kr.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),nQ=Qm.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),rQ={eventTypes:BO,extractEvents:function(t,e,i,n){var r=FO.get(t);if(!r)return null;switch(t){case"keypress":if(H0(i)===0)return null;case"keydown":case"keyup":t=Z$;break;case"blur":case"focus":t=K$;break;case"click":if(i.button===2)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Qm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=eQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=tQ;break;case _O:case TO:case SO:t=Q$;break;case CO:t=iQ;break;case"scroll":t=$m;break;case"wheel":t=nQ;break;case"copy":case"cut":case"paste":t=q$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=tM;break;default:t=Kr}return e=t.getPooled(r,e,i,n),Rd(e),e}};if(vv)throw Error(Re(101));vv=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));rO();var oQ=Vm;eT=AT;iO=oQ;nO=Fc;oO({SimpleEventPlugin:rQ,EnterLeaveEventPlugin:H$,ChangeEventPlugin:j$,SelectEventPlugin:$$,BeforeInputEventPlugin:P$});var i_=[],rd=-1;function ui(t){0>rd||(t.current=i_[rd],i_[rd]=null,rd--)}function Ei(t,e){rd++,i_[rd]=t.current,t.current=e}var pl={},On={current:pl},vr={current:!1},jc=pl;function Pd(t,e){var i=t.type.contextTypes;if(!i)return pl;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in i)r[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function yr(t){return t=t.childContextTypes,t!=null}function _v(){ui(vr),ui(On)}function A5(t,e,i){if(On.current!==pl)throw Error(Re(168));Ei(On,e),Ei(vr,i)}function nM(t,e,i){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return i;n=n.getChildContext();for(var r in n)if(!(r in t))throw Error(Re(108,ss(e)||"Unknown",r));return ir({},i,{},n)}function Y0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pl,jc=On.current,Ei(On,t),Ei(vr,vr.current),!0}function x5(t,e,i){var n=t.stateNode;if(!n)throw Error(Re(169));i?(t=nM(t,e,jc),n.__reactInternalMemoizedMergedChildContext=t,ui(vr),ui(On),Ei(On,t)):ui(vr),Ei(vr,i)}var aQ=bn.unstable_runWithPriority,TT=bn.unstable_scheduleCallback,rM=bn.unstable_cancelCallback,k5=bn.unstable_requestPaint,n_=bn.unstable_now,sQ=bn.unstable_getCurrentPriorityLevel,ew=bn.unstable_ImmediatePriority,oM=bn.unstable_UserBlockingPriority,aM=bn.unstable_NormalPriority,sM=bn.unstable_LowPriority,lM=bn.unstable_IdlePriority,cM={},lQ=bn.unstable_shouldYield,cQ=k5!==void 0?k5:function(){},Ka=null,W0=null,p1=!1,_5=n_(),co=1e4>_5?n_:function(){return n_()-_5};function tw(){switch(sQ()){case ew:return 99;case oM:return 98;case aM:return 97;case sM:return 96;case lM:return 95;default:throw Error(Re(332))}}function uM(t){switch(t){case 99:return ew;case 98:return oM;case 97:return aM;case 96:return sM;case 95:return lM;default:throw Error(Re(332))}}function hl(t,e){return t=uM(t),aQ(t,e)}function dM(t,e,i){return t=uM(t),TT(t,e,i)}function T5(t){return Ka===null?(Ka=[t],W0=TT(ew,fM)):Ka.push(t),cM}function xa(){if(W0!==null){var t=W0;W0=null,rM(t)}fM()}function fM(){if(!p1&&Ka!==null){p1=!0;var t=0;try{var e=Ka;hl(99,function(){for(;t<e.length;t++){var i=e[t];do i=i(!0);while(i!==null)}}),Ka=null}catch(i){throw Ka!==null&&(Ka=Ka.slice(t+1)),TT(ew,xa),i}finally{p1=!1}}}function V0(t,e,i){return i/=10,1073741821-(((1073741821-t+e/10)/i|0)+1)*i}function Co(t,e){if(t&&t.defaultProps){e=ir({},e),t=t.defaultProps;for(var i in t)e[i]===void 0&&(e[i]=t[i])}return e}var Tv={current:null},Sv=null,od=null,Cv=null;function ST(){Cv=od=Sv=null}function CT(t){var e=Tv.current;ui(Tv),t.type._context._currentValue=e}function pM(t,e){for(;t!==null;){var i=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,i!==null&&i.childExpirationTime<e&&(i.childExpirationTime=e);else if(i!==null&&i.childExpirationTime<e)i.childExpirationTime=e;else break;t=t.return}}function vd(t,e){Sv=t,Cv=od=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.expirationTime>=e&&(ta=!0),t.firstContext=null)}function mo(t,e){if(Cv!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Cv=t,e=1073741823),e={context:t,observedBits:e,next:null},od===null){if(Sv===null)throw Error(Re(308));od=e,Sv.dependencies={expirationTime:0,firstContext:e,responders:null}}else od=od.next=e;return t._currentValue}var Vs=!1;function ET(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function zT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function nl(t,e){return t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null},t.next=t}function rl(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}}function S5(t,e){var i=t.alternate;i!==null&&zT(i,t),t=t.updateQueue,i=t.baseQueue,i===null?(t.baseQueue=e.next=e,e.next=e):(e.next=i.next,i.next=e)}function Hh(t,e,i,n){var r=t.updateQueue;Vs=!1;var o=r.baseQueue,a=r.shared.pending;if(a!==null){if(o!==null){var s=o.next;o.next=a.next,a.next=s}o=a,r.shared.pending=null,s=t.alternate,s!==null&&(s=s.updateQueue,s!==null&&(s.baseQueue=a))}if(o!==null){s=o.next;var l=r.baseState,c=0,d=null,p=null,h=null;if(s!==null){var m=s;do{if(a=m.expirationTime,a<n){var y={expirationTime:m.expirationTime,suspenseConfig:m.suspenseConfig,tag:m.tag,payload:m.payload,callback:m.callback,next:null};h===null?(p=h=y,d=l):h=h.next=y,a>c&&(c=a)}else{h!==null&&(h=h.next={expirationTime:1073741823,suspenseConfig:m.suspenseConfig,tag:m.tag,payload:m.payload,callback:m.callback,next:null}),HM(a,m.suspenseConfig);e:{var w=t,g=m;switch(a=e,y=i,g.tag){case 1:if(w=g.payload,typeof w=="function"){l=w.call(y,l,a);break e}l=w;break e;case 3:w.effectTag=w.effectTag&-4097|64;case 0:if(w=g.payload,a=typeof w=="function"?w.call(y,l,a):w,a==null)break e;l=ir({},l,a);break e;case 2:Vs=!0}}m.callback!==null&&(t.effectTag|=32,a=r.effects,a===null?r.effects=[m]:a.push(m))}if(m=m.next,m===null||m===s){if(a=r.shared.pending,a===null)break;m=o.next=a.next,a.next=s,r.baseQueue=o=a,r.shared.pending=null}}while(1)}h===null?d=l:h.next=p,r.baseState=d,r.baseQueue=h,aw(c),t.expirationTime=c,t.memoizedState=l}}function C5(t,e,i){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],r=n.callback;if(r!==null){if(n.callback=null,n=r,r=i,typeof n!="function")throw Error(Re(191,n));n.call(r)}}}var Ah=Mo.ReactCurrentBatchConfig,hM=new qy.Component().refs;function Ev(t,e,i,n){e=t.memoizedState,i=i(n,e),i=i==null?e:ir({},e,i),t.memoizedState=i,t.expirationTime===0&&(t.updateQueue.baseState=i)}var iw={isMounted:function(t){return(t=t._reactInternalFiber)?iu(t)===t:!1},enqueueSetState:function(t,e,i){t=t._reactInternalFiber;var n=sa(),r=Ah.suspense;n=_c(n,t,r),r=nl(n,r),r.payload=e,i!=null&&(r.callback=i),rl(t,r),al(t,n)},enqueueReplaceState:function(t,e,i){t=t._reactInternalFiber;var n=sa(),r=Ah.suspense;n=_c(n,t,r),r=nl(n,r),r.tag=1,r.payload=e,i!=null&&(r.callback=i),rl(t,r),al(t,n)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var i=sa(),n=Ah.suspense;i=_c(i,t,n),n=nl(i,n),n.tag=2,e!=null&&(n.callback=e),rl(t,n),al(t,i)}};function E5(t,e,i,n,r,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,a):e.prototype&&e.prototype.isPureReactComponent?!Gh(i,n)||!Gh(r,o):!0}function mM(t,e,i){var n=!1,r=pl,o=e.contextType;return typeof o=="object"&&o!==null?o=mo(o):(r=yr(e)?jc:On.current,n=e.contextTypes,o=(n=n!=null)?Pd(t,r):pl),e=new e(i,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=iw,t.stateNode=e,e._reactInternalFiber=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function z5(t,e,i,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&iw.enqueueReplaceState(e,e.state,null)}function r_(t,e,i,n){var r=t.stateNode;r.props=i,r.state=t.memoizedState,r.refs=hM,ET(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=mo(o):(o=yr(e)?jc:On.current,r.context=Pd(t,o)),Hh(t,i,r,n),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ev(t,e,o,i),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&iw.enqueueReplaceState(r,r.state,null),Hh(t,i,r,n),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.effectTag|=4)}var r0=Array.isArray;function Up(t,e,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(Re(309));var n=i.stateNode}if(!n)throw Error(Re(147,t));var r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=n.refs;a===hM&&(a=n.refs={}),o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(Re(284));if(!i._owner)throw Error(Re(290,t))}return t}function o0(t,e){if(t.type!=="textarea")throw Error(Re(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function gM(t){function e(g,A){if(t){var x=g.lastEffect;x!==null?(x.nextEffect=A,g.lastEffect=A):g.firstEffect=g.lastEffect=A,A.nextEffect=null,A.effectTag=8}}function i(g,A){if(!t)return null;for(;A!==null;)e(g,A),A=A.sibling;return null}function n(g,A){for(g=new Map;A!==null;)A.key!==null?g.set(A.key,A):g.set(A.index,A),A=A.sibling;return g}function r(g,A){return g=Uc(g,A),g.index=0,g.sibling=null,g}function o(g,A,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<A?(g.effectTag=2,A):x):(g.effectTag=2,A)):A}function a(g){return t&&g.alternate===null&&(g.effectTag=2),g}function s(g,A,x,T){return A===null||A.tag!==6?(A=y1(x,g.mode,T),A.return=g,A):(A=r(A,x),A.return=g,A)}function l(g,A,x,T){return A!==null&&A.elementType===x.type?(T=r(A,x.props),T.ref=Up(g,A,x),T.return=g,T):(T=K0(x.type,x.key,x.props,null,g.mode,T),T.ref=Up(g,A,x),T.return=g,T)}function c(g,A,x,T){return A===null||A.tag!==4||A.stateNode.containerInfo!==x.containerInfo||A.stateNode.implementation!==x.implementation?(A=w1(x,g.mode,T),A.return=g,A):(A=r(A,x.children||[]),A.return=g,A)}function d(g,A,x,T,E){return A===null||A.tag!==7?(A=Xs(x,g.mode,T,E),A.return=g,A):(A=r(A,x),A.return=g,A)}function p(g,A,x){if(typeof A=="string"||typeof A=="number")return A=y1(""+A,g.mode,x),A.return=g,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case e0:return x=K0(A.type,A.key,A.props,null,g.mode,x),x.ref=Up(g,null,A),x.return=g,x;case ed:return A=w1(A,g.mode,x),A.return=g,A}if(r0(A)||Mp(A))return A=Xs(A,g.mode,x,null),A.return=g,A;o0(g,A)}return null}function h(g,A,x,T){var E=A!==null?A.key:null;if(typeof x=="string"||typeof x=="number")return E!==null?null:s(g,A,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case e0:return x.key===E?x.type===dc?d(g,A,x.props.children,T,E):l(g,A,x,T):null;case ed:return x.key===E?c(g,A,x,T):null}if(r0(x)||Mp(x))return E!==null?null:d(g,A,x,T,null);o0(g,x)}return null}function m(g,A,x,T,E){if(typeof T=="string"||typeof T=="number")return g=g.get(x)||null,s(A,g,""+T,E);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case e0:return g=g.get(T.key===null?x:T.key)||null,T.type===dc?d(A,g,T.props.children,E,T.key):l(A,g,T,E);case ed:return g=g.get(T.key===null?x:T.key)||null,c(A,g,T,E)}if(r0(T)||Mp(T))return g=g.get(x)||null,d(A,g,T,E,null);o0(A,T)}return null}function y(g,A,x,T){for(var E=null,z=null,M=A,B=A=0,L=null;M!==null&&B<x.length;B++){M.index>B?(L=M,M=null):L=M.sibling;var F=h(g,M,x[B],T);if(F===null){M===null&&(M=L);break}t&&M&&F.alternate===null&&e(g,M),A=o(F,A,B),z===null?E=F:z.sibling=F,z=F,M=L}if(B===x.length)return i(g,M),E;if(M===null){for(;B<x.length;B++)M=p(g,x[B],T),M!==null&&(A=o(M,A,B),z===null?E=M:z.sibling=M,z=M);return E}for(M=n(g,M);B<x.length;B++)L=m(M,g,B,x[B],T),L!==null&&(t&&L.alternate!==null&&M.delete(L.key===null?B:L.key),A=o(L,A,B),z===null?E=L:z.sibling=L,z=L);return t&&M.forEach(function(H){return e(g,H)}),E}function w(g,A,x,T){var E=Mp(x);if(typeof E!="function")throw Error(Re(150));if(x=E.call(x),x==null)throw Error(Re(151));for(var z=E=null,M=A,B=A=0,L=null,F=x.next();M!==null&&!F.done;B++,F=x.next()){M.index>B?(L=M,M=null):L=M.sibling;var H=h(g,M,F.value,T);if(H===null){M===null&&(M=L);break}t&&M&&H.alternate===null&&e(g,M),A=o(H,A,B),z===null?E=H:z.sibling=H,z=H,M=L}if(F.done)return i(g,M),E;if(M===null){for(;!F.done;B++,F=x.next())F=p(g,F.value,T),F!==null&&(A=o(F,A,B),z===null?E=F:z.sibling=F,z=F);return E}for(M=n(g,M);!F.done;B++,F=x.next())F=m(M,g,B,F.value,T),F!==null&&(t&&F.alternate!==null&&M.delete(F.key===null?B:F.key),A=o(F,A,B),z===null?E=F:z.sibling=F,z=F);return t&&M.forEach(function(X){return e(g,X)}),E}return function(g,A,x,T){var E=typeof x=="object"&&x!==null&&x.type===dc&&x.key===null;E&&(x=x.props.children);var z=typeof x=="object"&&x!==null;if(z)switch(x.$$typeof){case e0:e:{for(z=x.key,E=A;E!==null;){if(E.key===z){switch(E.tag){case 7:if(x.type===dc){i(g,E.sibling),A=r(E,x.props.children),A.return=g,g=A;break e}break;default:if(E.elementType===x.type){i(g,E.sibling),A=r(E,x.props),A.ref=Up(g,E,x),A.return=g,g=A;break e}}i(g,E);break}else e(g,E);E=E.sibling}x.type===dc?(A=Xs(x.props.children,g.mode,T,x.key),A.return=g,g=A):(T=K0(x.type,x.key,x.props,null,g.mode,T),T.ref=Up(g,A,x),T.return=g,g=T)}return a(g);case ed:e:{for(E=x.key;A!==null;){if(A.key===E)if(A.tag===4&&A.stateNode.containerInfo===x.containerInfo&&A.stateNode.implementation===x.implementation){i(g,A.sibling),A=r(A,x.children||[]),A.return=g,g=A;break e}else{i(g,A);break}else e(g,A);A=A.sibling}A=w1(x,g.mode,T),A.return=g,g=A}return a(g)}if(typeof x=="string"||typeof x=="number")return x=""+x,A!==null&&A.tag===6?(i(g,A.sibling),A=r(A,x),A.return=g,g=A):(i(g,A),A=y1(x,g.mode,T),A.return=g,g=A),a(g);if(r0(x))return y(g,A,x,T);if(Mp(x))return w(g,A,x,T);if(z&&o0(g,x),typeof x=="undefined"&&!E)switch(g.tag){case 1:case 0:throw g=g.type,Error(Re(152,g.displayName||g.name||"Component"))}return i(g,A)}}var Ld=gM(!0),IT=gM(!1),qm={},aa={current:qm},Yh={current:qm},Wh={current:qm};function hc(t){if(t===qm)throw Error(Re(174));return t}function o_(t,e){switch(Ei(Wh,e),Ei(Yh,t),Ei(aa,qm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gk(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gk(e,t)}ui(aa),Ei(aa,e)}function Od(){ui(aa),ui(Yh),ui(Wh)}function I5(t){hc(Wh.current);var e=hc(aa.current),i=Gk(e,t.type);e!==i&&(Ei(Yh,t),Ei(aa,i))}function RT(t){Yh.current===t&&(ui(aa),ui(Yh))}var wi={current:0};function zv(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data===vT||i.data===yT))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.effectTag&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function PT(t,e){return{responder:t,props:e}}var $0=Mo.ReactCurrentDispatcher,fo=Mo.ReactCurrentBatchConfig,qs=0,Wi=null,Cn=null,En=null,Iv=!1;function Br(){throw Error(Re(321))}function LT(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Nc(t[i],e[i]))return!1;return!0}function OT(t,e,i,n,r,o){if(qs=o,Wi=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,$0.current=t===null||t.memoizedState===null?uQ:dQ,t=i(n,r),e.expirationTime===qs){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(Re(301));o+=1,En=Cn=null,e.updateQueue=null,$0.current=fQ,t=i(n,r)}while(e.expirationTime===qs)}if($0.current=Lv,e=Cn!==null&&Cn.next!==null,qs=0,En=Cn=Wi=null,Iv=!1,e)throw Error(Re(300));return t}function yd(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Wi.memoizedState=En=t:En=En.next=t,En}function bf(){if(Cn===null){var t=Wi.alternate;t=t!==null?t.memoizedState:null}else t=Cn.next;var e=En===null?Wi.memoizedState:En.next;if(e!==null)En=e,Cn=t;else{if(t===null)throw Error(Re(310));Cn=t,t={memoizedState:Cn.memoizedState,baseState:Cn.baseState,baseQueue:Cn.baseQueue,queue:Cn.queue,next:null},En===null?Wi.memoizedState=En=t:En=En.next=t}return En}function Ac(t,e){return typeof e=="function"?e(t):e}function a0(t){var e=bf(),i=e.queue;if(i===null)throw Error(Re(311));i.lastRenderedReducer=t;var n=Cn,r=n.baseQueue,o=i.pending;if(o!==null){if(r!==null){var a=r.next;r.next=o.next,o.next=a}n.baseQueue=r=o,i.pending=null}if(r!==null){r=r.next,n=n.baseState;var s=a=o=null,l=r;do{var c=l.expirationTime;if(c<qs){var d={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};s===null?(a=s=d,o=n):s=s.next=d,c>Wi.expirationTime&&(Wi.expirationTime=c,aw(c))}else s!==null&&(s=s.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),HM(c,l.suspenseConfig),n=l.eagerReducer===t?l.eagerState:t(n,l.action);l=l.next}while(l!==null&&l!==r);s===null?o=n:s.next=a,Nc(n,e.memoizedState)||(ta=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=s,i.lastRenderedState=n}return[e.memoizedState,i.dispatch]}function s0(t){var e=bf(),i=e.queue;if(i===null)throw Error(Re(311));i.lastRenderedReducer=t;var n=i.dispatch,r=i.pending,o=e.memoizedState;if(r!==null){i.pending=null;var a=r=r.next;do o=t(o,a.action),a=a.next;while(a!==r);Nc(o,e.memoizedState)||(ta=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),i.lastRenderedState=o}return[o,n]}function h1(t){var e=yd();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Ac,lastRenderedState:t},t=t.dispatch=xM.bind(null,Wi,t),[e.memoizedState,t]}function a_(t,e,i,n){return t={tag:t,create:e,destroy:i,deps:n,next:null},e=Wi.updateQueue,e===null?(e={lastEffect:null},Wi.updateQueue=e,e.lastEffect=t.next=t):(i=e.lastEffect,i===null?e.lastEffect=t.next=t:(n=i.next,i.next=t,t.next=n,e.lastEffect=t)),t}function bM(){return bf().memoizedState}function s_(t,e,i,n){var r=yd();Wi.effectTag|=t,r.memoizedState=a_(1|e,i,void 0,n===void 0?null:n)}function MT(t,e,i,n){var r=bf();n=n===void 0?null:n;var o=void 0;if(Cn!==null){var a=Cn.memoizedState;if(o=a.destroy,n!==null&&LT(n,a.deps)){a_(e,i,o,n);return}}Wi.effectTag|=t,r.memoizedState=a_(1|e,i,o,n)}function R5(t,e){return s_(516,4,t,e)}function Rv(t,e){return MT(516,4,t,e)}function vM(t,e){return MT(4,2,t,e)}function yM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wM(t,e,i){return i=i!=null?i.concat([t]):null,MT(4,2,yM.bind(null,e,t),i)}function DT(){}function P5(t,e){return yd().memoizedState=[t,e===void 0?null:e],t}function Pv(t,e){var i=bf();e=e===void 0?null:e;var n=i.memoizedState;return n!==null&&e!==null&&LT(e,n[1])?n[0]:(i.memoizedState=[t,e],t)}function AM(t,e){var i=bf();e=e===void 0?null:e;var n=i.memoizedState;return n!==null&&e!==null&&LT(e,n[1])?n[0]:(t=t(),i.memoizedState=[t,e],t)}function BT(t,e,i){var n=tw();hl(98>n?98:n,function(){t(!0)}),hl(97<n?97:n,function(){var r=fo.suspense;fo.suspense=e===void 0?null:e;try{t(!1),i()}finally{fo.suspense=r}})}function xM(t,e,i){var n=sa(),r=Ah.suspense;n=_c(n,t,r),r={expirationTime:n,suspenseConfig:r,action:i,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(o===null?r.next=r:(r.next=o.next,o.next=r),e.pending=r,o=t.alternate,t===Wi||o!==null&&o===Wi)Iv=!0,r.expirationTime=qs,Wi.expirationTime=qs;else{if(t.expirationTime===0&&(o===null||o.expirationTime===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,i);if(r.eagerReducer=o,r.eagerState=s,Nc(s,a))return}catch{}finally{}al(t,n)}}var Lv={readContext:mo,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useLayoutEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useResponder:Br,useDeferredValue:Br,useTransition:Br},uQ={readContext:mo,useCallback:P5,useContext:mo,useEffect:R5,useImperativeHandle:function(t,e,i){return i=i!=null?i.concat([t]):null,s_(4,2,yM.bind(null,e,t),i)},useLayoutEffect:function(t,e){return s_(4,2,t,e)},useMemo:function(t,e){var i=yd();return e=e===void 0?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var n=yd();return e=i!==void 0?i(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=xM.bind(null,Wi,t),[n.memoizedState,t]},useRef:function(t){var e=yd();return t={current:t},e.memoizedState=t},useState:h1,useDebugValue:DT,useResponder:PT,useDeferredValue:function(t,e){var i=h1(t),n=i[0],r=i[1];return R5(function(){var o=fo.suspense;fo.suspense=e===void 0?null:e;try{r(t)}finally{fo.suspense=o}},[t,e]),n},useTransition:function(t){var e=h1(!1),i=e[0];return e=e[1],[P5(BT.bind(null,e,t),[e,t]),i]}},dQ={readContext:mo,useCallback:Pv,useContext:mo,useEffect:Rv,useImperativeHandle:wM,useLayoutEffect:vM,useMemo:AM,useReducer:a0,useRef:bM,useState:function(){return a0(Ac)},useDebugValue:DT,useResponder:PT,useDeferredValue:function(t,e){var i=a0(Ac),n=i[0],r=i[1];return Rv(function(){var o=fo.suspense;fo.suspense=e===void 0?null:e;try{r(t)}finally{fo.suspense=o}},[t,e]),n},useTransition:function(t){var e=a0(Ac),i=e[0];return e=e[1],[Pv(BT.bind(null,e,t),[e,t]),i]}},fQ={readContext:mo,useCallback:Pv,useContext:mo,useEffect:Rv,useImperativeHandle:wM,useLayoutEffect:vM,useMemo:AM,useReducer:s0,useRef:bM,useState:function(){return s0(Ac)},useDebugValue:DT,useResponder:PT,useDeferredValue:function(t,e){var i=s0(Ac),n=i[0],r=i[1];return Rv(function(){var o=fo.suspense;fo.suspense=e===void 0?null:e;try{r(t)}finally{fo.suspense=o}},[t,e]),n},useTransition:function(t){var e=s0(Ac),i=e[0];return e=e[1],[Pv(BT.bind(null,e,t),[e,t]),i]}},ts=null,Ks=null,xc=!1;function kM(t,e){var i=ia(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=e,i.return=t,i.effectTag=8,t.lastEffect!==null?(t.lastEffect.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i}function L5(t,e){switch(t.tag){case 5:var i=t.type;return e=e.nodeType!==1||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function l_(t){if(xc){var e=Ks;if(e){var i=e;if(!L5(t,e)){if(e=bd(i.nextSibling),!e||!L5(t,e)){t.effectTag=t.effectTag&-1025|2,xc=!1,ts=t;return}kM(ts,i)}ts=t,Ks=bd(e.firstChild)}else t.effectTag=t.effectTag&-1025|2,xc=!1,ts=t}}function O5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ts=t}function l0(t){if(t!==ts)return!1;if(!xc)return O5(t),xc=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!Xk(e,t.memoizedProps))for(e=Ks;e;)kM(t,e),e=bd(e.nextSibling);if(O5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var i=t.data;if(i===HO){if(e===0){Ks=bd(t.nextSibling);break e}e--}else i!==GO&&i!==yT&&i!==vT||e++}t=t.nextSibling}Ks=null}}else Ks=ts?bd(t.stateNode.nextSibling):null;return!0}function m1(){Ks=ts=null,xc=!1}var pQ=Mo.ReactCurrentOwner,ta=!1;function jr(t,e,i,n){e.child=t===null?IT(e,null,i,n):Ld(e,t.child,i,n)}function M5(t,e,i,n,r){i=i.render;var o=e.ref;return vd(e,r),n=OT(t,e,i,n,o,r),t!==null&&!ta?(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),is(t,e,r)):(e.effectTag|=1,jr(t,e,n,r),e.child)}function D5(t,e,i,n,r,o){if(t===null){var a=i.type;return typeof a=="function"&&!GT(a)&&a.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(e.tag=15,e.type=a,_M(t,e,a,n,r,o)):(t=K0(i.type,null,n,null,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}return a=t.child,r<o&&(r=a.memoizedProps,i=i.compare,i=i!==null?i:Gh,i(r,n)&&t.ref===e.ref)?is(t,e,o):(e.effectTag|=1,t=Uc(a,n),t.ref=e.ref,t.return=e,e.child=t)}function _M(t,e,i,n,r,o){return t!==null&&Gh(t.memoizedProps,n)&&t.ref===e.ref&&(ta=!1,r<o)?(e.expirationTime=t.expirationTime,is(t,e,o)):c_(t,e,i,n,o)}function TM(t,e){var i=e.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(e.effectTag|=128)}function c_(t,e,i,n,r){var o=yr(i)?jc:On.current;return o=Pd(e,o),vd(e,r),i=OT(t,e,i,n,o,r),t!==null&&!ta?(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),is(t,e,r)):(e.effectTag|=1,jr(t,e,i,r),e.child)}function B5(t,e,i,n,r){if(yr(i)){var o=!0;Y0(e)}else o=!1;if(vd(e,r),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.effectTag|=2),mM(e,i,n),r_(e,i,n,r),n=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=i.contextType;typeof c=="object"&&c!==null?c=mo(c):(c=yr(i)?jc:On.current,c=Pd(e,c));var d=i.getDerivedStateFromProps,p=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||l!==c)&&z5(e,a,n,c),Vs=!1;var h=e.memoizedState;a.state=h,Hh(e,n,a,r),l=e.memoizedState,s!==n||h!==l||vr.current||Vs?(typeof d=="function"&&(Ev(e,i,d,n),l=e.memoizedState),(s=Vs||E5(e,i,s,n,h,l,c))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.effectTag|=4)):(typeof a.componentDidMount=="function"&&(e.effectTag|=4),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=s):(typeof a.componentDidMount=="function"&&(e.effectTag|=4),n=!1)}else a=e.stateNode,zT(t,e),s=e.memoizedProps,a.props=e.type===e.elementType?s:Co(e.type,s),l=a.context,c=i.contextType,typeof c=="object"&&c!==null?c=mo(c):(c=yr(i)?jc:On.current,c=Pd(e,c)),d=i.getDerivedStateFromProps,(p=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||l!==c)&&z5(e,a,n,c),Vs=!1,l=e.memoizedState,a.state=l,Hh(e,n,a,r),h=e.memoizedState,s!==n||l!==h||vr.current||Vs?(typeof d=="function"&&(Ev(e,i,d,n),h=e.memoizedState),(d=Vs||E5(e,i,s,n,l,h,c))?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,h,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,h,c)),typeof a.componentDidUpdate=="function"&&(e.effectTag|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.effectTag|=256)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=n,e.memoizedState=h),a.props=n,a.state=h,a.context=c,n=d):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),n=!1);return u_(t,e,i,n,o,r)}function u_(t,e,i,n,r,o){TM(t,e);var a=(e.effectTag&64)!==0;if(!n&&!a)return r&&x5(e,i,!1),is(t,e,o);n=e.stateNode,pQ.current=e;var s=a&&typeof i.getDerivedStateFromError!="function"?null:n.render();return e.effectTag|=1,t!==null&&a?(e.child=Ld(e,t.child,null,o),e.child=Ld(e,null,s,o)):jr(t,e,s,o),e.memoizedState=n.state,r&&x5(e,i,!0),e.child}function F5(t){var e=t.stateNode;e.pendingContext?A5(t,e.pendingContext,e.pendingContext!==e.context):e.context&&A5(t,e.context,!1),o_(t,e.containerInfo)}var g1={dehydrated:null,retryTime:0};function N5(t,e,i){var n=e.mode,r=e.pendingProps,o=wi.current,a=!1,s;if((s=(e.effectTag&64)!==0)||(s=(o&2)!==0&&(t===null||t.memoizedState!==null)),s?(a=!0,e.effectTag&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(o|=1),Ei(wi,o&1),t===null){if(r.fallback!==void 0&&l_(e),a){if(a=r.fallback,r=Xs(null,n,0,null),r.return=e,(e.mode&2)===0)for(t=e.memoizedState!==null?e.child.child:e.child,r.child=t;t!==null;)t.return=r,t=t.sibling;return i=Xs(a,n,i,null),i.return=e,r.sibling=i,e.memoizedState=g1,e.child=r,i}return n=r.children,e.memoizedState=null,e.child=IT(e,null,n,i)}if(t.memoizedState!==null){if(t=t.child,n=t.sibling,a){if(r=r.fallback,i=Uc(t,t.pendingProps),i.return=e,(e.mode&2)===0&&(a=e.memoizedState!==null?e.child.child:e.child,a!==t.child))for(i.child=a;a!==null;)a.return=i,a=a.sibling;return n=Uc(n,r),n.return=e,i.sibling=n,i.childExpirationTime=0,e.memoizedState=g1,e.child=i,n}return i=Ld(e,t.child,r.children,i),e.memoizedState=null,e.child=i}if(t=t.child,a){if(a=r.fallback,r=Xs(null,n,0,null),r.return=e,r.child=t,t!==null&&(t.return=r),(e.mode&2)===0)for(t=e.memoizedState!==null?e.child.child:e.child,r.child=t;t!==null;)t.return=r,t=t.sibling;return i=Xs(a,n,i,null),i.return=e,r.sibling=i,i.effectTag|=2,r.childExpirationTime=0,e.memoizedState=g1,e.child=r,i}return e.memoizedState=null,e.child=Ld(e,t,r.children,i)}function j5(t,e){t.expirationTime<e&&(t.expirationTime=e);var i=t.alternate;i!==null&&i.expirationTime<e&&(i.expirationTime=e),pM(t.return,e)}function b1(t,e,i,n,r,o){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:i,tailExpiration:0,tailMode:r,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=i,a.tailExpiration=0,a.tailMode=r,a.lastEffect=o)}function U5(t,e,i){var n=e.pendingProps,r=n.revealOrder,o=n.tail;if(jr(t,e,n.children,i),n=wi.current,(n&2)!==0)n=n&1|2,e.effectTag|=64;else{if(t!==null&&(t.effectTag&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&j5(t,i);else if(t.tag===19)j5(t,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ei(wi,n),(e.mode&2)===0)e.memoizedState=null;else switch(r){case"forwards":for(i=e.child,r=null;i!==null;)t=i.alternate,t!==null&&zv(t)===null&&(r=i),i=i.sibling;i=r,i===null?(r=e.child,e.child=null):(r=i.sibling,i.sibling=null),b1(e,!1,r,i,o,e.lastEffect);break;case"backwards":for(i=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&zv(t)===null){e.child=r;break}t=r.sibling,r.sibling=i,i=r,r=t}b1(e,!0,i,null,o,e.lastEffect);break;case"together":b1(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function is(t,e,i){t!==null&&(e.dependencies=t.dependencies);var n=e.expirationTime;if(n!==0&&aw(n),e.childExpirationTime<i)return null;if(t!==null&&e.child!==t.child)throw Error(Re(153));if(e.child!==null){for(t=e.child,i=Uc(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Uc(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}var SM,d_,CM,EM;SM=function(t,e){for(var i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};d_=function(){};CM=function(t,e,i,n,r){var o=t.memoizedProps;if(o!==n){var a=e.stateNode;switch(hc(aa.current),t=null,i){case"input":o=Bk(a,o),n=Bk(a,n),t=[];break;case"option":o=jk(a,o),n=jk(a,n),t=[];break;case"select":o=ir({},o,{value:void 0}),n=ir({},n,{value:void 0}),t=[];break;case"textarea":o=Uk(a,o),n=Uk(a,n),t=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(a.onclick=Av)}$k(i,n);var s,l;i=null;for(s in o)if(!n.hasOwnProperty(s)&&o.hasOwnProperty(s)&&o[s]!=null)if(s==="style")for(l in a=o[s],a)a.hasOwnProperty(l)&&(i||(i={}),i[l]="");else s!=="dangerouslySetInnerHTML"&&s!=="children"&&s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zd.hasOwnProperty(s)?t||(t=[]):(t=t||[]).push(s,null));for(s in n){var c=n[s];if(a=o!=null?o[s]:void 0,n.hasOwnProperty(s)&&c!==a&&(c!=null||a!=null))if(s==="style")if(a){for(l in a)!a.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(i||(i={}),i[l]="");for(l in c)c.hasOwnProperty(l)&&a[l]!==c[l]&&(i||(i={}),i[l]=c[l])}else i||(t||(t=[]),t.push(s,i)),i=c;else s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(t=t||[]).push(s,c)):s==="children"?a===c||typeof c!="string"&&typeof c!="number"||(t=t||[]).push(s,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&(zd.hasOwnProperty(s)?(c!=null&&Wa(r,s),t||a===c||(t=[])):(t=t||[]).push(s,c))}i&&(t=t||[]).push("style",i),r=t,(e.updateQueue=r)&&(e.effectTag|=4)}};EM=function(t,e,i,n){i!==n&&(e.effectTag|=4)};function c0(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var n=null;i!==null;)i.alternate!==null&&(n=i),i=i.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function hQ(t,e,i){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return yr(e.type)&&_v(),null;case 3:return Od(),ui(vr),ui(On),i=e.stateNode,i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),t!==null&&t.child!==null||!l0(e)||(e.effectTag|=4),d_(e),null;case 5:RT(e),i=hc(Wh.current);var r=e.type;if(t!==null&&e.stateNode!=null)CM(t,e,r,n,i),t.ref!==e.ref&&(e.effectTag|=128);else{if(!n){if(e.stateNode===null)throw Error(Re(166));return null}if(t=hc(aa.current),l0(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[$s]=e,n[xv]=o,r){case"iframe":case"object":case"embed":hi("load",n);break;case"video":case"audio":for(t=0;t<ih.length;t++)hi(ih[t],n);break;case"source":hi("error",n);break;case"img":case"image":case"link":hi("error",n),hi("load",n);break;case"form":hi("reset",n),hi("submit",n);break;case"details":hi("toggle",n);break;case"input":JI(n,o),hi("invalid",n),Wa(i,"onChange");break;case"select":n._wrapperState={wasMultiple:!!o.multiple},hi("invalid",n),Wa(i,"onChange");break;case"textarea":e5(n,o),hi("invalid",n),Wa(i,"onChange")}$k(r,o),t=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?n.textContent!==s&&(t=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(t=["children",""+s]):zd.hasOwnProperty(a)&&s!=null&&Wa(i,a)}switch(r){case"input":t0(n),ZI(n,o,!0);break;case"textarea":t0(n),t5(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Av)}i=t,e.updateQueue=i,i!==null&&(e.effectTag|=4)}else{switch(a=i.nodeType===9?i:i.ownerDocument,t===s5&&(t=AO(r)),t===s5?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[$s]=e,t[xv]=n,SM(t,e,!1,!1),e.stateNode=t,a=Qk(r,n),r){case"iframe":case"object":case"embed":hi("load",t),s=n;break;case"video":case"audio":for(s=0;s<ih.length;s++)hi(ih[s],t);s=n;break;case"source":hi("error",t),s=n;break;case"img":case"image":case"link":hi("error",t),hi("load",t),s=n;break;case"form":hi("reset",t),hi("submit",t),s=n;break;case"details":hi("toggle",t),s=n;break;case"input":JI(t,n),s=Bk(t,n),hi("invalid",t),Wa(i,"onChange");break;case"option":s=jk(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ir({},n,{value:void 0}),hi("invalid",t),Wa(i,"onChange");break;case"textarea":e5(t,n),s=Uk(t,n),hi("invalid",t),Wa(i,"onChange");break;default:s=n}$k(r,s);var l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?jO(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&xO(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Fh(t,c):typeof c=="number"&&Fh(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(zd.hasOwnProperty(o)?c!=null&&Wa(i,o):c!=null&&sT(t,o,c,a))}switch(r){case"input":t0(t),ZI(t,n,!1);break;case"textarea":t0(t),t5(t);break;case"option":n.value!=null&&t.setAttribute("value",""+fl(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?gd(t,!!n.multiple,i,!1):n.defaultValue!=null&&gd(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Av)}YO(r,n)&&(e.effectTag|=4)}e.ref!==null&&(e.effectTag|=128)}return null;case 6:if(t&&e.stateNode!=null)EM(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Re(166));i=hc(Wh.current),hc(aa.current),l0(e)?(i=e.stateNode,n=e.memoizedProps,i[$s]=e,i.nodeValue!==n&&(e.effectTag|=4)):(i=(i.nodeType===9?i:i.ownerDocument).createTextNode(n),i[$s]=e,e.stateNode=i)}return null;case 13:return ui(wi),n=e.memoizedState,(e.effectTag&64)!==0?(e.expirationTime=i,e):(i=n!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&l0(e):(r=t.memoizedState,n=r!==null,i||r===null||(r=t.child.sibling,r!==null&&(o=e.firstEffect,o!==null?(e.firstEffect=r,r.nextEffect=o):(e.firstEffect=e.lastEffect=r,r.nextEffect=null),r.effectTag=8))),i&&!n&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(wi.current&1)!==0?qi===kc&&(qi=Dv):((qi===kc||qi===Dv)&&(qi=nw),$h!==0&&Yr!==null&&(bc(Yr,kr),QM(Yr,$h)))),(i||n)&&(e.effectTag|=4),null);case 4:return Od(),d_(e),null;case 10:return CT(e),null;case 17:return yr(e.type)&&_v(),null;case 19:if(ui(wi),n=e.memoizedState,n===null)return null;if(r=(e.effectTag&64)!==0,o=n.rendering,o===null){if(r)c0(n,!1);else if(qi!==kc||t!==null&&(t.effectTag&64)!==0)for(o=e.child;o!==null;){if(t=zv(o),t!==null){for(e.effectTag|=64,c0(n,!1),r=t.updateQueue,r!==null&&(e.updateQueue=r,e.effectTag|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=e.child;n!==null;)r=n,o=i,r.effectTag&=2,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null,t=r.alternate,t===null?(r.childExpirationTime=0,r.expirationTime=o,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null):(r.childExpirationTime=t.childExpirationTime,r.expirationTime=t.expirationTime,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,o=t.dependencies,r.dependencies=o===null?null:{expirationTime:o.expirationTime,firstContext:o.firstContext,responders:o.responders}),n=n.sibling;return Ei(wi,wi.current&1|2),e.child}o=o.sibling}}else{if(!r)if(t=zv(o),t!==null){if(e.effectTag|=64,r=!0,i=t.updateQueue,i!==null&&(e.updateQueue=i,e.effectTag|=4),c0(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*co()-n.renderingStartTime>n.tailExpiration&&1<i&&(e.effectTag|=64,r=!0,c0(n,!1),e.expirationTime=e.childExpirationTime=i-1);n.isBackwards?(o.sibling=e.child,e.child=o):(i=n.last,i!==null?i.sibling=o:e.child=o,n.last=o)}return n.tail!==null?(n.tailExpiration===0&&(n.tailExpiration=co()+500),i=n.tail,n.rendering=i,n.tail=i.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=co(),i.sibling=null,e=wi.current,Ei(wi,r?e&1|2:e&1),i):null}throw Error(Re(156,e.tag))}function mQ(t){switch(t.tag){case 1:yr(t.type)&&_v();var e=t.effectTag;return e&4096?(t.effectTag=e&-4097|64,t):null;case 3:if(Od(),ui(vr),ui(On),e=t.effectTag,(e&64)!==0)throw Error(Re(285));return t.effectTag=e&-4097|64,t;case 5:return RT(t),null;case 13:return ui(wi),e=t.effectTag,e&4096?(t.effectTag=e&-4097|64,t):null;case 19:return ui(wi),null;case 4:return Od(),null;case 10:return CT(t),null;default:return null}}function FT(t,e){return{value:t,source:e,stack:uT(e)}}var gQ=typeof WeakSet=="function"?WeakSet:Set;function f_(t,e){var i=e.source,n=e.stack;n===null&&i!==null&&(n=uT(i)),i!==null&&ss(i.type),e=e.value,t!==null&&t.tag===1&&ss(t.type);try{console.error(e)}catch(r){setTimeout(function(){throw r})}}function bQ(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){Tc(t,i)}}function G5(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(i){Tc(t,i)}else e.current=null}function vQ(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.effectTag&256&&t!==null){var i=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?i:Co(e.type,i),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(Re(163))}function zM(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var i=e=e.next;do{if((i.tag&t)===t){var n=i.destroy;i.destroy=void 0,n!==void 0&&n()}i=i.next}while(i!==e)}}function IM(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var i=e=e.next;do{if((i.tag&t)===t){var n=i.create;i.destroy=n()}i=i.next}while(i!==e)}}function yQ(t,e,i){switch(i.tag){case 0:case 11:case 15:case 22:IM(3,i);return;case 1:if(t=i.stateNode,i.effectTag&4)if(e===null)t.componentDidMount();else{var n=i.elementType===i.type?e.memoizedProps:Co(i.type,e.memoizedProps);t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}e=i.updateQueue,e!==null&&C5(i,e,t);return;case 3:if(e=i.updateQueue,e!==null){if(t=null,i.child!==null)switch(i.child.tag){case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}C5(i,e,t)}return;case 5:t=i.stateNode,e===null&&i.effectTag&4&&YO(i.type,i.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:i.memoizedState===null&&(i=i.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&DO(i))));return;case 19:case 17:case 20:case 21:return}throw Error(Re(163))}function H5(t,e,i){switch(typeof w_=="function"&&w_(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t.next;hl(97<i?97:i,function(){var r=n;do{var o=r.destroy;if(o!==void 0){var a=e;try{o()}catch(s){Tc(a,s)}}r=r.next}while(r!==n)})}break;case 1:G5(e),i=e.stateNode,typeof i.componentWillUnmount=="function"&&bQ(e,i);break;case 5:G5(e);break;case 4:PM(t,e,i)}}function RM(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,e!==null&&RM(e)}function Y5(t){return t.tag===5||t.tag===3||t.tag===4}function W5(t){e:{for(var e=t.return;e!==null;){if(Y5(e)){var i=e;break e}e=e.return}throw Error(Re(160))}switch(e=i.stateNode,i.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(Re(161))}i.effectTag&16&&(Fh(e,""),i.effectTag&=-17);e:t:for(i=t;;){for(;i.sibling===null;){if(i.return===null||Y5(i.return)){i=null;break e}i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.effectTag&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.effectTag&2)){i=i.stateNode;break e}}n?p_(t,i,e):h_(t,i,e)}function p_(t,e,i){var n=t.tag,r=n===5||n===6;if(r)t=r?t.stateNode:t.stateNode.instance,e?i.nodeType===8?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(i.nodeType===8?(e=i.parentNode,e.insertBefore(t,i)):(e=i,e.appendChild(t)),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=Av));else if(n!==4&&(t=t.child,t!==null))for(p_(t,e,i),t=t.sibling;t!==null;)p_(t,e,i),t=t.sibling}function h_(t,e,i){var n=t.tag,r=n===5||n===6;if(r)t=r?t.stateNode:t.stateNode.instance,e?i.insertBefore(t,e):i.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(h_(t,e,i),t=t.sibling;t!==null;)h_(t,e,i),t=t.sibling}function PM(t,e,i){for(var n=e,r=!1,o,a;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(Re(160));switch(o=r.stateNode,r.tag){case 5:a=!1;break e;case 3:o=o.containerInfo,a=!0;break e;case 4:o=o.containerInfo,a=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var s=t,l=n,c=i,d=l;;)if(H5(s,d,c),d.child!==null&&d.tag!==4)d.child.return=d,d=d.child;else{if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}a?(s=o,l=n.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):o.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){o=n.stateNode.containerInfo,a=!0,n.child.return=n,n=n.child;continue}}else if(H5(t,n,i),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function v1(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:zM(3,e);return;case 1:return;case 5:var i=e.stateNode;if(i!=null){var n=e.memoizedProps,r=t!==null?t.memoizedProps:n;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,o!==null){for(i[xv]=n,t==="input"&&n.type==="radio"&&n.name!=null&&vO(i,n),Qk(t,r),e=Qk(t,n),r=0;r<o.length;r+=2){var a=o[r],s=o[r+1];a==="style"?jO(i,s):a==="dangerouslySetInnerHTML"?xO(i,s):a==="children"?Fh(i,s):sT(i,a,s,e)}switch(t){case"input":Fk(i,n);break;case"textarea":yO(i,n);break;case"select":e=i._wrapperState.wasMultiple,i._wrapperState.wasMultiple=!!n.multiple,t=n.value,t!=null?gd(i,!!n.multiple,t,!1):e!==!!n.multiple&&(n.defaultValue!=null?gd(i,!!n.multiple,n.defaultValue,!0):gd(i,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(Re(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:e=e.stateNode,e.hydrate&&(e.hydrate=!1,DO(e.containerInfo));return;case 12:return;case 13:if(i=e,e.memoizedState===null?n=!1:(n=!0,i=e.child,UT=co()),i!==null)e:for(t=i;;){if(t.tag===5)o=t.stateNode,n?(o=o.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(o=t.stateNode,r=t.memoizedProps.style,r=r!=null&&r.hasOwnProperty("display")?r.display:null,o.style.display=NO("display",r));else if(t.tag===6)t.stateNode.nodeValue=n?"":t.memoizedProps;else if(t.tag===13&&t.memoizedState!==null&&t.memoizedState.dehydrated===null){o=t.child.sibling,o.return=t,t=o;continue}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}V5(e);return;case 19:V5(e);return;case 17:return}throw Error(Re(163))}function V5(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new gQ),e.forEach(function(n){var r=zQ.bind(null,t,n);i.has(n)||(i.add(n),n.then(r,r))})}}var wQ=typeof WeakMap=="function"?WeakMap:Map;function LM(t,e,i){i=nl(i,null),i.tag=3,i.payload={element:null};var n=e.value;return i.callback=function(){Nv||(Nv=!0,m_=n),f_(t,e)},i}function OM(t,e,i){i=nl(i,null),i.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var r=e.value;i.payload=function(){return f_(t,e),n(r)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(i.callback=function(){typeof n!="function"&&(ol===null?ol=new Set([this]):ol.add(this),f_(t,e));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),i}var AQ=Math.ceil,Ov=Mo.ReactCurrentDispatcher,MM=Mo.ReactCurrentOwner,Xi=0,NT=8,Do=16,fa=32,kc=0,Mv=1,DM=2,Dv=3,nw=4,jT=5,ut=Xi,Yr=null,gt=null,kr=0,qi=kc,rw=null,Xa=1073741823,Vh=1073741823,Bv=null,$h=0,Fv=!1,UT=0,BM=500,Ze=null,Nv=!1,m_=null,ol=null,jv=!1,xh=null,rh=90,mc=null,kh=0,g_=null,Q0=0;function sa(){return(ut&(Do|fa))!==Xi?1073741821-(co()/10|0):Q0!==0?Q0:Q0=1073741821-(co()/10|0)}function _c(t,e,i){if(e=e.mode,(e&2)===0)return 1073741823;var n=tw();if((e&4)===0)return n===99?1073741823:1073741822;if((ut&Do)!==Xi)return kr;if(i!==null)t=V0(t,i.timeoutMs|0||5e3,250);else switch(n){case 99:t=1073741823;break;case 98:t=V0(t,150,100);break;case 97:case 96:t=V0(t,5e3,250);break;case 95:t=2;break;default:throw Error(Re(326))}return Yr!==null&&t===kr&&--t,t}function al(t,e){if(50<kh)throw kh=0,g_=null,Error(Re(185));if(t=ow(t,e),t!==null){var i=tw();e===1073741823?(ut&NT)!==Xi&&(ut&(Do|fa))===Xi?b_(t):(Wr(t),ut===Xi&&xa()):Wr(t),(ut&4)===Xi||i!==98&&i!==99||(mc===null?mc=new Map([[t,e]]):(i=mc.get(t),(i===void 0||i>e)&&mc.set(t,e)))}}function ow(t,e){t.expirationTime<e&&(t.expirationTime=e);var i=t.alternate;i!==null&&i.expirationTime<e&&(i.expirationTime=e);var n=t.return,r=null;if(n===null&&t.tag===3)r=t.stateNode;else for(;n!==null;){if(i=n.alternate,n.childExpirationTime<e&&(n.childExpirationTime=e),i!==null&&i.childExpirationTime<e&&(i.childExpirationTime=e),n.return===null&&n.tag===3){r=n.stateNode;break}n=n.return}return r!==null&&(Yr===r&&(aw(e),qi===nw&&bc(r,kr)),QM(r,e)),r}function q0(t){var e=t.lastExpiredTime;if(e!==0||(e=t.firstPendingTime,!$M(t,e)))return e;var i=t.lastPingedTime;return t=t.nextKnownPendingLevel,t=i>t?i:t,2>=t&&e!==t?0:t}function Wr(t){if(t.lastExpiredTime!==0)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=T5(b_.bind(null,t));else{var e=q0(t),i=t.callbackNode;if(e===0)i!==null&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var n=sa();if(e===1073741823?n=99:e===1||e===2?n=95:(n=10*(1073741821-e)-10*(1073741821-n),n=0>=n?99:250>=n?98:5250>=n?97:95),i!==null){var r=t.callbackPriority;if(t.callbackExpirationTime===e&&r>=n)return;i!==cM&&rM(i)}t.callbackExpirationTime=e,t.callbackPriority=n,e=e===1073741823?T5(b_.bind(null,t)):dM(n,FM.bind(null,t),{timeout:10*(1073741821-e)-co()}),t.callbackNode=e}}}function FM(t,e){if(Q0=0,e)return e=sa(),A_(t,e),Wr(t),null;var i=q0(t);if(i!==0){if(e=t.callbackNode,(ut&(Do|fa))!==Xi)throw Error(Re(327));if(vf(),t===Yr&&i===kr||gc(t,i),gt!==null){var n=ut;ut|=Do;var r=GM();do try{_Q();break}catch(s){UM(t,s)}while(1);if(ST(),ut=n,Ov.current=r,qi===Mv)throw e=rw,gc(t,i),bc(t,i),Wr(t),e;if(gt===null)switch(r=t.finishedWork=t.current.alternate,t.finishedExpirationTime=i,n=qi,Yr=null,n){case kc:case Mv:throw Error(Re(345));case DM:A_(t,2<i?2:i);break;case Dv:if(bc(t,i),n=t.lastSuspendedTime,i===n&&(t.nextKnownPendingLevel=v_(r)),Xa===1073741823&&(r=UT+BM-co(),10<r)){if(Fv){var o=t.lastPingedTime;if(o===0||o>=i){t.lastPingedTime=i,gc(t,i);break}}if(o=q0(t),o!==0&&o!==i)break;if(n!==0&&n!==i){t.lastPingedTime=n;break}t.timeoutHandle=f1(rc.bind(null,t),r);break}rc(t);break;case nw:if(bc(t,i),n=t.lastSuspendedTime,i===n&&(t.nextKnownPendingLevel=v_(r)),Fv&&(r=t.lastPingedTime,r===0||r>=i)){t.lastPingedTime=i,gc(t,i);break}if(r=q0(t),r!==0&&r!==i)break;if(n!==0&&n!==i){t.lastPingedTime=n;break}if(Vh!==1073741823?n=10*(1073741821-Vh)-co():Xa===1073741823?n=0:(n=10*(1073741821-Xa)-5e3,r=co(),i=10*(1073741821-i)-r,n=r-n,0>n&&(n=0),n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*AQ(n/1960))-n,i<n&&(n=i)),10<n){t.timeoutHandle=f1(rc.bind(null,t),n);break}rc(t);break;case jT:if(Xa!==1073741823&&Bv!==null){o=Xa;var a=Bv;if(n=a.busyMinDurationMs|0,0>=n?n=0:(r=a.busyDelayMs|0,o=co()-(10*(1073741821-o)-(a.timeoutMs|0||5e3)),n=o<=r?0:r+n-o),10<n){bc(t,i),t.timeoutHandle=f1(rc.bind(null,t),n);break}}rc(t);break;default:throw Error(Re(329))}if(Wr(t),t.callbackNode===e)return FM.bind(null,t)}}return null}function b_(t){var e=t.lastExpiredTime;if(e=e!==0?e:1073741823,(ut&(Do|fa))!==Xi)throw Error(Re(327));if(vf(),t===Yr&&e===kr||gc(t,e),gt!==null){var i=ut;ut|=Do;var n=GM();do try{kQ();break}catch(r){UM(t,r)}while(1);if(ST(),ut=i,Ov.current=n,qi===Mv)throw i=rw,gc(t,e),bc(t,e),Wr(t),i;if(gt!==null)throw Error(Re(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Yr=null,rc(t),Wr(t)}return null}function xQ(){if(mc!==null){var t=mc;mc=null,t.forEach(function(e,i){A_(i,e),Wr(i)}),xa()}}function NM(t,e){var i=ut;ut|=1;try{return t(e)}finally{ut=i,ut===Xi&&xa()}}function jM(t,e){var i=ut;ut&=-2,ut|=NT;try{return t(e)}finally{ut=i,ut===Xi&&xa()}}function gc(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,A$(i)),gt!==null)for(i=gt.return;i!==null;){var n=i;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&_v();break;case 3:Od(),ui(vr),ui(On);break;case 5:RT(n);break;case 4:Od();break;case 13:ui(wi);break;case 19:ui(wi);break;case 10:CT(n)}i=i.return}Yr=t,gt=Uc(t.current,null),kr=e,qi=kc,rw=null,Vh=Xa=1073741823,Bv=null,$h=0,Fv=!1}function UM(t,e){do{try{if(ST(),$0.current=Lv,Iv)for(var i=Wi.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}if(qs=0,En=Cn=Wi=null,Iv=!1,gt===null||gt.return===null)return qi=Mv,rw=e,gt=null;e:{var r=t,o=gt.return,a=gt,s=e;if(e=kr,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,s!==null&&typeof s=="object"&&typeof s.then=="function"){var l=s;if((a.mode&2)===0){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var d=(wi.current&1)!==0,p=o;do{var h;if(h=p.tag===13){var m=p.memoizedState;if(m!==null)h=m.dehydrated!==null;else{var y=p.memoizedProps;h=y.fallback===void 0?!1:y.unstable_avoidThisFallback!==!0?!0:!d}}if(h){var w=p.updateQueue;if(w===null){var g=new Set;g.add(l),p.updateQueue=g}else w.add(l);if((p.mode&2)===0){if(p.effectTag|=64,a.effectTag&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var A=nl(1073741823,null);A.tag=2,rl(a,A)}a.expirationTime=1073741823;break e}s=void 0,a=e;var x=r.pingCache;if(x===null?(x=r.pingCache=new wQ,s=new Set,x.set(l,s)):(s=x.get(l),s===void 0&&(s=new Set,x.set(l,s))),!s.has(a)){s.add(a);var T=EQ.bind(null,r,l,a);l.then(T,T)}p.effectTag|=4096,p.expirationTime=e;break e}p=p.return}while(p!==null);s=Error((ss(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`+uT(a))}qi!==jT&&(qi=DM),s=FT(s,a),p=o;do{switch(p.tag){case 3:l=s,p.effectTag|=4096,p.expirationTime=e;var E=LM(p,l,e);S5(p,E);break e;case 1:l=s;var z=p.type,M=p.stateNode;if((p.effectTag&64)===0&&(typeof z.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(ol===null||!ol.has(M)))){p.effectTag|=4096,p.expirationTime=e;var B=OM(p,l,e);S5(p,B);break e}}p=p.return}while(p!==null)}gt=WM(gt)}catch(L){e=L;continue}break}while(1)}function GM(){var t=Ov.current;return Ov.current=Lv,t===null?Lv:t}function HM(t,e){t<Xa&&2<t&&(Xa=t),e!==null&&t<Vh&&2<t&&(Vh=t,Bv=e)}function aw(t){t>$h&&($h=t)}function kQ(){for(;gt!==null;)gt=YM(gt)}function _Q(){for(;gt!==null&&!lQ();)gt=YM(gt)}function YM(t){var e=VM(t.alternate,t,kr);return t.memoizedProps=t.pendingProps,e===null&&(e=WM(t)),MM.current=null,e}function WM(t){gt=t;do{var e=gt.alternate;if(t=gt.return,(gt.effectTag&2048)===0){if(e=hQ(e,gt,kr),kr===1||gt.childExpirationTime!==1){for(var i=0,n=gt.child;n!==null;){var r=n.expirationTime,o=n.childExpirationTime;r>i&&(i=r),o>i&&(i=o),n=n.sibling}gt.childExpirationTime=i}if(e!==null)return e;t!==null&&(t.effectTag&2048)===0&&(t.firstEffect===null&&(t.firstEffect=gt.firstEffect),gt.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=gt.firstEffect),t.lastEffect=gt.lastEffect),1<gt.effectTag&&(t.lastEffect!==null?t.lastEffect.nextEffect=gt:t.firstEffect=gt,t.lastEffect=gt))}else{if(e=mQ(gt),e!==null)return e.effectTag&=2047,e;t!==null&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(e=gt.sibling,e!==null)return e;gt=t}while(gt!==null);return qi===kc&&(qi=jT),null}function v_(t){var e=t.expirationTime;return t=t.childExpirationTime,e>t?e:t}function rc(t){var e=tw();return hl(99,TQ.bind(null,t,e)),null}function TQ(t,e){do vf();while(xh!==null);if((ut&(Do|fa))!==Xi)throw Error(Re(327));var i=t.finishedWork,n=t.finishedExpirationTime;if(i===null)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,i===t.current)throw Error(Re(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var r=v_(i);if(t.firstPendingTime=r,n<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:n<=t.firstSuspendedTime&&(t.firstSuspendedTime=n-1),n<=t.lastPingedTime&&(t.lastPingedTime=0),n<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Yr&&(gt=Yr=null,kr=0),1<i.effectTag?i.lastEffect!==null?(i.lastEffect.nextEffect=i,r=i.firstEffect):r=i:r=i.firstEffect,r!==null){var o=ut;ut|=fa,MM.current=null,u1=j0;var a=u5();if(Kk(a)){if("selectionStart"in a)var s={start:a.selectionStart,end:a.selectionEnd};else e:{s=(s=a.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var p=0,h=-1,m=-1,y=0,w=0,g=a,A=null;t:for(;;){for(var x;g!==s||c!==0&&g.nodeType!==3||(h=p+c),g!==d||l!==0&&g.nodeType!==3||(m=p+l),g.nodeType===3&&(p+=g.nodeValue.length),(x=g.firstChild)!==null;)A=g,g=x;for(;;){if(g===a)break t;if(A===s&&++y===c&&(h=p),A===d&&++w===l&&(m=p),(x=g.nextSibling)!==null)break;g=A,A=g.parentNode}g=x}s=h===-1||m===-1?null:{start:h,end:m}}else s=null}s=s||{start:0,end:0}}else s=null;d1={activeElementDetached:null,focusedElem:a,selectionRange:s},j0=!1,Ze=r;do try{SQ()}catch(F){if(Ze===null)throw Error(Re(330));Tc(Ze,F),Ze=Ze.nextEffect}while(Ze!==null);Ze=r;do try{for(a=t,s=e;Ze!==null;){var T=Ze.effectTag;if(T&16&&Fh(Ze.stateNode,""),T&128){var E=Ze.alternate;if(E!==null){var z=E.ref;z!==null&&(typeof z=="function"?z(null):z.current=null)}}switch(T&1038){case 2:W5(Ze),Ze.effectTag&=-3;break;case 6:W5(Ze),Ze.effectTag&=-3,v1(Ze.alternate,Ze);break;case 1024:Ze.effectTag&=-1025;break;case 1028:Ze.effectTag&=-1025,v1(Ze.alternate,Ze);break;case 4:v1(Ze.alternate,Ze);break;case 8:c=Ze,PM(a,c,s),RM(c)}Ze=Ze.nextEffect}}catch(F){if(Ze===null)throw Error(Re(330));Tc(Ze,F),Ze=Ze.nextEffect}while(Ze!==null);if(z=d1,E=u5(),T=z.focusedElem,s=z.selectionRange,E!==T&&T&&T.ownerDocument&&UO(T.ownerDocument.documentElement,T)){for(s!==null&&Kk(T)&&(E=s.start,z=s.end,z===void 0&&(z=E),"selectionStart"in T?(T.selectionStart=E,T.selectionEnd=Math.min(z,T.value.length)):(z=(E=T.ownerDocument||document)&&E.defaultView||window,z.getSelection&&(z=z.getSelection(),c=T.textContent.length,a=Math.min(s.start,c),s=s.end===void 0?a:Math.min(s.end,c),!z.extend&&a>s&&(c=s,s=a,a=c),c=c5(T,a),d=c5(T,s),c&&d&&(z.rangeCount!==1||z.anchorNode!==c.node||z.anchorOffset!==c.offset||z.focusNode!==d.node||z.focusOffset!==d.offset)&&(E=E.createRange(),E.setStart(c.node,c.offset),z.removeAllRanges(),a>s?(z.addRange(E),z.extend(d.node,d.offset)):(E.setEnd(d.node,d.offset),z.addRange(E)))))),E=[],z=T;z=z.parentNode;)z.nodeType===1&&E.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<E.length;T++)z=E[T],z.element.scrollLeft=z.left,z.element.scrollTop=z.top}j0=!!u1,d1=u1=null,t.current=i,Ze=r;do try{for(T=t;Ze!==null;){var M=Ze.effectTag;if(M&36&&yQ(T,Ze.alternate,Ze),M&128){E=void 0;var B=Ze.ref;if(B!==null){var L=Ze.stateNode;switch(Ze.tag){case 5:E=L;break;default:E=L}typeof B=="function"?B(E):B.current=E}}Ze=Ze.nextEffect}}catch(F){if(Ze===null)throw Error(Re(330));Tc(Ze,F),Ze=Ze.nextEffect}while(Ze!==null);Ze=null,cQ(),ut=o}else t.current=i;if(jv)jv=!1,xh=t,rh=e;else for(Ze=r;Ze!==null;)e=Ze.nextEffect,Ze.nextEffect=null,Ze=e;if(e=t.firstPendingTime,e===0&&(ol=null),e===1073741823?t===g_?kh++:(kh=0,g_=t):kh=0,typeof y_=="function"&&y_(i.stateNode,n),Wr(t),Nv)throw Nv=!1,t=m_,m_=null,t;return(ut&NT)!==Xi||xa(),null}function SQ(){for(;Ze!==null;){var t=Ze.effectTag;(t&256)!==0&&vQ(Ze.alternate,Ze),(t&512)===0||jv||(jv=!0,dM(97,function(){return vf(),null})),Ze=Ze.nextEffect}}function vf(){if(rh!==90){var t=97<rh?97:rh;return rh=90,hl(t,CQ)}}function CQ(){if(xh===null)return!1;var t=xh;if(xh=null,(ut&(Do|fa))!==Xi)throw Error(Re(331));var e=ut;for(ut|=fa,t=t.current.firstEffect;t!==null;){try{var i=t;if((i.effectTag&512)!==0)switch(i.tag){case 0:case 11:case 15:case 22:zM(5,i),IM(5,i)}}catch(n){if(t===null)throw Error(Re(330));Tc(t,n)}i=t.nextEffect,t.nextEffect=null,t=i}return ut=e,xa(),!0}function $5(t,e,i){e=FT(i,e),e=LM(t,e,1073741823),rl(t,e),t=ow(t,1073741823),t!==null&&Wr(t)}function Tc(t,e){if(t.tag===3)$5(t,t,e);else for(var i=t.return;i!==null;){if(i.tag===3){$5(i,t,e);break}else if(i.tag===1){var n=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ol===null||!ol.has(n))){t=FT(e,t),t=OM(i,t,1073741823),rl(i,t),i=ow(i,1073741823),i!==null&&Wr(i);break}}i=i.return}}function EQ(t,e,i){var n=t.pingCache;n!==null&&n.delete(e),Yr===t&&kr===i?qi===nw||qi===Dv&&Xa===1073741823&&co()-UT<BM?gc(t,kr):Fv=!0:$M(t,i)&&(e=t.lastPingedTime,e!==0&&e<i||(t.lastPingedTime=i,Wr(t)))}function zQ(t,e){var i=t.stateNode;i!==null&&i.delete(e),e=0,e===0&&(e=sa(),e=_c(e,t,null)),t=ow(t,e),t!==null&&Wr(t)}var VM;VM=function(t,e,i){var n=e.expirationTime;if(t!==null){var r=e.pendingProps;if(t.memoizedProps!==r||vr.current)ta=!0;else{if(n<i){switch(ta=!1,e.tag){case 3:F5(e),m1();break;case 5:if(I5(e),e.mode&4&&i!==1&&r.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:yr(e.type)&&Y0(e);break;case 4:o_(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value,r=e.type._context,Ei(Tv,r._currentValue),r._currentValue=n;break;case 13:if(e.memoizedState!==null)return n=e.child.childExpirationTime,n!==0&&n>=i?N5(t,e,i):(Ei(wi,wi.current&1),e=is(t,e,i),e!==null?e.sibling:null);Ei(wi,wi.current&1);break;case 19:if(n=e.childExpirationTime>=i,(t.effectTag&64)!==0){if(n)return U5(t,e,i);e.effectTag|=64}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null),Ei(wi,wi.current),!n)return null}return is(t,e,i)}ta=!1}}else ta=!1;switch(e.expirationTime=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,r=Pd(e,On.current),vd(e,i),r=OT(null,e,n,t,r,i),e.effectTag|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,yr(n)){var o=!0;Y0(e)}else o=!1;e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,ET(e);var a=n.getDerivedStateFromProps;typeof a=="function"&&Ev(e,n,a,t),r.updater=iw,e.stateNode=r,r._reactInternalFiber=e,r_(e,n,t,i),e=u_(null,e,n,!0,o,i)}else e.tag=0,jr(null,e,r,i),e=e.child;return e;case 16:e:{if(r=e.elementType,t!==null&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,r$(r),r._status!==1)throw r._result;switch(r=r._result,e.type=r,o=e.tag=PQ(r),t=Co(r,t),o){case 0:e=c_(null,e,r,t,i);break e;case 1:e=B5(null,e,r,t,i);break e;case 11:e=M5(null,e,r,t,i);break e;case 14:e=D5(null,e,r,Co(r.type,t),n,i);break e}throw Error(Re(306,r,""))}return e;case 0:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Co(n,r),c_(t,e,n,r,i);case 1:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Co(n,r),B5(t,e,n,r,i);case 3:if(F5(e),n=e.updateQueue,t===null||n===null)throw Error(Re(282));if(n=e.pendingProps,r=e.memoizedState,r=r!==null?r.element:null,zT(t,e),Hh(e,n,null,i),n=e.memoizedState.element,n===r)m1(),e=is(t,e,i);else{if((r=e.stateNode.hydrate)&&(Ks=bd(e.stateNode.containerInfo.firstChild),ts=e,r=xc=!0),r)for(i=IT(e,null,n,i),e.child=i;i;)i.effectTag=i.effectTag&-3|1024,i=i.sibling;else jr(t,e,n,i),m1();e=e.child}return e;case 5:return I5(e),t===null&&l_(e),n=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,a=r.children,Xk(n,r)?a=null:o!==null&&Xk(n,o)&&(e.effectTag|=16),TM(t,e),e.mode&4&&i!==1&&r.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(jr(t,e,a,i),e=e.child),e;case 6:return t===null&&l_(e),null;case 13:return N5(t,e,i);case 4:return o_(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ld(e,null,n,i):jr(t,e,n,i),e.child;case 11:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Co(n,r),M5(t,e,n,r,i);case 7:return jr(t,e,e.pendingProps,i),e.child;case 8:return jr(t,e,e.pendingProps.children,i),e.child;case 12:return jr(t,e,e.pendingProps.children,i),e.child;case 10:e:{n=e.type._context,r=e.pendingProps,a=e.memoizedProps,o=r.value;var s=e.type._context;if(Ei(Tv,s._currentValue),s._currentValue=o,a!==null)if(s=a.value,o=Nc(s,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(s,o):1073741823)|0,o===0){if(a.children===r.children&&!vr.current){e=is(t,e,i);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n&&(c.observedBits&o)!==0){s.tag===1&&(c=nl(i,null),c.tag=2,rl(s,c)),s.expirationTime<i&&(s.expirationTime=i),c=s.alternate,c!==null&&c.expirationTime<i&&(c.expirationTime=i),pM(s.return,i),l.expirationTime<i&&(l.expirationTime=i);break}c=c.next}}else a=s.tag===10&&s.type===e.type?null:s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}jr(t,e,r.children,i),e=e.child}return e;case 9:return r=e.type,o=e.pendingProps,n=o.children,vd(e,i),r=mo(r,o.unstable_observedBits),n=n(r),e.effectTag|=1,jr(t,e,n,i),e.child;case 14:return r=e.type,o=Co(r,e.pendingProps),o=Co(r.type,o),D5(t,e,r,o,n,i);case 15:return _M(t,e,e.type,e.pendingProps,n,i);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Co(n,r),t!==null&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,yr(n)?(t=!0,Y0(e)):t=!1,vd(e,i),mM(e,n,r),r_(e,n,r,i),u_(null,e,n,!0,t,i);case 19:return U5(t,e,i)}throw Error(Re(156,e.tag))};var y_=null,w_=null;function IQ(t){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var i=e.inject(t);y_=function(n){try{e.onCommitFiberRoot(i,n,void 0,(n.current.effectTag&64)===64)}catch{}},w_=function(n){try{e.onCommitFiberUnmount(i,n)}catch{}}}catch{}return!0}function RQ(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function ia(t,e,i,n){return new RQ(t,e,i,n)}function GT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PQ(t){if(typeof t=="function")return GT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lT)return 11;if(t===cT)return 14}return 2}function Uc(t,e){var i=t.alternate;return i===null?(i=ia(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childExpirationTime=t.childExpirationTime,i.expirationTime=t.expirationTime,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function K0(t,e,i,n,r,o){var a=2;if(n=t,typeof t=="function")GT(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case dc:return Xs(i.children,r,o,e);case n$:a=8,r|=7;break;case dO:a=8,r|=1;break;case B0:return t=ia(12,i,e,r|8),t.elementType=B0,t.type=B0,t.expirationTime=o,t;case F0:return t=ia(13,i,e,r),t.type=F0,t.elementType=F0,t.expirationTime=o,t;case Dk:return t=ia(19,i,e,r),t.elementType=Dk,t.expirationTime=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fO:a=10;break e;case pO:a=9;break e;case lT:a=11;break e;case cT:a=14;break e;case hO:a=16,n=null;break e;case mO:a=22;break e}throw Error(Re(130,t==null?t:typeof t,""))}return e=ia(a,i,e,r),e.elementType=t,e.type=n,e.expirationTime=o,e}function Xs(t,e,i,n){return t=ia(7,t,n,e),t.expirationTime=i,t}function y1(t,e,i){return t=ia(6,t,null,e),t.expirationTime=i,t}function w1(t,e,i){return e=ia(4,t.children!==null?t.children:[],t.key,e),e.expirationTime=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LQ(t,e,i){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=i,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function $M(t,e){var i=t.firstSuspendedTime;return t=t.lastSuspendedTime,i!==0&&i>=e&&t<=e}function bc(t,e){var i=t.firstSuspendedTime,n=t.lastSuspendedTime;i<e&&(t.firstSuspendedTime=e),(n>e||i===0)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function QM(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var i=t.firstSuspendedTime;i!==0&&(e>=i?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function A_(t,e){var i=t.lastExpiredTime;(i===0||i>e)&&(t.lastExpiredTime=e)}function Uv(t,e,i,n){var r=e.current,o=sa(),a=Ah.suspense;o=_c(o,r,a);e:if(i){i=i._reactInternalFiber;t:{if(iu(i)!==i||i.tag!==1)throw Error(Re(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(Re(171))}if(i.tag===1){var l=i.type;if(yr(l)){i=nM(i,l,s);break e}}i=s}else i=pl;return e.context===null?e.context=i:e.pendingContext=i,e=nl(o,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),rl(r,e),al(r,o),o}function A1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Q5(t,e){t=t.memoizedState,t!==null&&t.dehydrated!==null&&t.retryTime<e&&(t.retryTime=e)}function HT(t,e){Q5(t,e),(t=t.alternate)&&Q5(t,e)}function WT(t,e,i){i=i!=null&&i.hydrate===!0;var n=new LQ(t,e,i),r=ia(3,null,null,e===2?7:e===1?3:0);n.current=r,r.stateNode=n,ET(r),t[Ym]=n.current,i&&e!==0&&u$(t,t.nodeType===9?t:t.ownerDocument),this._internalRoot=n}WT.prototype.render=function(t){Uv(t,this._internalRoot,null,null)};WT.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Uv(null,t,null,function(){e[Ym]=null})};function Km(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function OQ(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var i;i=t.lastChild;)t.removeChild(i);return new WT(t,0,e?{hydrate:!0}:void 0)}function sw(t,e,i,n,r){var o=i._reactRootContainer;if(o){var a=o._internalRoot;if(typeof r=="function"){var s=r;r=function(){var c=A1(a);s.call(c)}}Uv(e,a,t,r)}else{if(o=i._reactRootContainer=OQ(i,n),a=o._internalRoot,typeof r=="function"){var l=r;r=function(){var c=A1(a);l.call(c)}}jM(function(){Uv(e,a,t,r)})}return A1(a)}function MQ(t,e,i){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ed,key:n==null?null:""+n,children:t,containerInfo:e,implementation:i}}OO=function(t){if(t.tag===13){var e=V0(sa(),150,100);al(t,e),HT(t,e)}};hT=function(t){t.tag===13&&(al(t,3),HT(t,3))};MO=function(t){if(t.tag===13){var e=sa();e=_c(e,t,null),al(t,e),HT(t,e)}};Mk=function(t,e,i){switch(e){case"input":if(Fk(t,i),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var r=AT(n);if(!r)throw Error(Re(90));bO(n),Fk(n,r)}}}break;case"textarea":yO(t,i);break;case"select":e=i.value,e!=null&&gd(t,!!i.multiple,e,!1)}};iT=NM;lO=function(t,e,i,n,r){var o=ut;ut|=4;try{return hl(98,t.bind(null,e,i,n,r))}finally{ut=o,ut===Xi&&xa()}};nT=function(){(ut&(1|Do|fa))===Xi&&(xQ(),vf())};cO=function(t,e){var i=ut;ut|=2;try{return t(e)}finally{ut=i,ut===Xi&&xa()}};function qM(t,e){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Km(e))throw Error(Re(200));return MQ(t,e,null,i)}var DQ={Events:[Vm,Fc,AT,oO,Ok,Rd,function(t){fT(t,k$)},aO,sO,Jy,Xy,vf,{current:!1}]};(function(t){var e=t.findFiberByHostInstance;return IQ(ir({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=zO(i),i===null?null:i.stateNode},findFiberByHostInstance:function(i){return e?e(i):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Wm,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"});vo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DQ;vo.createPortal=qM;vo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternalFiber;if(e===void 0)throw typeof t.render=="function"?Error(Re(188)):Error(Re(268,Object.keys(t)));return t=zO(e),t=t===null?null:t.stateNode,t};vo.flushSync=function(t,e){if((ut&(Do|fa))!==Xi)throw Error(Re(187));var i=ut;ut|=1;try{return hl(99,t.bind(null,e))}finally{ut=i,xa()}};vo.hydrate=function(t,e,i){if(!Km(e))throw Error(Re(200));return sw(null,t,e,!0,i)};vo.render=function(t,e,i){if(!Km(e))throw Error(Re(200));return sw(null,t,e,!1,i)};vo.unmountComponentAtNode=function(t){if(!Km(t))throw Error(Re(40));return t._reactRootContainer?(jM(function(){sw(null,null,t,!1,function(){t._reactRootContainer=null,t[Ym]=null})}),!0):!1};vo.unstable_batchedUpdates=NM;vo.unstable_createPortal=function(t,e){return qM(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};vo.unstable_renderSubtreeIntoContainer=function(t,e,i,n){if(!Km(i))throw Error(Re(200));if(t==null||t._reactInternalFiber===void 0)throw Error(Re(38));return sw(t,e,i,!1,n)};vo.version="16.14.0";function KM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KM)}catch(t){console.error(t)}}KM(),dl.exports=vo;var BQ=dl.exports,lw={exports:{}},Xm={};/** @license React v16.14.0
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FQ=$.exports,XM=60103;Xm.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var q5=Symbol.for;XM=q5("react.element"),Xm.Fragment=q5("react.fragment")}var NQ=FQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jQ=Object.prototype.hasOwnProperty,UQ={key:!0,ref:!0,__self:!0,__source:!0};function JM(t,e,i){var n,r={},o=null,a=null;i!==void 0&&(o=""+i),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)jQ.call(e,n)&&!UQ.hasOwnProperty(n)&&(r[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)r[n]===void 0&&(r[n]=e[n]);return{$$typeof:XM,type:t,key:o,ref:a,props:r,_owner:NQ.current}}Xm.jsx=JM;Xm.jsxs=JM;lw.exports=Xm;const P=lw.exports.jsx,ue=lw.exports.jsxs,yo=lw.exports.Fragment,ZM=$.exports.createContext({firebaseConfig:{options:{projectId:"cdp-seattle-staging-dbengvtn"},settings:{}},municipality:{name:"Seattle Staging",timeZone:"America/Los_Angeles",footerLinksSections:[]}}),GQ=({appConfig:t,children:e})=>P(ZM.Provider,{value:t,children:e}),Di=()=>{const t=$.exports.useContext(ZM);if(t===void 0)throw new Error("useAppConfigContext must be used within a AppConfigProvider");return t},e8=$.exports.createContext({language:"en",setLanguage:()=>{}}),HQ=({languageConfig:t,children:e})=>P(e8.Provider,{value:t,children:e}),jo=()=>{const t=$.exports.useContext(e8);if(t===void 0)throw new Error("useLanguageConfigContext must be used within a LanguageConfigProvider");return t};function Qh(t,e){return Qh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Qh(t,e)}function ye(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Qh(t,e)}var t8={exports:{}},YQ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",WQ=YQ,VQ=WQ;function i8(){}function n8(){}n8.resetWarningCache=i8;var $Q=function(){function t(n,r,o,a,s,l){if(l!==VQ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:n8,resetWarningCache:i8};return i.PropTypes=i,i};t8.exports=$Q();var K5=t8.exports;function Me(){return Me=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Me.apply(this,arguments)}var QQ=Object.freeze(Object.defineProperty({__proto__:null,default:Me},Symbol.toStringTag,{value:"Module"}));function u0(t){return t.charAt(0)==="/"}function x1(t,e){for(var i=e,n=i+1,r=t.length;n<r;i+=1,n+=1)t[i]=t[n];t.pop()}function qQ(t,e){e===void 0&&(e="");var i=t&&t.split("/")||[],n=e&&e.split("/")||[],r=t&&u0(t),o=e&&u0(e),a=r||o;if(t&&u0(t)?n=i:i.length&&(n.pop(),n=n.concat(i)),!n.length)return"/";var s;if(n.length){var l=n[n.length-1];s=l==="."||l===".."||l===""}else s=!1;for(var c=0,d=n.length;d>=0;d--){var p=n[d];p==="."?x1(n,d):p===".."?(x1(n,d),c++):c&&(x1(n,d),c--)}if(!a)for(;c--;c)n.unshift("..");a&&n[0]!==""&&(!n[0]||!u0(n[0]))&&n.unshift("");var h=n.join("/");return s&&h.substr(-1)!=="/"&&(h+="/"),h}var KQ=!0,k1="Invariant failed";function nu(t,e){if(!t){if(KQ)throw new Error(k1);var i=typeof e=="function"?e():e,n=i?k1+": "+i:k1;throw new Error(n)}}function _h(t){return t.charAt(0)==="/"?t:"/"+t}function X5(t){return t.charAt(0)==="/"?t.substr(1):t}function XQ(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function r8(t,e){return XQ(t,e)?t.substr(e.length):t}function o8(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function JQ(t){var e=t||"/",i="",n="",r=e.indexOf("#");r!==-1&&(n=e.substr(r),e=e.substr(0,r));var o=e.indexOf("?");return o!==-1&&(i=e.substr(o),e=e.substr(0,o)),{pathname:e,search:i==="?"?"":i,hash:n==="#"?"":n}}function hr(t){var e=t.pathname,i=t.search,n=t.hash,r=e||"/";return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Gr(t,e,i,n){var r;typeof t=="string"?(r=JQ(t),r.state=e):(r=Me({},t),r.pathname===void 0&&(r.pathname=""),r.search?r.search.charAt(0)!=="?"&&(r.search="?"+r.search):r.search="",r.hash?r.hash.charAt(0)!=="#"&&(r.hash="#"+r.hash):r.hash="",e!==void 0&&r.state===void 0&&(r.state=e));try{r.pathname=decodeURI(r.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return i&&(r.key=i),n?r.pathname?r.pathname.charAt(0)!=="/"&&(r.pathname=qQ(r.pathname,n.pathname)):r.pathname=n.pathname:r.pathname||(r.pathname="/"),r}function VT(){var t=null;function e(a){return t=a,function(){t===a&&(t=null)}}function i(a,s,l,c){if(t!=null){var d=typeof t=="function"?t(a,s):t;typeof d=="string"?typeof l=="function"?l(d,c):c(!0):c(d!==!1)}else c(!0)}var n=[];function r(a){var s=!0;function l(){s&&a.apply(void 0,arguments)}return n.push(l),function(){s=!1,n=n.filter(function(c){return c!==l})}}function o(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];n.forEach(function(c){return c.apply(void 0,s)})}return{setPrompt:e,confirmTransitionTo:i,appendListener:r,notifyListeners:o}}var a8=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function s8(t,e){e(window.confirm(t))}function ZQ(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function eq(){return window.navigator.userAgent.indexOf("Trident")===-1}function tq(){return window.navigator.userAgent.indexOf("Firefox")===-1}function iq(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var J5="popstate",Z5="hashchange";function e3(){try{return window.history.state||{}}catch{return{}}}function nq(t){t===void 0&&(t={}),a8||nu(!1);var e=window.history,i=ZQ(),n=!eq(),r=t,o=r.forceRefresh,a=o===void 0?!1:o,s=r.getUserConfirmation,l=s===void 0?s8:s,c=r.keyLength,d=c===void 0?6:c,p=t.basename?o8(_h(t.basename)):"";function h(Pe){var Oe=Pe||{},se=Oe.key,Z=Oe.state,ce=window.location,te=ce.pathname,ae=ce.search,fe=ce.hash,ve=te+ae+fe;return p&&(ve=r8(ve,p)),Gr(ve,Z,se)}function m(){return Math.random().toString(36).substr(2,d)}var y=VT();function w(Pe){Me(We,Pe),We.length=e.length,y.notifyListeners(We.location,We.action)}function g(Pe){iq(Pe)||T(h(Pe.state))}function A(){T(h(e3()))}var x=!1;function T(Pe){if(x)x=!1,w();else{var Oe="POP";y.confirmTransitionTo(Pe,Oe,l,function(se){se?w({action:Oe,location:Pe}):E(Pe)})}}function E(Pe){var Oe=We.location,se=M.indexOf(Oe.key);se===-1&&(se=0);var Z=M.indexOf(Pe.key);Z===-1&&(Z=0);var ce=se-Z;ce&&(x=!0,H(ce))}var z=h(e3()),M=[z.key];function B(Pe){return p+hr(Pe)}function L(Pe,Oe){var se="PUSH",Z=Gr(Pe,Oe,m(),We.location);y.confirmTransitionTo(Z,se,l,function(ce){if(!!ce){var te=B(Z),ae=Z.key,fe=Z.state;if(i)if(e.pushState({key:ae,state:fe},null,te),a)window.location.href=te;else{var ve=M.indexOf(We.location.key),be=M.slice(0,ve+1);be.push(Z.key),M=be,w({action:se,location:Z})}else window.location.href=te}})}function F(Pe,Oe){var se="REPLACE",Z=Gr(Pe,Oe,m(),We.location);y.confirmTransitionTo(Z,se,l,function(ce){if(!!ce){var te=B(Z),ae=Z.key,fe=Z.state;if(i)if(e.replaceState({key:ae,state:fe},null,te),a)window.location.replace(te);else{var ve=M.indexOf(We.location.key);ve!==-1&&(M[ve]=Z.key),w({action:se,location:Z})}else window.location.replace(te)}})}function H(Pe){e.go(Pe)}function X(){H(-1)}function de(){H(1)}var we=0;function Ee(Pe){we+=Pe,we===1&&Pe===1?(window.addEventListener(J5,g),n&&window.addEventListener(Z5,A)):we===0&&(window.removeEventListener(J5,g),n&&window.removeEventListener(Z5,A))}var ke=!1;function Be(Pe){Pe===void 0&&(Pe=!1);var Oe=y.setPrompt(Pe);return ke||(Ee(1),ke=!0),function(){return ke&&(ke=!1,Ee(-1)),Oe()}}function De(Pe){var Oe=y.appendListener(Pe);return Ee(1),function(){Ee(-1),Oe()}}var We={length:e.length,action:"POP",location:z,createHref:B,push:L,replace:F,go:H,goBack:X,goForward:de,block:Be,listen:De};return We}var t3="hashchange",rq={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+X5(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:X5,decodePath:_h},slash:{encodePath:_h,decodePath:_h}};function l8(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Gp(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function oq(t){window.location.hash=t}function _1(t){window.location.replace(l8(window.location.href)+"#"+t)}function aq(t){t===void 0&&(t={}),a8||nu(!1);var e=window.history;tq();var i=t,n=i.getUserConfirmation,r=n===void 0?s8:n,o=i.hashType,a=o===void 0?"slash":o,s=t.basename?o8(_h(t.basename)):"",l=rq[a],c=l.encodePath,d=l.decodePath;function p(){var Oe=d(Gp());return s&&(Oe=r8(Oe,s)),Gr(Oe)}var h=VT();function m(Oe){Me(Pe,Oe),Pe.length=e.length,h.notifyListeners(Pe.location,Pe.action)}var y=!1,w=null;function g(Oe,se){return Oe.pathname===se.pathname&&Oe.search===se.search&&Oe.hash===se.hash}function A(){var Oe=Gp(),se=c(Oe);if(Oe!==se)_1(se);else{var Z=p(),ce=Pe.location;if(!y&&g(ce,Z)||w===hr(Z))return;w=null,x(Z)}}function x(Oe){if(y)y=!1,m();else{var se="POP";h.confirmTransitionTo(Oe,se,r,function(Z){Z?m({action:se,location:Oe}):T(Oe)})}}function T(Oe){var se=Pe.location,Z=B.lastIndexOf(hr(se));Z===-1&&(Z=0);var ce=B.lastIndexOf(hr(Oe));ce===-1&&(ce=0);var te=Z-ce;te&&(y=!0,X(te))}var E=Gp(),z=c(E);E!==z&&_1(z);var M=p(),B=[hr(M)];function L(Oe){var se=document.querySelector("base"),Z="";return se&&se.getAttribute("href")&&(Z=l8(window.location.href)),Z+"#"+c(s+hr(Oe))}function F(Oe,se){var Z="PUSH",ce=Gr(Oe,void 0,void 0,Pe.location);h.confirmTransitionTo(ce,Z,r,function(te){if(!!te){var ae=hr(ce),fe=c(s+ae),ve=Gp()!==fe;if(ve){w=ae,oq(fe);var be=B.lastIndexOf(hr(Pe.location)),Ie=B.slice(0,be+1);Ie.push(ae),B=Ie,m({action:Z,location:ce})}else m()}})}function H(Oe,se){var Z="REPLACE",ce=Gr(Oe,void 0,void 0,Pe.location);h.confirmTransitionTo(ce,Z,r,function(te){if(!!te){var ae=hr(ce),fe=c(s+ae),ve=Gp()!==fe;ve&&(w=ae,_1(fe));var be=B.indexOf(hr(Pe.location));be!==-1&&(B[be]=ae),m({action:Z,location:ce})}})}function X(Oe){e.go(Oe)}function de(){X(-1)}function we(){X(1)}var Ee=0;function ke(Oe){Ee+=Oe,Ee===1&&Oe===1?window.addEventListener(t3,A):Ee===0&&window.removeEventListener(t3,A)}var Be=!1;function De(Oe){Oe===void 0&&(Oe=!1);var se=h.setPrompt(Oe);return Be||(ke(1),Be=!0),function(){return Be&&(Be=!1,ke(-1)),se()}}function We(Oe){var se=h.appendListener(Oe);return ke(1),function(){ke(-1),se()}}var Pe={length:e.length,action:"POP",location:M,createHref:L,push:F,replace:H,go:X,goBack:de,goForward:we,block:De,listen:We};return Pe}function i3(t,e,i){return Math.min(Math.max(t,e),i)}function sq(t){t===void 0&&(t={});var e=t,i=e.getUserConfirmation,n=e.initialEntries,r=n===void 0?["/"]:n,o=e.initialIndex,a=o===void 0?0:o,s=e.keyLength,l=s===void 0?6:s,c=VT();function d(L){Me(B,L),B.length=B.entries.length,c.notifyListeners(B.location,B.action)}function p(){return Math.random().toString(36).substr(2,l)}var h=i3(a,0,r.length-1),m=r.map(function(L){return typeof L=="string"?Gr(L,void 0,p()):Gr(L,void 0,L.key||p())}),y=hr;function w(L,F){var H="PUSH",X=Gr(L,F,p(),B.location);c.confirmTransitionTo(X,H,i,function(de){if(!!de){var we=B.index,Ee=we+1,ke=B.entries.slice(0);ke.length>Ee?ke.splice(Ee,ke.length-Ee,X):ke.push(X),d({action:H,location:X,index:Ee,entries:ke})}})}function g(L,F){var H="REPLACE",X=Gr(L,F,p(),B.location);c.confirmTransitionTo(X,H,i,function(de){!de||(B.entries[B.index]=X,d({action:H,location:X}))})}function A(L){var F=i3(B.index+L,0,B.entries.length-1),H="POP",X=B.entries[F];c.confirmTransitionTo(X,H,i,function(de){de?d({action:H,location:X,index:F}):d()})}function x(){A(-1)}function T(){A(1)}function E(L){var F=B.index+L;return F>=0&&F<B.entries.length}function z(L){return L===void 0&&(L=!1),c.setPrompt(L)}function M(L){return c.appendListener(L)}var B={length:m.length,action:"POP",location:m[h],index:h,entries:m,createHref:y,push:w,replace:g,go:A,goBack:x,goForward:T,canGo:E,block:z,listen:M};return B}var T1=1073741823,n3=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:{};function lq(){var t="__global_unique_id__";return n3[t]=(n3[t]||0)+1}function cq(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function uq(t){var e=[];return{on:function(n){e.push(n)},off:function(n){e=e.filter(function(r){return r!==n})},get:function(){return t},set:function(n,r){t=n,e.forEach(function(o){return o(t,r)})}}}function dq(t){return Array.isArray(t)?t[0]:t}function fq(t,e){var i,n,r="__create-react-context-"+lq()+"__",o=function(s){ye(l,s);function l(){var d;return d=s.apply(this,arguments)||this,d.emitter=uq(d.props.value),d}var c=l.prototype;return c.getChildContext=function(){var p;return p={},p[r]=this.emitter,p},c.componentWillReceiveProps=function(p){if(this.props.value!==p.value){var h=this.props.value,m=p.value,y;cq(h,m)?y=0:(y=typeof e=="function"?e(h,m):T1,y|=0,y!==0&&this.emitter.set(p.value,y))}},c.render=function(){return this.props.children},l}($.exports.Component);o.childContextTypes=(i={},i[r]=K5.object.isRequired,i);var a=function(s){ye(l,s);function l(){var d;return d=s.apply(this,arguments)||this,d.state={value:d.getValue()},d.onUpdate=function(p,h){var m=d.observedBits|0;(m&h)!==0&&d.setState({value:d.getValue()})},d}var c=l.prototype;return c.componentWillReceiveProps=function(p){var h=p.observedBits;this.observedBits=h==null?T1:h},c.componentDidMount=function(){this.context[r]&&this.context[r].on(this.onUpdate);var p=this.props.observedBits;this.observedBits=p==null?T1:p},c.componentWillUnmount=function(){this.context[r]&&this.context[r].off(this.onUpdate)},c.getValue=function(){return this.context[r]?this.context[r].get():t},c.render=function(){return dq(this.props.children)(this.state.value)},l}($.exports.Component);return a.contextTypes=(n={},n[r]=K5.object,n),{Provider:o,Consumer:a}}var pq=ze.createContext||fq,yf={exports:{}},hq=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},Gv=hq;yf.exports=d8;yf.exports.parse=$T;yf.exports.compile=gq;yf.exports.tokensToFunction=c8;yf.exports.tokensToRegExp=u8;var mq=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function $T(t,e){for(var i=[],n=0,r=0,o="",a=e&&e.delimiter||"/",s;(s=mq.exec(t))!=null;){var l=s[0],c=s[1],d=s.index;if(o+=t.slice(r,d),r=d+l.length,c){o+=c[1];continue}var p=t[r],h=s[2],m=s[3],y=s[4],w=s[5],g=s[6],A=s[7];o&&(i.push(o),o="");var x=h!=null&&p!=null&&p!==h,T=g==="+"||g==="*",E=g==="?"||g==="*",z=s[2]||a,M=y||w;i.push({name:m||n++,prefix:h||"",delimiter:z,optional:E,repeat:T,partial:x,asterisk:!!A,pattern:M?yq(M):A?".*":"[^"+X0(z)+"]+?"})}return r<t.length&&(o+=t.substr(r)),o&&i.push(o),i}function gq(t,e){return c8($T(t,e),e)}function bq(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function vq(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function c8(t,e){for(var i=new Array(t.length),n=0;n<t.length;n++)typeof t[n]=="object"&&(i[n]=new RegExp("^(?:"+t[n].pattern+")$",qT(e)));return function(r,o){for(var a="",s=r||{},l=o||{},c=l.pretty?bq:encodeURIComponent,d=0;d<t.length;d++){var p=t[d];if(typeof p=="string"){a+=p;continue}var h=s[p.name],m;if(h==null)if(p.optional){p.partial&&(a+=p.prefix);continue}else throw new TypeError('Expected "'+p.name+'" to be defined');if(Gv(h)){if(!p.repeat)throw new TypeError('Expected "'+p.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(p.optional)continue;throw new TypeError('Expected "'+p.name+'" to not be empty')}for(var y=0;y<h.length;y++){if(m=c(h[y]),!i[d].test(m))throw new TypeError('Expected all "'+p.name+'" to match "'+p.pattern+'", but received `'+JSON.stringify(m)+"`");a+=(y===0?p.prefix:p.delimiter)+m}continue}if(m=p.asterisk?vq(h):c(h),!i[d].test(m))throw new TypeError('Expected "'+p.name+'" to match "'+p.pattern+'", but received "'+m+'"');a+=p.prefix+m}return a}}function X0(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function yq(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function QT(t,e){return t.keys=e,t}function qT(t){return t&&t.sensitive?"":"i"}function wq(t,e){var i=t.source.match(/\((?!\?)/g);if(i)for(var n=0;n<i.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return QT(t,e)}function Aq(t,e,i){for(var n=[],r=0;r<t.length;r++)n.push(d8(t[r],e,i).source);var o=new RegExp("(?:"+n.join("|")+")",qT(i));return QT(o,e)}function xq(t,e,i){return u8($T(t,i),e,i)}function u8(t,e,i){Gv(e)||(i=e||i,e=[]),i=i||{};for(var n=i.strict,r=i.end!==!1,o="",a=0;a<t.length;a++){var s=t[a];if(typeof s=="string")o+=X0(s);else{var l=X0(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+l+c+")*"),s.optional?s.partial?c=l+"("+c+")?":c="(?:"+l+"("+c+"))?":c=l+"("+c+")",o+=c}}var d=X0(i.delimiter||"/"),p=o.slice(-d.length)===d;return n||(o=(p?o.slice(0,-d.length):o)+"(?:"+d+"(?=$))?"),r?o+="$":o+=n&&p?"":"(?="+d+"|$)",QT(new RegExp("^"+o,qT(i)),e)}function d8(t,e,i){return Gv(e)||(i=e||i,e=[]),i=i||{},t instanceof RegExp?wq(t,e):Gv(t)?Aq(t,e,i):xq(t,e,i)}var kq=yf.exports,KT={exports:{}},Xt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var on=typeof Symbol=="function"&&Symbol.for,XT=on?Symbol.for("react.element"):60103,JT=on?Symbol.for("react.portal"):60106,cw=on?Symbol.for("react.fragment"):60107,uw=on?Symbol.for("react.strict_mode"):60108,dw=on?Symbol.for("react.profiler"):60114,fw=on?Symbol.for("react.provider"):60109,pw=on?Symbol.for("react.context"):60110,ZT=on?Symbol.for("react.async_mode"):60111,hw=on?Symbol.for("react.concurrent_mode"):60111,mw=on?Symbol.for("react.forward_ref"):60112,gw=on?Symbol.for("react.suspense"):60113,_q=on?Symbol.for("react.suspense_list"):60120,bw=on?Symbol.for("react.memo"):60115,vw=on?Symbol.for("react.lazy"):60116,Tq=on?Symbol.for("react.block"):60121,Sq=on?Symbol.for("react.fundamental"):60117,Cq=on?Symbol.for("react.responder"):60118,Eq=on?Symbol.for("react.scope"):60119;function Xr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case XT:switch(t=t.type,t){case ZT:case hw:case cw:case dw:case uw:case gw:return t;default:switch(t=t&&t.$$typeof,t){case pw:case mw:case vw:case bw:case fw:return t;default:return e}}case JT:return e}}}function f8(t){return Xr(t)===hw}Xt.AsyncMode=ZT;Xt.ConcurrentMode=hw;Xt.ContextConsumer=pw;Xt.ContextProvider=fw;Xt.Element=XT;Xt.ForwardRef=mw;Xt.Fragment=cw;Xt.Lazy=vw;Xt.Memo=bw;Xt.Portal=JT;Xt.Profiler=dw;Xt.StrictMode=uw;Xt.Suspense=gw;Xt.isAsyncMode=function(t){return f8(t)||Xr(t)===ZT};Xt.isConcurrentMode=f8;Xt.isContextConsumer=function(t){return Xr(t)===pw};Xt.isContextProvider=function(t){return Xr(t)===fw};Xt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===XT};Xt.isForwardRef=function(t){return Xr(t)===mw};Xt.isFragment=function(t){return Xr(t)===cw};Xt.isLazy=function(t){return Xr(t)===vw};Xt.isMemo=function(t){return Xr(t)===bw};Xt.isPortal=function(t){return Xr(t)===JT};Xt.isProfiler=function(t){return Xr(t)===dw};Xt.isStrictMode=function(t){return Xr(t)===uw};Xt.isSuspense=function(t){return Xr(t)===gw};Xt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===cw||t===hw||t===dw||t===uw||t===gw||t===_q||typeof t=="object"&&t!==null&&(t.$$typeof===vw||t.$$typeof===bw||t.$$typeof===fw||t.$$typeof===pw||t.$$typeof===mw||t.$$typeof===Sq||t.$$typeof===Cq||t.$$typeof===Eq||t.$$typeof===Tq)};Xt.typeOf=Xr;KT.exports=Xt;function ru(t,e){if(t==null)return{};var i={},n=Object.keys(t),r,o;for(o=0;o<n.length;o++)r=n[o],!(e.indexOf(r)>=0)&&(i[r]=t[r]);return i}var p8=KT.exports,zq={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Iq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},h8={};h8[p8.ForwardRef]=zq;h8[p8.Memo]=Iq;var m8=function(e){var i=pq();return i.displayName=e,i},g8=m8("Router-History"),ml=m8("Router"),yw=function(t){ye(e,t),e.computeRootMatch=function(r){return{path:"/",url:"/",params:{},isExact:r==="/"}};function e(n){var r;return r=t.call(this,n)||this,r.state={location:n.history.location},r._isMounted=!1,r._pendingLocation=null,n.staticContext||(r.unlisten=n.history.listen(function(o){r._isMounted?r.setState({location:o}):r._pendingLocation=o})),r}var i=e.prototype;return i.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},i.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},i.render=function(){return ze.createElement(ml.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},ze.createElement(g8.Provider,{children:this.props.children||null,value:this.props.history}))},e}(ze.Component);ze.Component;ze.Component;var r3={},Rq=1e4,o3=0;function Pq(t,e){var i=""+e.end+e.strict+e.sensitive,n=r3[i]||(r3[i]={});if(n[t])return n[t];var r=[],o=kq(t,r,e),a={regexp:o,keys:r};return o3<Rq&&(n[t]=a,o3++),a}function eS(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var i=e,n=i.path,r=i.exact,o=r===void 0?!1:r,a=i.strict,s=a===void 0?!1:a,l=i.sensitive,c=l===void 0?!1:l,d=[].concat(n);return d.reduce(function(p,h){if(!h&&h!=="")return null;if(p)return p;var m=Pq(h,{end:o,strict:s,sensitive:c}),y=m.regexp,w=m.keys,g=y.exec(t);if(!g)return null;var A=g[0],x=g.slice(1),T=t===A;return o&&!T?null:{path:h,url:h==="/"&&A===""?"/":A,isExact:T,params:w.reduce(function(E,z,M){return E[z.name]=x[M],E},{})}},null)}function Lq(t){return ze.Children.count(t)===0}var Ys=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.render=function(){var r=this;return ze.createElement(ml.Consumer,null,function(o){o||nu(!1);var a=r.props.location||o.location,s=r.props.computedMatch?r.props.computedMatch:r.props.path?eS(a.pathname,r.props):o.match,l=Me({},o,{location:a,match:s}),c=r.props,d=c.children,p=c.component,h=c.render;return Array.isArray(d)&&Lq(d)&&(d=null),ze.createElement(ml.Provider,{value:l},l.match?d?typeof d=="function"?d(l):d:p?ze.createElement(p,l):h?h(l):null:typeof d=="function"?d(l):null)})},e}(ze.Component);function tS(t){return t.charAt(0)==="/"?t:"/"+t}function Oq(t,e){return t?Me({},e,{pathname:tS(t)+e.pathname}):e}function Mq(t,e){if(!t)return e;var i=tS(t);return e.pathname.indexOf(i)!==0?e:Me({},e,{pathname:e.pathname.substr(i.length)})}function a3(t){return typeof t=="string"?t:hr(t)}function S1(t){return function(){nu(!1)}}function s3(){}ze.Component;var Dq=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.render=function(){var r=this;return ze.createElement(ml.Consumer,null,function(o){o||nu(!1);var a=r.props.location||o.location,s,l;return ze.Children.forEach(r.props.children,function(c){if(l==null&&ze.isValidElement(c)){s=c;var d=c.props.path||c.props.from;l=d?eS(a.pathname,Me({},c.props,{path:d})):o.match}}),l?ze.cloneElement(s,{location:a,computedMatch:l}):null})},e}(ze.Component),iS=ze.useContext;function nS(){return iS(g8)}function wf(){return iS(ml).location}function rS(){var t=iS(ml).match;return t?t.params:{}}ze.Component;var Bq=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.history=aq(n.props),n}var i=e.prototype;return i.render=function(){return ze.createElement(yw,{history:this.history,children:this.props.children})},e}(ze.Component),x_=function(e,i){return typeof e=="function"?e(i):e},k_=function(e,i){return typeof e=="string"?Gr(e,null,null,i):e},oS=function(e){return e},Md=ze.forwardRef;typeof Md=="undefined"&&(Md=oS);function Fq(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var Nq=Md(function(t,e){var i=t.innerRef,n=t.navigate,r=t.onClick,o=ru(t,["innerRef","navigate","onClick"]),a=o.target,s=Me({},o,{onClick:function(c){try{r&&r(c)}catch(d){throw c.preventDefault(),d}!c.defaultPrevented&&c.button===0&&(!a||a==="_self")&&!Fq(c)&&(c.preventDefault(),n())}});return oS!==Md?s.ref=e||i:s.ref=i,ze.createElement("a",s)}),pn=Md(function(t,e){var i=t.component,n=i===void 0?Nq:i,r=t.replace,o=t.to,a=t.innerRef,s=ru(t,["component","replace","to","innerRef"]);return ze.createElement(ml.Consumer,null,function(l){l||nu(!1);var c=l.history,d=k_(x_(o,l.location),l.location),p=d?c.createHref(d):"",h=Me({},s,{href:p,navigate:function(){var y=x_(o,l.location),w=hr(l.location)===hr(k_(y)),g=r||w?c.replace:c.push;g(y)}});return oS!==Md?h.ref=e||a:h.innerRef=a,ze.createElement(n,h)})}),b8=function(e){return e},Hv=ze.forwardRef;typeof Hv=="undefined"&&(Hv=b8);function jq(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.filter(function(n){return n}).join(" ")}Hv(function(t,e){var i=t["aria-current"],n=i===void 0?"page":i,r=t.activeClassName,o=r===void 0?"active":r,a=t.activeStyle,s=t.className,l=t.exact,c=t.isActive,d=t.location,p=t.sensitive,h=t.strict,m=t.style,y=t.to,w=t.innerRef,g=ru(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return ze.createElement(ml.Consumer,null,function(A){A||nu(!1);var x=d||A.location,T=k_(x_(y,x),x),E=T.pathname,z=E&&E.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),M=z?eS(x.pathname,{path:z,exact:l,sensitive:p,strict:h}):null,B=!!(c?c(M,x):M),L=typeof s=="function"?s(B):s,F=typeof m=="function"?m(B):m;B&&(L=jq(L,o),F=Me({},F,a));var H=Me({"aria-current":B&&n||null,className:L,style:F,to:T},g);return b8!==Hv?H.ref=e||w:H.innerRef=w,ze.createElement(pn,H)})});function v8(t){var e=Object.create(null);return function(i){return e[i]===void 0&&(e[i]=t(i)),e[i]}}var Uq=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Gq=v8(function(t){return Uq.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function Hq(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Yq(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var y8=function(){function t(i){var n=this;this._insertTag=function(r){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(r,o),n.tags.push(r)},this.isSpeedy=i.speedy===void 0?!0:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Yq(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Hq(r);try{o.insertRule(n,o.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Sn="-ms-",Yv="-moz-",Nt="-webkit-",w8="comm",aS="rule",sS="decl",Wq="@import",A8="@keyframes",Vq=Math.abs,ww=String.fromCharCode,$q=Object.assign;function Qq(t,e){return(((e<<2^gr(t,0))<<2^gr(t,1))<<2^gr(t,2))<<2^gr(t,3)}function x8(t){return t.trim()}function qq(t,e){return(t=e.exec(t))?t[0]:t}function Ht(t,e,i){return t.replace(e,i)}function __(t,e){return t.indexOf(e)}function gr(t,e){return t.charCodeAt(e)|0}function qh(t,e,i){return t.slice(e,i)}function Ko(t){return t.length}function lS(t){return t.length}function d0(t,e){return e.push(t),t}function Kq(t,e){return t.map(e).join("")}var Aw=1,Dd=1,k8=0,_r=0,Li=0,Af="";function xw(t,e,i,n,r,o,a){return{value:t,root:e,parent:i,type:n,props:r,children:o,line:Aw,column:Dd,length:a,return:""}}function Hp(t,e){return $q(xw("",null,null,"",null,null,0),t,{length:-t.length},e)}function Xq(){return Li}function Jq(){return Li=_r>0?gr(Af,--_r):0,Dd--,Li===10&&(Dd=1,Aw--),Li}function Vr(){return Li=_r<k8?gr(Af,_r++):0,Dd++,Li===10&&(Dd=1,Aw++),Li}function la(){return gr(Af,_r)}function J0(){return _r}function Jm(t,e){return qh(Af,t,e)}function Kh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _8(t){return Aw=Dd=1,k8=Ko(Af=t),_r=0,[]}function T8(t){return Af="",t}function Z0(t){return x8(Jm(_r-1,T_(t===91?t+2:t===40?t+1:t)))}function Zq(t){for(;(Li=la())&&Li<33;)Vr();return Kh(t)>2||Kh(Li)>3?"":" "}function eK(t,e){for(;--e&&Vr()&&!(Li<48||Li>102||Li>57&&Li<65||Li>70&&Li<97););return Jm(t,J0()+(e<6&&la()==32&&Vr()==32))}function T_(t){for(;Vr();)switch(Li){case t:return _r;case 34:case 39:t!==34&&t!==39&&T_(Li);break;case 40:t===41&&T_(t);break;case 92:Vr();break}return _r}function tK(t,e){for(;Vr()&&t+Li!==47+10;)if(t+Li===42+42&&la()===47)break;return"/*"+Jm(e,_r-1)+"*"+ww(t===47?t:Vr())}function iK(t){for(;!Kh(la());)Vr();return Jm(t,_r)}function nK(t){return T8(ev("",null,null,null,[""],t=_8(t),0,[0],t))}function ev(t,e,i,n,r,o,a,s,l){for(var c=0,d=0,p=a,h=0,m=0,y=0,w=1,g=1,A=1,x=0,T="",E=r,z=o,M=n,B=T;g;)switch(y=x,x=Vr()){case 40:if(y!=108&&B.charCodeAt(p-1)==58){__(B+=Ht(Z0(x),"&","&\f"),"&\f")!=-1&&(A=-1);break}case 34:case 39:case 91:B+=Z0(x);break;case 9:case 10:case 13:case 32:B+=Zq(y);break;case 92:B+=eK(J0()-1,7);continue;case 47:switch(la()){case 42:case 47:d0(rK(tK(Vr(),J0()),e,i),l);break;default:B+="/"}break;case 123*w:s[c++]=Ko(B)*A;case 125*w:case 59:case 0:switch(x){case 0:case 125:g=0;case 59+d:m>0&&Ko(B)-p&&d0(m>32?c3(B+";",n,i,p-1):c3(Ht(B," ","")+";",n,i,p-2),l);break;case 59:B+=";";default:if(d0(M=l3(B,e,i,c,d,r,s,T,E=[],z=[],p),o),x===123)if(d===0)ev(B,e,M,M,E,o,p,s,z);else switch(h){case 100:case 109:case 115:ev(t,M,M,n&&d0(l3(t,M,M,0,0,r,s,T,r,E=[],p),z),r,z,p,s,n?E:z);break;default:ev(B,M,M,M,[""],z,0,s,z)}}c=d=m=0,w=A=1,T=B="",p=a;break;case 58:p=1+Ko(B),m=y;default:if(w<1){if(x==123)--w;else if(x==125&&w++==0&&Jq()==125)continue}switch(B+=ww(x),x*w){case 38:A=d>0?1:(B+="\f",-1);break;case 44:s[c++]=(Ko(B)-1)*A,A=1;break;case 64:la()===45&&(B+=Z0(Vr())),h=la(),d=p=Ko(T=B+=iK(J0())),x++;break;case 45:y===45&&Ko(B)==2&&(w=0)}}return o}function l3(t,e,i,n,r,o,a,s,l,c,d){for(var p=r-1,h=r===0?o:[""],m=lS(h),y=0,w=0,g=0;y<n;++y)for(var A=0,x=qh(t,p+1,p=Vq(w=a[y])),T=t;A<m;++A)(T=x8(w>0?h[A]+" "+x:Ht(x,/&\f/g,h[A])))&&(l[g++]=T);return xw(t,e,i,r===0?aS:s,l,c,d)}function rK(t,e,i){return xw(t,e,i,w8,ww(Xq()),qh(t,2,-2),0)}function c3(t,e,i,n){return xw(t,e,i,sS,qh(t,0,n),qh(t,n+1,-1),n)}function S8(t,e){switch(Qq(t,e)){case 5103:return Nt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Nt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Nt+t+Yv+t+Sn+t+t;case 6828:case 4268:return Nt+t+Sn+t+t;case 6165:return Nt+t+Sn+"flex-"+t+t;case 5187:return Nt+t+Ht(t,/(\w+).+(:[^]+)/,Nt+"box-$1$2"+Sn+"flex-$1$2")+t;case 5443:return Nt+t+Sn+"flex-item-"+Ht(t,/flex-|-self/,"")+t;case 4675:return Nt+t+Sn+"flex-line-pack"+Ht(t,/align-content|flex-|-self/,"")+t;case 5548:return Nt+t+Sn+Ht(t,"shrink","negative")+t;case 5292:return Nt+t+Sn+Ht(t,"basis","preferred-size")+t;case 6060:return Nt+"box-"+Ht(t,"-grow","")+Nt+t+Sn+Ht(t,"grow","positive")+t;case 4554:return Nt+Ht(t,/([^-])(transform)/g,"$1"+Nt+"$2")+t;case 6187:return Ht(Ht(Ht(t,/(zoom-|grab)/,Nt+"$1"),/(image-set)/,Nt+"$1"),t,"")+t;case 5495:case 3959:return Ht(t,/(image-set\([^]*)/,Nt+"$1$`$1");case 4968:return Ht(Ht(t,/(.+:)(flex-)?(.*)/,Nt+"box-pack:$3"+Sn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Nt+t+t;case 4095:case 3583:case 4068:case 2532:return Ht(t,/(.+)-inline(.+)/,Nt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ko(t)-1-e>6)switch(gr(t,e+1)){case 109:if(gr(t,e+4)!==45)break;case 102:return Ht(t,/(.+:)(.+)-([^]+)/,"$1"+Nt+"$2-$3$1"+Yv+(gr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~__(t,"stretch")?S8(Ht(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(gr(t,e+1)!==115)break;case 6444:switch(gr(t,Ko(t)-3-(~__(t,"!important")&&10))){case 107:return Ht(t,":",":"+Nt)+t;case 101:return Ht(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Nt+(gr(t,14)===45?"inline-":"")+"box$3$1"+Nt+"$2$3$1"+Sn+"$2box$3")+t}break;case 5936:switch(gr(t,e+11)){case 114:return Nt+t+Sn+Ht(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Nt+t+Sn+Ht(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Nt+t+Sn+Ht(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Nt+t+Sn+t+t}return t}function wd(t,e){for(var i="",n=lS(t),r=0;r<n;r++)i+=e(t[r],r,t,e)||"";return i}function oK(t,e,i,n){switch(t.type){case Wq:case sS:return t.return=t.return||t.value;case w8:return"";case A8:return t.return=t.value+"{"+wd(t.children,n)+"}";case aS:t.value=t.props.join(",")}return Ko(i=wd(t.children,n))?t.return=t.value+"{"+i+"}":""}function aK(t){var e=lS(t);return function(i,n,r,o){for(var a="",s=0;s<e;s++)a+=t[s](i,n,r,o)||"";return a}}function sK(t){return function(e){e.root||(e=e.return)&&t(e)}}function lK(t,e,i,n){if(t.length>-1&&!t.return)switch(t.type){case sS:t.return=S8(t.value,t.length);break;case A8:return wd([Hp(t,{value:Ht(t.value,"@","@"+Nt)})],n);case aS:if(t.length)return Kq(t.props,function(r){switch(qq(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return wd([Hp(t,{props:[Ht(r,/:(read-\w+)/,":"+Yv+"$1")]})],n);case"::placeholder":return wd([Hp(t,{props:[Ht(r,/:(plac\w+)/,":"+Nt+"input-$1")]}),Hp(t,{props:[Ht(r,/:(plac\w+)/,":"+Yv+"$1")]}),Hp(t,{props:[Ht(r,/:(plac\w+)/,Sn+"input-$1")]})],n)}return""})}}var cK=function(e,i,n){for(var r=0,o=0;r=o,o=la(),r===38&&o===12&&(i[n]=1),!Kh(o);)Vr();return Jm(e,_r)},uK=function(e,i){var n=-1,r=44;do switch(Kh(r)){case 0:r===38&&la()===12&&(i[n]=1),e[n]+=cK(_r-1,i,n);break;case 2:e[n]+=Z0(r);break;case 4:if(r===44){e[++n]=la()===58?"&\f":"",i[n]=e[n].length;break}default:e[n]+=ww(r)}while(r=Vr());return e},dK=function(e,i){return T8(uK(_8(e),i))},u3=new WeakMap,fK=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var i=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&i.charCodeAt(0)!==58&&!u3.get(n))&&!r){u3.set(e,!0);for(var o=[],a=dK(i,o),s=n.props,l=0,c=0;l<a.length;l++)for(var d=0;d<s.length;d++,c++)e.props[c]=o[l]?a[l].replace(/&\f/g,s[d]):s[d]+" "+a[l]}}},pK=function(e){if(e.type==="decl"){var i=e.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(e.return="",e.value="")}},hK=[lK],mK=function(e){var i=e.key;if(i==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(w){var g=w.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var r=e.stylisPlugins||hK,o={},a,s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(w){for(var g=w.getAttribute("data-emotion").split(" "),A=1;A<g.length;A++)o[g[A]]=!0;s.push(w)});var l,c=[fK,pK];{var d,p=[oK,sK(function(w){d.insert(w)})],h=aK(c.concat(r,p)),m=function(g){return wd(nK(g),h)};l=function(g,A,x,T){d=x,m(g?g+"{"+A.styles+"}":A.styles),T&&(y.inserted[A.name]=!0)}}var y={key:i,sheet:new y8({key:i,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return y.sheet.hydrate(s),y},gK=!0;function bK(t,e,i){var n="";return i.split(" ").forEach(function(r){t[r]!==void 0?e.push(t[r]+";"):n+=r+" "}),n}var C8=function(e,i,n){var r=e.key+"-"+i.name;if((n===!1||gK===!1)&&e.registered[r]===void 0&&(e.registered[r]=i.styles),e.inserted[i.name]===void 0){var o=i;do e.insert(i===o?"."+r:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function vK(t){for(var e=0,i,n=0,r=t.length;r>=4;++n,r-=4)i=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,e=(i&65535)*1540483477+((i>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var yK={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},wK=/[A-Z]|^ms/g,AK=/_EMO_([^_]+?)_([^]*?)_EMO_/g,E8=function(e){return e.charCodeAt(1)===45},d3=function(e){return e!=null&&typeof e!="boolean"},C1=v8(function(t){return E8(t)?t:t.replace(wK,"-$&").toLowerCase()}),f3=function(e,i){switch(e){case"animation":case"animationName":if(typeof i=="string")return i.replace(AK,function(n,r,o){return Xo={name:r,styles:o,next:Xo},r})}return yK[e]!==1&&!E8(e)&&typeof i=="number"&&i!==0?i+"px":i};function Xh(t,e,i){if(i==null)return"";if(i.__emotion_styles!==void 0)return i;switch(typeof i){case"boolean":return"";case"object":{if(i.anim===1)return Xo={name:i.name,styles:i.styles,next:Xo},i.name;if(i.styles!==void 0){var n=i.next;if(n!==void 0)for(;n!==void 0;)Xo={name:n.name,styles:n.styles,next:Xo},n=n.next;var r=i.styles+";";return r}return xK(t,e,i)}case"function":{if(t!==void 0){var o=Xo,a=i(t);return Xo=o,Xh(t,e,a)}break}}if(e==null)return i;var s=e[i];return s!==void 0?s:i}function xK(t,e,i){var n="";if(Array.isArray(i))for(var r=0;r<i.length;r++)n+=Xh(t,e,i[r])+";";else for(var o in i){var a=i[o];if(typeof a!="object")e!=null&&e[a]!==void 0?n+=o+"{"+e[a]+"}":d3(a)&&(n+=C1(o)+":"+f3(o,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var s=0;s<a.length;s++)d3(a[s])&&(n+=C1(o)+":"+f3(o,a[s])+";");else{var l=Xh(t,e,a);switch(o){case"animation":case"animationName":{n+=C1(o)+":"+l+";";break}default:n+=o+"{"+l+"}"}}}return n}var p3=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Xo,cS=function(e,i,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,o="";Xo=void 0;var a=e[0];a==null||a.raw===void 0?(r=!1,o+=Xh(n,i,a)):o+=a[0];for(var s=1;s<e.length;s++)o+=Xh(n,i,e[s]),r&&(o+=a[s]);p3.lastIndex=0;for(var l="",c;(c=p3.exec(o))!==null;)l+="-"+c[1];var d=vK(o)+l;return{name:d,styles:o,next:Xo}},z8=$.exports.createContext(typeof HTMLElement!="undefined"?mK({key:"css"}):null);z8.Provider;var I8=function(e){return $.exports.forwardRef(function(i,n){var r=$.exports.useContext(z8);return e(i,r,n)})},R8=$.exports.createContext({}),kK=I8(function(t,e){var i=t.styles,n=cS([i],void 0,$.exports.useContext(R8)),r=$.exports.useRef();return $.exports.useLayoutEffect(function(){var o=e.key+"-global",a=new y8({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),s=!1,l=document.querySelector('style[data-emotion="'+o+" "+n.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),l!==null&&(s=!0,l.setAttribute("data-emotion",o),a.hydrate([l])),r.current=[a,s],function(){a.flush()}},[e]),$.exports.useLayoutEffect(function(){var o=r.current,a=o[0],s=o[1];if(s){o[1]=!1;return}if(n.next!==void 0&&C8(e,n.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}e.insert("",n,a,!1)},[e,n.name]),null});function P8(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return cS(e)}var _K=function(){var e=P8.apply(void 0,arguments),i="animation-"+e.name;return{name:i,styles:"@keyframes "+i+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},TK=Gq,SK=function(e){return e!=="theme"},h3=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?TK:SK},m3=function(e,i,n){var r;if(i){var o=i.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(a){return e.__emotion_forwardProp(a)&&o(a)}:o}return typeof r!="function"&&n&&(r=e.__emotion_forwardProp),r},CK=function(){return null},EK=function t(e,i){var n=e.__emotion_real===e,r=n&&e.__emotion_base||e,o,a;i!==void 0&&(o=i.label,a=i.target);var s=m3(e,i,n),l=s||h3(r),c=!l("as");return function(){var d=arguments,p=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&p.push("label:"+o+";"),d[0]==null||d[0].raw===void 0)p.push.apply(p,d);else{p.push(d[0][0]);for(var h=d.length,m=1;m<h;m++)p.push(d[m],d[0][m])}var y=I8(function(w,g,A){var x=c&&w.as||r,T="",E=[],z=w;if(w.theme==null){z={};for(var M in w)z[M]=w[M];z.theme=$.exports.useContext(R8)}typeof w.className=="string"?T=bK(g.registered,E,w.className):w.className!=null&&(T=w.className+" ");var B=cS(p.concat(E),g.registered,z);C8(g,B,typeof x=="string"),T+=g.key+"-"+B.name,a!==void 0&&(T+=" "+a);var L=c&&s===void 0?h3(x):l,F={};for(var H in w)c&&H==="as"||L(H)&&(F[H]=w[H]);F.className=T,F.ref=A;var X=$.exports.createElement(x,F),de=$.exports.createElement(CK,null);return $.exports.createElement($.exports.Fragment,null,de,X)});return y.displayName=o!==void 0?o:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=r,y.__emotion_styles=p,y.__emotion_forwardProp=s,Object.defineProperty(y,"toString",{value:function(){return"."+a}}),y.withComponent=function(w,g){return t(w,Me({},i,g,{shouldForwardProp:m3(y,g,!0)})).apply(void 0,p)},y}},zK=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Fe=EK.bind();zK.forEach(function(t){Fe[t]=Fe(t)});function xf(t){$.exports.useEffect(()=>{if(t==null||t==="")return;const e=document.title;return document.title=t,()=>{document.title=e}},[t])}const IK={number_approved:"{number} Genehmigt",number_rejected:"{number} Abgelehnt",number_non_voting:"{number} Nicht-Abstimmen",meeting_votes_caption:"Klicken Sie auf jede Zeile, um zu sehen, wie die Ratsmitglieder abgestimmt haben",legislation:"Gesetzgebung",council_decision:"Beschluss des Rates",votes:"Stimmen",meeting:"Treffen",persons_vote:"{name}s Stimee",en:"English",es:"Espa\xF1ol",de:"Deutsche",keywords:"Schl\xFCsselw\xF6rter",select_language:"Sprache ausw\xE4hlen",same:"gleich",committee:"Komitee",chair:"Vorsitzende",tenure:"Amtszeit",bills_sponsored:"Rechnung(en) gesponsert",see_documents:"Siehe Dokumente",jump_to_sentence_video:"Zum Satz im Video springen",jump_to_sentence_transcript:"Zum Satz im Transkript springen",search_transcript:"Transkript suchen",search_transcript_placeholder:"Transkript suchen...",number_of_results:"{number} Ergebnis(e)",clear:"L\xF6schen",save:"Speichern",about:"\xDCber",search:"Suche",advanced_options:"Erweiterte Optionen",copyright_notice:"Urheberrechte \xA9 Einzelne mitwirkende, {date_range}",content_license_prefix:"Inhalt verf\xFCgbar unter a ",content_license_link:"https://creativecommons.org/licenses/by/4.0/deed.en",content_license_link_text:"Creative Commons Namensnennung 4.0 International License",tools_license_prefix:"Council Data Project werkzeuge sind lizenziert unter ",styled_using_prefix:"Gestylt mit ",artwork_provided_by_prefix:"Kunstwerk zur Verf\xFCgung gestellt von ",passed:"Bestanden",failed:"Fehlgeschlagen",approve:"Genehmigen",reject:"Ablehnen",abstain_approve:"Verzichten (Genehmigt)",abstain_non_voting:"Verzichten (Nicht-Abstimmen)",abstain_reject:"Verzichten (Abgelehnt)",absent_approve:"Abwesend (Genehmigt)",absent_non_voting:"Abwesend (Nicht-Abstimmen)",absent_reject:"Abwesend (Abgelehnt)",rejected:"Abgelehnt",adopted:"Angenommen",in_progress:"In Bearbeitung",example_prefix:"Beispiel:",search_topic_placeholder:"Thema suchen...",search_municipality_name:"{municipality_name} suchen",events:"Veranstaltungen",links:"Links",people:"Menschen",council_data_project:"Council Data Project",transcript:"Transkript",agenda:"Agenda",session:"Sitzung",date:"Datum",newest_first:"Neusten zuerst",oldest_first:"\xC4ltesten zuerst",most_relevant_first:"Das Wichtigste zuerst",closest_match_first:"N\xE4chste \xDCbereinstimmung zuerst",most_relevant:"Relevanteste",search_results:"Suchergebnisse",event_search_results:"Ergebnisse der Suche nach Ereignissen",no_results_found:"Keine Ergebnisse",show_more:"Zeig mehr...",legislation_sponsored:"Gesetzgebung gesponsert",menu:"Speisekarte",persons_voting_record:"{person_name}s Abstimmungsprotokoll",contact:"Kontakt",terms:"Begriffe",committee_membership:"Ausschussmitgliedschaft",former_committee_membership:"Ehemalige Ausschussmitgliedschaft",committees:"Aussch\xFCsse",visit_persons_website:"Besuchen Sie {person_name}s Website",alternate:"Wechseln",councilmember:"Stadtrat/in",member:"Mitglied",council_president:"Pr\xE4sident des Rates",vice_chair:"Stellvertretender Vorsitzender",supervisor:"Supervisor/in",active:"aktiv",inactive:"inaktiv",latest_vote:"Letzte Abstimmung",history:"Geschichte",minutes:"Protokoll",go_to_matter_details:"Gehen Sie zu den vollst\xE4ndigen Rechtsvorschriften",disclaimer_start:"Um Transkripte von Veranstaltungen kosteng\xFCnstig bereitzustellen, verwendet Council Data Project",disclaimer_end:"f\xFCr die Transkription. Ereignisprotokolle k\xF6nnen Fehler enthalten.",disclaimer_footer_start:"In vielen F\xE4llen verwendet Council Data Project ein fein abgestimmtes",disclaimer_footer_end:"Modell zur Generierung von Ereignisprotokollen. Wir verstehen, dass Transkripte Fehler enthalten k\xF6nnen. Wenn Sie ein Experte f\xFCr maschinelles Lernen sind und dabei helfen m\xF6chten, unser System zum Generieren von Transkripten zu verbessern, kontaktieren Sie uns bitte auf GitHub."},RK={number_approved:"{number} Approved",number_rejected:"{number} Rejected",number_non_voting:"{number} Non-Voting",meeting_votes_caption:"Click each row to see how council members voted",legislation:"Legislation",council_decision:"Council Decision",votes:"Votes",meeting:"Meeting",persons_vote:"{name}'s Vote",en:"English",es:"Espa\xF1ol",de:"Deutsche",keywords:"Keywords",select_language:"Select Language",same:"same",committee:"Committee",chair:"Chair",tenure:"Tenure",bills_sponsored:"bill(s) sponsored",see_documents:"See Documents",jump_to_sentence_video:"Jump to sentence in video",jump_to_sentence_transcript:"Jump to sentence in transcript",search_transcript:"Search transcript",search_transcript_placeholder:"Search transcript...",number_of_results:"{number} result(s)",clear:"Clear",save:"Save",about:"About",search:"Search",advanced_options:"Advanced Options",copyright_notice:"Copyright \xA9 Individual contributors, {date_range}.",content_license_prefix:"Content available under a ",content_license_link:"https://creativecommons.org/licenses/by/4.0/",content_license_link_text:"Creative Commons Attribution 4.0 International License",tools_license_prefix:"Council Data Project tools are licensed under ",styled_using_prefix:"Styled using ",artwork_provided_by_prefix:"Artwork provided by ",passed:"Passed",failed:"Failed",approve:"Approve",reject:"Reject",abstain_approve:"Abstain (Approve)",abstain_non_voting:"Abstain (Non-Voting)",abstain_reject:"Abstain (Reject)",absent_approve:"Absent (Approve)",absent_non_voting:"Absent (Non-Voting)",absent_reject:"Absent (Reject)",rejected:"Rejected",adopted:"Adopted",in_progress:"In Progress",example_prefix:"Example: ",search_topic_placeholder:"Search for a topic...",search_municipality_name:"Search {municipality_name}",events:"Events",links:"Links",people:"People",council_data_project:"Council Data Project",transcript:"Transcript",agenda:"Agenda",session:"Session",date:"Date",newest_first:"Newest First",oldest_first:"Oldest First",most_relevant_first:"Most relevant first",closest_match_first:"Closest match first",most_relevant:"Most relevant",search_results:"Search Results",event_search_results:"Event search results",no_results_found:"No results found",show_more:"Show more...",legislation_sponsored:"Legislation Sponsored",menu:"Menu",persons_voting_record:"{person_name}'s Voting Record",contact:"Contact",terms:"Terms",committee_membership:"Committee Membership",former_committee_membership:"Former Committee Membership",committees:"Committees",visit_persons_website:"Visit {person_name}'s website",alternate:"Alternate",councilmember:"Councilmember",member:"Member",council_president:"Council President",vice_chair:"Vice Chair",supervisor:"Supervisor",active:"active",inactive:"inactive",latest_vote:"Latest Vote",history:"History",minutes:"Minutes",go_to_matter_details:"Go to Full Legislation Details",disclaimer_start:"To provide event transcripts at low-cost, Council Data Project uses",disclaimer_end:"for transcription. Event transcripts may include errors.",disclaimer_footer_start:"In many cases, Council Data Project utilizes a fine-tuned",disclaimer_footer_end:"model for generation of event transcripts. We understand that transcripts may include errors. If you are a machine learning expert and wish to help improve our system for generating transcripts, please reach out to us on GitHub."},PK={number_approved:"{number} Aprobado",number_rejected:"{number} Rechazado",number_non_voting:"{number} sin derecho a voto",meeting_votes_caption:"Haga clic en cada fila para ver c\xF3mo votaron los miembros del consejo",legislation:"Legislaci\xF3n",council_decision:"Decisi\xF3n del Consejo",votes:"Votos",meeting:"Cita",persons_vote:"Voto de {name}",en:"English",es:"Espa\xF1ol",de:"Deutsche",keywords:"Palabras clave",select_language:"Seleccione el Idioma",same:"Mismo",committee:"Comit\xE9",chair:"presidente",tenure:"Tenencia",bills_sponsored:"factura (s) patrocinada",see_documents:"Ver Documentos",jump_to_sentence_video:"Saltar a la oraci\xF3n en el video",jump_to_sentence_transcript:"Saltar a la oraci\xF3n en la transcripci\xF3n",search_transcript:"Buscar transcripci\xF3n",search_transcript_placeholder:"Buscar transcripci\xF3n ...",number_of_results:"{number} resultado (s)",clear:"Despejar",save:"Ahorrar",about:"Acerca de",search:"Buscar",advanced_options:"Opciones Avanzadas",copyright_notice:"Derechos de autor \xA9 Contribuyentes individuales, {date_range}.",content_license_prefix:"Contenido disponible bajo un ",content_license_link:"https://creativecommons.org/licenses/by/4.0/deed.es",content_license_link_text:"Creative Commons Atribuci\xF3n 4.0 Internacional License",tools_license_prefix:"Council Data Project las herramientas tienen licencia bajo ",styled_using_prefix:"Dise\xF1ado usando ",artwork_provided_by_prefix:"Obra proporcionada por ",passed:"Pas\xF3",failed:"Fracas\xF3",approve:"Aprobar",reject:"Rechazar",abstain_approve:"Abstenerse (Aprobado)",abstain_non_voting:"Abstenerse (sin derecho a voto)",abstain_reject:"Abstenerse (Rechazado)",absent_approve:"Ausente (Aprobado)",absent_non_voting:"Ausente (sin derecho a voto)",absent_reject:"Ausente (Rechazado)",rejected:"Rechazado",adopted:"Adoptado",in_progress:"En curso",example_prefix:"Ejemplo:",search_topic_placeholder:"Buscar un tema ...",search_municipality_name:"Buscar {municipality_name}",events:"Eventos",links:"Enlaces",people:"Gente",council_data_project:"Council Data Project",transcript:"Transcripci\xF3n",agenda:"Agenda",session:"Sesi\xF3n",date:"Fecha",newest_first:"M\xE1s nuevos primero",oldest_first:"M\xE1s viejos primero",most_relevant_first:"M\xE1s relevante primero",closest_match_first:"Coincidencia m\xE1s cercana primero",most_relevant:"M\xE1s relevante",search_results:"Resultados de la B\xFAsqueda",event_search_results:"Resultados de Busqueda de Eventos",no_results_found:"No hay resultados",show_more:"Mostrar m\xE1s...",legislation_sponsored:"Legislaci\xF3n patrocinada",menu:"Men\xFA",persons_voting_record:"Registro de votos de {person_name}",contact:"Contacto",terms:"T\xE9rminos",committee_membership:"Membres\xEDa del Comit\xE9",former_committee_membership:"Membres\xEDa Anterior del Comit\xE9",committees:"Comit\xE9s",visit_persons_website:"Visite el sitio web de {person_name}",alternate:"Alterno/a",councilmember:"Concejal/a",member:"Miembro",council_president:"Presidente/a del Consejo",vice_chair:"Vicepresidente/a",supervisor:"Supervisor/a",active:"activo/a",inactive:"inactivo/a",latest_vote:"\xDAltimo Voto",history:"Historia",minutes:"Protocolo",go_to_matter_details:"Ir a los detalles completos de la legislaci\xF3n",disclaimer_start:"Para proporcionar transcripciones de eventos a bajo costo, Council Data Project utiliza",disclaimer_end:"para la transcripci\xF3n. Las transcripciones de eventos pueden incluir errores.",disclaimer_footer_start:"En muchos casos, Council Data Project utiliza un",disclaimer_footer_end:"modelo perfeccionado para la generaci\xF3n de transcripciones de eventos. Entendemos que las transcripciones pueden incluir errores. Si es un experto en aprendizaje autom\xE1tico y desea ayudar a mejorar nuestro sistema para generar transcripciones, comun\xEDquese con nosotros en GitHub."};var L8={},uS={},kf={};Object.defineProperty(kf,"__esModule",{value:!0});kf.getInterfaceLanguage=LK;kf.getBestMatchingLanguage=OK;kf.validateTranslationKeys=MK;kf.randomPseudo=DK;function LK(){var t="en-US";if(typeof navigator=="undefined")return t;var e=navigator;if(e){if(e.language)return e.language;if(!!e.languages&&!!e.languages[0])return e.languages[0];if(e.userLanguage)return e.userLanguage;if(e.browserLanguage)return e.browserLanguage}return t}function OK(t,e){if(e[t])return t;var i=t.indexOf("-"),n=i>=0?t.substring(0,i):t;return e[n]?n:Object.keys(e)[0]}function MK(t){var e=["_interfaceLanguage","_language","_defaultLanguage","_defaultLanguageFirstLevelKeys","_props"];t.forEach(function(i){if(e.indexOf(i)!==-1)throw new Error(i+" cannot be used as a key. It is a reserved word.")})}function DK(t){for(var e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<t;n+=1)e+=i.charAt(Math.floor(Math.random()*i.length));return e}Object.defineProperty(uS,"__esModule",{value:!0});var BK=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FK=function(){function t(e,i){var n=[],r=!0,o=!1,a=void 0;try{for(var s=e[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(n.push(l.value),!(i&&n.length===i));r=!0);}catch(c){o=!0,a=c}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g3=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},NK=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),jK=kf,f0=UK(jK);function UK(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function GK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var E1=/(\{[\d|\w]+\})/,z1=/(\$ref\{[\w|.]+\})/,HK=function(){function t(e,i){GK(this,t),typeof i=="function"&&(i={customLanguageInterface:i}),this._opts=g3({},{customLanguageInterface:f0.getInterfaceLanguage,pseudo:!1,pseudoMultipleLanguages:!1,logsEnabled:!0},i),this._interfaceLanguage=this._opts.customLanguageInterface(),this._language=this._interfaceLanguage,this.setContent(e)}return NK(t,[{key:"setContent",value:function(i){var n=this,r=Object.keys(i),o=FK(r,1),a=o[0];this._defaultLanguage=a,this._defaultLanguageFirstLevelKeys=[],this._props=i,f0.validateTranslationKeys(Object.keys(i[this._defaultLanguage])),Object.keys(this._props[this._defaultLanguage]).forEach(function(s){typeof n._props[n._defaultLanguage][s]=="string"&&n._defaultLanguageFirstLevelKeys.push(s)}),this.setLanguage(this._interfaceLanguage),this._opts.pseudo&&this._pseudoAllValues(this._props)}},{key:"_pseudoAllValues",value:function(i){var n=this;Object.keys(i).forEach(function(r){if(BK(i[r])==="object")n._pseudoAllValues(i[r]);else if(typeof i[r]=="string"){if(i[r].indexOf("[")===0&&i[r].lastIndexOf("]")===i[r].length-1)return;for(var o=i[r].split(" "),a=0;a<o.length;a+=1)if(!o[a].match(E1)){if(!o[a].match(z1)){var s=o[a].length;n._opts.pseudoMultipleLanguages&&(s=parseInt(s*1.4,10)),o[a]=f0.randomPseudo(s)}}i[r]="["+o.join(" ")+"]"}})}},{key:"setLanguage",value:function(i){var n=this,r=f0.getBestMatchingLanguage(i,this._props),o=Object.keys(this._props)[0];if(this._language=r,this._props[r]){for(var a=0;a<this._defaultLanguageFirstLevelKeys.length;a+=1)delete this[this._defaultLanguageFirstLevelKeys[a]];var s=g3({},this._props[this._language]);Object.keys(s).forEach(function(l){n[l]=s[l]}),o!==this._language&&(s=this._props[o],this._fallbackValues(s,this))}}},{key:"_fallbackValues",value:function(i,n){var r=this;Object.keys(i).forEach(function(o){Object.prototype.hasOwnProperty.call(i,o)&&!n[o]&&n[o]!==""?(n[o]=i[o],r._opts.logsEnabled&&console.log("\u{1F6A7} \u{1F477} key '"+o+"' not found in localizedStrings for language "+r._language+" \u{1F6A7}")):typeof n[o]!="string"&&r._fallbackValues(i[o],n[o])})}},{key:"getLanguage",value:function(){return this._language}},{key:"getInterfaceLanguage",value:function(){return this._interfaceLanguage}},{key:"getAvailableLanguages",value:function(){var i=this;return this._availableLanguages||(this._availableLanguages=[],Object.keys(this._props).forEach(function(n){i._availableLanguages.push(n)})),this._availableLanguages}},{key:"formatString",value:function(i){for(var n=this,r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];var s=i||"";typeof s=="string"&&(s=this.getString(i,null,!0)||s);var l=s.split(z1).filter(function(c){return!!c}).map(function(c){if(c.match(z1)){var d=c.slice(5,-1),p=n.getString(d);return p||(n._opts.logsEnabled&&console.log("No Localization ref found for '"+c+"' in string '"+i+"'"),"$ref(id:"+d+")")}return c}).join("");return l.split(E1).filter(function(c){return!!c}).map(function(c){if(c.match(E1)){var d=c.slice(1,-1),p=o[d];if(p===void 0){var h=o[0][d];if(h!==void 0)p=h;else return p}return p}return c}).join("")}},{key:"getString",value:function(i,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;try{for(var o=this._props[n||this._language],a=i.split("."),s=0;s<a.length;s+=1){if(o[a[s]]===void 0)throw Error(a[s]);o=o[a[s]]}return o}catch(l){!r&&this._opts.logsEnabled&&console.log("No localization found for key '"+i+"' and language '"+n+"', failed on "+l.message)}return null}},{key:"getContent",value:function(){return this._props}}]),t}();uS.default=HK;Object.defineProperty(L8,"__esModule",{value:!0});var YK=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},WK=$.exports,b3=M8(WK),VK=uS,O8=M8(VK);function M8(t){return t&&t.__esModule?t:{default:t}}var v3=/(\{[\d|\w]+\})/;O8.default.prototype.formatString=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var r=!1,o=(t||"").split(v3).filter(function(a){return!!a}).map(function(a,s){if(a.match(v3)){var l=a.slice(1,-1),c=i[l];if(c==null){var d=i[0][l];if(d!==void 0)c=d;else return c}return b3.default.isValidElement(c)?(r=!0,b3.default.Children.toArray(c).map(function(p){return YK({},p,{key:s.toString()})})):c}return a});return r?o:o.join("")};var $K=L8.default=O8.default;const Se=new $K({en:RK,de:IK,es:PK}),Dt={smallMobile:"320px",largeMobile:"414px",tablet:"768px",desktop:"1224px"},QK=Fe.div({boxSizing:"initial"}),qK=Fe.div({float:"left",marginTop:"12px"}),KK=Fe.button({display:"block",[`@media (min-width:${Dt.tablet})`]:{display:"none"}}),XK=Fe.div(t=>({display:t.isVisible?"block":"none",[`@media (min-width:${Dt.tablet})`]:{display:"block"}}));function I1(t,e){const i={textDecoration:"underline"};return t===e||e.length>1&&t.includes(e)?i:{}}const JK=({municipalityName:t})=>{const[e,i]=$.exports.useState(!1),n=wf().pathname;return P("header",{children:P(QK,{className:"mzp-c-navigation",children:P("div",{className:"mzp-c-navigation-l-content",children:ue("div",{className:"mzp-c-navigation-container",children:[P(KK,{className:"mzp-c-navigation-menu-button","aria-controls":"patterns.organisms.navigation.navigation",onClick:()=>i(r=>!r),children:Se.menu}),P(qK,{children:P("a",{className:"cdp-icon-black-bg-transparent-size-256",style:{maxHeight:"64px",maxWidth:"64px"},href:"https://councildataproject.org",title:Se.council_data_project,children:Se.council_data_project})}),P(XK,{isVisible:e,className:"mzp-c-navigation-items",id:"patterns.organisms.navigation.navigation",children:P("div",{className:"mzp-c-navigation-container",children:P("nav",{className:"mzp-c-menu mzp-is-basic",children:ue("ul",{className:"mzp-c-menu-category-list",children:[P("li",{className:"mzp-c-menu-category",children:P(pn,{to:"/",className:"mzp-c-menu-title",style:I1(n,"/"),children:t})}),P("li",{className:"mzp-c-menu-category",children:P(pn,{to:"/events",className:"mzp-c-menu-title",style:I1(n,"/events"),children:Se.events})}),P("li",{className:"mzp-c-menu-category",children:P(pn,{to:"/people",className:"mzp-c-menu-title",style:I1(n,"/people"),children:Se.people})})]})})})})]})})})})};function ZK(t){return ue("section",{className:"mzp-c-footer-section",children:[P("h5",{className:"mzp-c-footer-heading",children:t.footerLinksSectionName}),P("ul",{children:t.links.map(e=>P("li",{children:P("a",{href:e.url,children:e.label})},e.label))})]})}const eX=({footerLinksSections:t})=>P("footer",{className:"mzp-c-footer",children:ue("div",{className:"mzp-l-content",children:[P("nav",{className:"mzp-c-footer-primary","aria-label":"footer",children:ue("div",{className:"mzp-c-footer-sections",children:[ue("section",{className:"mzp-c-footer-section",children:[P("h5",{className:"mzp-c-footer-heading",children:Se.about}),ue("ul",{children:[P("li",{children:P("a",{href:"https://councildataproject.github.io/",children:"CouncilDataProject"})}),P("li",{children:P("a",{href:"https://github.com/CouncilDataProject",children:"GitHub"})})]})]}),t.map(e=>ZK(e))]})}),ue("nav",{className:"mzp-c-footer-secondary",children:[ue("p",{children:[Se.disclaimer_footer_start," ",P("a",{rel:"noopener noreferrer license external",target:"_blank",href:"https://cloud.google.com/speech-to-text",children:"Google Speech-to-Text"})," ",Se.disclaimer_footer_end]}),ue("div",{className:"mzp-c-footer-legal mzp-c-footer-license",children:[P("p",{children:Se.copyright_notice.replace("{date_range}","2017-2021")}),ue("p",{children:[Se.content_license_prefix,P("a",{rel:"noopener noreferrer license external",href:Se.content_license_link,target:"_blank",children:Se.content_license_link_text}),".",P("br",{}),Se.tools_license_prefix,P("a",{rel:"noopener noreferrer license external",href:"https://github.com/CouncilDataProject/cookiecutter-cdp-deployment/blob/main/LICENSE",target:"_blank",children:"MIT License"}),"."]}),ue("p",{children:[Se.styled_using_prefix,P("a",{rel:"noopener noreferrer external",href:"https://protocol.mozilla.org/",target:"_blank",children:"Mozilla Protocol"}),".",P("br",{}),Se.artwork_provided_by_prefix,P("a",{rel:"noopener noreferrer external",href:"https://undraw.co/",target:"_blank",children:"unDraw"}),"."]})]})]})]})});var $r=(t=>(t.EVENT="events",t.LEGISLATION="legislations",t))($r||{});const D8="FILTER_CLEAR",B8="FILTER_UPDATE",tX=()=>(t,e)=>{switch(e.type){case B8:return{...t,[e.payload.keyName]:e.payload.dataValue};case D8:const i={...t};return Object.keys(i).forEach(n=>i[n]=e.payload.dataValue),i;default:return t}},F8=(t,e)=>{const i=Object.values(t).filter(r=>r).length;return i?`${e} : ${i}`:e},dS=t=>Object.keys(t).filter(e=>t[e]===!0);var fS=Fe.form({marginBottom:0,"& .mzp-c-field-set":{padding:0},"& .mzp-c-choices":{paddingBottom:0}});const iX=(t,e)=>t.toLowerCase().indexOf(e.toLowerCase())!==-1,nX=Fe.label({"&::after":{boxSizing:"unset"}}),rX=({name:t,state:e,update:i,options:n,optionQuery:r,setOptionQuery:o})=>{const a=c=>{const d=c.currentTarget.name,p=c.currentTarget.checked;i(d,p)},s=c=>{const d=c.currentTarget.value;o&&o(d)},l=$.exports.useMemo(()=>{let c=[...n];if(n.length>5&&o){for(const d of n)d.disabled=!iX(d.label,r||"");c=[...n.filter(d=>!d.disabled),...n.filter(d=>d.disabled)]}return c},[n,r,o]);return ue(fS,{className:"mzp-c-form",children:[n.length>5&&o&&ue("div",{className:"mzp-c-field mzp-l-stretch",children:[P("label",{className:"mzp-c-field-label",htmlFor:"form-input-control-search-filter",children:`Search ${t} Options`}),P("input",{className:"mzp-c-field-control",type:"text",id:"form-input-control-search-filter",value:r,onChange:s})]}),P("fieldset",{className:"mzp-c-field-set",children:P("div",{className:"mzp-c-choices",children:l.map(c=>ue("div",{className:"mzp-c-choice",children:[P("input",{className:"mzp-c-choice-control",type:"checkbox",name:c.name,id:`form-checkbox-control-${c.name}`,checked:e[c.name]||!1,disabled:c.disabled,onChange:a}),P(nX,{className:"mzp-c-choice-label",htmlFor:`form-checkbox-control-${c.name}`,children:c.label})]},c.name))})})]})};function Sc(t){const{name:e,initialState:i,defaultDataValue:n,textRepFunction:r,isRequired:o,limit:a}=t,s=tX(),[l,c]=$.exports.useReducer(s,i),[d,p]=$.exports.useState(!1),h=()=>{c({type:D8,payload:{dataValue:n}})},m=(T,E)=>{c({type:B8,payload:{keyName:T,dataValue:E}})},y=()=>r(l,e),w=()=>Object.values(l).some(T=>T!==n);return{name:e,state:l,clear:h,update:m,popupIsOpen:d,setPopupIsOpen:p,getTextRep:y,isActive:w,isSameState:T=>{if(!Object.entries(T).length)return!w();const E=Object.keys(l);for(const z of E)if(l[z]&&!T.hasOwnProperty(z)||l[z]!==T[z]&&T.hasOwnProperty(z))return!1;return!0},hasRequiredError:()=>o?!w():!1,hasLimitError:()=>a!==void 0?dS(l).length>a:!1,limit:a}}const y3=["minimum wage","police budget","rent control","municipal broadband","police accountability","homelessness response","municipal broadband, digital equity","sodo stadium","35 ave bike lane","capitol hill megablock"],oX=`
  display: grid;
  column-gap: 8px;
  row-gap: 4px;
  /**One column template*/
  grid-template-columns: 1fr;
  justify-content: start;
`,aX=Fe.div`
  ${oX}
  @media (min-width: ${Dt.tablet}) {
    /**Two columns template, with the first column taking up any free space*/
    grid-template-columns: 1fr auto;
  }
`,sX=Fe.input`
  margin-bottom: 0px !important;
`,lX=Fe.p`
  padding-top: 0px !important;
  font-size: 0.775rem !important;
  @media (min-width: ${Dt.tablet}) {
    /**Make the example topic appear after the search button*/
    order: 1;
  }
`,cX=[{name:$r.EVENT,label:"Events",disabled:!1},{name:$r.LEGISLATION,label:"Legislations",disabled:!1}],uX={[$r.EVENT]:!0,[$r.LEGISLATION]:!0},dX=(t,e)=>{const i=Object.keys(t).filter(r=>t[r]);let n=e;return i.length===Object.keys(t).length?n+="(s): All":i.length>0&&(n+=`(s): ${i.map(o=>{var s;const a=cX.find(l=>l.name===o);return(s=a==null?void 0:a.label)!=null?s:""}).join(", ")}`),n},fX=y3[Math.floor(Math.random()*y3.length)],pX=()=>{const[t,e]=$.exports.useState(""),i=nS(),n=Sc({name:"Search Type",initialState:uX,defaultDataValue:!1,textRepFunction:dX,isRequired:!0}),r=a=>{a.preventDefault();const s=`?q=${t.trim().replace(/\s+/g,"+")}`;i.push({pathname:`/${$r.EVENT}/search`,search:s,state:{query:t.trim(),committees:{},dateRange:{}}})},o=a=>e(a.target.value);return P("div",{children:P("form",{className:"mzp-c-form",role:"search",onSubmit:r,children:ue(aX,{children:[P(sX,{type:"search",placeholder:Se.search_topic_placeholder,required:!0,"aria-required":!0,disabled:!n.isActive(),value:t,onChange:o}),ue(lX,{className:"mzp-c-field-info",children:[Se.example_prefix,fX]}),P("button",{className:"mzp-c-button mzp-t-product",type:"submit",disabled:!n.isActive(),children:Se.search})]})})})},hX=Fe.div({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flex:1,"& > *":{width:"100%"},[`@media (min-width:${Dt.tablet})`]:{"& > *":{width:"75%"}}}),mX=()=>{xf(Se.council_data_project);const{municipality:t}=Di();return ue(hX,{children:[P("h1",{className:"mzp-u-title-xs",children:Se.search_municipality_name.replace("{municipality_name}",t.name)}),P(pX,{})]})};var kw={},gX=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),N8="%[a-f0-9]{2}",w3=new RegExp(N8,"gi"),A3=new RegExp("("+N8+")+","gi");function S_(t,e){try{return decodeURIComponent(t.join(""))}catch{}if(t.length===1)return t;e=e||1;var i=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],S_(i),S_(n))}function bX(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(w3),i=1;i<e.length;i++)t=S_(e,i).join(""),e=t.match(w3);return t}}function vX(t){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},i=A3.exec(t);i;){try{e[i[0]]=decodeURIComponent(i[0])}catch{var n=bX(i[0]);n!==i[0]&&(e[i[0]]=n)}i=A3.exec(t)}e["%C2"]="\uFFFD";for(var r=Object.keys(e),o=0;o<r.length;o++){var a=r[o];t=t.replace(new RegExp(a,"g"),e[a])}return t}var yX=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return vX(t)}},wX=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const i=t.indexOf(e);return i===-1?[t]:[t.slice(0,i),t.slice(i+e.length)]},AX=function(t,e){for(var i={},n=Object.keys(t),r=Array.isArray(e),o=0;o<n.length;o++){var a=n[o],s=t[a];(r?e.indexOf(a)!==-1:e(a,s,t))&&(i[a]=s)}return i};(function(t){const e=gX,i=yX,n=wX,r=AX,o=x=>x==null,a=Symbol("encodeFragmentIdentifier");function s(x){switch(x.arrayFormat){case"index":return T=>(E,z)=>{const M=E.length;return z===void 0||x.skipNull&&z===null||x.skipEmptyString&&z===""?E:z===null?[...E,[d(T,x),"[",M,"]"].join("")]:[...E,[d(T,x),"[",d(M,x),"]=",d(z,x)].join("")]};case"bracket":return T=>(E,z)=>z===void 0||x.skipNull&&z===null||x.skipEmptyString&&z===""?E:z===null?[...E,[d(T,x),"[]"].join("")]:[...E,[d(T,x),"[]=",d(z,x)].join("")];case"comma":case"separator":case"bracket-separator":{const T=x.arrayFormat==="bracket-separator"?"[]=":"=";return E=>(z,M)=>M===void 0||x.skipNull&&M===null||x.skipEmptyString&&M===""?z:(M=M===null?"":M,z.length===0?[[d(E,x),T,d(M,x)].join("")]:[[z,d(M,x)].join(x.arrayFormatSeparator)])}default:return T=>(E,z)=>z===void 0||x.skipNull&&z===null||x.skipEmptyString&&z===""?E:z===null?[...E,d(T,x)]:[...E,[d(T,x),"=",d(z,x)].join("")]}}function l(x){let T;switch(x.arrayFormat){case"index":return(E,z,M)=>{if(T=/\[(\d*)\]$/.exec(E),E=E.replace(/\[\d*\]$/,""),!T){M[E]=z;return}M[E]===void 0&&(M[E]={}),M[E][T[1]]=z};case"bracket":return(E,z,M)=>{if(T=/(\[\])$/.exec(E),E=E.replace(/\[\]$/,""),!T){M[E]=z;return}if(M[E]===void 0){M[E]=[z];return}M[E]=[].concat(M[E],z)};case"comma":case"separator":return(E,z,M)=>{const B=typeof z=="string"&&z.includes(x.arrayFormatSeparator),L=typeof z=="string"&&!B&&p(z,x).includes(x.arrayFormatSeparator);z=L?p(z,x):z;const F=B||L?z.split(x.arrayFormatSeparator).map(H=>p(H,x)):z===null?z:p(z,x);M[E]=F};case"bracket-separator":return(E,z,M)=>{const B=/(\[\])$/.test(E);if(E=E.replace(/\[\]$/,""),!B){M[E]=z&&p(z,x);return}const L=z===null?[]:z.split(x.arrayFormatSeparator).map(F=>p(F,x));if(M[E]===void 0){M[E]=L;return}M[E]=[].concat(M[E],L)};default:return(E,z,M)=>{if(M[E]===void 0){M[E]=z;return}M[E]=[].concat(M[E],z)}}}function c(x){if(typeof x!="string"||x.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function d(x,T){return T.encode?T.strict?e(x):encodeURIComponent(x):x}function p(x,T){return T.decode?i(x):x}function h(x){return Array.isArray(x)?x.sort():typeof x=="object"?h(Object.keys(x)).sort((T,E)=>Number(T)-Number(E)).map(T=>x[T]):x}function m(x){const T=x.indexOf("#");return T!==-1&&(x=x.slice(0,T)),x}function y(x){let T="";const E=x.indexOf("#");return E!==-1&&(T=x.slice(E)),T}function w(x){x=m(x);const T=x.indexOf("?");return T===-1?"":x.slice(T+1)}function g(x,T){return T.parseNumbers&&!Number.isNaN(Number(x))&&typeof x=="string"&&x.trim()!==""?x=Number(x):T.parseBooleans&&x!==null&&(x.toLowerCase()==="true"||x.toLowerCase()==="false")&&(x=x.toLowerCase()==="true"),x}function A(x,T){T=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},T),c(T.arrayFormatSeparator);const E=l(T),z=Object.create(null);if(typeof x!="string"||(x=x.trim().replace(/^[?#&]/,""),!x))return z;for(const M of x.split("&")){if(M==="")continue;let[B,L]=n(T.decode?M.replace(/\+/g," "):M,"=");L=L===void 0?null:["comma","separator","bracket-separator"].includes(T.arrayFormat)?L:p(L,T),E(p(B,T),L,z)}for(const M of Object.keys(z)){const B=z[M];if(typeof B=="object"&&B!==null)for(const L of Object.keys(B))B[L]=g(B[L],T);else z[M]=g(B,T)}return T.sort===!1?z:(T.sort===!0?Object.keys(z).sort():Object.keys(z).sort(T.sort)).reduce((M,B)=>{const L=z[B];return Boolean(L)&&typeof L=="object"&&!Array.isArray(L)?M[B]=h(L):M[B]=L,M},Object.create(null))}t.extract=w,t.parse=A,t.stringify=(x,T)=>{if(!x)return"";T=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},T),c(T.arrayFormatSeparator);const E=L=>T.skipNull&&o(x[L])||T.skipEmptyString&&x[L]==="",z=s(T),M={};for(const L of Object.keys(x))E(L)||(M[L]=x[L]);const B=Object.keys(M);return T.sort!==!1&&B.sort(T.sort),B.map(L=>{const F=x[L];return F===void 0?"":F===null?d(L,T):Array.isArray(F)?F.length===0&&T.arrayFormat==="bracket-separator"?d(L,T)+"[]":F.reduce(z(L),[]).join("&"):d(L,T)+"="+d(F,T)}).filter(L=>L.length>0).join("&")},t.parseUrl=(x,T)=>{T=Object.assign({decode:!0},T);const[E,z]=n(x,"#");return Object.assign({url:E.split("?")[0]||"",query:A(w(x),T)},T&&T.parseFragmentIdentifier&&z?{fragmentIdentifier:p(z,T)}:{})},t.stringifyUrl=(x,T)=>{T=Object.assign({encode:!0,strict:!0,[a]:!0},T);const E=m(x.url).split("?")[0]||"",z=t.extract(x.url),M=t.parse(z,{sort:!1}),B=Object.assign(M,x.query);let L=t.stringify(B,T);L&&(L=`?${L}`);let F=y(x.url);return x.fragmentIdentifier&&(F=`#${T[a]?d(x.fragmentIdentifier,T):x.fragmentIdentifier}`),`${E}${L}${F}`},t.pick=(x,T,E)=>{E=Object.assign({parseFragmentIdentifier:!0,[a]:!1},E);const{url:z,query:M,fragmentIdentifier:B}=t.parseUrl(x,E);return t.stringifyUrl({url:z,query:r(M,T),fragmentIdentifier:B},E)},t.exclude=(x,T,E)=>{const z=Array.isArray(T)?M=>!T.includes(M):(M,B)=>!T(M,B);return t.pick(x,z,E)}})(kw);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xX{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,n)=>{i?this.reject(i):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,n))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kX(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_w())}function _X(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TX(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SX(){return _w().indexOf("Electron/")>=0}function CX(){const t=_w();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function EX(){return _w().indexOf("MSAppHost/")>=0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zX="FirebaseError";class Tw extends Error{constructor(e,i,n){super(i),this.code=e,this.customData=n,this.name=zX,Object.setPrototypeOf(this,Tw.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j8.prototype.create)}}class j8{constructor(e,i,n){this.service=e,this.serviceName=i,this.errors=n}create(e,...i){const n=i[0]||{},r=`${this.service}/${e}`,o=this.errors[e],a=o?IX(o,n):"Error",s=`${this.serviceName}: ${a} (${r}).`;return new Tw(r,s,n)}}function IX(t,e){return t.replace(RX,(i,n)=>{const r=e[n];return r!=null?String(r):`<${n}?>`})}const RX=/\{\$([^}]+)}/g;function Wv(t,e){if(t===e)return!0;const i=Object.keys(t),n=Object.keys(e);for(const r of i){if(!n.includes(r))return!1;const o=t[r],a=e[r];if(x3(o)&&x3(a)){if(!Wv(o,a))return!1}else if(o!==a)return!1}for(const r of n)if(!i.includes(r))return!1;return!0}function x3(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t){return t&&t._delegate?t._delegate:t}class Zm{constructor(e,i,n){this.name=e,this.instanceFactory=i,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PX{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const n=new xX;if(this.instancesDeferred.set(i,n),this.isInitialized(i)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:i});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OX(e))try{this.getOrInitializeService({instanceIdentifier:oc})}catch{}for(const[i,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(i);try{const o=this.getOrInitializeService({instanceIdentifier:r});n.resolve(o)}catch{}}}}clearInstance(e=oc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oc){return this.instances.has(e)}getOptions(e=oc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:i});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);n===s&&a.resolve(r)}return r}onInit(e,i){var n;const r=this.normalizeInstanceIdentifier(i),o=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const n=this.onInitCallbacks.get(i);if(!!n)for(const r of n)try{r(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:LX(e),options:i}),this.instances.set(e,n),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=oc){return this.component?this.component.multipleInstances?e:oc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LX(t){return t===oc?void 0:t}function OX(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MX{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new PX(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Yt||(Yt={}));const DX={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},BX=Yt.INFO,FX={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},NX=(t,e,...i)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),r=FX[e];if(r)console[r](`[${n}]  ${t.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class U8{constructor(e){this.name=e,this._logLevel=BX,this._logHandler=NX,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DX[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...e),this._logHandler(this,Yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...e),this._logHandler(this,Yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...e),this._logHandler(this,Yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...e),this._logHandler(this,Yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...e),this._logHandler(this,Yt.ERROR,...e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(UX(i)){const n=i.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(i=>i).join(" ")}}function UX(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const C_="@firebase/app",k3="0.7.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=new U8("@firebase/app"),GX="@firebase/app-compat",HX="@firebase/analytics-compat",YX="@firebase/analytics",WX="@firebase/app-check-compat",VX="@firebase/app-check",$X="@firebase/auth",QX="@firebase/auth-compat",qX="@firebase/database",KX="@firebase/database-compat",XX="@firebase/functions",JX="@firebase/functions-compat",ZX="@firebase/installations",eJ="@firebase/installations-compat",tJ="@firebase/messaging",iJ="@firebase/messaging-compat",nJ="@firebase/performance",rJ="@firebase/performance-compat",oJ="@firebase/remote-config",aJ="@firebase/remote-config-compat",sJ="@firebase/storage",lJ="@firebase/storage-compat",cJ="@firebase/firestore",uJ="@firebase/firestore-compat",dJ="firebase",fJ="9.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8="[DEFAULT]",pJ={[C_]:"fire-core",[GX]:"fire-core-compat",[YX]:"fire-analytics",[HX]:"fire-analytics-compat",[VX]:"fire-app-check",[WX]:"fire-app-check-compat",[$X]:"fire-auth",[QX]:"fire-auth-compat",[qX]:"fire-rtdb",[KX]:"fire-rtdb-compat",[XX]:"fire-fn",[JX]:"fire-fn-compat",[ZX]:"fire-iid",[eJ]:"fire-iid-compat",[tJ]:"fire-fcm",[iJ]:"fire-fcm-compat",[nJ]:"fire-perf",[rJ]:"fire-perf-compat",[oJ]:"fire-rc",[aJ]:"fire-rc-compat",[sJ]:"fire-gcs",[lJ]:"fire-gcs-compat",[cJ]:"fire-fst",[uJ]:"fire-fst-compat","fire-js":"fire-js",[dJ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Map,E_=new Map;function hJ(t,e){try{t.container.addComponent(e)}catch(i){pS.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function Sw(t){const e=t.name;if(E_.has(e))return pS.debug(`There were multiple attempts to register component ${e}.`),!1;E_.set(e,t);for(const i of Vv.values())hJ(i,t);return!0}function hS(t,e){return t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mJ={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function."},$v=new j8("app","Firebase",mJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gJ{constructor(e,i,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Zm("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $v.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8=fJ;function bJ(t,e={}){typeof e!="object"&&(e={name:e});const i=Object.assign({name:G8,automaticDataCollectionEnabled:!1},e),n=i.name;if(typeof n!="string"||!n)throw $v.create("bad-app-name",{appName:String(n)});const r=Vv.get(n);if(r){if(Wv(t,r.options)&&Wv(i,r.config))return r;throw $v.create("duplicate-app",{appName:n})}const o=new MX(n);for(const s of E_.values())o.addComponent(s);const a=new gJ(t,i,o);return Vv.set(n,a),a}function Y8(t=G8){const e=Vv.get(t);if(!e)throw $v.create("no-app",{appName:t});return e}function sl(t,e,i){var n;let r=(n=pJ[t])!==null&&n!==void 0?n:t;i&&(r+=`-${i}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${r}" with version "${e}":`];o&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pS.warn(s.join(" "));return}Sw(new Zm(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vJ(t){Sw(new Zm("platform-logger",e=>new jX(e),"PRIVATE")),sl(C_,k3,t),sl(C_,k3,"esm2017"),sl("fire-js","")}vJ("");var yJ=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Ke,mS=mS||{},ct=yJ||self;function Qv(){}function z_(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function eg(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function wJ(t){return Object.prototype.hasOwnProperty.call(t,R1)&&t[R1]||(t[R1]=++AJ)}var R1="closure_uid_"+(1e9*Math.random()>>>0),AJ=0;function xJ(t,e,i){return t.call.apply(t.bind,arguments)}function kJ(t,e,i){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function hn(t,e,i){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?hn=xJ:hn=kJ,hn.apply(null,arguments)}function p0(t,e){var i=Array.prototype.slice.call(arguments,1);return function(){var n=i.slice();return n.push.apply(n,arguments),t.apply(this,n)}}function yn(t,e){function i(){}i.prototype=e.prototype,t.Z=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.Vb=function(n,r,o){for(var a=Array(arguments.length-2),s=2;s<arguments.length;s++)a[s-2]=arguments[s];return e.prototype[r].apply(n,a)}}function Ll(){this.s=this.s,this.o=this.o}var _J=0;Ll.prototype.s=!1;Ll.prototype.na=function(){!this.s&&(this.s=!0,this.M(),_J!=0)&&wJ(this)};Ll.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const W8=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let i=0;i<t.length;i++)if(i in t&&t[i]===e)return i;return-1},V8=Array.prototype.forEach?function(t,e,i){Array.prototype.forEach.call(t,e,i)}:function(t,e,i){const n=t.length,r=typeof t=="string"?t.split(""):t;for(let o=0;o<n;o++)o in r&&e.call(i,r[o],o,t)};function TJ(t){e:{var e=gZ;const i=t.length,n=typeof t=="string"?t.split(""):t;for(let r=0;r<i;r++)if(r in n&&e.call(void 0,n[r],r,t)){e=r;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function _3(t){return Array.prototype.concat.apply([],arguments)}function gS(t){const e=t.length;if(0<e){const i=Array(e);for(let n=0;n<e;n++)i[n]=t[n];return i}return[]}function qv(t){return/^[\s\xa0]*$/.test(t)}var T3=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Wn(t,e){return t.indexOf(e)!=-1}function P1(t,e){return t<e?-1:t>e?1:0}var Vn;e:{var S3=ct.navigator;if(S3){var C3=S3.userAgent;if(C3){Vn=C3;break e}}Vn=""}function bS(t,e,i){for(const n in t)e.call(i,t[n],n,t)}function $8(t){const e={};for(const i in t)e[i]=t[i];return e}var E3="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q8(t,e){let i,n;for(let r=1;r<arguments.length;r++){n=arguments[r];for(i in n)t[i]=n[i];for(let o=0;o<E3.length;o++)i=E3[o],Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}}function vS(t){return vS[" "](t),t}vS[" "]=Qv;function SJ(t){var e=zJ;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var CJ=Wn(Vn,"Opera"),Bd=Wn(Vn,"Trident")||Wn(Vn,"MSIE"),q8=Wn(Vn,"Edge"),I_=q8||Bd,K8=Wn(Vn,"Gecko")&&!(Wn(Vn.toLowerCase(),"webkit")&&!Wn(Vn,"Edge"))&&!(Wn(Vn,"Trident")||Wn(Vn,"MSIE"))&&!Wn(Vn,"Edge"),EJ=Wn(Vn.toLowerCase(),"webkit")&&!Wn(Vn,"Edge");function X8(){var t=ct.document;return t?t.documentMode:void 0}var Kv;e:{var L1="",O1=function(){var t=Vn;if(K8)return/rv:([^\);]+)(\)|;)/.exec(t);if(q8)return/Edge\/([\d\.]+)/.exec(t);if(Bd)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(EJ)return/WebKit\/(\S+)/.exec(t);if(CJ)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(O1&&(L1=O1?O1[1]:""),Bd){var M1=X8();if(M1!=null&&M1>parseFloat(L1)){Kv=String(M1);break e}}Kv=L1}var zJ={};function IJ(){return SJ(function(){let t=0;const e=T3(String(Kv)).split("."),i=T3("9").split("."),n=Math.max(e.length,i.length);for(let a=0;t==0&&a<n;a++){var r=e[a]||"",o=i[a]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],r[0].length==0&&o[0].length==0)break;t=P1(r[1].length==0?0:parseInt(r[1],10),o[1].length==0?0:parseInt(o[1],10))||P1(r[2].length==0,o[2].length==0)||P1(r[2],o[2]),r=r[3],o=o[3]}while(t==0)}return 0<=t})}var R_;if(ct.document&&Bd){var z3=X8();R_=z3||parseInt(Kv,10)||void 0}else R_=void 0;var RJ=R_,PJ=function(){if(!ct.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ct.addEventListener("test",Qv,e),ct.removeEventListener("test",Qv,e)}catch{}return t}();function Pn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Pn.prototype.h=function(){this.defaultPrevented=!0};function Jh(t,e){if(Pn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var i=this.type=t.type,n=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(K8){e:{try{vS(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else i=="mouseover"?e=t.fromElement:i=="mouseout"&&(e=t.toElement);this.relatedTarget=e,n?(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:LJ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Jh.Z.h.call(this)}}yn(Jh,Pn);var LJ={2:"touch",3:"pen",4:"mouse"};Jh.prototype.h=function(){Jh.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var tg="closure_listenable_"+(1e6*Math.random()|0),OJ=0;function MJ(t,e,i,n,r){this.listener=t,this.proxy=null,this.src=e,this.type=i,this.capture=!!n,this.ia=r,this.key=++OJ,this.ca=this.fa=!1}function Cw(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Ew(t){this.src=t,this.g={},this.h=0}Ew.prototype.add=function(t,e,i,n,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=L_(t,e,n,r);return-1<a?(e=t[a],i||(e.fa=!1)):(e=new MJ(e,this.src,o,!!n,r),e.fa=i,t.push(e)),e};function P_(t,e){var i=e.type;if(i in t.g){var n=t.g[i],r=W8(n,e),o;(o=0<=r)&&Array.prototype.splice.call(n,r,1),o&&(Cw(e),t.g[i].length==0&&(delete t.g[i],t.h--))}}function L_(t,e,i,n){for(var r=0;r<t.length;++r){var o=t[r];if(!o.ca&&o.listener==e&&o.capture==!!i&&o.ia==n)return r}return-1}var yS="closure_lm_"+(1e6*Math.random()|0),D1={};function J8(t,e,i,n,r){if(n&&n.once)return eD(t,e,i,n,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)J8(t,e[o],i,n,r);return null}return i=xS(i),t&&t[tg]?t.N(e,i,eg(n)?!!n.capture:!!n,r):Z8(t,e,i,!1,n,r)}function Z8(t,e,i,n,r,o){if(!e)throw Error("Invalid event type");var a=eg(r)?!!r.capture:!!r,s=AS(t);if(s||(t[yS]=s=new Ew(t)),i=s.add(e,i,n,a,o),i.proxy)return i;if(n=DJ(),i.proxy=n,n.src=t,n.listener=i,t.addEventListener)PJ||(r=a),r===void 0&&(r=!1),t.addEventListener(e.toString(),n,r);else if(t.attachEvent)t.attachEvent(iD(e.toString()),n);else if(t.addListener&&t.removeListener)t.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return i}function DJ(){function t(i){return e.call(t.src,t.listener,i)}var e=BJ;return t}function eD(t,e,i,n,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)eD(t,e[o],i,n,r);return null}return i=xS(i),t&&t[tg]?t.O(e,i,eg(n)?!!n.capture:!!n,r):Z8(t,e,i,!0,n,r)}function tD(t,e,i,n,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)tD(t,e[o],i,n,r);else n=eg(n)?!!n.capture:!!n,i=xS(i),t&&t[tg]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],i=L_(o,i,n,r),-1<i&&(Cw(o[i]),Array.prototype.splice.call(o,i,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=AS(t))&&(e=t.g[e.toString()],t=-1,e&&(t=L_(e,i,n,r)),(i=-1<t?e[t]:null)&&wS(i))}function wS(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[tg])P_(e.i,t);else{var i=t.type,n=t.proxy;e.removeEventListener?e.removeEventListener(i,n,t.capture):e.detachEvent?e.detachEvent(iD(i),n):e.addListener&&e.removeListener&&e.removeListener(n),(i=AS(e))?(P_(i,t),i.h==0&&(i.src=null,e[yS]=null)):Cw(t)}}}function iD(t){return t in D1?D1[t]:D1[t]="on"+t}function BJ(t,e){if(t.ca)t=!0;else{e=new Jh(e,this);var i=t.listener,n=t.ia||t.src;t.fa&&wS(t),t=i.call(n,e)}return t}function AS(t){return t=t[yS],t instanceof Ew?t:null}var B1="__closure_events_fn_"+(1e9*Math.random()>>>0);function xS(t){return typeof t=="function"?t:(t[B1]||(t[B1]=function(e){return t.handleEvent(e)}),t[B1])}function en(){Ll.call(this),this.i=new Ew(this),this.P=this,this.I=null}yn(en,Ll);en.prototype[tg]=!0;en.prototype.removeEventListener=function(t,e,i,n){tD(this,t,e,i,n)};function mn(t,e){var i,n=t.I;if(n)for(i=[];n;n=n.I)i.push(n);if(t=t.P,n=e.type||e,typeof e=="string")e=new Pn(e,t);else if(e instanceof Pn)e.target=e.target||t;else{var r=e;e=new Pn(n,t),Q8(e,r)}if(r=!0,i)for(var o=i.length-1;0<=o;o--){var a=e.g=i[o];r=h0(a,n,!0,e)&&r}if(a=e.g=t,r=h0(a,n,!0,e)&&r,r=h0(a,n,!1,e)&&r,i)for(o=0;o<i.length;o++)a=e.g=i[o],r=h0(a,n,!1,e)&&r}en.prototype.M=function(){if(en.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var i=t.g[e],n=0;n<i.length;n++)Cw(i[n]);delete t.g[e],t.h--}}this.I=null};en.prototype.N=function(t,e,i,n){return this.i.add(String(t),e,!1,i,n)};en.prototype.O=function(t,e,i,n){return this.i.add(String(t),e,!0,i,n)};function h0(t,e,i,n){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==i){var s=a.listener,l=a.ia||a.src;a.fa&&P_(t.i,a),r=s.call(l,n)!==!1&&r}}return r&&!n.defaultPrevented}var kS=ct.JSON.stringify;function FJ(){var t=rD;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class NJ{constructor(){this.h=this.g=null}add(e,i){const n=nD.get();n.set(e,i),this.h?this.h.next=n:this.g=n,this.h=n}}var nD=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new jJ,t=>t.reset());class jJ{constructor(){this.next=this.g=this.h=null}set(e,i){this.h=e,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}}function UJ(t){ct.setTimeout(()=>{throw t},0)}function _S(t,e){O_||GJ(),M_||(O_(),M_=!0),rD.add(t,e)}var O_;function GJ(){var t=ct.Promise.resolve(void 0);O_=function(){t.then(HJ)}}var M_=!1,rD=new NJ;function HJ(){for(var t;t=FJ();){try{t.h.call(t.g)}catch(i){UJ(i)}var e=nD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}M_=!1}function zw(t,e){en.call(this),this.h=t||1,this.g=e||ct,this.j=hn(this.kb,this),this.l=Date.now()}yn(zw,en);Ke=zw.prototype;Ke.da=!1;Ke.S=null;Ke.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),mn(this,"tick"),this.da&&(TS(this),this.start()))}};Ke.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function TS(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}Ke.M=function(){zw.Z.M.call(this),TS(this),delete this.g};function SS(t,e,i){if(typeof t=="function")i&&(t=hn(t,i));else if(t&&typeof t.handleEvent=="function")t=hn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ct.setTimeout(t,e||0)}function oD(t){t.g=SS(()=>{t.g=null,t.i&&(t.i=!1,oD(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class YJ extends Ll{constructor(e,i){super(),this.m=e,this.j=i,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:oD(this)}M(){super.M(),this.g&&(ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zh(t){Ll.call(this),this.h=t,this.g={}}yn(Zh,Ll);var I3=[];function aD(t,e,i,n){Array.isArray(i)||(i&&(I3[0]=i.toString()),i=I3);for(var r=0;r<i.length;r++){var o=J8(e,i[r],n||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function sD(t){bS(t.g,function(e,i){this.g.hasOwnProperty(i)&&wS(e)},t),t.g={}}Zh.prototype.M=function(){Zh.Z.M.call(this),sD(this)};Zh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Iw(){this.g=!0}Iw.prototype.Aa=function(){this.g=!1};function WJ(t,e,i,n,r,o){t.info(function(){if(t.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var d=c[0];c=c[1];var p=d.split("_");a=2<=p.length&&p[1]=="type"?a+(d+"="+c+"&"):a+(d+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+n+") [attempt "+r+"]: "+e+`
`+i+`
`+a})}function VJ(t,e,i,n,r,o,a){t.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+r+"]: "+e+`
`+i+`
`+o+" "+a})}function ad(t,e,i,n){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+QJ(t,i)+(n?" "+n:"")})}function $J(t,e){t.info(function(){return"TIMEOUT: "+e})}Iw.prototype.info=function(){};function QJ(t,e){if(!t.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i){for(t=0;t<i.length;t++)if(Array.isArray(i[t])){var n=i[t];if(!(2>n.length)){var r=n[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<r.length;a++)r[a]=""}}}}return kS(i)}catch{return e}}var ou={},R3=null;function Rw(){return R3=R3||new en}ou.Ma="serverreachability";function lD(t){Pn.call(this,ou.Ma,t)}yn(lD,Pn);function em(t){const e=Rw();mn(e,new lD(e))}ou.STAT_EVENT="statevent";function cD(t,e){Pn.call(this,ou.STAT_EVENT,t),this.stat=e}yn(cD,Pn);function Zn(t){const e=Rw();mn(e,new cD(e,t))}ou.Na="timingevent";function uD(t,e){Pn.call(this,ou.Na,t),this.size=e}yn(uD,Pn);function ig(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ct.setTimeout(function(){t()},e)}var Pw={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},dD={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function CS(){}CS.prototype.h=null;function P3(t){return t.h||(t.h=t.i())}function fD(){}var ng={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ES(){Pn.call(this,"d")}yn(ES,Pn);function zS(){Pn.call(this,"c")}yn(zS,Pn);var D_;function Lw(){}yn(Lw,CS);Lw.prototype.g=function(){return new XMLHttpRequest};Lw.prototype.i=function(){return{}};D_=new Lw;function rg(t,e,i,n){this.l=t,this.j=e,this.m=i,this.X=n||1,this.V=new Zh(this),this.P=qJ,t=I_?125:void 0,this.W=new zw(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new pD}function pD(){this.i=null,this.g="",this.h=!1}var qJ=45e3,B_={},Xv={};Ke=rg.prototype;Ke.setTimeout=function(t){this.P=t};function F_(t,e,i){t.K=1,t.v=Mw(ps(e)),t.s=i,t.U=!0,hD(t,null)}function hD(t,e){t.F=Date.now(),og(t),t.A=ps(t.v);var i=t.A,n=t.X;Array.isArray(n)||(n=[String(n)]),AD(i.h,"t",n),t.C=0,i=t.l.H,t.h=new pD,t.g=UD(t.l,i?e:null,!t.s),0<t.O&&(t.L=new YJ(hn(t.Ia,t,t.g),t.O)),aD(t.V,t.g,"readystatechange",t.gb),e=t.H?$8(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),em(),WJ(t.j,t.u,t.A,t.m,t.X,t.s)}Ke.gb=function(t){t=t.target;const e=this.L;e&&ns(t)==3?e.l():this.Ia(t)};Ke.Ia=function(t){try{if(t==this.g)e:{const d=ns(this.g);var e=this.g.Da();const p=this.g.ba();if(!(3>d)&&(d!=3||I_||this.g&&(this.h.h||this.g.ga()||D3(this.g)))){this.I||d!=4||e==7||(e==8||0>=p?em(3):em(2)),Ow(this);var i=this.g.ba();this.N=i;t:if(mD(this)){var n=D3(this.g);t="";var r=n.length,o=ns(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){vc(this),Th(this);var a="";break t}this.h.i=new ct.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(n[e],{stream:o&&e==r-1});n.splice(0,r),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=i==200,VJ(this.j,this.u,this.A,this.m,this.X,d,i),this.i){if(this.$&&!this.J){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qv(s)){var c=s;break t}}c=null}if(i=c)ad(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,N_(this,i);else{this.i=!1,this.o=3,Zn(12),vc(this),Th(this);break e}}this.U?(gD(this,d,a),I_&&this.i&&d==3&&(aD(this.V,this.W,"tick",this.fb),this.W.start())):(ad(this.j,this.m,a,null),N_(this,a)),d==4&&vc(this),this.i&&!this.I&&(d==4?BD(this.l,this):(this.i=!1,og(this)))}else i==400&&0<a.indexOf("Unknown SID")?(this.o=3,Zn(12)):(this.o=0,Zn(13)),vc(this),Th(this)}}}catch{}finally{}};function mD(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function gD(t,e,i){let n=!0,r;for(;!t.I&&t.C<i.length;)if(r=KJ(t,i),r==Xv){e==4&&(t.o=4,Zn(14),n=!1),ad(t.j,t.m,null,"[Incomplete Response]");break}else if(r==B_){t.o=4,Zn(15),ad(t.j,t.m,i,"[Invalid Chunk]"),n=!1;break}else ad(t.j,t.m,r,null),N_(t,r);mD(t)&&r!=Xv&&r!=B_&&(t.h.g="",t.C=0),e!=4||i.length!=0||t.h.h||(t.o=1,Zn(16),n=!1),t.i=t.i&&n,n?0<i.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),FS(e),e.L=!0,Zn(11))):(ad(t.j,t.m,i,"[Invalid Chunked Response]"),vc(t),Th(t))}Ke.fb=function(){if(this.g){var t=ns(this.g),e=this.g.ga();this.C<e.length&&(Ow(this),gD(this,t,e),this.i&&t!=4&&og(this))}};function KJ(t,e){var i=t.C,n=e.indexOf(`
`,i);return n==-1?Xv:(i=Number(e.substring(i,n)),isNaN(i)?B_:(n+=1,n+i>e.length?Xv:(e=e.substr(n,i),t.C=n+i,e)))}Ke.cancel=function(){this.I=!0,vc(this)};function og(t){t.Y=Date.now()+t.P,bD(t,t.P)}function bD(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ig(hn(t.eb,t),e)}function Ow(t){t.B&&(ct.clearTimeout(t.B),t.B=null)}Ke.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?($J(this.j,this.A),this.K!=2&&(em(),Zn(17)),vc(this),this.o=2,Th(this)):bD(this,this.Y-t)};function Th(t){t.l.G==0||t.I||BD(t.l,t)}function vc(t){Ow(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,TS(t.W),sD(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function N_(t,e){try{var i=t.l;if(i.G!=0&&(i.g==t||j_(i.i,t))){if(i.I=t.N,!t.J&&j_(i.i,t)&&i.G==3){try{var n=i.Ca.g.parse(e)}catch{n=null}if(Array.isArray(n)&&n.length==3){var r=n;if(r[0]==0){e:if(!i.u){if(i.g)if(i.g.F+3e3<t.F)ty(i),Fw(i);else break e;BS(i),Zn(18)}}else i.ta=r[1],0<i.ta-i.U&&37500>r[2]&&i.N&&i.A==0&&!i.v&&(i.v=ig(hn(i.ab,i),6e3));if(1>=_D(i.i)&&i.ka){try{i.ka()}catch{}i.ka=void 0}}else yc(i,11)}else if((t.J||i.g==t)&&ty(i),!qv(e))for(r=i.Ca.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(i.U=c[0],c=c[1],i.G==2)if(c[0]=="c"){i.J=c[1],i.la=c[2];const d=c[3];d!=null&&(i.ma=d,i.h.info("VER="+i.ma));const p=c[4];p!=null&&(i.za=p,i.h.info("SVER="+i.za));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(n=1.5*h,i.K=n,i.h.info("backChannelRequestTimeoutMs_="+n)),n=i;const m=t.g;if(m){const y=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var o=n.i;!o.g&&(Wn(y,"spdy")||Wn(y,"quic")||Wn(y,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(PS(o,o.h),o.h=null))}if(n.D){const w=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(n.sa=w,ci(n.F,n.D,w))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-t.F,i.h.info("Handshake RTT: "+i.O+"ms")),n=i;var a=t;if(n.oa=jD(n,n.H?n.la:null,n.W),a.J){TD(n.i,a);var s=a,l=n.K;l&&s.setTimeout(l),s.B&&(Ow(s),og(s)),n.g=a}else MD(n);0<i.l.length&&Nw(i)}else c[0]!="stop"&&c[0]!="close"||yc(i,7);else i.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?yc(i,7):DS(i):c[0]!="noop"&&i.j&&i.j.wa(c),i.A=0)}}em(4)}catch{}}function XJ(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(z_(t)){for(var e=[],i=t.length,n=0;n<i;n++)e.push(t[n]);return e}e=[],i=0;for(n in t)e[i++]=t[n];return e}function IS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(z_(t)||typeof t=="string")V8(t,e,void 0);else{if(t.T&&typeof t.T=="function")var i=t.T();else if(t.R&&typeof t.R=="function")i=void 0;else if(z_(t)||typeof t=="string"){i=[];for(var n=t.length,r=0;r<n;r++)i.push(r)}else for(r in i=[],n=0,t)i[n++]=r;n=XJ(t),r=n.length;for(var o=0;o<r;o++)e.call(void 0,n[o],i&&i[o],t)}}function _f(t,e){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var n=0;n<i;n+=2)this.set(arguments[n],arguments[n+1])}else if(t)if(t instanceof _f)for(i=t.T(),n=0;n<i.length;n++)this.set(i[n],t.get(i[n]));else for(n in t)this.set(n,t[n])}Ke=_f.prototype;Ke.R=function(){RS(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};Ke.T=function(){return RS(this),this.g.concat()};function RS(t){if(t.i!=t.g.length){for(var e=0,i=0;e<t.g.length;){var n=t.g[e];Gc(t.h,n)&&(t.g[i++]=n),e++}t.g.length=i}if(t.i!=t.g.length){var r={};for(i=e=0;e<t.g.length;)n=t.g[e],Gc(r,n)||(t.g[i++]=n,r[n]=1),e++;t.g.length=i}}Ke.get=function(t,e){return Gc(this.h,t)?this.h[t]:e};Ke.set=function(t,e){Gc(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};Ke.forEach=function(t,e){for(var i=this.T(),n=0;n<i.length;n++){var r=i[n],o=this.get(r);t.call(e,o,r,this)}};function Gc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var vD=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function JJ(t,e){if(t){t=t.split("&");for(var i=0;i<t.length;i++){var n=t[i].indexOf("="),r=null;if(0<=n){var o=t[i].substring(0,n);r=t[i].substring(n+1)}else o=t[i];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Hc(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Hc){this.g=e!==void 0?e:t.g,Jv(this,t.j),this.s=t.s,Zv(this,t.i),ey(this,t.m),this.l=t.l,e=t.h;var i=new tm;i.i=e.i,e.g&&(i.g=new _f(e.g),i.h=e.h),L3(this,i),this.o=t.o}else t&&(i=String(t).match(vD))?(this.g=!!e,Jv(this,i[1]||"",!0),this.s=Sh(i[2]||""),Zv(this,i[3]||"",!0),ey(this,i[4]),this.l=Sh(i[5]||"",!0),L3(this,i[6]||"",!0),this.o=Sh(i[7]||"")):(this.g=!!e,this.h=new tm(null,this.g))}Hc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(oh(e,O3,!0),":");var i=this.i;return(i||e=="file")&&(t.push("//"),(e=this.s)&&t.push(oh(e,O3,!0),"@"),t.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i=this.m,i!=null&&t.push(":",String(i))),(i=this.l)&&(this.i&&i.charAt(0)!="/"&&t.push("/"),t.push(oh(i,i.charAt(0)=="/"?nZ:iZ,!0))),(i=this.h.toString())&&t.push("?",i),(i=this.o)&&t.push("#",oh(i,oZ)),t.join("")};function ps(t){return new Hc(t)}function Jv(t,e,i){t.j=i?Sh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Zv(t,e,i){t.i=i?Sh(e,!0):e}function ey(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function L3(t,e,i){e instanceof tm?(t.h=e,aZ(t.h,t.g)):(i||(e=oh(e,rZ)),t.h=new tm(e,t.g))}function ci(t,e,i){t.h.set(e,i)}function Mw(t){return ci(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ZJ(t){return t instanceof Hc?ps(t):new Hc(t,void 0)}function eZ(t,e,i,n){var r=new Hc(null,void 0);return t&&Jv(r,t),e&&Zv(r,e),i&&ey(r,i),n&&(r.l=n),r}function Sh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function oh(t,e,i){return typeof t=="string"?(t=encodeURI(t).replace(e,tZ),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function tZ(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var O3=/[#\/\?@]/g,iZ=/[#\?:]/g,nZ=/[#\?]/g,rZ=/[#\?@]/g,oZ=/#/g;function tm(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ol(t){t.g||(t.g=new _f,t.h=0,t.i&&JJ(t.i,function(e,i){t.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}Ke=tm.prototype;Ke.add=function(t,e){Ol(this),this.i=null,t=Tf(this,t);var i=this.g.get(t);return i||this.g.set(t,i=[]),i.push(e),this.h+=1,this};function yD(t,e){Ol(t),e=Tf(t,e),Gc(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Gc(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&RS(t)))}function wD(t,e){return Ol(t),e=Tf(t,e),Gc(t.g.h,e)}Ke.forEach=function(t,e){Ol(this),this.g.forEach(function(i,n){V8(i,function(r){t.call(e,r,n,this)},this)},this)};Ke.T=function(){Ol(this);for(var t=this.g.R(),e=this.g.T(),i=[],n=0;n<e.length;n++)for(var r=t[n],o=0;o<r.length;o++)i.push(e[n]);return i};Ke.R=function(t){Ol(this);var e=[];if(typeof t=="string")wD(this,t)&&(e=_3(e,this.g.get(Tf(this,t))));else{t=this.g.R();for(var i=0;i<t.length;i++)e=_3(e,t[i])}return e};Ke.set=function(t,e){return Ol(this),this.i=null,t=Tf(this,t),wD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Ke.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function AD(t,e,i){yD(t,e),0<i.length&&(t.i=null,t.g.set(Tf(t,e),gS(i)),t.h+=i.length)}Ke.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),i=0;i<e.length;i++){var n=e[i],r=encodeURIComponent(String(n));n=this.R(n);for(var o=0;o<n.length;o++){var a=r;n[o]!==""&&(a+="="+encodeURIComponent(String(n[o]))),t.push(a)}}return this.i=t.join("&")};function Tf(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function aZ(t,e){e&&!t.j&&(Ol(t),t.i=null,t.g.forEach(function(i,n){var r=n.toLowerCase();n!=r&&(yD(this,n),AD(this,r,i))},t)),t.j=e}var sZ=class{constructor(t,e){this.h=t,this.g=e}};function xD(t){this.l=t||lZ,ct.PerformanceNavigationTiming?(t=ct.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ct.g&&ct.g.Ea&&ct.g.Ea()&&ct.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var lZ=10;function kD(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function _D(t){return t.h?1:t.g?t.g.size:0}function j_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function PS(t,e){t.g?t.g.add(e):t.h=e}function TD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}xD.prototype.cancel=function(){if(this.i=SD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function SD(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const i of t.g.values())e=e.concat(i.D);return e}return gS(t.i)}function LS(){}LS.prototype.stringify=function(t){return ct.JSON.stringify(t,void 0)};LS.prototype.parse=function(t){return ct.JSON.parse(t,void 0)};function cZ(){this.g=new LS}function uZ(t,e,i){const n=i||"";try{IS(t,function(r,o){let a=r;eg(r)&&(a=kS(r)),e.push(n+o+"="+encodeURIComponent(a))})}catch(r){throw e.push(n+"type="+encodeURIComponent("_badmap")),r}}function dZ(t,e){const i=new Iw;if(ct.Image){const n=new Image;n.onload=p0(m0,i,n,"TestLoadImage: loaded",!0,e),n.onerror=p0(m0,i,n,"TestLoadImage: error",!1,e),n.onabort=p0(m0,i,n,"TestLoadImage: abort",!1,e),n.ontimeout=p0(m0,i,n,"TestLoadImage: timeout",!1,e),ct.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=t}else e(!1)}function m0(t,e,i,n,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(n)}catch{}}function ag(t){this.l=t.$b||null,this.j=t.ib||!1}yn(ag,CS);ag.prototype.g=function(){return new Dw(this.l,this.j)};ag.prototype.i=function(t){return function(){return t}}({});function Dw(t,e){en.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=OS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yn(Dw,en);var OS=0;Ke=Dw.prototype;Ke.open=function(t,e){if(this.readyState!=OS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,im(this)};Ke.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ct).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};Ke.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sg(this)),this.readyState=OS};Ke.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,im(this)),this.g&&(this.readyState=3,im(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ct.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;CD(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function CD(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}Ke.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?sg(this):im(this),this.readyState==3&&CD(this)}};Ke.Ua=function(t){this.g&&(this.response=this.responseText=t,sg(this))};Ke.Ta=function(t){this.g&&(this.response=t,sg(this))};Ke.ha=function(){this.g&&sg(this)};function sg(t){t.readyState=4,t.l=null,t.j=null,t.A=null,im(t)}Ke.setRequestHeader=function(t,e){this.v.append(t,e)};Ke.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Ke.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var i=e.next();!i.done;)i=i.value,t.push(i[0]+": "+i[1]),i=e.next();return t.join(`\r
`)};function im(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Dw.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var fZ=ct.JSON.parse;function Bi(t){en.call(this),this.headers=new _f,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ED,this.K=this.L=!1}yn(Bi,en);var ED="",pZ=/^https?$/i,hZ=["POST","PUT"];Ke=Bi.prototype;Ke.ea=function(t,e,i,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():D_.g(),this.C=this.u?P3(this.u):P3(D_),this.g.onreadystatechange=hn(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){M3(this,o);return}t=i||"";const r=new _f(this.headers);n&&IS(n,function(o,a){r.set(a,o)}),n=TJ(r.T()),i=ct.FormData&&t instanceof ct.FormData,!(0<=W8(hZ,e))||n||i||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(o,a){this.g.setRequestHeader(a,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{RD(this),0<this.B&&((this.K=mZ(this.g))?(this.g.timeout=this.B,this.g.ontimeout=hn(this.pa,this)):this.A=SS(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){M3(this,o)}};function mZ(t){return Bd&&IJ()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function gZ(t){return t.toLowerCase()=="content-type"}Ke.pa=function(){typeof mS!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mn(this,"timeout"),this.abort(8))};function M3(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,zD(t),Bw(t)}function zD(t){t.D||(t.D=!0,mn(t,"complete"),mn(t,"error"))}Ke.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,mn(this,"complete"),mn(this,"abort"),Bw(this))};Ke.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bw(this,!0)),Bi.Z.M.call(this)};Ke.Fa=function(){this.s||(this.F||this.v||this.l?ID(this):this.cb())};Ke.cb=function(){ID(this)};function ID(t){if(t.h&&typeof mS!="undefined"&&(!t.C[1]||ns(t)!=4||t.ba()!=2)){if(t.v&&ns(t)==4)SS(t.Fa,0,t);else if(mn(t,"readystatechange"),ns(t)==4){t.h=!1;try{const s=t.ba();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var i;if(!(i=e)){var n;if(n=s===0){var r=String(t.H).match(vD)[1]||null;if(!r&&ct.self&&ct.self.location){var o=ct.self.location.protocol;r=o.substr(0,o.length-1)}n=!pZ.test(r?r.toLowerCase():"")}i=n}if(i)mn(t,"complete"),mn(t,"success");else{t.m=6;try{var a=2<ns(t)?t.g.statusText:""}catch{a=""}t.j=a+" ["+t.ba()+"]",zD(t)}}finally{Bw(t)}}}}function Bw(t,e){if(t.g){RD(t);const i=t.g,n=t.C[0]?Qv:null;t.g=null,t.C=null,e||mn(t,"ready");try{i.onreadystatechange=n}catch{}}}function RD(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ct.clearTimeout(t.A),t.A=null)}function ns(t){return t.g?t.g.readyState:0}Ke.ba=function(){try{return 2<ns(this)?this.g.status:-1}catch{return-1}};Ke.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ke.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),fZ(e)}};function D3(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case ED:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}Ke.Da=function(){return this.m};Ke.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function bZ(t){let e="";return bS(t,function(i,n){e+=n,e+=":",e+=i,e+=`\r
`}),e}function MS(t,e,i){e:{for(n in i){var n=!1;break e}n=!0}n||(i=bZ(i),typeof t=="string"?i!=null&&encodeURIComponent(String(i)):ci(t,e,i))}function Yp(t,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[t]||e}function PD(t){this.za=0,this.l=[],this.h=new Iw,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Yp("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Yp("baseRetryDelayMs",5e3,t),this.$a=Yp("retryDelaySeedMs",1e4,t),this.Ya=Yp("forwardChannelMaxRetries",2,t),this.ra=Yp("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new xD(t&&t.concurrentRequestLimit),this.Ca=new cZ,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}Ke=PD.prototype;Ke.ma=8;Ke.G=1;function DS(t){if(LD(t),t.G==3){var e=t.V++,i=ps(t.F);ci(i,"SID",t.J),ci(i,"RID",e),ci(i,"TYPE","terminate"),lg(t,i),e=new rg(t,t.h,e,void 0),e.K=2,e.v=Mw(ps(i)),i=!1,ct.navigator&&ct.navigator.sendBeacon&&(i=ct.navigator.sendBeacon(e.v.toString(),"")),!i&&ct.Image&&(new Image().src=e.v,i=!0),i||(e.g=UD(e.l,null),e.g.ea(e.v)),e.F=Date.now(),og(e)}ND(t)}Ke.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function Fw(t){t.g&&(FS(t),t.g.cancel(),t.g=null)}function LD(t){Fw(t),t.u&&(ct.clearTimeout(t.u),t.u=null),ty(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ct.clearTimeout(t.m),t.m=null)}function F1(t,e){t.l.push(new sZ(t.Za++,e)),t.G==3&&Nw(t)}function Nw(t){kD(t.i)||t.m||(t.m=!0,_S(t.Ha,t),t.C=0)}function vZ(t,e){return _D(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=ig(hn(t.Ha,t,e),FD(t,t.C)),t.C++,!0)}Ke.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const r=new rg(this,this.h,t,void 0);let o=this.s;if(this.P&&(o?(o=$8(o),Q8(o,this.P)):o=this.P),this.o===null&&(r.H=o),this.ja)e:{for(var e=0,i=0;i<this.l.length;i++){t:{var n=this.l[i];if("__data__"in n.g&&(n=n.g.__data__,typeof n=="string")){n=n.length;break t}n=void 0}if(n===void 0)break;if(e+=n,4096<e){e=i;break e}if(e===4096||i===this.l.length-1){e=i+1;break e}}e=1e3}else e=1e3;e=OD(this,r,e),i=ps(this.F),ci(i,"RID",t),ci(i,"CVER",22),this.D&&ci(i,"X-HTTP-Session-Id",this.D),lg(this,i),this.o&&o&&MS(i,this.o,o),PS(this.i,r),this.Ra&&ci(i,"TYPE","init"),this.ja?(ci(i,"$req",e),ci(i,"SID","null"),r.$=!0,F_(r,i,null)):F_(r,i,e),this.G=2}}else this.G==3&&(t?B3(this,t):this.l.length==0||kD(this.i)||B3(this))};function B3(t,e){var i;e?i=e.m:i=t.V++;const n=ps(t.F);ci(n,"SID",t.J),ci(n,"RID",i),ci(n,"AID",t.U),lg(t,n),t.o&&t.s&&MS(n,t.o,t.s),i=new rg(t,t.h,i,t.C+1),t.o===null&&(i.H=t.s),e&&(t.l=e.D.concat(t.l)),e=OD(t,i,1e3),i.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),PS(t.i,i),F_(i,n,e)}function lg(t,e){t.j&&IS({},function(i,n){ci(e,n,i)})}function OD(t,e,i){i=Math.min(t.l.length,i);var n=t.j?hn(t.j.Oa,t.j,t):null;e:{var r=t.l;let o=-1;for(;;){const a=["count="+i];o==-1?0<i?(o=r[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);let s=!0;for(let l=0;l<i;l++){let c=r[l].h;const d=r[l].g;if(c-=o,0>c)o=Math.max(0,r[l].h-100),s=!1;else try{uZ(d,a,"req"+c+"_")}catch{n&&n(d)}}if(s){n=a.join("&");break e}}}return t=t.l.splice(0,i),e.D=t,n}function MD(t){t.g||t.u||(t.Y=1,_S(t.Ga,t),t.A=0)}function BS(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=ig(hn(t.Ga,t),FD(t,t.A)),t.A++,!0)}Ke.Ga=function(){if(this.u=null,DD(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ig(hn(this.bb,this),t)}};Ke.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Zn(10),Fw(this),DD(this))};function FS(t){t.B!=null&&(ct.clearTimeout(t.B),t.B=null)}function DD(t){t.g=new rg(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=ps(t.oa);ci(e,"RID","rpc"),ci(e,"SID",t.J),ci(e,"CI",t.N?"0":"1"),ci(e,"AID",t.U),lg(t,e),ci(e,"TYPE","xmlhttp"),t.o&&t.s&&MS(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var i=t.g;t=t.la,i.K=1,i.v=Mw(ps(e)),i.s=null,i.U=!0,hD(i,t)}Ke.ab=function(){this.v!=null&&(this.v=null,Fw(this),BS(this),Zn(19))};function ty(t){t.v!=null&&(ct.clearTimeout(t.v),t.v=null)}function BD(t,e){var i=null;if(t.g==e){ty(t),FS(t),t.g=null;var n=2}else if(j_(t.i,e))i=e.D,TD(t.i,e),n=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(n==1){i=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;n=Rw(),mn(n,new uD(n,i)),Nw(t)}else MD(t);else if(r=e.o,r==3||r==0&&0<t.I||!(n==1&&vZ(t,e)||n==2&&BS(t)))switch(i&&0<i.length&&(e=t.i,e.i=e.i.concat(i)),r){case 1:yc(t,5);break;case 4:yc(t,10);break;case 3:yc(t,6);break;default:yc(t,2)}}}function FD(t,e){let i=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(i*=2),i*e}function yc(t,e){if(t.h.info("Error code "+e),e==2){var i=null;t.j&&(i=null);var n=hn(t.jb,t);i||(i=new Hc("//www.google.com/images/cleardot.gif"),ct.location&&ct.location.protocol=="http"||Jv(i,"https"),Mw(i)),dZ(i.toString(),n)}else Zn(2);t.G=0,t.j&&t.j.va(e),ND(t),LD(t)}Ke.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Zn(2)):(this.h.info("Failed to ping google.com"),Zn(1))};function ND(t){t.G=0,t.I=-1,t.j&&((SD(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,gS(t.l),t.l.length=0),t.j.ua())}function jD(t,e,i){let n=ZJ(i);if(n.i!="")e&&Zv(n,e+"."+n.i),ey(n,n.m);else{const r=ct.location;n=eZ(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,i)}return t.aa&&bS(t.aa,function(r,o){ci(n,o,r)}),e=t.D,i=t.sa,e&&i&&ci(n,e,i),ci(n,"VER",t.ma),lg(t,n),n}function UD(t,e,i){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=i&&t.Ba&&!t.qa?new Bi(new ag({ib:!0})):new Bi(t.qa),e.L=t.H,e}function GD(){}Ke=GD.prototype;Ke.xa=function(){};Ke.wa=function(){};Ke.va=function(){};Ke.ua=function(){};Ke.Oa=function(){};function iy(){if(Bd&&!(10<=Number(RJ)))throw Error("Environmental error: no available transport.")}iy.prototype.g=function(t,e){return new Qr(t,e)};function Qr(t,e){en.call(this),this.g=new PD(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!qv(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qv(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Sf(this)}yn(Qr,en);Qr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,i=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),_S(hn(t.hb,t,e))),Zn(0),t.W=e,t.aa=i||{},t.N=t.X,t.F=jD(t,null,t.W),Nw(t)};Qr.prototype.close=function(){DS(this.g)};Qr.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,F1(this.g,e)}else this.v?(e={},e.__data__=kS(t),F1(this.g,e)):F1(this.g,t)};Qr.prototype.M=function(){this.g.j=null,delete this.j,DS(this.g),delete this.g,Qr.Z.M.call(this)};function HD(t){ES.call(this);var e=t.__sm__;if(e){e:{for(const i in e){t=i;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}yn(HD,ES);function YD(){zS.call(this),this.status=1}yn(YD,zS);function Sf(t){this.g=t}yn(Sf,GD);Sf.prototype.xa=function(){mn(this.g,"a")};Sf.prototype.wa=function(t){mn(this.g,new HD(t))};Sf.prototype.va=function(t){mn(this.g,new YD)};Sf.prototype.ua=function(){mn(this.g,"b")};iy.prototype.createWebChannel=iy.prototype.g;Qr.prototype.send=Qr.prototype.u;Qr.prototype.open=Qr.prototype.m;Qr.prototype.close=Qr.prototype.close;Pw.NO_ERROR=0;Pw.TIMEOUT=8;Pw.HTTP_ERROR=6;dD.COMPLETE="complete";fD.EventType=ng;ng.OPEN="a";ng.CLOSE="b";ng.ERROR="c";ng.MESSAGE="d";en.prototype.listen=en.prototype.N;Bi.prototype.listenOnce=Bi.prototype.O;Bi.prototype.getLastError=Bi.prototype.La;Bi.prototype.getLastErrorCode=Bi.prototype.Da;Bi.prototype.getStatus=Bi.prototype.ba;Bi.prototype.getResponseJson=Bi.prototype.Qa;Bi.prototype.getResponseText=Bi.prototype.ga;Bi.prototype.send=Bi.prototype.ea;var yZ=function(){return new iy},wZ=function(){return Rw()},N1=Pw,AZ=dD,xZ=ou,F3={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},kZ=ag,g0=fD,_Z=Bi;const N3="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf="9.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new U8("@firebase/firestore");function j3(){return Yc.logLevel}function it(t,...e){if(Yc.logLevel<=Yt.DEBUG){const i=e.map(NS);Yc.debug(`Firestore (${Cf}): ${t}`,...i)}}function gl(t,...e){if(Yc.logLevel<=Yt.ERROR){const i=e.map(NS);Yc.error(`Firestore (${Cf}): ${t}`,...i)}}function U3(t,...e){if(Yc.logLevel<=Yt.WARN){const i=e.map(NS);Yc.warn(`Firestore (${Cf}): ${t}`,...i)}}function NS(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t="Unexpected state"){const e=`FIRESTORE (${Cf}) INTERNAL ASSERTION FAILED: `+t;throw gl(e),new Error(e)}function Ii(t,e){t||At()}function Bt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ye extends Error{constructor(e,i){super(i),this.code=e,this.message=i,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TZ{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(mr.UNAUTHENTICATED))}shutdown(){}}class CZ{constructor(e){this.t=e,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){let n=this.i;const r=l=>this.i!==n?(n=this.i,i(l)):Promise.resolve();let o=new ll;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ll,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},s=l=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ll)}},0),a()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(n=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ii(typeof n.accessToken=="string"),new TZ(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ii(e===null||typeof e=="string"),new mr(e)}}class EZ{constructor(e,i,n){this.type="FirstParty",this.user=mr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",i);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class zZ{constructor(e,i,n){this.h=e,this.l=i,this.m=n}getToken(){return Promise.resolve(new EZ(this.h,this.l,this.m))}start(e,i){e.enqueueRetryable(()=>i(mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IZ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RZ{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,i){this.o=r=>{e.enqueueRetryable(()=>(o=>(o.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`),i(o.token)))(r))};const n=r=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.g.onInit(r=>n(r)),setTimeout(()=>{if(!this.appCheck){const r=this.g.getImmediate({optional:!0});r?n(r):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ii(typeof i.token=="string"),new IZ(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=n=>this.p(n),this.T=n=>i.writeSequenceNumber(n))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PZ(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let n=0;n<t;n++)i[n]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jS.I=-1;class WD{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=PZ(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<i&&(n+=e.charAt(r[o]%e.length))}return n}}function ei(t,e){return t<e?-1:t>e?1:0}function nm(t,e,i){return t.length===e.length&&t.every((n,r)=>i(n,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new Ye(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Ye(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new Ye(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ye(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tr.fromMillis(Date.now())}static fromDate(e){return tr.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*i));return new tr(i,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ei(this.nanoseconds,e.nanoseconds):ei(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new qt(e)}static min(){return new qt(new tr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t){let e=0;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e++;return e}function cg(t,e){for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function VD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,i,n){i===void 0?i=0:i>e.length&&At(),n===void 0?n=e.length-i:n>e.length-i&&At(),this.segments=e,this.offset=i,this.len=n}get length(){return this.len}isEqual(e){return rm.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof rm?e.forEach(n=>{i.push(n)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,n=this.limit();i<n;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const n=Math.min(e.length,i.length);for(let r=0;r<n;r++){const o=e.get(r),a=i.get(r);if(o<a)return-1;if(o>a)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class si extends rm{construct(e,i,n){return new si(e,i,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const i=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ye(Ce.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);i.push(...n.split("/").filter(r=>r.length>0))}return new si(i)}static emptyPath(){return new si([])}}const LZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lo extends rm{construct(e,i,n){return new lo(e,i,n)}static isValidIdentifier(e){return LZ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new lo(["__name__"])}static fromServerFormat(e){const i=[];let n="",r=0;const o=()=>{if(n.length===0)throw new Ye(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(n),n=""};let a=!1;for(;r<e.length;){const s=e[r];if(s==="\\"){if(r+1===e.length)throw new Ye(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ye(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,r+=2}else s==="`"?(a=!a,r++):s!=="."||a?(n+=s,r++):(o(),r++)}if(o(),a)throw new Ye(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lo(i)}static emptyPath(){return new lo([])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=atob(e);return new Mn(i)}static fromUint8Array(e){const i=function(n){let r="";for(let o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(e);return new Mn(i)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ei(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const OZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bl(t){if(Ii(!!t),typeof t=="string"){let e=0;const i=OZ.exec(t);if(Ii(!!i),i[1]){let r=i[1];r=(r+"000000000").substr(0,9),e=Number(r)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Pi(t.seconds),nanos:Pi(t.nanos)}}function Pi(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fd(t){return typeof t=="string"?Mn.fromBase64String(t):Mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t){var e,i;return((i=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function $D(t){const e=t.mapValue.fields.__previous_value__;return US(e)?$D(e):e}function om(t){const e=bl(t.mapValue.fields.__local_write_time__.timestampValue);return new tr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t){return t==null}function ny(t){return t===0&&1/t==-1/0}function MZ(t){return typeof t=="number"&&Number.isInteger(t)&&!ny(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.path=e}static fromPath(e){return new st(si.fromString(e))}static fromName(e){return new st(si.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return e!==null&&si.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return si.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new st(new si(e.slice()))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?US(t)?4:10:At()}function pa(t,e){const i=Wc(t);if(i!==Wc(e))return!1;switch(i){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return om(t).isEqual(om(e));case 3:return function(n,r){if(typeof n.timestampValue=="string"&&typeof r.timestampValue=="string"&&n.timestampValue.length===r.timestampValue.length)return n.timestampValue===r.timestampValue;const o=bl(n.timestampValue),a=bl(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(n,r){return Fd(n.bytesValue).isEqual(Fd(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(n,r){return Pi(n.geoPointValue.latitude)===Pi(r.geoPointValue.latitude)&&Pi(n.geoPointValue.longitude)===Pi(r.geoPointValue.longitude)}(t,e);case 2:return function(n,r){if("integerValue"in n&&"integerValue"in r)return Pi(n.integerValue)===Pi(r.integerValue);if("doubleValue"in n&&"doubleValue"in r){const o=Pi(n.doubleValue),a=Pi(r.doubleValue);return o===a?ny(o)===ny(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return nm(t.arrayValue.values||[],e.arrayValue.values||[],pa);case 10:return function(n,r){const o=n.mapValue.fields||{},a=r.mapValue.fields||{};if(G3(o)!==G3(a))return!1;for(const s in o)if(o.hasOwnProperty(s)&&(a[s]===void 0||!pa(o[s],a[s])))return!1;return!0}(t,e);default:return At()}}function am(t,e){return(t.values||[]).find(i=>pa(i,e))!==void 0}function Nd(t,e){const i=Wc(t),n=Wc(e);if(i!==n)return ei(i,n);switch(i){case 0:return 0;case 1:return ei(t.booleanValue,e.booleanValue);case 2:return function(r,o){const a=Pi(r.integerValue||r.doubleValue),s=Pi(o.integerValue||o.doubleValue);return a<s?-1:a>s?1:a===s?0:isNaN(a)?isNaN(s)?0:-1:1}(t,e);case 3:return H3(t.timestampValue,e.timestampValue);case 4:return H3(om(t),om(e));case 5:return ei(t.stringValue,e.stringValue);case 6:return function(r,o){const a=Fd(r),s=Fd(o);return a.compareTo(s)}(t.bytesValue,e.bytesValue);case 7:return function(r,o){const a=r.split("/"),s=o.split("/");for(let l=0;l<a.length&&l<s.length;l++){const c=ei(a[l],s[l]);if(c!==0)return c}return ei(a.length,s.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,o){const a=ei(Pi(r.latitude),Pi(o.latitude));return a!==0?a:ei(Pi(r.longitude),Pi(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,o){const a=r.values||[],s=o.values||[];for(let l=0;l<a.length&&l<s.length;++l){const c=Nd(a[l],s[l]);if(c)return c}return ei(a.length,s.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,o){const a=r.fields||{},s=Object.keys(a),l=o.fields||{},c=Object.keys(l);s.sort(),c.sort();for(let d=0;d<s.length&&d<c.length;++d){const p=ei(s[d],c[d]);if(p!==0)return p;const h=Nd(a[s[d]],l[c[d]]);if(h!==0)return h}return ei(s.length,c.length)}(t.mapValue,e.mapValue);default:throw At()}}function H3(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ei(t,e);const i=bl(t),n=bl(e),r=ei(i.seconds,n.seconds);return r!==0?r:ei(i.nanos,n.nanos)}function GS(t){return U_(t)}function U_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=bl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Fd(t.bytesValue).toBase64():"referenceValue"in t?(i=t.referenceValue,st.fromName(i).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(n){let r="[",o=!0;for(const a of n.values||[])o?o=!1:r+=",",r+=U_(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const s of r)a?a=!1:o+=",",o+=`${s}:${U_(n.fields[s])}`;return o+"}"}(t.mapValue):At();var e,i}function ry(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function G_(t){return!!t&&"integerValue"in t}function HS(t){return!!t&&"arrayValue"in t}function Y3(t){return!!t&&"nullValue"in t}function W3(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function j1(t){return!!t&&"mapValue"in t}function Ch(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return cg(t.mapValue.fields,(i,n)=>e.mapValue.fields[i]=Ch(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(t.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ch(t.arrayValue.values[i]);return e}return Object.assign({},t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.value=e}static empty(){return new Ja({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let n=0;n<e.length-1;++n)if(i=(i.mapValue.fields||{})[e.get(n)],!j1(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ch(i)}setAll(e){let i=lo.emptyPath(),n={},r=[];e.forEach((a,s)=>{if(!i.isImmediateParentOf(s)){const l=this.getFieldsMap(i);this.applyChanges(l,n,r),n={},r=[],i=s.popLast()}a?n[s.lastSegment()]=Ch(a):r.push(s.lastSegment())});const o=this.getFieldsMap(i);this.applyChanges(o,n,r)}delete(e){const i=this.field(e.popLast());j1(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return pa(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=i.mapValue.fields[e.get(n)];j1(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},i.mapValue.fields[e.get(n)]=r),i=r}return i.mapValue.fields}applyChanges(e,i,n){cg(i,(r,o)=>e[r]=o);for(const r of n)delete e[r]}clone(){return new Ja(Ch(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,i,n,r,o){this.key=e,this.documentType=i,this.version=n,this.data=r,this.documentState=o}static newInvalidDocument(e){return new In(e,0,qt.min(),Ja.empty(),0)}static newFoundDocument(e,i,n){return new In(e,1,i,n,0)}static newNoDocument(e,i){return new In(e,2,i,Ja.empty(),0)}static newUnknownDocument(e,i){return new In(e,3,i,Ja.empty(),2)}convertToFoundDocument(e,i){return this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ja.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ja.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new In(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DZ{constructor(e,i=null,n=[],r=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=i,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=a,this.endAt=s,this.R=null}}function V3(t,e=null,i=[],n=[],r=null,o=null,a=null){return new DZ(t,e,i,n,r,o,a)}function YS(t){const e=Bt(t);if(e.R===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(n=>FZ(n)).join(","),i+="|ob:",i+=e.orderBy.map(n=>function(r){return r.field.canonicalString()+r.dir}(n)).join(","),Ef(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=oy(e.startAt)),e.endAt&&(i+="|ub:",i+=oy(e.endAt)),e.R=i}return e.R}function BZ(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>{return`${(n=i).field.canonicalString()} ${n.op} ${GS(n.value)}`;var n}).join(", ")}]`),Ef(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>function(n){return`${n.field.canonicalString()} (${n.dir})`}(i)).join(", ")}]`),t.startAt&&(e+=", startAt: "+oy(t.startAt)),t.endAt&&(e+=", endAt: "+oy(t.endAt)),`Target(${e})`}function WS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!VZ(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(i=t.filters[r],n=e.filters[r],i.op!==n.op||!i.field.isEqual(n.field)||!pa(i.value,n.value))return!1;var i,n;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Q3(t.startAt,e.startAt)&&Q3(t.endAt,e.endAt)}function H_(t){return st.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class er extends class{}{constructor(e,i,n){super(),this.field=e,this.op=i,this.value=n}static create(e,i,n){return e.isKeyField()?i==="in"||i==="not-in"?this.P(e,i,n):new NZ(e,i,n):i==="array-contains"?new GZ(e,n):i==="in"?new HZ(e,n):i==="not-in"?new YZ(e,n):i==="array-contains-any"?new WZ(e,n):new er(e,i,n)}static P(e,i,n){return i==="in"?new jZ(e,n):new UZ(e,n)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.v(Nd(i,this.value)):i!==null&&Wc(this.value)===Wc(i)&&this.v(Nd(i,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return At()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}function FZ(t){return t.field.canonicalString()+t.op.toString()+GS(t.value)}class NZ extends er{constructor(e,i,n){super(e,i,n),this.key=st.fromName(n.referenceValue)}matches(e){const i=st.comparator(e.key,this.key);return this.v(i)}}class jZ extends er{constructor(e,i){super(e,"in",i),this.keys=QD("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class UZ extends er{constructor(e,i){super(e,"not-in",i),this.keys=QD("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function QD(t,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(n=>st.fromName(n.referenceValue))}class GZ extends er{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return HS(i)&&am(i.arrayValue,this.value)}}class HZ extends er{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&am(this.value.arrayValue,i)}}class YZ extends er{constructor(e,i){super(e,"not-in",i)}matches(e){if(am(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!am(this.value.arrayValue,i)}}class WZ extends er{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!HS(i)||!i.arrayValue.values)&&i.arrayValue.values.some(n=>am(this.value.arrayValue,n))}}class sm{constructor(e,i){this.position=e,this.before=i}}function oy(t){return`${t.before?"b":"a"}:${t.position.map(e=>GS(e)).join(",")}`}class Ad{constructor(e,i="asc"){this.field=e,this.dir=i}}function VZ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function $3(t,e,i){let n=0;for(let r=0;r<t.position.length;r++){const o=e[r],a=t.position[r];if(o.field.isKeyField()?n=st.comparator(st.fromName(a.referenceValue),i.key):n=Nd(a,i.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return t.before?n<=0:n<0}function Q3(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(let i=0;i<t.position.length;i++)if(!pa(t.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,i=null,n=[],r=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.S=null,this.D=null,this.startAt,this.endAt}}function $Z(t,e,i,n,r,o,a,s){return new au(t,e,i,n,r,o,a,s)}function VS(t){return new au(t)}function tv(t){return!Ef(t.limit)&&t.limitType==="F"}function ay(t){return!Ef(t.limit)&&t.limitType==="L"}function $S(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function QS(t){for(const e of t.filters)if(e.V())return e.field;return null}function qS(t){return t.collectionGroup!==null}function jd(t){const e=Bt(t);if(e.S===null){e.S=[];const i=QS(e),n=$S(e);if(i!==null&&n===null)i.isKeyField()||e.S.push(new Ad(i)),e.S.push(new Ad(lo.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.S.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Ad(lo.keyField(),o))}}}return e.S}function Vc(t){const e=Bt(t);if(!e.D)if(e.limitType==="F")e.D=V3(e.path,e.collectionGroup,jd(e),e.filters,e.limit,e.startAt,e.endAt);else{const i=[];for(const o of jd(e)){const a=o.dir==="desc"?"asc":"desc";i.push(new Ad(o.field,a))}const n=e.endAt?new sm(e.endAt.position,!e.endAt.before):null,r=e.startAt?new sm(e.startAt.position,!e.startAt.before):null;e.D=V3(e.path,e.collectionGroup,i,e.filters,e.limit,n,r)}return e.D}function qD(t,e,i){return new au(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,i,t.startAt,t.endAt)}function jw(t,e){return WS(Vc(t),Vc(e))&&t.limitType===e.limitType}function KD(t){return`${YS(Vc(t))}|lt:${t.limitType}`}function Y_(t){return`Query(target=${BZ(Vc(t))}; limitType=${t.limitType})`}function Uw(t,e){return e.isFoundDocument()&&function(i,n){const r=n.key.path;return i.collectionGroup!==null?n.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):st.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(t,e)&&function(i,n){for(const r of i.explicitOrderBy)if(!r.field.isKeyField()&&n.data.field(r.field)===null)return!1;return!0}(t,e)&&function(i,n){for(const r of i.filters)if(!r.matches(n))return!1;return!0}(t,e)&&function(i,n){return!(i.startAt&&!$3(i.startAt,jd(i),n)||i.endAt&&$3(i.endAt,jd(i),n))}(t,e)}function XD(t){return(e,i)=>{let n=!1;for(const r of jd(t)){const o=QZ(r,e,i);if(o!==0)return o;n=n||r.field.isKeyField()}return 0}}function QZ(t,e,i){const n=t.field.isKeyField()?st.comparator(e.key,i.key):function(r,o,a){const s=o.data.field(r),l=a.data.field(r);return s!==null&&l!==null?Nd(s,l):At()}(t.field,e,i);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return At()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t,e){if(t.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ny(e)?"-0":e}}function ZD(t){return{integerValue:""+t}}function qZ(t,e){return MZ(e)?ZD(e):JD(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this._=void 0}}function KZ(t,e,i){return t instanceof W_?function(n,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(i,e):t instanceof sy?eB(t,e):t instanceof ly?tB(t,e):function(n,r){const o=JZ(n,r),a=q3(o)+q3(n.N);return G_(o)&&G_(n.N)?ZD(a):JD(n.k,a)}(t,e)}function XZ(t,e,i){return t instanceof sy?eB(t,e):t instanceof ly?tB(t,e):i}function JZ(t,e){return t instanceof V_?G_(i=e)||function(n){return!!n&&"doubleValue"in n}(i)?e:{integerValue:0}:null;var i}class W_ extends Gw{}class sy extends Gw{constructor(e){super(),this.elements=e}}function eB(t,e){const i=iB(e);for(const n of t.elements)i.some(r=>pa(r,n))||i.push(n);return{arrayValue:{values:i}}}class ly extends Gw{constructor(e){super(),this.elements=e}}function tB(t,e){let i=iB(e);for(const n of t.elements)i=i.filter(r=>!pa(r,n));return{arrayValue:{values:i}}}class V_ extends Gw{constructor(e,i){super(),this.k=e,this.N=i}}function q3(t){return Pi(t.integerValue||t.doubleValue)}function iB(t){return HS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ZZ(t,e){return t.field.isEqual(e.field)&&function(i,n){return i instanceof sy&&n instanceof sy||i instanceof ly&&n instanceof ly?nm(i.elements,n.elements,pa):i instanceof V_&&n instanceof V_?pa(i.N,n.N):i instanceof W_&&n instanceof W_}(t.transform,e.transform)}function iv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class nB{}function eee(t,e,i){t instanceof rB?function(n,r,o){const a=n.value.clone(),s=J3(n.fieldTransforms,r,o.transformResults);a.setAll(s),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,i):t instanceof KS?function(n,r,o){if(!iv(n.precondition,r))return void r.convertToUnknownDocument(o.version);const a=J3(n.fieldTransforms,r,o.transformResults),s=r.data;s.setAll(oB(n)),s.setAll(a),r.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,i):function(n,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,i)}function $_(t,e,i){t instanceof rB?function(n,r,o){if(!iv(n.precondition,r))return;const a=n.value.clone(),s=Z3(n.fieldTransforms,o,r);a.setAll(s),r.convertToFoundDocument(X3(r),a).setHasLocalMutations()}(t,e,i):t instanceof KS?function(n,r,o){if(!iv(n.precondition,r))return;const a=Z3(n.fieldTransforms,o,r),s=r.data;s.setAll(oB(n)),s.setAll(a),r.convertToFoundDocument(X3(r),s).setHasLocalMutations()}(t,e,i):function(n,r){iv(n.precondition,r)&&r.convertToNoDocument(qt.min())}(t,e)}function K3(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,n){return i===void 0&&n===void 0||!(!i||!n)&&nm(i,n,(r,o)=>ZZ(r,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function X3(t){return t.isFoundDocument()?t.version:qt.min()}class rB extends nB{constructor(e,i,n,r=[]){super(),this.key=e,this.value=i,this.precondition=n,this.fieldTransforms=r,this.type=0}}class KS extends nB{constructor(e,i,n,r,o=[]){super(),this.key=e,this.data=i,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}}function oB(t){const e=new Map;return t.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const n=t.data.field(i);e.set(i,n)}}),e}function J3(t,e,i){const n=new Map;Ii(t.length===i.length);for(let r=0;r<i.length;r++){const o=t[r],a=o.transform,s=e.data.field(o.field);n.set(o.field,XZ(a,s,i[r]))}return n}function Z3(t,e,i){const n=new Map;for(const r of t){const o=r.transform,a=i.data.field(r.field);n.set(r.field,KZ(o,a,e))}return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tee{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ri,Rt;function aB(t){if(t===void 0)return gl("GRPC error has no .code"),Ce.UNKNOWN;switch(t){case Ri.OK:return Ce.OK;case Ri.CANCELLED:return Ce.CANCELLED;case Ri.UNKNOWN:return Ce.UNKNOWN;case Ri.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case Ri.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case Ri.INTERNAL:return Ce.INTERNAL;case Ri.UNAVAILABLE:return Ce.UNAVAILABLE;case Ri.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case Ri.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case Ri.NOT_FOUND:return Ce.NOT_FOUND;case Ri.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case Ri.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case Ri.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case Ri.ABORTED:return Ce.ABORTED;case Ri.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case Ri.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case Ri.DATA_LOSS:return Ce.DATA_LOSS;default:return At()}}(Rt=Ri||(Ri={}))[Rt.OK=0]="OK",Rt[Rt.CANCELLED=1]="CANCELLED",Rt[Rt.UNKNOWN=2]="UNKNOWN",Rt[Rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rt[Rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rt[Rt.NOT_FOUND=5]="NOT_FOUND",Rt[Rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rt[Rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rt[Rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rt[Rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rt[Rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rt[Rt.ABORTED=10]="ABORTED",Rt[Rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rt[Rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rt[Rt.INTERNAL=13]="INTERNAL",Rt[Rt.UNAVAILABLE=14]="UNAVAILABLE",Rt[Rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,i){this.comparator=e,this.root=i||un.EMPTY}insert(e,i){return new nr(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const n=this.comparator(e,i.key);if(n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}indexOf(e){let i=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return i+n.left.size;r<0?n=n.left:(i+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,n)=>(e(i,n),!1))}toString(){const e=[];return this.inorderTraversal((i,n)=>(e.push(`${i}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new b0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new b0(this.root,e,this.comparator,!1)}getReverseIterator(){return new b0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new b0(this.root,e,this.comparator,!0)}}class b0{constructor(e,i,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=i?n(e.key,i):1,r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,i,n,r,o){this.key=e,this.value=i,this.color=n!=null?n:un.RED,this.left=r!=null?r:un.EMPTY,this.right=o!=null?o:un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,n,r,o){return new un(e!=null?e:this.key,i!=null?i:this.value,n!=null?n:this.color,r!=null?r:this.left,o!=null?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,i,n),null):o===0?r.copy(null,i,null,null,null):r.copy(null,null,null,null,r.right.insert(e,i,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let n,r=this;if(i(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),i(e,r.key)===0){if(r.right.isEmpty())return un.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw At();const e=this.left.check();if(e!==this.right.check())throw At();return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw At()}get value(){throw At()}get color(){throw At()}get left(){throw At()}get right(){throw At()}copy(t,e,i,n,r){return this}insert(t,e,i){return new un(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.comparator=e,this.data=new nr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,n)=>(e(i),!1))}forEachInRange(e,i){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;i(r.key)}}forEachWhile(e,i){let n;for(n=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new e4(this.data.getIterator())}getIteratorFrom(e){return new e4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(n=>{i=i.add(n)}),i}isEqual(e){if(!(e instanceof gn)||this.size!==e.size)return!1;const i=this.data.getIterator(),n=e.data.getIterator();for(;i.hasNext();){const r=i.getNext().key,o=n.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new gn(this.comparator);return i.data=e,i}}class e4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iee=new nr(st.comparator);function $c(){return iee}const nee=new nr(st.comparator);function Q_(){return nee}new nr(st.comparator);const ree=new gn(st.comparator);function di(...t){let e=ree;for(const i of t)e=e.add(i);return e}const oee=new gn(ei);function sB(){return oee}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,i,n,r,o){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,i){const n=new Map;return n.set(e,ug.createSynthesizedTargetChangeForCurrentChange(e,i)),new Hw(qt.min(),n,sB(),$c(),di())}}class ug{constructor(e,i,n,r,o){this.resumeToken=e,this.current=i,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,i){return new ug(Mn.EMPTY_BYTE_STRING,i,di(),di(),di())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,i,n,r){this.$=e,this.removedTargetIds=i,this.key=n,this.F=r}}class lB{constructor(e,i){this.targetId=e,this.O=i}}class cB{constructor(e,i,n=Mn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=i,this.resumeToken=n,this.cause=r}}class t4{constructor(){this.M=0,this.L=n4(),this.B=Mn.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return this.M!==0}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=di(),i=di(),n=di();return this.L.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:i=i.add(r);break;case 1:n=n.add(r);break;default:At()}}),new ug(this.B,this.U,e,i,n)}H(){this.q=!1,this.L=n4()}J(e,i){this.q=!0,this.L=this.L.insert(e,i)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class aee{constructor(e){this.et=e,this.nt=new Map,this.st=$c(),this.it=i4(),this.rt=new gn(ei)}ot(e){for(const i of e.$)e.F&&e.F.isFoundDocument()?this.at(i,e.F):this.ct(i,e.key,e.F);for(const i of e.removedTargetIds)this.ct(i,e.key,e.F)}ut(e){this.forEachTarget(e,i=>{const n=this.ht(i);switch(e.state){case 0:this.lt(i)&&n.W(e.resumeToken);break;case 1:n.Z(),n.K||n.H(),n.W(e.resumeToken);break;case 2:n.Z(),n.K||this.removeTarget(i);break;case 3:this.lt(i)&&(n.tt(),n.W(e.resumeToken));break;case 4:this.lt(i)&&(this.ft(i),n.W(e.resumeToken));break;default:At()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.nt.forEach((n,r)=>{this.lt(r)&&i(r)})}dt(e){const i=e.targetId,n=e.O.count,r=this.wt(i);if(r){const o=r.target;if(H_(o))if(n===0){const a=new st(o.path);this.ct(i,a,In.newNoDocument(a,qt.min()))}else Ii(n===1);else this._t(i)!==n&&(this.ft(i),this.rt=this.rt.add(i))}}gt(e){const i=new Map;this.nt.forEach((o,a)=>{const s=this.wt(a);if(s){if(o.current&&H_(s.target)){const l=new st(s.target.path);this.st.get(l)!==null||this.yt(a,l)||this.ct(a,l,In.newNoDocument(l,e))}o.j&&(i.set(a,o.G()),o.H())}});let n=di();this.it.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const c=this.wt(l);return!c||c.purpose===2||(s=!1,!1)}),s&&(n=n.add(o))});const r=new Hw(e,i,this.rt,this.st,n);return this.st=$c(),this.it=i4(),this.rt=new gn(ei),r}at(e,i){if(!this.lt(e))return;const n=this.yt(e,i.key)?2:0;this.ht(e).J(i.key,n),this.st=this.st.insert(i.key,i),this.it=this.it.insert(i.key,this.Tt(i.key).add(e))}ct(e,i,n){if(!this.lt(e))return;const r=this.ht(e);this.yt(e,i)?r.J(i,1):r.Y(i),this.it=this.it.insert(i,this.Tt(i).delete(e)),n&&(this.st=this.st.insert(i,n))}removeTarget(e){this.nt.delete(e)}_t(e){const i=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let i=this.nt.get(e);return i||(i=new t4,this.nt.set(e,i)),i}Tt(e){let i=this.it.get(e);return i||(i=new gn(ei),this.it=this.it.insert(e,i)),i}lt(e){const i=this.wt(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}wt(e){const i=this.nt.get(e);return i&&i.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new t4),this.et.getRemoteKeysForTarget(e).forEach(i=>{this.ct(e,i,null)})}yt(e,i){return this.et.getRemoteKeysForTarget(e).has(i)}}function i4(){return new nr(st.comparator)}function n4(){return new nr(st.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const see=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),lee=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class cee{constructor(e,i){this.databaseId=e,this.C=i}}function q_(t,e){return t.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uB(t,e){return t.C?e.toBase64():e.toUint8Array()}function lm(t){return Ii(!!t),qt.fromTimestamp(function(e){const i=bl(e);return new tr(i.seconds,i.nanos)}(t))}function dB(t,e){return function(i){return new si(["projects",i.projectId,"databases",i.database])}(t).child("documents").child(e).canonicalString()}function fB(t){const e=si.fromString(t);return Ii(mB(e)),e}function U1(t,e){const i=fB(e);if(i.get(1)!==t.databaseId.projectId)throw new Ye(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+t.databaseId.projectId);if(i.get(3)!==t.databaseId.database)throw new Ye(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+t.databaseId.database);return new st(pB(i))}function K_(t,e){return dB(t.databaseId,e)}function uee(t){const e=fB(t);return e.length===4?si.emptyPath():pB(e)}function r4(t){return new si(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pB(t){return Ii(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function dee(t,e){let i;if("targetChange"in e){e.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:At()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(l,c){return l.C?(Ii(c===void 0||typeof c=="string"),Mn.fromBase64String(c||"")):(Ii(c===void 0||c instanceof Uint8Array),Mn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(l){const c=l.code===void 0?Ce.UNKNOWN:aB(l.code);return new Ye(c,l.message||"")}(a);i=new cB(n,r,o,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const r=U1(t,n.document.name),o=lm(n.document.updateTime),a=new Ja({mapValue:{fields:n.document.fields}}),s=In.newFoundDocument(r,o,a),l=n.targetIds||[],c=n.removedTargetIds||[];i=new nv(l,c,s.key,s)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const r=U1(t,n.document),o=n.readTime?lm(n.readTime):qt.min(),a=In.newNoDocument(r,o),s=n.removedTargetIds||[];i=new nv([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const r=U1(t,n.document),o=n.removedTargetIds||[];i=new nv([],o,r,null)}else{if(!("filter"in e))return At();{e.filter;const n=e.filter;n.targetId;const r=n.count||0,o=new tee(r),a=n.targetId;i=new lB(a,o)}}return i}function fee(t,e){return{documents:[K_(t,e.path)]}}function pee(t,e){const i={structuredQuery:{}},n=e.path;e.collectionGroup!==null?(i.parent=K_(t,n),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=K_(t,n.popLast()),i.structuredQuery.from=[{collectionId:n.lastSegment()}]);const r=function(s){if(s.length===0)return;const l=s.map(c=>function(d){if(d.op==="=="){if(W3(d.value))return{unaryFilter:{field:ju(d.field),op:"IS_NAN"}};if(Y3(d.value))return{unaryFilter:{field:ju(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(W3(d.value))return{unaryFilter:{field:ju(d.field),op:"IS_NOT_NAN"}};if(Y3(d.value))return{unaryFilter:{field:ju(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ju(d.field),op:bee(d.op),value:d.value}}}(c));return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);r&&(i.structuredQuery.where=r);const o=function(s){if(s.length!==0)return s.map(l=>function(c){return{field:ju(c.field),direction:gee(c.dir)}}(l))}(e.orderBy);o&&(i.structuredQuery.orderBy=o);const a=function(s,l){return s.C||Ef(l)?l:{value:l}}(t,e.limit);return a!==null&&(i.structuredQuery.limit=a),e.startAt&&(i.structuredQuery.startAt=o4(e.startAt)),e.endAt&&(i.structuredQuery.endAt=o4(e.endAt)),i}function hee(t){let e=uee(t.parent);const i=t.structuredQuery,n=i.from?i.from.length:0;let r=null;if(n>0){Ii(n===1);const d=i.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let o=[];i.where&&(o=hB(i.where));let a=[];i.orderBy&&(a=i.orderBy.map(d=>function(p){return new Ad(sd(p.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d)));let s=null;i.limit&&(s=function(d){let p;return p=typeof d=="object"?d.value:d,Ef(p)?null:p}(i.limit));let l=null;i.startAt&&(l=a4(i.startAt));let c=null;return i.endAt&&(c=a4(i.endAt)),$Z(e,r,a,o,s,"F",l,c)}function mee(t,e){const i=function(n,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return At()}}(0,e.purpose);return i==null?null:{"goog-listen-tags":i}}function hB(t){return t?t.unaryFilter!==void 0?[yee(t)]:t.fieldFilter!==void 0?[vee(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>hB(e)).reduce((e,i)=>e.concat(i)):At():[]}function o4(t){return{before:t.before,values:t.position}}function a4(t){const e=!!t.before,i=t.values||[];return new sm(i,e)}function gee(t){return see[t]}function bee(t){return lee[t]}function ju(t){return{fieldPath:t.canonicalString()}}function sd(t){return lo.fromServerFormat(t.fieldPath)}function vee(t){return er.create(sd(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return At()}}(t.fieldFilter.op),t.fieldFilter.value)}function yee(t){switch(t.unaryFilter.op){case"IS_NAN":const e=sd(t.unaryFilter.field);return er.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=sd(t.unaryFilter.field);return er.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=sd(t.unaryFilter.field);return er.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=sd(t.unaryFilter.field);return er.create(r,"!=",{nullValue:"NULL_VALUE"});default:return At()}}function mB(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}const wee="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Aee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&At(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $e((n,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,r)},this.catchCallback=o=>{this.wrapFailure(i,o).next(n,r)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof $e?i:$e.resolve(i)}catch(i){return $e.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):$e.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):$e.reject(i)}static resolve(e){return new $e((i,n)=>{i(e)})}static reject(e){return new $e((i,n)=>{n(e)})}static waitFor(e){return new $e((i,n)=>{let r=0,o=0,a=!1;e.forEach(s=>{++r,s.next(()=>{++o,a&&o===r&&i()},l=>n(l))}),a=!0,o===r&&i()})}static or(e){let i=$e.resolve(!1);for(const n of e)i=i.next(r=>r?$e.resolve(r):n());return i}static forEach(e,i){const n=[];return e.forEach((r,o)=>{n.push(i.call(this,r,o))}),this.waitFor(n)}}function dg(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xee{constructor(e,i,n,r){this.batchId=e,this.localWriteTime=i,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,i){const n=i.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&eee(o,e,n[r])}}applyToLocalView(e){for(const i of this.baseMutations)i.key.isEqual(e.key)&&$_(i,e,this.localWriteTime);for(const i of this.mutations)i.key.isEqual(e.key)&&$_(i,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(i=>{const n=e.get(i.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(qt.min())})}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),di())}isEqual(e){return this.batchId===e.batchId&&nm(this.mutations,e.mutations,(i,n)=>K3(i,n))&&nm(this.baseMutations,e.baseMutations,(i,n)=>K3(i,n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,i,n,r,o=qt.min(),a=qt.min(),s=Mn.EMPTY_BYTE_STRING){this.target=e,this.targetId=i,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s}withSequenceNumber(e){return new Cc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,i){return new Cc(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Cc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kee{constructor(e){this.Gt=e}}function _ee(t){const e=hee({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qD(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tee{constructor(){this.zt=new See}addToCollectionParentIndex(e,i){return this.zt.add(i),$e.resolve()}getCollectionParents(e,i){return $e.resolve(this.zt.getEntries(i))}}class See{constructor(){this.index={}}add(e){const i=e.lastSegment(),n=e.popLast(),r=this.index[i]||new gn(si.comparator),o=!r.has(n);return this.index[i]=r.add(n),o}has(e){const i=e.lastSegment(),n=e.popLast(),r=this.index[i];return r&&r.has(n)}getEntries(e){return(this.index[e]||new gn(si.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Ud(0)}static re(){return new Ud(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XS(t){if(t.code!==Ce.FAILED_PRECONDITION||t.message!==wee)throw t;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={}}get(e){const i=this.mapKeyFn(e),n=this.inner[i];if(n!==void 0){for(const[r,o]of n)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,i){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,i]);r.push([e,i])}else this.inner[n]=[[e,i]]}delete(e){const i=this.mapKeyFn(e),n=this.inner[i];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[i]:n.splice(r,1),!0;return!1}forEach(e){cg(this.inner,(i,n)=>{for(const[r,o]of n)e(r,o)})}isEmpty(){return VD(this.inner)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cee{constructor(){this.changes=new fg(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}getReadTime(e){const i=this.changes.get(e);return i?i.readTime:qt.min()}addEntry(e,i){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:i})}removeEntry(e,i=null){this.assertNotApplied(),this.changes.set(e,{document:In.newInvalidDocument(e),readTime:i})}getEntry(e,i){this.assertNotApplied();const n=this.changes.get(i);return n!==void 0?$e.resolve(n.document):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e,i,n){this.Je=e,this.An=i,this.Jt=n}Rn(e,i){return this.An.getAllMutationBatchesAffectingDocumentKey(e,i).next(n=>this.Pn(e,i,n))}Pn(e,i,n){return this.Je.getEntry(e,i).next(r=>{for(const o of n)o.applyToLocalView(r);return r})}bn(e,i){e.forEach((n,r)=>{for(const o of i)o.applyToLocalView(r)})}vn(e,i){return this.Je.getEntries(e,i).next(n=>this.Vn(e,n).next(()=>n))}Vn(e,i){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,i).next(n=>this.bn(i,n))}getDocumentsMatchingQuery(e,i,n){return function(r){return st.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(i)?this.Sn(e,i.path):qS(i)?this.Dn(e,i,n):this.Cn(e,i,n)}Sn(e,i){return this.Rn(e,new st(i)).next(n=>{let r=Q_();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}Dn(e,i,n){const r=i.collectionGroup;let o=Q_();return this.Jt.getCollectionParents(e,r).next(a=>$e.forEach(a,s=>{const l=function(c,d){return new au(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(i,s.child(r));return this.Cn(e,l,n).next(c=>{c.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}Cn(e,i,n){let r,o;return this.Je.getDocumentsMatchingQuery(e,i,n).next(a=>(r=a,this.An.getAllMutationBatchesAffectingQuery(e,i))).next(a=>(o=a,this.Nn(e,o,r).next(s=>{r=s;for(const l of o)for(const c of l.mutations){const d=c.key;let p=r.get(d);p==null&&(p=In.newInvalidDocument(d),r=r.insert(d,p)),$_(c,p,l.localWriteTime),p.isFoundDocument()||(r=r.remove(d))}}))).next(()=>(r.forEach((a,s)=>{Uw(i,s)||(r=r.remove(a))}),r))}Nn(e,i,n){let r=di();for(const a of i)for(const s of a.mutations)s instanceof KS&&n.get(s.key)===null&&(r=r.add(s.key));let o=n;return this.Je.getEntries(e,r).next(a=>(a.forEach((s,l)=>{l.isFoundDocument()&&(o=o.insert(s,l))}),o))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,i,n,r){this.targetId=e,this.fromCache=i,this.kn=n,this.xn=r}static $n(e,i){let n=di(),r=di();for(const o of i.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new JS(e,i.fromCache,n,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eee{Fn(e){this.On=e}getDocumentsMatchingQuery(e,i,n,r){return function(o){return o.filters.length===0&&o.limit===null&&o.startAt==null&&o.endAt==null&&(o.explicitOrderBy.length===0||o.explicitOrderBy.length===1&&o.explicitOrderBy[0].field.isKeyField())}(i)||n.isEqual(qt.min())?this.Mn(e,i):this.On.vn(e,r).next(o=>{const a=this.Ln(i,o);return(tv(i)||ay(i))&&this.Bn(i.limitType,a,r,n)?this.Mn(e,i):(j3()<=Yt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Y_(i)),this.On.getDocumentsMatchingQuery(e,i,n).next(s=>(a.forEach(l=>{s=s.insert(l.key,l)}),s)))})}Ln(e,i){let n=new gn(XD(e));return i.forEach((r,o)=>{Uw(e,o)&&(n=n.add(o))}),n}Bn(e,i,n,r){if(n.size!==i.size)return!0;const o=e==="F"?i.last():i.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Mn(e,i){return j3()<=Yt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Y_(i)),this.On.getDocumentsMatchingQuery(e,i,qt.min())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zee{constructor(e,i,n,r){this.persistence=e,this.Un=i,this.k=r,this.qn=new nr(ei),this.Kn=new fg(o=>YS(o),WS),this.jn=qt.min(),this.An=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new gB(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.qn))}}function Iee(t,e,i,n){return new zee(t,e,i,n)}async function bB(t,e){const i=Bt(t);let n=i.An,r=i.Wn;const o=await i.persistence.runTransaction("Handle user change","readonly",a=>{let s;return i.An.getAllMutationBatches(a).next(l=>(s=l,n=i.persistence.getMutationQueue(e),r=new gB(i.Qn,n,i.persistence.getIndexManager()),n.getAllMutationBatches(a))).next(l=>{const c=[],d=[];let p=di();for(const h of s){c.push(h.batchId);for(const m of h.mutations)p=p.add(m.key)}for(const h of l){d.push(h.batchId);for(const m of h.mutations)p=p.add(m.key)}return r.vn(a,p).next(h=>({Gn:h,removedBatchIds:c,addedBatchIds:d}))})});return i.An=n,i.Wn=r,i.Un.Fn(i.Wn),o}function vB(t){const e=Bt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.He.getLastRemoteSnapshotVersion(i))}function Ree(t,e){const i=Bt(t),n=e.snapshotVersion;let r=i.qn;return i.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=i.Qn.newChangeBuffer({trackRemovals:!0});r=i.qn;const s=[];e.targetChanges.forEach((c,d)=>{const p=r.get(d);if(!p)return;s.push(i.He.removeMatchingKeys(o,c.removedDocuments,d).next(()=>i.He.addMatchingKeys(o,c.addedDocuments,d)));const h=c.resumeToken;if(h.approximateByteSize()>0){const m=p.withResumeToken(h,n).withSequenceNumber(o.currentSequenceNumber);r=r.insert(d,m),function(y,w,g){return Ii(w.resumeToken.approximateByteSize()>0),y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(p,m,c)&&s.push(i.He.updateTargetData(o,m))}});let l=$c();if(e.documentUpdates.forEach((c,d)=>{e.resolvedLimboDocuments.has(c)&&s.push(i.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(Pee(o,a,e.documentUpdates,n,void 0).next(c=>{l=c})),!n.isEqual(qt.min())){const c=i.He.getLastRemoteSnapshotVersion(o).next(d=>i.He.setTargetsMetadata(o,o.currentSequenceNumber,n));s.push(c)}return $e.waitFor(s).next(()=>a.apply(o)).next(()=>i.Wn.Vn(o,l)).next(()=>l)}).then(o=>(i.qn=r,o))}function Pee(t,e,i,n,r){let o=di();return i.forEach(a=>o=o.add(a)),e.getEntries(t,o).next(a=>{let s=$c();return i.forEach((l,c)=>{const d=a.get(l),p=(r==null?void 0:r.get(l))||n;c.isNoDocument()&&c.version.isEqual(qt.min())?(e.removeEntry(l,p),s=s.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c,p),s=s.insert(l,c)):it("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),s})}function Lee(t,e){const i=Bt(t);return i.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return i.He.getTargetData(n,e).next(o=>o?(r=o,$e.resolve(r)):i.He.allocateTargetId(n).next(a=>(r=new Cc(e,a,0,n.currentSequenceNumber),i.He.addTargetData(n,r).next(()=>r))))}).then(n=>{const r=i.qn.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(i.qn=i.qn.insert(n.targetId,n),i.Kn.set(e,n.targetId)),n})}async function X_(t,e,i){const n=Bt(t),r=n.qn.get(e),o=i?"readwrite":"readwrite-primary";try{i||await n.persistence.runTransaction("Release target",o,a=>n.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!dg(a))throw a;it("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.qn=n.qn.remove(e),n.Kn.delete(r.target)}function s4(t,e,i){const n=Bt(t);let r=qt.min(),o=di();return n.persistence.runTransaction("Execute query","readonly",a=>function(s,l,c){const d=Bt(s),p=d.Kn.get(c);return p!==void 0?$e.resolve(d.qn.get(p)):d.He.getTargetData(l,c)}(n,a,Vc(e)).next(s=>{if(s)return r=s.lastLimboFreeSnapshotVersion,n.He.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>n.Un.getDocumentsMatchingQuery(a,e,i?r:qt.min(),i?o:di())).next(s=>({documents:s,zn:o})))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oee{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,i){return $e.resolve(this.Xn.get(i))}saveBundleMetadata(e,i){var n;return this.Xn.set(i.id,{id:(n=i).id,version:n.version,createTime:lm(n.createTime)}),$e.resolve()}getNamedQuery(e,i){return $e.resolve(this.Zn.get(i))}saveNamedQuery(e,i){return this.Zn.set(i.name,function(n){return{name:n.name,query:_ee(n.bundledQuery),readTime:lm(n.readTime)}}(i)),$e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.ts=new gn($i.es),this.ns=new gn($i.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,i){const n=new $i(e,i);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}rs(e,i){e.forEach(n=>this.addReference(n,i))}removeReference(e,i){this.os(new $i(e,i))}cs(e,i){e.forEach(n=>this.removeReference(n,i))}us(e){const i=new st(new si([])),n=new $i(i,e),r=new $i(i,e+1),o=[];return this.ns.forEachInRange([n,r],a=>{this.os(a),o.push(a.key)}),o}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const i=new st(new si([])),n=new $i(i,e),r=new $i(i,e+1);let o=di();return this.ns.forEachInRange([n,r],a=>{o=o.add(a.key)}),o}containsKey(e){const i=new $i(e,0),n=this.ts.firstAfterOrEqual(i);return n!==null&&e.isEqual(n.key)}}class $i{constructor(e,i){this.key=e,this.fs=i}static es(e,i){return st.comparator(e.key,i.key)||ei(e.fs,i.fs)}static ss(e,i){return ei(e.fs,i.fs)||st.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mee{constructor(e,i){this.Jt=e,this.referenceDelegate=i,this.An=[],this.ds=1,this.ws=new gn($i.es)}checkEmpty(e){return $e.resolve(this.An.length===0)}addMutationBatch(e,i,n,r){const o=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];const a=new xee(o,i,n,r);this.An.push(a);for(const s of r)this.ws=this.ws.add(new $i(s.key,o)),this.Jt.addToCollectionParentIndex(e,s.key.path.popLast());return $e.resolve(a)}lookupMutationBatch(e,i){return $e.resolve(this._s(i))}getNextMutationBatchAfterBatchId(e,i){const n=i+1,r=this.gs(n),o=r<0?0:r;return $e.resolve(this.An.length>o?this.An[o]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(this.An.length===0?-1:this.ds-1)}getAllMutationBatches(e){return $e.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const n=new $i(i,0),r=new $i(i,Number.POSITIVE_INFINITY),o=[];return this.ws.forEachInRange([n,r],a=>{const s=this._s(a.fs);o.push(s)}),$e.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,i){let n=new gn(ei);return i.forEach(r=>{const o=new $i(r,0),a=new $i(r,Number.POSITIVE_INFINITY);this.ws.forEachInRange([o,a],s=>{n=n.add(s.fs)})}),$e.resolve(this.ys(n))}getAllMutationBatchesAffectingQuery(e,i){const n=i.path,r=n.length+1;let o=n;st.isDocumentKey(o)||(o=o.child(""));const a=new $i(new st(o),0);let s=new gn(ei);return this.ws.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===r&&(s=s.add(l.fs)),!0)},a),$e.resolve(this.ys(s))}ys(e){const i=[];return e.forEach(n=>{const r=this._s(n);r!==null&&i.push(r)}),i}removeMutationBatch(e,i){Ii(this.ps(i.batchId,"removed")===0),this.An.shift();let n=this.ws;return $e.forEach(i.mutations,r=>{const o=new $i(r.key,i.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ws=n})}ee(e){}containsKey(e,i){const n=new $i(i,0),r=this.ws.firstAfterOrEqual(n);return $e.resolve(i.isEqual(r&&r.key))}performConsistencyCheck(e){return this.An.length,$e.resolve()}ps(e,i){return this.gs(e)}gs(e){return this.An.length===0?0:e-this.An[0].batchId}_s(e){const i=this.gs(e);return i<0||i>=this.An.length?null:this.An[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dee{constructor(e,i){this.Jt=e,this.Ts=i,this.docs=new nr(st.comparator),this.size=0}addEntry(e,i,n){const r=i.key,o=this.docs.get(r),a=o?o.size:0,s=this.Ts(i);return this.docs=this.docs.insert(r,{document:i.clone(),size:s,readTime:n}),this.size+=s-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const n=this.docs.get(i);return $e.resolve(n?n.document.clone():In.newInvalidDocument(i))}getEntries(e,i){let n=$c();return i.forEach(r=>{const o=this.docs.get(r);n=n.insert(r,o?o.document.clone():In.newInvalidDocument(r))}),$e.resolve(n)}getDocumentsMatchingQuery(e,i,n){let r=$c();const o=new st(i.path.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:s,value:{document:l,readTime:c}}=a.getNext();if(!i.path.isPrefixOf(s.path))break;c.compareTo(n)<=0||Uw(i,l)&&(r=r.insert(l.key,l.clone()))}return $e.resolve(r)}Es(e,i){return $e.forEach(this.docs,n=>i(n))}newChangeBuffer(e){return new Bee(this)}getSize(e){return $e.resolve(this.size)}}class Bee extends Cee{constructor(e){super(),this.De=e}applyChanges(e){const i=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?i.push(this.De.addEntry(e,r.document,this.getReadTime(n))):this.De.removeEntry(n)}),$e.waitFor(i)}getFromCache(e,i){return this.De.getEntry(e,i)}getAllFromCache(e,i){return this.De.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fee{constructor(e){this.persistence=e,this.Is=new fg(i=>YS(i),WS),this.lastRemoteSnapshotVersion=qt.min(),this.highestTargetId=0,this.As=0,this.Rs=new ZS,this.targetCount=0,this.Ps=Ud.ie()}forEachTarget(e,i){return this.Is.forEach((n,r)=>i(r)),$e.resolve()}getLastRemoteSnapshotVersion(e){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $e.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(e,i,n){return n&&(this.lastRemoteSnapshotVersion=n),i>this.As&&(this.As=i),$e.resolve()}ce(e){this.Is.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ps=new Ud(i),this.highestTargetId=i),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,i){return this.ce(i),this.targetCount+=1,$e.resolve()}updateTargetData(e,i){return this.ce(i),$e.resolve()}removeTargetData(e,i){return this.Is.delete(i.target),this.Rs.us(i.targetId),this.targetCount-=1,$e.resolve()}removeTargets(e,i,n){let r=0;const o=[];return this.Is.forEach((a,s)=>{s.sequenceNumber<=i&&n.get(s.targetId)===null&&(this.Is.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),$e.waitFor(o).next(()=>r)}getTargetCount(e){return $e.resolve(this.targetCount)}getTargetData(e,i){const n=this.Is.get(i)||null;return $e.resolve(n)}addMatchingKeys(e,i,n){return this.Rs.rs(i,n),$e.resolve()}removeMatchingKeys(e,i,n){this.Rs.cs(i,n);const r=this.persistence.referenceDelegate,o=[];return r&&i.forEach(a=>{o.push(r.markPotentiallyOrphaned(e,a))}),$e.waitFor(o)}removeMatchingKeysForTargetId(e,i){return this.Rs.us(i),$e.resolve()}getMatchingKeysForTargetId(e,i){const n=this.Rs.ls(i);return $e.resolve(n)}containsKey(e,i){return $e.resolve(this.Rs.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nee{constructor(e,i){this.bs={},this.Be=new jS(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new Fee(this),this.Jt=new Tee,this.Je=function(n,r){return new Dee(n,r)}(this.Jt,n=>this.referenceDelegate.vs(n)),this.k=new kee(i),this.Ye=new Oee(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let i=this.bs[e.toKey()];return i||(i=new Mee(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=i),i}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,i,n){it("MemoryPersistence","Starting transaction:",e);const r=new jee(this.Be.next());return this.referenceDelegate.Vs(),n(r).next(o=>this.referenceDelegate.Ss(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ds(e,i){return $e.or(Object.values(this.bs).map(n=>()=>n.containsKey(e,i)))}}class jee extends Aee{constructor(e){super(),this.currentSequenceNumber=e}}class eC{constructor(e){this.persistence=e,this.Cs=new ZS,this.Ns=null}static ks(e){return new eC(e)}get xs(){if(this.Ns)return this.Ns;throw At()}addReference(e,i,n){return this.Cs.addReference(n,i),this.xs.delete(n.toString()),$e.resolve()}removeReference(e,i,n){return this.Cs.removeReference(n,i),this.xs.add(n.toString()),$e.resolve()}markPotentiallyOrphaned(e,i){return this.xs.add(i.toString()),$e.resolve()}removeTarget(e,i){this.Cs.us(i.targetId).forEach(r=>this.xs.add(r.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,i.targetId).next(r=>{r.forEach(o=>this.xs.add(o.toString()))}).next(()=>n.removeTargetData(e,i))}Vs(){this.Ns=new Set}Ss(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.xs,n=>{const r=st.fromPath(n);return this.$s(e,r).next(o=>{o||i.removeEntry(r)})}).next(()=>(this.Ns=null,i.apply(e)))}updateLimboDocument(e,i){return this.$s(e,i).next(n=>{n?this.xs.delete(i.toString()):this.xs.add(i.toString())})}vs(e){return 0}$s(e,i){return $e.or([()=>$e.resolve(this.Cs.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ds(e,i)])}}class l4{constructor(){this.activeTargetIds=sB()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uee{constructor(){this.pi=new l4,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,n){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,i,n){this.Ti[e]=i}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new l4,Promise.resolve()}handleUserChange(e,i,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gee{Ei(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){it("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){it("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yee{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wee extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http";this.Mi=i+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,i,n,r,o){const a=this.Ui(e,i);it("RestConnection","Sending: ",a,n);const s={};return this.qi(s,r,o),this.Ki(e,a,s,n).then(l=>(it("RestConnection","Received: ",l),l),l=>{throw U3("RestConnection",`${e} failed with error: `,l,"url: ",a,"request:",n),l})}ji(e,i,n,r,o){return this.Bi(e,i,n,r,o)}qi(e,i,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,o)=>e[o]=r),n&&n.headers.forEach((r,o)=>e[o]=r)}Ui(e,i){const n=Hee[e];return`${this.Mi}/v1/${i}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,i,n,r){return new Promise((o,a)=>{const s=new _Z;s.listenOnce(AZ.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case N1.NO_ERROR:const c=s.getResponseJson();it("Connection","XHR received:",JSON.stringify(c)),o(c);break;case N1.TIMEOUT:it("Connection",'RPC "'+e+'" timed out'),a(new Ye(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case N1.HTTP_ERROR:const d=s.getStatus();if(it("Connection",'RPC "'+e+'" failed with status:',d,"response text:",s.getResponseText()),d>0){const p=s.getResponseJson().error;if(p&&p.status&&p.message){const h=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(y)>=0?y:Ce.UNKNOWN}(p.status);a(new Ye(h,p.message))}else a(new Ye(Ce.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Ye(Ce.UNAVAILABLE,"Connection failed."));break;default:At()}}finally{it("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(r);s.send(i,"POST",l,n,15)})}Qi(e,i,n){const r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=yZ(),a=wZ(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new kZ({})),this.qi(s.initMessageHeaders,i,n),kX()||TX()||SX()||CX()||EX()||_X()||(s.httpHeadersOverwriteParam="$httpHeaders");const l=r.join("");it("Connection","Creating WebChannel: "+l,s);const c=o.createWebChannel(l,s);let d=!1,p=!1;const h=new Yee({Vi:y=>{p?it("Connection","Not sending because WebChannel is closed:",y):(d||(it("Connection","Opening WebChannel transport."),c.open(),d=!0),it("Connection","WebChannel sending:",y),c.send(y))},Si:()=>c.close()}),m=(y,w,g)=>{y.listen(w,A=>{try{g(A)}catch(x){setTimeout(()=>{throw x},0)}})};return m(c,g0.EventType.OPEN,()=>{p||it("Connection","WebChannel transport opened.")}),m(c,g0.EventType.CLOSE,()=>{p||(p=!0,it("Connection","WebChannel transport closed"),h.Fi())}),m(c,g0.EventType.ERROR,y=>{p||(p=!0,U3("Connection","WebChannel transport errored:",y),h.Fi(new Ye(Ce.UNAVAILABLE,"The operation could not be completed")))}),m(c,g0.EventType.MESSAGE,y=>{var w;if(!p){const g=y.data[0];Ii(!!g);const A=g,x=A.error||((w=A[0])===null||w===void 0?void 0:w.error);if(x){it("Connection","WebChannel received error:",x);const T=x.status;let E=function(M){const B=Ri[M];if(B!==void 0)return aB(B)}(T),z=x.message;E===void 0&&(E=Ce.INTERNAL,z="Unknown error status: "+T+" with message "+x.message),p=!0,h.Fi(new Ye(E,z)),c.close()}else it("Connection","WebChannel received:",g),h.Oi(g)}}),m(a,xZ.STAT_EVENT,y=>{y.stat===F3.PROXY?it("Connection","Detected buffering proxy"):y.stat===F3.NOPROXY&&it("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.$i()},0),h}}function G1(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(t){return new cee(t,!0)}class yB{constructor(e,i,n=1e3,r=1.5,o=6e4){this.Oe=e,this.timerId=i,this.Wi=n,this.Gi=r,this.zi=o,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const i=Math.floor(this.Hi+this.tr()),n=Math.max(0,Date.now()-this.Yi),r=Math.max(0,i-n);r>0&&it("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${i} ms, last attempt: ${n} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){this.Ji!==null&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){this.Ji!==null&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vee{constructor(e,i,n,r,o,a,s,l){this.Oe=e,this.nr=n,this.sr=r,this.ir=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new yB(e,i)}hr(){return this.state===1||this.state===5||this.lr()}lr(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.dr()}async stop(){this.hr()&&await this.close(0)}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&this.ar===null&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}async mr(){if(this.lr())return this.close(0)}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}async close(e,i){this.yr(),this.pr(),this.ur.cancel(),this.rr++,e!==4?this.ur.reset():i&&i.code===Ce.RESOURCE_EXHAUSTED?(gl(i.toString()),gl("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):i&&i.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Tr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ni(i)}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),i=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.rr===i&&this.Ir(n,r)},n=>{e(()=>{const r=new Ye(Ce.UNKNOWN,"Fetching auth token failed: "+n.message);return this.Ar(r)})})}Ir(e,i){const n=this.Er(this.rr);this.stream=this.Rr(e,i),this.stream.Di(()=>{n(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(r=>{n(()=>this.Ar(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}dr(){this.state=5,this.ur.Zi(async()=>{this.state=0,this.start()})}Ar(e){return it("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return i=>{this.Oe.enqueueAndForget(()=>this.rr===e?i():(it("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $ee extends Vee{constructor(e,i,n,r,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,n,r,a),this.k=o}Rr(e,i){return this.ir.Qi("Listen",e,i)}onMessage(e){this.ur.reset();const i=dee(this.k,e),n=function(r){if(!("targetChange"in r))return qt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?qt.min():o.readTime?lm(o.readTime):qt.min()}(e);return this.listener.Pr(i,n)}br(e){const i={};i.database=r4(this.k),i.addTarget=function(r,o){let a;const s=o.target;return a=H_(s)?{documents:fee(r,s)}:{query:pee(r,s)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?a.resumeToken=uB(r,o.resumeToken):o.snapshotVersion.compareTo(qt.min())>0&&(a.readTime=q_(r,o.snapshotVersion.toTimestamp())),a}(this.k,e);const n=mee(this.k,e);n&&(i.labels=n),this.gr(i)}vr(e){const i={};i.database=r4(this.k),i.removeTarget=e,this.gr(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee extends class{}{constructor(e,i,n,r){super(),this.authCredentials=e,this.appCheckCredentials=i,this.ir=n,this.k=r,this.$r=!1}Fr(){if(this.$r)throw new Ye(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,i,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.ir.Bi(e,i,n,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ye(Ce.UNKNOWN,r.toString())})}ji(e,i,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.ir.ji(e,i,n,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ye(Ce.UNKNOWN,r.toString())})}terminate(){this.$r=!0}}class qee{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){this.Or===0&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){this.state==="Online"?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,e==="Online"&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(gl(i),this.Lr=!1):it("OnlineStateTracker",i)}jr(){this.Mr!==null&&(this.Mr.cancel(),this.Mr=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kee{constructor(e,i,n,r,o){this.localStore=e,this.datastore=i,this.asyncQueue=n,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=o,this.Hr.Ei(a=>{n.enqueueAndForget(async()=>{hg(this)&&(it("RemoteStore","Restarting streams for network reachability change."),await async function(s){const l=Bt(s);l.Gr.add(4),await pg(l),l.Jr.set("Unknown"),l.Gr.delete(4),await Ww(l)}(this))})}),this.Jr=new qee(n,r)}}async function Ww(t){if(hg(t))for(const e of t.zr)await e(!0)}async function pg(t){for(const e of t.zr)await e(!1)}function wB(t,e){const i=Bt(t);i.Wr.has(e.targetId)||(i.Wr.set(e.targetId,e),nC(i)?iC(i):zf(i).lr()&&tC(i,e))}function AB(t,e){const i=Bt(t),n=zf(i);i.Wr.delete(e),n.lr()&&xB(i,e),i.Wr.size===0&&(n.lr()?n._r():hg(i)&&i.Jr.set("Unknown"))}function tC(t,e){t.Yr.X(e.targetId),zf(t).br(e)}function xB(t,e){t.Yr.X(e),zf(t).vr(e)}function iC(t){t.Yr=new aee({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Wr.get(e)||null}),zf(t).start(),t.Jr.Br()}function nC(t){return hg(t)&&!zf(t).hr()&&t.Wr.size>0}function hg(t){return Bt(t).Gr.size===0}function kB(t){t.Yr=void 0}async function Xee(t){t.Wr.forEach((e,i)=>{tC(t,e)})}async function Jee(t,e){kB(t),nC(t)?(t.Jr.Kr(e),iC(t)):t.Jr.set("Unknown")}async function Zee(t,e,i){if(t.Jr.set("Online"),e instanceof cB&&e.state===2&&e.cause)try{await async function(n,r){const o=r.cause;for(const a of r.targetIds)n.Wr.has(a)&&(await n.remoteSyncer.rejectListen(a,o),n.Wr.delete(a),n.Yr.removeTarget(a))}(t,e)}catch(n){it("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await u4(t,n)}else if(e instanceof nv?t.Yr.ot(e):e instanceof lB?t.Yr.dt(e):t.Yr.ut(e),!i.isEqual(qt.min()))try{const n=await vB(t.localStore);i.compareTo(n)>=0&&await function(r,o){const a=r.Yr.gt(o);return a.targetChanges.forEach((s,l)=>{if(s.resumeToken.approximateByteSize()>0){const c=r.Wr.get(l);c&&r.Wr.set(l,c.withResumeToken(s.resumeToken,o))}}),a.targetMismatches.forEach(s=>{const l=r.Wr.get(s);if(!l)return;r.Wr.set(s,l.withResumeToken(Mn.EMPTY_BYTE_STRING,l.snapshotVersion)),xB(r,s);const c=new Cc(l.target,s,1,l.sequenceNumber);tC(r,c)}),r.remoteSyncer.applyRemoteEvent(a)}(t,i)}catch(n){it("RemoteStore","Failed to raise snapshot:",n),await u4(t,n)}}async function u4(t,e,i){if(!dg(e))throw e;t.Gr.add(1),await pg(t),t.Jr.set("Offline"),i||(i=()=>vB(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{it("RemoteStore","Retrying IndexedDB access"),await i(),t.Gr.delete(1),await Ww(t)})}async function ete(t,e){const i=Bt(t);e?(i.Gr.delete(2),await Ww(i)):e||(i.Gr.add(2),await pg(i),i.Jr.set("Unknown"))}function zf(t){return t.Xr||(t.Xr=function(e,i,n){const r=Bt(e);return r.Fr(),new $ee(i,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(t.datastore,t.asyncQueue,{Di:Xee.bind(null,t),Ni:Jee.bind(null,t),Pr:Zee.bind(null,t)}),t.zr.push(async e=>{e?(t.Xr.wr(),nC(t)?iC(t):t.Jr.set("Unknown")):(await t.Xr.stop(),kB(t))})),t.Xr}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,i,n,r,o){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new ll,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,i,n,r,o){const a=Date.now()+n,s=new rC(e,i,a,r,o);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ye(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _B(t,e){if(gl("AsyncQueue",`${e}: ${t}`),dg(t))return new Ye(Ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this.comparator=e?(i,n)=>e(i,n)||st.comparator(i.key,n.key):(i,n)=>st.comparator(i.key,n.key),this.keyedMap=Q_(),this.sortedSet=new nr(this.comparator)}static emptySet(e){return new xd(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,n)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof xd)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;i.hasNext();){const r=i.getNext().key,o=n.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const n=new xd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=i,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.eo=new nr(st.comparator)}track(e){const i=e.doc.key,n=this.eo.get(i);n?e.type!==0&&n.type===3?this.eo=this.eo.insert(i,e):e.type===3&&n.type!==1?this.eo=this.eo.insert(i,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.eo=this.eo.insert(i,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.eo=this.eo.insert(i,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.eo=this.eo.remove(i):e.type===1&&n.type===2?this.eo=this.eo.insert(i,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.eo=this.eo.insert(i,{type:2,doc:e.doc}):At():this.eo=this.eo.insert(i,e)}no(){const e=[];return this.eo.inorderTraversal((i,n)=>{e.push(n)}),e}}class Gd{constructor(e,i,n,r,o,a,s,l){this.query=e,this.docs=i,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l}static fromInitialDocuments(e,i,n,r){const o=[];return i.forEach(a=>{o.push({type:0,doc:a})}),new Gd(e,i,xd.emptySet(i),o,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,n=e.docChanges;if(i.length!==n.length)return!1;for(let r=0;r<i.length;r++)if(i[r].type!==n[r].type||!i[r].doc.isEqual(n[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tte{constructor(){this.so=void 0,this.listeners=[]}}class ite{constructor(){this.queries=new fg(e=>KD(e),jw),this.onlineState="Unknown",this.io=new Set}}async function TB(t,e){const i=Bt(t),n=e.query;let r=!1,o=i.queries.get(n);if(o||(r=!0,o=new tte),r)try{o.so=await i.onListen(n)}catch(a){const s=_B(a,`Initialization of query '${Y_(e.query)}' failed`);return void e.onError(s)}i.queries.set(n,o),o.listeners.push(e),e.ro(i.onlineState),o.so&&e.oo(o.so)&&oC(i)}async function SB(t,e){const i=Bt(t),n=e.query;let r=!1;const o=i.queries.get(n);if(o){const a=o.listeners.indexOf(e);a>=0&&(o.listeners.splice(a,1),r=o.listeners.length===0)}if(r)return i.queries.delete(n),i.onUnlisten(n)}function nte(t,e){const i=Bt(t);let n=!1;for(const r of e){const o=r.query,a=i.queries.get(o);if(a){for(const s of a.listeners)s.oo(r)&&(n=!0);a.so=r}}n&&oC(i)}function rte(t,e,i){const n=Bt(t),r=n.queries.get(e);if(r)for(const o of r.listeners)o.onError(i);n.queries.delete(e)}function oC(t){t.io.forEach(e=>{e.next()})}class CB{constructor(e,i,n){this.query=e,this.ao=i,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=n||{}}oo(e){if(!this.options.includeMetadataChanges){const n=[];for(const r of e.docChanges)r.type!==3&&n.push(r);e=new Gd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let i=!1;return this.co?this.ho(e)&&(this.ao.next(e),i=!0):this.lo(e,this.onlineState)&&(this.fo(e),i=!0),this.uo=e,i}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let i=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),i=!0),i}lo(e,i){if(!e.fromCache)return!0;const n=i!=="Offline";return(!this.options.wo||!n)&&(!e.docs.isEmpty()||i==="Offline")}ho(e){if(e.docChanges.length>0)return!0;const i=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}fo(e){e=Gd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e){this.key=e}}class zB{constructor(e){this.key=e}}class ote{constructor(e,i){this.query=e,this.To=i,this.Eo=null,this.current=!1,this.Io=di(),this.mutatedKeys=di(),this.Ao=XD(e),this.Ro=new xd(this.Ao)}get Po(){return this.To}bo(e,i){const n=i?i.vo:new d4,r=i?i.Ro:this.Ro;let o=i?i.mutatedKeys:this.mutatedKeys,a=r,s=!1;const l=tv(this.query)&&r.size===this.query.limit?r.last():null,c=ay(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,p)=>{const h=r.get(d),m=Uw(this.query,p)?p:null,y=!!h&&this.mutatedKeys.has(h.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let g=!1;h&&m?h.data.isEqual(m.data)?y!==w&&(n.track({type:3,doc:m}),g=!0):this.Vo(h,m)||(n.track({type:2,doc:m}),g=!0,(l&&this.Ao(m,l)>0||c&&this.Ao(m,c)<0)&&(s=!0)):!h&&m?(n.track({type:0,doc:m}),g=!0):h&&!m&&(n.track({type:1,doc:h}),g=!0,(l||c)&&(s=!0)),g&&(m?(a=a.add(m),o=w?o.add(d):o.delete(d)):(a=a.delete(d),o=o.delete(d)))}),tv(this.query)||ay(this.query))for(;a.size>this.query.limit;){const d=tv(this.query)?a.last():a.first();a=a.delete(d.key),o=o.delete(d.key),n.track({type:1,doc:d})}return{Ro:a,vo:n,Bn:s,mutatedKeys:o}}Vo(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,n){const r=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const o=e.vo.no();o.sort((c,d)=>function(p,h){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At()}};return m(p)-m(h)}(c.type,d.type)||this.Ao(c.doc,d.doc)),this.So(n);const a=i?this.Do():[],s=this.Io.size===0&&this.current?1:0,l=s!==this.Eo;return this.Eo=s,o.length!==0||l?{snapshot:new Gd(this.query,e.Ro,r,o,e.mutatedKeys,s===0,l,!1),Co:a}:{Co:a}}ro(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new d4,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(i=>this.To=this.To.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.To=this.To.delete(i)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=di(),this.Ro.forEach(n=>{this.No(n.key)&&(this.Io=this.Io.add(n.key))});const i=[];return e.forEach(n=>{this.Io.has(n)||i.push(new zB(n))}),this.Io.forEach(n=>{e.has(n)||i.push(new EB(n))}),i}ko(e){this.To=e.zn,this.Io=di();const i=this.bo(e.documents);return this.applyChanges(i,!0)}xo(){return Gd.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,this.Eo===0)}}class ate{constructor(e,i,n){this.query=e,this.targetId=i,this.view=n}}class ste{constructor(e){this.key=e,this.$o=!1}}class lte{constructor(e,i,n,r,o,a){this.localStore=e,this.remoteStore=i,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Fo={},this.Oo=new fg(s=>KD(s),jw),this.Mo=new Map,this.Lo=new Set,this.Bo=new nr(st.comparator),this.Uo=new Map,this.qo=new ZS,this.Ko={},this.jo=new Map,this.Qo=Ud.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return this.Wo===!0}}async function cte(t,e){const i=gte(t);let n,r;const o=i.Oo.get(e);if(o)n=o.targetId,i.sharedClientState.addLocalQueryTarget(n),r=o.view.xo();else{const a=await Lee(i.localStore,Vc(e)),s=i.sharedClientState.addLocalQueryTarget(a.targetId);n=a.targetId,r=await ute(i,e,n,s==="current"),i.isPrimaryClient&&wB(i.remoteStore,a)}return r}async function ute(t,e,i,n){t.Go=(d,p,h)=>async function(m,y,w,g){let A=y.view.bo(w);A.Bn&&(A=await s4(m.localStore,y.query,!1).then(({documents:E})=>y.view.bo(E,A)));const x=g&&g.targetChanges.get(y.targetId),T=y.view.applyChanges(A,m.isPrimaryClient,x);return p4(m,y.targetId,T.Co),T.snapshot}(t,d,p,h);const r=await s4(t.localStore,e,!0),o=new ote(e,r.zn),a=o.bo(r.documents),s=ug.createSynthesizedTargetChangeForCurrentChange(i,n&&t.onlineState!=="Offline"),l=o.applyChanges(a,t.isPrimaryClient,s);p4(t,i,l.Co);const c=new ate(e,i,o);return t.Oo.set(e,c),t.Mo.has(i)?t.Mo.get(i).push(e):t.Mo.set(i,[e]),l.snapshot}async function dte(t,e){const i=Bt(t),n=i.Oo.get(e),r=i.Mo.get(n.targetId);if(r.length>1)return i.Mo.set(n.targetId,r.filter(o=>!jw(o,e))),void i.Oo.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(n.targetId),i.sharedClientState.isActiveQueryTarget(n.targetId)||await X_(i.localStore,n.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(n.targetId),AB(i.remoteStore,n.targetId),J_(i,n.targetId)}).catch(XS)):(J_(i,n.targetId),await X_(i.localStore,n.targetId,!0))}async function IB(t,e){const i=Bt(t);try{const n=await Ree(i.localStore,e);e.targetChanges.forEach((r,o)=>{const a=i.Uo.get(o);a&&(Ii(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.$o=!0:r.modifiedDocuments.size>0?Ii(a.$o):r.removedDocuments.size>0&&(Ii(a.$o),a.$o=!1))}),await PB(i,n,e)}catch(n){await XS(n)}}function f4(t,e,i){const n=Bt(t);if(n.isPrimaryClient&&i===0||!n.isPrimaryClient&&i===1){const r=[];n.Oo.forEach((o,a)=>{const s=a.view.ro(e);s.snapshot&&r.push(s.snapshot)}),function(o,a){const s=Bt(o);s.onlineState=a;let l=!1;s.queries.forEach((c,d)=>{for(const p of d.listeners)p.ro(a)&&(l=!0)}),l&&oC(s)}(n.eventManager,e),r.length&&n.Fo.Pr(r),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function fte(t,e,i){const n=Bt(t);n.sharedClientState.updateQueryState(e,"rejected",i);const r=n.Uo.get(e),o=r&&r.key;if(o){let a=new nr(st.comparator);a=a.insert(o,In.newNoDocument(o,qt.min()));const s=di().add(o),l=new Hw(qt.min(),new Map,new gn(ei),a,s);await IB(n,l),n.Bo=n.Bo.remove(o),n.Uo.delete(e),aC(n)}else await X_(n.localStore,e,!1).then(()=>J_(n,e,i)).catch(XS)}function J_(t,e,i=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Mo.get(e))t.Oo.delete(n),i&&t.Fo.zo(n,i);t.Mo.delete(e),t.isPrimaryClient&&t.qo.us(e).forEach(n=>{t.qo.containsKey(n)||RB(t,n)})}function RB(t,e){t.Lo.delete(e.path.canonicalString());const i=t.Bo.get(e);i!==null&&(AB(t.remoteStore,i),t.Bo=t.Bo.remove(e),t.Uo.delete(i),aC(t))}function p4(t,e,i){for(const n of i)n instanceof EB?(t.qo.addReference(n.key,e),pte(t,n)):n instanceof zB?(it("SyncEngine","Document no longer in limbo: "+n.key),t.qo.removeReference(n.key,e),t.qo.containsKey(n.key)||RB(t,n.key)):At()}function pte(t,e){const i=e.key,n=i.path.canonicalString();t.Bo.get(i)||t.Lo.has(n)||(it("SyncEngine","New document in limbo: "+i),t.Lo.add(n),aC(t))}function aC(t){for(;t.Lo.size>0&&t.Bo.size<t.maxConcurrentLimboResolutions;){const e=t.Lo.values().next().value;t.Lo.delete(e);const i=new st(si.fromString(e)),n=t.Qo.next();t.Uo.set(n,new ste(i)),t.Bo=t.Bo.insert(i,n),wB(t.remoteStore,new Cc(Vc(VS(i.path)),n,2,jS.I))}}async function PB(t,e,i){const n=Bt(t),r=[],o=[],a=[];n.Oo.isEmpty()||(n.Oo.forEach((s,l)=>{a.push(n.Go(l,e,i).then(c=>{if(c){n.isPrimaryClient&&n.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),r.push(c);const d=JS.$n(l.targetId,c);o.push(d)}}))}),await Promise.all(a),n.Fo.Pr(r),await async function(s,l){const c=Bt(s);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>$e.forEach(l,p=>$e.forEach(p.kn,h=>c.persistence.referenceDelegate.addReference(d,p.targetId,h)).next(()=>$e.forEach(p.xn,h=>c.persistence.referenceDelegate.removeReference(d,p.targetId,h)))))}catch(d){if(!dg(d))throw d;it("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const p=d.targetId;if(!d.fromCache){const h=c.qn.get(p),m=h.snapshotVersion,y=h.withLastLimboFreeSnapshotVersion(m);c.qn=c.qn.insert(p,y)}}}(n.localStore,o))}async function hte(t,e){const i=Bt(t);if(!i.currentUser.isEqual(e)){it("SyncEngine","User change. New user:",e.toKey());const n=await bB(i.localStore,e);i.currentUser=e,function(r,o){r.jo.forEach(a=>{a.forEach(s=>{s.reject(new Ye(Ce.CANCELLED,o))})}),r.jo.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await PB(i,n.Gn)}}function mte(t,e){const i=Bt(t),n=i.Uo.get(e);if(n&&n.$o)return di().add(n.key);{let r=di();const o=i.Mo.get(e);if(!o)return r;for(const a of o){const s=i.Oo.get(a);r=r.unionWith(s.view.Po)}return r}}function gte(t){const e=Bt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mte.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fte.bind(null,e),e.Fo.Pr=nte.bind(null,e.eventManager),e.Fo.zo=rte.bind(null,e.eventManager),e}class bte{constructor(){this.synchronizeTabs=!1}async initialize(e){this.k=Yw(e.databaseInfo.databaseId),this.sharedClientState=this.Jo(e),this.persistence=this.Yo(e),await this.persistence.start(),this.gcScheduler=this.Xo(e),this.localStore=this.Zo(e)}Xo(e){return null}Zo(e){return Iee(this.persistence,new Eee,e.initialUser,this.k)}Yo(e){return new Nee(eC.ks,this.k)}Jo(e){return new Uee}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class vte{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>f4(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=hte.bind(null,this.syncEngine),await ete(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ite}createDatastore(e){const i=Yw(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Wee(r));var r;return function(o,a,s,l){return new Qee(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,n,i)}createRemoteStore(e){return i=this.localStore,n=this.datastore,r=e.asyncQueue,o=s=>f4(this.syncEngine,s,0),a=c4.bt()?new c4:new Gee,new Kee(i,n,r,o,a);var i,n,r,o,a}createSyncEngine(e,i){return function(n,r,o,a,s,l,c){const d=new lte(n,r,o,a,s,l);return c&&(d.Wo=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return async function(e){const i=Bt(e);it("RemoteStore","RemoteStore shutting down."),i.Gr.add(5),await pg(i),i.Hr.shutdown(),i.Jr.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,i){this.muted||setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yte{constructor(e,i,n,r){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=n,this.databaseInfo=r,this.user=mr.UNAUTHENTICATED,this.clientId=WD.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async o=>{it("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,()=>Promise.resolve())}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ye(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ll;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const n=_B(i,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function wte(t,e){t.asyncQueue.verifyOperationInProgress(),it("FirestoreClient","Initializing OfflineComponentProvider");const i=await t.getConfiguration();await e.initialize(i);let n=i.initialUser;t.setCredentialChangeListener(async r=>{n.isEqual(r)||(await bB(e.localStore,r),n=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function Ate(t,e){t.asyncQueue.verifyOperationInProgress();const i=await xte(t);it("FirestoreClient","Initializing OnlineComponentProvider");const n=await t.getConfiguration();await e.initialize(i,n),t.setCredentialChangeListener(r=>async function(o,a){const s=Bt(o);s.asyncQueue.verifyOperationInProgress(),it("RemoteStore","RemoteStore received new credentials");const l=hg(s);s.Gr.add(3),await pg(s),l&&s.Jr.set("Unknown"),await s.remoteSyncer.handleCredentialChange(a),s.Gr.delete(3),await Ww(s)}(e.remoteStore,r)),t.onlineComponents=e}async function xte(t){return t.offlineComponents||(it("FirestoreClient","Using default OfflineComponentProvider"),await wte(t,new bte)),t.offlineComponents}async function kte(t){return t.onlineComponents||(it("FirestoreClient","Using default OnlineComponentProvider"),await Ate(t,new vte)),t.onlineComponents}async function OB(t){const e=await kte(t),i=e.eventManager;return i.onListen=cte.bind(null,e.syncEngine),i.onUnlisten=dte.bind(null,e.syncEngine),i}function _te(t,e,i={}){const n=new ll;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,a,s,l){const c=new LB({next:p=>{o.enqueueAndForget(()=>SB(r,d));const h=p.docs.has(a);!h&&p.fromCache?l.reject(new Ye(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&p.fromCache&&s&&s.source==="server"?l.reject(new Ye(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(p)},error:p=>l.reject(p)}),d=new CB(VS(a.path),c,{includeMetadataChanges:!0,wo:!0});return TB(r,d)}(await OB(t),t.asyncQueue,e,i,n)),n.promise}function Tte(t,e,i={}){const n=new ll;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,a,s,l){const c=new LB({next:p=>{o.enqueueAndForget(()=>SB(r,d)),p.fromCache&&s.source==="server"?l.reject(new Ye(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(p)},error:p=>l.reject(p)}),d=new CB(a,c,{includeMetadataChanges:!0,wo:!0});return TB(r,d)}(await OB(t),t.asyncQueue,e,i,n)),n.promise}class Ste{constructor(e,i,n,r,o,a,s,l){this.databaseId=e,this.appId=i,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.useFetchStreams=l}}class cm{constructor(e,i){this.projectId=e,this.database=i||"(default)"}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof cm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(t,e,i){if(!i)throw new Ye(Ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Cte(t,e,i,n){if(e===!0&&n===!0)throw new Ye(Ce.INVALID_ARGUMENT,`${t} and ${i} cannot be used together.`)}function m4(t){if(!st.isDocumentKey(t))throw new Ye(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function g4(t){if(st.isDocumentKey(t))throw new Ye(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":At()}function cy(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ye(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Vw(t);throw new Ye(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return t}function Ete(t,e){if(e<=0)throw new Ye(Ce.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){var i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ye(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ye(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Cte("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,i,n){this._authCredentials=i,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b4({}),this._settingsFrozen=!1,e instanceof cm?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ye(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cm(r.options.projectId)}(e))}get app(){if(!this._app)throw new Ye(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ye(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b4(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new SZ;switch(i.type){case"gapi":const n=i.client;return Ii(!(typeof n!="object"||n===null||!n.auth||!n.auth.getAuthHeaderValueForFirstParty)),new zZ(n,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new Ye(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=h4.get(e);i&&(it("ComponentProvider","Removing Datastore"),h4.delete(e),i.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,i,n){this.converter=i,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}}class Ml{constructor(e,i,n){this.converter=i,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ml(this.firestore,e,this._query)}}class cl extends Ml{constructor(e,i,n){super(e,i,VS(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new st(e))}withConverter(e){return new cl(this.firestore,e,this._path)}}function zte(t,e,...i){if(t=fs(t),MB("collection","path",e),t instanceof sC){const n=si.fromString(e,...i);return g4(n),new cl(t,null,n)}{if(!(t instanceof kt||t instanceof cl))throw new Ye(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(si.fromString(e,...i));return g4(n),new cl(t.firestore,null,n)}}function Yi(t,e,...i){if(t=fs(t),arguments.length===1&&(e=WD.A()),MB("doc","path",e),t instanceof sC){const n=si.fromString(e,...i);return m4(n),new kt(t,null,new st(n))}{if(!(t instanceof kt||t instanceof cl))throw new Ye(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(si.fromString(e,...i));return m4(n),new kt(t.firestore,t instanceof cl?t.converter:null,new st(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ite{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new yB(this,"async_queue_retry"),this.Ra=()=>{const i=G1();i&&it("AsyncQueue","Visibility state changed to "+i.visibilityState),this.ur.er()};const e=G1();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const i=G1();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const i=new ll;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}async va(){if(this.ga.length!==0){try{await this.ga[0](),this.ga.shift(),this.ur.reset()}catch(e){if(!dg(e))throw e;it("AsyncQueue","Operation failed with retryable error: "+e)}this.ga.length>0&&this.ur.Zi(()=>this.va())}}ba(e){const i=this.ma.then(()=>(this.Ea=!0,e().catch(n=>{this.Ta=n,this.Ea=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(n);throw gl("INTERNAL UNHANDLED ERROR: ",r),n}).then(n=>(this.Ea=!1,n))));return this.ma=i,i}enqueueAfterDelay(e,i,n){this.Pa(),this.Aa.indexOf(e)>-1&&(i=0);const r=rC.createAndSchedule(this,e,i,n,o=>this.Va(o));return this.pa.push(r),r}Pa(){this.Ta&&At()}verifyOperationInProgress(){}async Sa(){let e;do e=this.ma,await e;while(e!==this.ma)}Da(e){for(const i of this.pa)if(i.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((i,n)=>i.targetTimeMs-n.targetTimeMs);for(const i of this.pa)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const i=this.pa.indexOf(e);this.pa.splice(i,1)}}class lC extends sC{constructor(e,i,n){super(e,i,n),this.type="firestore",this._queue=new Ite,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||BB(this),this._firestoreClient.terminate()}}function Rte(t,e){const i=hS(t,"firestore");if(i.isInitialized()){const n=i.getImmediate(),r=i.getOptions();if(Wv(r,e))return n;throw new Ye(Ce.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ye(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return i.initialize({options:e})}function Pte(t=Y8()){return hS(t,"firestore").getImmediate()}function DB(t){return t._firestoreClient||BB(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function BB(t){var e;const i=t._freezeSettings(),n=function(r,o,a,s){return new Ste(r,o,a,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,s.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new yte(t._authCredentials,t._appCheckCredentials,t._queue,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new Ye(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hd(Mn.fromBase64String(e))}catch(i){throw new Ye(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Hd(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new Ye(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new Ye(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ei(this._lat,e._lat)||ei(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lte=/^__.*__$/;function jB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At()}}class uC{constructor(e,i,n,r,o,a){this.settings=e,this.databaseId=i,this.k=n,this.ignoreUndefinedProperties=r,o===void 0&&this.ka(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new uC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var i;const n=(i=this.path)===null||i===void 0?void 0:i.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}La(e){var i;const n=(i=this.path)===null||i===void 0?void 0:i.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return Z_(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(e.length===0)throw this.Ua("Document fields must not be empty");if(jB(this.xa)&&Lte.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class Ote{constructor(e,i,n){this.databaseId=e,this.ignoreUndefinedProperties=i,this.k=n||Yw(e)}ja(e,i,n,r=!1){return new uC({xa:e,methodName:i,Ka:n,path:lo.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function UB(t){const e=t._freezeSettings(),i=Yw(t._databaseId);return new Ote(t._databaseId,!!e.ignoreUndefinedProperties,i)}function GB(t,e,i,n=!1){return dC(i,t.ja(n?4:3,e))}function dC(t,e){if(HB(t=fs(t)))return Dte("Unsupported field value:",e,t),Mte(t,e);if(t instanceof NB)return function(i,n){if(!jB(n.xa))throw n.Ua(`${i._methodName}() can only be used with update() and set()`);if(!n.path)throw n.Ua(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(n);r&&n.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Oa&&e.xa!==4)throw e.Ua("Nested arrays are not supported");return function(i,n){const r=[];let o=0;for(const a of i){let s=dC(a,n.Ba(o));s==null&&(s={nullValue:"NULL_VALUE"}),r.push(s),o++}return{arrayValue:{values:r}}}(t,e)}return function(i,n){if((i=fs(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return qZ(n.k,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=tr.fromDate(i);return{timestampValue:q_(n.k,r)}}if(i instanceof tr){const r=new tr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:q_(n.k,r)}}if(i instanceof cC)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Hd)return{bytesValue:uB(n.k,i._byteString)};if(i instanceof kt){const r=n.databaseId,o=i.firestore._databaseId;if(!o.isEqual(r))throw n.Ua(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:dB(i.firestore._databaseId||n.databaseId,i._key.path)}}throw n.Ua(`Unsupported field value: ${Vw(i)}`)}(t,e)}function Mte(t,e){const i={};return VD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cg(t,(n,r)=>{const o=dC(r,e.Fa(n));o!=null&&(i[n]=o)}),{mapValue:{fields:i}}}function HB(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tr||t instanceof cC||t instanceof Hd||t instanceof kt||t instanceof NB)}function Dte(t,e,i){if(!HB(i)||!function(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}(i)){const n=Vw(i);throw n==="an object"?e.Ua(t+" a custom object"):e.Ua(t+" "+n)}}const Bte=new RegExp("[~\\*/\\[\\]]");function Fte(t,e,i){if(e.search(Bte)>=0)throw Z_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,i);try{return new FB(...e.split("."))._internalPath}catch{throw Z_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,i)}}function Z_(t,e,i,n,r){const o=n&&!n.isEmpty(),a=r!==void 0;let s=`Function ${e}() called with invalid data`;i&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${n}`),a&&(l+=` in document ${r}`),l+=")"),new Ye(Ce.INVALID_ARGUMENT,s+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,i,n,r,o){this._firestore=e,this._userDataWriter=i,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Nte(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field($w("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Nte extends fC{data(){return super.data()}}function $w(t,e){return typeof e=="string"?Fte(t,e):e instanceof FB?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class YB extends fC{constructor(e,i,n,r,o,a){super(e,i,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new rv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const n=this._document.data.field($w("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,i.serverTimestamps)}}}class rv extends YB{data(e={}){return super.data(e)}}class jte{constructor(e,i,n,r){this._firestore=e,this._userDataWriter=i,this._snapshot=r,this.metadata=new ah(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(n=>{e.call(i,new rv(this._firestore,this._userDataWriter,n.key,n,new ah(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Ye(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(n,r){if(n._snapshot.oldDocs.isEmpty()){let o=0;return n._snapshot.docChanges.map(a=>({type:"added",doc:new rv(n._firestore,n._userDataWriter,a.doc.key,a.doc,new ah(n._snapshot.mutatedKeys.has(a.doc.key),n._snapshot.fromCache),n.query.converter),oldIndex:-1,newIndex:o++}))}{let o=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(a=>r||a.type!==3).map(a=>{const s=new rv(n._firestore,n._userDataWriter,a.doc.key,a.doc,new ah(n._snapshot.mutatedKeys.has(a.doc.key),n._snapshot.fromCache),n.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:Ute(a.type),doc:s,oldIndex:l,newIndex:c}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Ute(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gte(t){if(ay(t)&&t.explicitOrderBy.length===0)throw new Ye(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qw{}function Hte(t,...e){for(const i of e)t=i._apply(t);return t}class Yte extends Qw{constructor(e,i,n){super(),this.Ga=e,this.za=i,this.Ha=n,this.type="where"}_apply(e){const i=UB(e.firestore),n=function(r,o,a,s,l,c,d){let p;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Ye(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on FieldPath.documentId().`);if(c==="in"||c==="not-in"){y4(d,c);const m=[];for(const y of d)m.push(v4(s,r,y));p={arrayValue:{values:m}}}else p=v4(s,r,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||y4(d,c),p=GB(a,o,d,c==="in"||c==="not-in");const h=er.create(l,c,p);return function(m,y){if(y.V()){const g=QS(m);if(g!==null&&!g.isEqual(y.field))throw new Ye(Ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${g.toString()}' and '${y.field.toString()}'`);const A=$S(m);A!==null&&WB(m,y.field,A)}const w=function(g,A){for(const x of g.filters)if(A.indexOf(x.op)>=0)return x.op;return null}(m,function(g){switch(g){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(y.op));if(w!==null)throw w===y.op?new Ye(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${y.op.toString()}' filter.`):new Ye(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${y.op.toString()}' filters with '${w.toString()}' filters.`)}(r,h),h}(e._query,"where",i,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new Ml(e.firestore,e.converter,function(r,o){const a=r.filters.concat([o]);return new au(r.path,r.collectionGroup,r.explicitOrderBy.slice(),a,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Ai(t,e,i){const n=e,r=$w("where",t);return new Yte(r,n,i)}class Wte extends Qw{constructor(e,i){super(),this.Ga=e,this.Ja=i,this.type="orderBy"}_apply(e){const i=function(n,r,o){if(n.startAt!==null)throw new Ye(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(n.endAt!==null)throw new Ye(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Ad(r,o);return function(s,l){if($S(s)===null){const c=QS(s);c!==null&&WB(s,c,l.field)}}(n,a),a}(e._query,this.Ga,this.Ja);return new Ml(e.firestore,e.converter,function(n,r){const o=n.explicitOrderBy.concat([r]);return new au(n.path,n.collectionGroup,o,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}(e._query,i))}}function Rn(t,e="asc"){const i=e,n=$w("orderBy",t);return new Wte(n,i)}class Vte extends Qw{constructor(e,i,n){super(),this.type=e,this.Ya=i,this.Xa=n}_apply(e){return new Ml(e.firestore,e.converter,qD(e._query,this.Ya,this.Xa))}}function Qc(t){return Ete("limit",t),new Vte("limit",t,"F")}class $te extends Qw{constructor(e,i,n){super(),this.type=e,this.Za=i,this.tc=n}_apply(e){const i=Qte(e,this.type,this.Za,this.tc);return new Ml(e.firestore,e.converter,function(n,r){return new au(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,r,n.endAt)}(e._query,i))}}function pC(...t){return new $te("startAfter",t,!1)}function Qte(t,e,i,n){if(i[0]=fs(i[0]),i[0]instanceof fC)return function(r,o,a,s,l){if(!s)throw new Ye(Ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of jd(r))if(d.field.isKeyField())c.push(ry(o,s.key));else{const p=s.data.field(d.field);if(US(p))throw new Ye(Ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const h=d.field.canonicalString();throw new Ye(Ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}c.push(p)}return new sm(c,l)}(t._query,t.firestore._databaseId,e,i[0]._document,n);{const r=UB(t.firestore);return function(o,a,s,l,c,d){const p=o.explicitOrderBy;if(c.length>p.length)throw new Ye(Ce.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let m=0;m<c.length;m++){const y=c[m];if(p[m].field.isKeyField()){if(typeof y!="string")throw new Ye(Ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof y}`);if(!qS(o)&&y.indexOf("/")!==-1)throw new Ye(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${l}() must be a plain document ID, but '${y}' contains a slash.`);const w=o.path.child(si.fromString(y));if(!st.isDocumentKey(w))throw new Ye(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${l}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const g=new st(w);h.push(ry(a,g))}else{const w=GB(s,l,y);h.push(w)}}return new sm(h,d)}(t._query,t.firestore._databaseId,r,e,i,n)}}function v4(t,e,i){if(typeof(i=fs(i))=="string"){if(i==="")throw new Ye(Ce.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!qS(e)&&i.indexOf("/")!==-1)throw new Ye(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const n=e.path.child(si.fromString(i));if(!st.isDocumentKey(n))throw new Ye(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return ry(t,new st(n))}if(i instanceof kt)return ry(t,i._key);throw new Ye(Ce.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vw(i)}.`)}function y4(t,e){if(!Array.isArray(t)||t.length===0)throw new Ye(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new Ye(Ce.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function WB(t,e,i){if(!i.isEqual(e))throw new Ye(Ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qte{convertValue(e,i="none"){switch(Wc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Fd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw At()}}convertObject(e,i){const n={};return cg(e.fields,(r,o)=>{n[r]=this.convertValue(o,i)}),n}convertGeoPoint(e){return new cC(Pi(e.latitude),Pi(e.longitude))}convertArray(e,i){return(e.values||[]).map(n=>this.convertValue(n,i))}convertServerTimestamp(e,i){switch(i){case"previous":const n=$D(e);return n==null?null:this.convertValue(n,i);case"estimate":return this.convertTimestamp(om(e));default:return null}}convertTimestamp(e){const i=bl(e);return new tr(i.seconds,i.nanos)}convertDocumentKey(e,i){const n=si.fromString(e);Ii(mB(n));const r=new cm(n.get(1),n.get(3)),o=new st(n.popFirst(5));return r.isEqual(i)||gl(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t){t=cy(t,kt);const e=cy(t.firestore,lC);return _te(DB(e),t._key).then(i=>Xte(e,t,i))}class VB extends qte{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hd(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,i)}}function Kte(t){t=cy(t,Ml);const e=cy(t.firestore,lC),i=DB(e),n=new VB(e);return Gte(t._query),Tte(i,t._query).then(r=>new jte(e,n,t,r))}function Xte(t,e,i){const n=i.docs.get(e._key),r=new VB(t);return new YB(t,r,e._key,n,new ah(i.hasPendingWrites,i.fromCache),e.converter)}(function(t,e=!0){(function(i){Cf=i})(H8),Sw(new Zm("firestore",(i,{options:n})=>{const r=i.getProvider("app").getImmediate(),o=new lC(r,new CZ(i.getProvider("auth-internal")),new RZ(i.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:e},n),o._setSettings(n),o},"PUBLIC")),sl(N3,"3.4.1",t),sl(N3,"3.4.1","esm2017")})();var Jte="firebase",Zte="9.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sl(Jte,Zte,"app");class H1{constructor(e,i){this.data=e,this.error=i}}class eie{constructor(e,i){this.data=e,this.error=i}}class mC extends Error{constructor(e){super(`No documents found from querying ${e}`),this.name="NoDocumentsError",Object.setPrototypeOf(this,new.target.prototype)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B="firebasestorage.googleapis.com",QB="storageBucket",tie=2*60*1e3,iie=10*60*1e3;class an extends Tw{constructor(e,i){super(Y1(e),`Firebase Storage: ${i} (${Y1(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,an.prototype)}_codeEquals(e){return Y1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function Y1(t){return"storage/"+t}function qB(){const t="An unknown error occurred, please check the error payload for server response.";return new an("unknown",t)}function nie(t){return new an("object-not-found","Object '"+t+"' does not exist.")}function rie(t){return new an("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function oie(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new an("unauthenticated",t)}function aie(){return new an("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function sie(t){return new an("unauthorized","User does not have permission to access '"+t+"'.")}function lie(){return new an("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function cie(){return new an("canceled","User canceled the upload/download.")}function uie(t){return new an("invalid-url","Invalid URL '"+t+"'.")}function die(t){return new an("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function fie(){return new an("no-default-bucket","No default bucket found. Did you set the '"+QB+"' property when initializing the app?")}function pie(){return new an("no-download-url","The given file does not have any download URLs.")}function e2(t){return new an("invalid-argument",t)}function KB(){return new an("app-deleted","The Firebase app was deleted.")}function hie(t){return new an("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wp(t){throw new an("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let n;try{n=Hr.makeFromUrl(e,i)}catch{return new Hr(e,"")}if(n.path==="")return n;throw die(e)}static makeFromUrl(e,i){let n=null;const r="([A-Za-z0-9.\\-_]+)";function o(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+r+a,"i"),l={bucket:1,path:3};function c(E){E.path_=decodeURIComponent(E.path)}const d="v[A-Za-z0-9_]+",p=i.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${p}/${d}/b/${r}/o${h}`,"i"),y={bucket:1,path:3},w=i===$B?"(?:storage.googleapis.com|storage.cloud.google.com)":i,g="([^?#]*)",A=new RegExp(`^https?://${w}/${r}/${g}`,"i"),T=[{regex:s,indices:l,postModify:o},{regex:m,indices:y,postModify:c},{regex:A,indices:{bucket:1,path:2},postModify:c}];for(let E=0;E<T.length;E++){const z=T[E],M=z.regex.exec(e);if(M){const B=M[z.indices.bucket];let L=M[z.indices.path];L||(L=""),n=new Hr(B,L),z.postModify(n);break}}if(n==null)throw uie(e);return n}}class mie{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gie(t,e,i){let n=1,r=null,o=null,a=!1,s=0;function l(){return s===2}let c=!1;function d(...g){c||(c=!0,e.apply(null,g))}function p(g){r=setTimeout(()=>{r=null,t(m,l())},g)}function h(){o&&clearTimeout(o)}function m(g,...A){if(c){h();return}if(g){h(),d.call(null,g,...A);return}if(l()||a){h(),d.call(null,g,...A);return}n<64&&(n*=2);let T;s===1?(s=2,T=0):T=(n+Math.random())*1e3,p(T)}let y=!1;function w(g){y||(y=!0,h(),!c&&(r!==null?(g||(s=2),clearTimeout(r),p(0)):g||(s=1)))}return p(0),o=setTimeout(()=>{a=!0,w(!0)},i),w}function bie(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vie(t){return t!==void 0}function yie(t){return typeof t=="object"&&!Array.isArray(t)}function XB(t){return typeof t=="string"||t instanceof String}function w4(t,e,i,n){if(n<e)throw e2(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>i)throw e2(`Invalid value for '${t}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(t,e,i){let n=e;return i==null&&(n=`https://${e}`),`${i}://${n}/v0${t}`}function ZB(t){const e=encodeURIComponent;let i="?";for(const n in t)if(t.hasOwnProperty(n)){const r=e(n)+"="+e(t[n]);i=i+r+"&"}return i=i.slice(0,-1),i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ec;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ec||(Ec={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wie{constructor(e,i,n,r,o,a,s,l,c,d,p){this.url_=e,this.method_=i,this.headers_=n,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,m)=>{this.resolve_=h,this.reject_=m,this.start_()})}start_(){const e=(n,r)=>{if(r){n(!1,new v0(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const l=s.loaded,c=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===Ec.NO_ERROR,l=o.getStatus();if(!s||this.isRetryStatusCode_(l)){const d=o.getErrorCode()===Ec.ABORT;n(!1,new v0(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new v0(c,o))})},i=(n,r)=>{const o=this.resolve_,a=this.reject_,s=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());vie(l)?o(l):o()}catch(l){a(l)}else if(s!==null){const l=qB();l.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,l)):a(l)}else if(r.canceled){const l=this.appDelete_?KB():cie();a(l)}else{const l=lie();a(l)}};this.canceled_?i(!1,new v0(!1,null,!0)):this.backoffId_=gie(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bie(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const i=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,o=this.additionalRetryCodes_.indexOf(e)!==-1;return i||r||o}}class v0{constructor(e,i,n){this.wasSuccessCode=e,this.connection=i,this.canceled=!!n}}function Aie(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function xie(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function kie(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _ie(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Tie(t,e,i,n,r,o){const a=ZB(t.urlParams),s=t.url+a,l=Object.assign({},t.headers);return kie(l,e),Aie(l,i),xie(l,o),_ie(l,n),new wie(s,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(t){let e;try{e=JSON.parse(t)}catch{return null}return yie(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sie(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Cie(t,e){const i=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?i:t+"/"+i}function t6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eie(t,e){return e}class Hn{constructor(e,i,n,r){this.server=e,this.local=i||e,this.writable=!!n,this.xform=r||Eie}}let y0=null;function zie(t){return!XB(t)||t.length<2?t:t6(t)}function Iie(){if(y0)return y0;const t=[];t.push(new Hn("bucket")),t.push(new Hn("generation")),t.push(new Hn("metageneration")),t.push(new Hn("name","fullPath",!0));function e(o,a){return zie(a)}const i=new Hn("name");i.xform=e,t.push(i);function n(o,a){return a!==void 0?Number(a):a}const r=new Hn("size");return r.xform=n,t.push(r),t.push(new Hn("timeCreated")),t.push(new Hn("updated")),t.push(new Hn("md5Hash",null,!0)),t.push(new Hn("cacheControl",null,!0)),t.push(new Hn("contentDisposition",null,!0)),t.push(new Hn("contentEncoding",null,!0)),t.push(new Hn("contentLanguage",null,!0)),t.push(new Hn("contentType",null,!0)),t.push(new Hn("metadata","customMetadata",!0)),y0=t,y0}function Rie(t,e){function i(){const n=t.bucket,r=t.fullPath,o=new Hr(n,r);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:i})}function Pie(t,e,i){const n={};n.type="file";const r=i.length;for(let o=0;o<r;o++){const a=i[o];n[a.local]=a.xform(n,e[a.server])}return Rie(n,t),n}function Lie(t,e,i){const n=e6(e);return n===null?null:Pie(t,n,i)}function Oie(t,e,i,n){const r=e6(e);if(r===null||!XB(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(c=>{const d=t.bucket,p=t.fullPath,h="/b/"+a(d)+"/o/"+a(p),m=JB(h,i,n),y=ZB({alt:"media",token:c});return m+y})[0]}class Mie{constructor(e,i,n,r){this.url=e,this.method=i,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Die(t){if(!t)throw qB()}function Bie(t,e){function i(n,r){const o=Lie(t,r,e);return Die(o!==null),Oie(o,r,t.host,t._protocol)}return i}function Fie(t){function e(i,n){let r;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?r=aie():r=oie():i.getStatus()===402?r=rie(t.bucket):i.getStatus()===403?r=sie(t.path):r=n,r.serverResponse=n.serverResponse,r}return e}function Nie(t){const e=Fie(t);function i(n,r){let o=e(n,r);return n.getStatus()===404&&(o=nie(t.path)),o.serverResponse=r.serverResponse,o}return i}function jie(t,e,i){const n=e.fullServerUrl(),r=JB(n,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,s=new Mie(r,o,Bie(t,i),a);return s.errorHandler=Nie(e),s}class Uie{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ec.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ec.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ec.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,n,r){if(this.sent_)throw Wp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,e,!0),r!==void 0)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Gie extends Uie{initXhr(){this.xhr_.responseType="text"}}function Hie(){return new Gie}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,i){this._service=e,i instanceof Hr?this._location=i:this._location=Hr.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new qc(e,i)}get root(){const e=new Hr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return t6(this._location.path)}get storage(){return this._service}get parent(){const e=Sie(this._location.path);if(e===null)return null;const i=new Hr(this._location.bucket,e);return new qc(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw hie(e)}}function Yie(t){t._throwIfRoot("getDownloadURL");const e=jie(t.storage,t._location,Iie());return t.storage.makeRequestWithTokens(e,Hie).then(i=>{if(i===null)throw pie();return i})}function Wie(t,e){const i=Cie(t._location.path,e),n=new Hr(t._location.bucket,i);return new qc(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vie(t){return/^[A-Za-z]+:\/\//.test(t)}function $ie(t,e){return new qc(t,e)}function i6(t,e){if(t instanceof gC){const i=t;if(i._bucket==null)throw fie();const n=new qc(i,i._bucket);return e!=null?i6(n,e):n}else return e!==void 0?Wie(t,e):t}function Qie(t,e){if(e&&Vie(e)){if(t instanceof gC)return $ie(t,e);throw e2("To use ref(service, url), the first argument must be a Storage instance.")}else return i6(t,e)}function A4(t,e){const i=e==null?void 0:e[QB];return i==null?null:Hr.makeFromBucketSpec(i,t)}class gC{constructor(e,i,n,r,o){this.app=e,this._authProvider=i,this._appCheckProvider=n,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=$B,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tie,this._maxUploadRetryTime=iie,this._requests=new Set,r!=null?this._bucket=Hr.makeFromBucketSpec(r,this._host):this._bucket=A4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hr.makeFromBucketSpec(this._url,e):this._bucket=A4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){w4("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){w4("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qc(this,e)}_makeRequest(e,i,n,r){if(this._deleted)return new mie(KB());{const o=Tie(e,this._appId,n,r,i,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,i){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,n,r).getPromise()}}const x4="@firebase/storage",k4="0.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6="storage";function qie(t){return t=fs(t),Yie(t)}function Kie(t,e){return t=fs(t),Qie(t,e)}function Xie(t=Y8(),e){return t=fs(t),hS(t,n6).getImmediate({identifier:e})}function Jie(t,{instanceIdentifier:e}){const i=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new gC(i,n,r,e,H8)}function Zie(){Sw(new Zm(n6,Jie,"PUBLIC").setMultipleInstances(!0)),sl(x4,k4,""),sl(x4,k4,"esm2017")}Zie();var _e=(t=>(t.Body="body",t.Event="event",t.EventMinutesItem="event_minutes_item",t.EventMinutesItemFile="event_minutes_item_file",t.File="file",t.IndexedEventGram="indexed_event_gram",t.Matter="matter",t.MatterFile="matter_file",t.MatterSponsor="matter_sponsor",t.MatterStatus="matter_status",t.MinutesItem="minutes_item",t.Person="person",t.Role="role",t.Seat="seat",t.Session="session",t.Transcript="transcript",t.TranscriptJSON="transcript_json",t.Vote="vote",t))(_e||{}),vt=(t=>(t.EventBodyRef="body_ref",t.EventHoverThumbnailRef="hover_thumbnail_ref",t.EventStaticThumbnailRef="static_thumbnail_ref",t.EventMinutesItemEventRef="event_ref",t.EventMinutesItemMinutesItemRef="minutes_item_ref",t.EventMinutesItemFileEventMinutesItemRef="event_minutes_item_ref",t.IndexedEventGramEventRef="event_ref",t.MatterFileMatterRef="matter_ref",t.MatterStatusEventMinutesItemRef="event_minutes_item_ref",t.MatterStatusMatterRef="matter_ref",t.MatterSponsorMatterRef="matter_ref",t.MatterSponsorPersonRef="person_ref",t.MinutesItemMatterRef="matter_ref",t.PersonPictureRef="picture_ref",t.RoleBodyRef="body_ref",t.RolePersonRef="person_ref",t.RoleSeatRef="seat_ref",t.SeatImageRef="image_ref",t.SessionEventRef="event_ref",t.TranscriptFileRef="file_ref",t.TranscriptSessionRef="session_ref",t.VoteEventMinutesItemRef="event_minutes_item_ref",t.VoteEventRef="event_ref",t.VoteMatterRef="matter_ref",t.VotePersonRef="person_ref",t))(vt||{});function _4(t){switch(t){case"body_ref":return"body";case"hover_thumbnail_ref":return"file";case"static_thumbnail_ref":return"file";case"event_ref":return"event";case"minutes_item_ref":return"minutes_item";case"event_minutes_item_ref":return"event_minutes_item";case"event_ref":return"event";case"matter_ref":return"matter";case"event_minutes_item_ref":return"event_minutes_item";case"matter_ref":return"matter";case"matter_ref":return"matter";case"person_ref":return"person";case"matter_ref":return"matter";case"picture_ref":return"file";case"body_ref":return"body";case"person_ref":return"person";case"seat_ref":return"seat";case"image_ref":return"file";case"event_ref":return"event";case"file_ref":return"file";case"session_ref":return"session";case"event_minutes_item_ref":return"minutes_item";case"event_ref":return"event";case"matter_ref":return"matter";case"person_ref":return"person";default:return}}class Ci{constructor(e,i,n){this.collectionName=e,this.refName=i,this.cascade=n}}class Ji{constructor(e){this.toPopulate=e}}function ha(t){return t instanceof Error?t:typeof t=="string"?new Error(t):new Error(String(t))}class Qt{constructor(e,i){const n=bJ(e);Rte(n,i),Qt.db=Pte()}static getInstance(e,i){return Qt.instance||(Qt.instance=new Qt(e,i)),Qt.instance}static getDb(){return Qt.db}collateDocumentData(e,i,n){return Promise.all(e).then(r=>(r.forEach((o,a)=>{n.data&&(n.data[i[a]]=o.data)}),Promise.resolve(n))).catch(r=>(n.error=r,Promise.resolve(n)))}async getDocument(e,i,n){const r=Yi(Qt.db,i,e),o=new H1;return hC(r).then(a=>{if(!a.exists())return Promise.reject(new Error(`Document ${e} does not exist in Collection ${i}.`));const s=a.data();if(!s)return Promise.reject(new Error("No data on docSnap."));if(s.id=a.id,o.data=s,n&&n.toPopulate){const l=[],c=[];return n.toPopulate.filter(d=>s[d.refName]).forEach(d=>{const p=s[d.refName].id,h=_4(d.refName);p&&h&&(l.push(this.getDocument(p,h,d.cascade)),c.push(d.refName))}),this.collateDocumentData(l,c,o)}else return Promise.resolve(o)}).catch(a=>(a.message=`_getDocument_${a.message}`,o.error=a,Promise.resolve(o)))}async getDocuments(e,i,n){const r=zte(Qt.db,e),o=Hte(r,...i),a=new eie;try{const s=await Kte(o);if(s.empty)throw new mC(e);const l=[];if(s.forEach(c=>{const d=c.data();if(!d)return Promise.reject(new Error("No data on docSnap."));d.id=c.id,l.push(d)}),n&&n.toPopulate){const c=[];for(const h of l){const m=[],y=[],w=new H1;w.data=h,n.toPopulate.filter(g=>h[g.refName]).forEach(g=>{const A=h[g.refName].id,x=_4(g.refName);A&&x&&(m.push(this.getDocument(A,x,g.cascade)),y.push(g.refName))}),c.push(this.collateDocumentData(m,y,w))}const p=(await Promise.all(c)).map(({data:h})=>h);return a.data=p,Promise.resolve(a)}else return a.data=l,Promise.resolve(a)}catch(s){return a.error=ha(s),Promise.resolve(a)}}async downloadJson(e){const i=new H1;try{const n=await this.getDownloadUrl(e),r=await fetch(n).then(o=>o.json());if(!r)throw new Error(`No JSON found for uri: ${e}`);i.data=r}catch(n){const r=ha(n);i.error=r}finally{return Promise.resolve(i)}}async getDownloadUrl(e){const i=Xie(),n=Kie(i,e);return await qie(n)}}function ene(t){switch(t){case _e.Body:return["id","is_active","start_datetime","name"];case _e.Event:return["id","body_ref","event_datetime"];case _e.EventMinutesItem:return["id","event_ref","index","minutes_item_ref"];case _e.EventMinutesItemFile:return["id","event_minutes_item_ref","name","uri"];case _e.File:return["id","name","uri"];case _e.IndexedEventGram:return["id","context_span","datetime_weighted_value","event_ref","stemmed_gram","unstemmed_gram","value"];case _e.Matter:return["id","matter_type","name","title"];case _e.MatterFile:return["id","matter_ref","name","uri"];case _e.MatterSponsor:return["id","matter_ref","person_ref"];case _e.MatterStatus:return["id","matter_ref","status","update_datetime"];case _e.MinutesItem:return["id","name"];case _e.Person:return["id","is_active","name","router_string"];case _e.Role:return["id","start_datetime","title","person_ref","seat_ref"];case _e.Seat:return["id","name"];case _e.Session:return["id","event_ref","session_datetime","session_index","video_uri"];case _e.Transcript:return["id","confidence","created","generator","file_ref","session_ref"];case _e.TranscriptJSON:return["confidence","generator","created_datetime","sentences"];case _e.Vote:return["id","event_minutes_item_ref","event_ref","matter_ref","person_ref","decision"]}}function T4(t,e){try{const n=ene(e).filter(r=>!t.hasOwnProperty(r));if(n.length>0)throw new Error(`Missing properties: ${JSON.stringify(n)}`);return}catch(i){return i instanceof Error?(i.message=`validateResponseData_${i.message}`,i):new Error("validateResponseData_somehow threw a incorrectly-typed error")}}class Dn{constructor(e,i){this.networkService=Qt.getInstance(i.options,i.settings),this.modelName=e;const n=e.split("_").map(r=>r[0].toUpperCase()+r.slice(1)).join("");this.serviceName=`${n}Service`}async createModel(e,i,n){try{const{data:r,error:o}=await e;if(o)throw o;if(!r)throw new Error(`No ${this.modelName} found.`);const a=T4(r,this.modelName);if(a)throw a;return Promise.resolve(new i(r))}catch(r){const o=ha(r);return o.message=`${this.serviceName}_${n}_${o.message}`,Promise.reject(o)}}async createModels(e,i,n){try{const{data:r,error:o}=await e;if(o){if(o instanceof mC)return Promise.resolve([]);throw o}if(!r||r.length===0)throw new Error(`No ${this.modelName}s found.`);const a=r.map(s=>{const l=T4(s,this.modelName);if(l)throw l;return new i(s)});return Promise.resolve(a)}catch(r){const o=ha(r);return o.message=`${this.serviceName}_${n}_${o.message}`,Promise.reject(o)}}}var mi=(t=>(t.lt="<",t.lteq="<=",t.eq="==",t.gt=">",t.gteq=">=",t.not_eq="!=",t.array_contains="array-contains",t.array_contains_any="array-contains-any",t.in="in",t.not_in="not-in",t))(mi||{}),Ki=(t=>(t.asc="asc",t.desc="desc",t))(Ki||{});const bC=10;function ma(t){return new Date(t.seconds*1e3)}class uy{constructor(e){this.id=e.id,this.is_active=e.is_active,this.start_datetime=ma(e.start_datetime),this.name=e.name,e.description&&(this.description=e.description),e.end_datetime&&(this.end_datetime=ma(e.end_datetime)),e.external_source_id&&(this.external_source_id=e.external_source_id)}}class r6 extends Dn{constructor(e){super(_e.Body,e)}async getBodiesByName(e){const i=this.networkService.getDocuments(_e.Body,[Ai("name",mi.eq,e)]);return this.createModels(i,uy,`getBodyByName(${e})`)}async getAllBodies(){const e=this.networkService.getDocuments(_e.Body,[Rn("name")]);return this.createModels(e,uy,"getAllBodies()")}}var rs=function(e,i){if(typeof e=="function"){e(i);return}e!==null&&typeof e=="object"&&(e.current=i)},t2=function(e){return e!==null&&typeof e=="object"&&e.hasOwnProperty("current")},tne=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.prevNode=null,n}var i=e.prototype;return i.componentDidMount=function(){var r=dl.exports.findDOMNode(this);this.prevNode=r,rs(this.props.innerRef,r)},i.componentDidUpdate=function(r){var o=dl.exports.findDOMNode(this);this.prevNode!==o&&(this.prevNode=o,rs(this.props.innerRef,o)),r.innerRef!==this.props.innerRef&&rs(this.props.innerRef,o)},i.componentWillUnmount=function(){rs(this.props.innerRef,null),delete this.prevNode},i.render=function(){var r=this.props.children;return r},e}($.exports.Component),ine=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.currentNode=null,n.handleRefOverride=function(s){var l=n.props,c=l.children,d=l.innerRef;rs(c.ref,s),rs(d,s),n.currentNode=s},n}var i=e.prototype;return i.componentDidUpdate=function(r){r.innerRef!==this.props.innerRef&&rs(this.props.innerRef,this.currentNode)},i.componentWillUnmount=function(){delete this.currentNode},i.render=function(){var r=this.props.children;return $.exports.cloneElement(r,{ref:this.handleRefOverride})},e}($.exports.Component),vl=function(e){var i=e.children,n=e.innerRef,r=ru(e,["children","innerRef"]),o=$.exports.Children.only(i),a=KT.exports.isForwardRef(o)?ine:tne,s=o&&r&&Object.keys(r).length>0?$.exports.cloneElement(o,r):o;return $.exports.createElement(a,{innerRef:n},s)},nne=Array.isArray,tn=nne,rne=typeof global=="object"&&global&&global.Object===Object&&global,o6=rne,one=typeof self=="object"&&self&&self.Object===Object&&self,ane=o6||one||Function("return this")(),Ts=ane,sne=Ts.Symbol,ga=sne,a6=Object.prototype,lne=a6.hasOwnProperty,cne=a6.toString,Vp=ga?ga.toStringTag:void 0;function une(t){var e=lne.call(t,Vp),i=t[Vp];try{t[Vp]=void 0;var n=!0}catch{}var r=cne.call(t);return n&&(e?t[Vp]=i:delete t[Vp]),r}var dne=Object.prototype,fne=dne.toString;function pne(t){return fne.call(t)}var hne="[object Null]",mne="[object Undefined]",S4=ga?ga.toStringTag:void 0;function ka(t){return t==null?t===void 0?mne:hne:S4&&S4 in Object(t)?une(t):pne(t)}function ba(t){return t!=null&&typeof t=="object"}var gne="[object Symbol]";function qw(t){return typeof t=="symbol"||ba(t)&&ka(t)==gne}var bne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vne=/^\w*$/;function vC(t,e){if(tn(t))return!1;var i=typeof t;return i=="number"||i=="symbol"||i=="boolean"||t==null||qw(t)?!0:vne.test(t)||!bne.test(t)||e!=null&&t in Object(e)}function yl(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var yne="[object AsyncFunction]",wne="[object Function]",Ane="[object GeneratorFunction]",xne="[object Proxy]";function dy(t){if(!yl(t))return!1;var e=ka(t);return e==wne||e==Ane||e==yne||e==xne}var kne=Ts["__core-js_shared__"],W1=kne,C4=function(){var t=/[^.]+$/.exec(W1&&W1.keys&&W1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function _ne(t){return!!C4&&C4 in t}var Tne=Function.prototype,Sne=Tne.toString;function su(t){if(t!=null){try{return Sne.call(t)}catch{}try{return t+""}catch{}}return""}var Cne=/[\\^$.*+?()[\]{}|]/g,Ene=/^\[object .+?Constructor\]$/,zne=Function.prototype,Ine=Object.prototype,Rne=zne.toString,Pne=Ine.hasOwnProperty,Lne=RegExp("^"+Rne.call(Pne).replace(Cne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function One(t){if(!yl(t)||_ne(t))return!1;var e=dy(t)?Lne:Ene;return e.test(su(t))}function Mne(t,e){return t==null?void 0:t[e]}function lu(t,e){var i=Mne(t,e);return One(i)?i:void 0}var Dne=lu(Object,"create"),um=Dne;function Bne(){this.__data__=um?um(null):{},this.size=0}function Fne(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Nne="__lodash_hash_undefined__",jne=Object.prototype,Une=jne.hasOwnProperty;function Gne(t){var e=this.__data__;if(um){var i=e[t];return i===Nne?void 0:i}return Une.call(e,t)?e[t]:void 0}var Hne=Object.prototype,Yne=Hne.hasOwnProperty;function Wne(t){var e=this.__data__;return um?e[t]!==void 0:Yne.call(e,t)}var Vne="__lodash_hash_undefined__";function $ne(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=um&&e===void 0?Vne:e,this}function Kc(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Kc.prototype.clear=Bne;Kc.prototype.delete=Fne;Kc.prototype.get=Gne;Kc.prototype.has=Wne;Kc.prototype.set=$ne;function Qne(){this.__data__=[],this.size=0}function Kw(t,e){return t===e||t!==t&&e!==e}function Xw(t,e){for(var i=t.length;i--;)if(Kw(t[i][0],e))return i;return-1}var qne=Array.prototype,Kne=qne.splice;function Xne(t){var e=this.__data__,i=Xw(e,t);if(i<0)return!1;var n=e.length-1;return i==n?e.pop():Kne.call(e,i,1),--this.size,!0}function Jne(t){var e=this.__data__,i=Xw(e,t);return i<0?void 0:e[i][1]}function Zne(t){return Xw(this.__data__,t)>-1}function ere(t,e){var i=this.__data__,n=Xw(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this}function Ss(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Ss.prototype.clear=Qne;Ss.prototype.delete=Xne;Ss.prototype.get=Jne;Ss.prototype.has=Zne;Ss.prototype.set=ere;var tre=lu(Ts,"Map"),dm=tre;function ire(){this.size=0,this.__data__={hash:new Kc,map:new(dm||Ss),string:new Kc}}function nre(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Jw(t,e){var i=t.__data__;return nre(e)?i[typeof e=="string"?"string":"hash"]:i.map}function rre(t){var e=Jw(this,t).delete(t);return this.size-=e?1:0,e}function ore(t){return Jw(this,t).get(t)}function are(t){return Jw(this,t).has(t)}function sre(t,e){var i=Jw(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this}function Cs(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Cs.prototype.clear=ire;Cs.prototype.delete=rre;Cs.prototype.get=ore;Cs.prototype.has=are;Cs.prototype.set=sre;var lre="Expected a function";function Zw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(lre);var i=function(){var n=arguments,r=e?e.apply(this,n):n[0],o=i.cache;if(o.has(r))return o.get(r);var a=t.apply(this,n);return i.cache=o.set(r,a)||o,a};return i.cache=new(Zw.Cache||Cs),i}Zw.Cache=Cs;var cre=500;function ure(t){var e=Zw(t,function(n){return i.size===cre&&i.clear(),n}),i=e.cache;return e}var dre=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fre=/\\(\\)?/g,pre=ure(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(dre,function(i,n,r,o){e.push(r?o.replace(fre,"$1"):n||i)}),e}),hre=pre;function yC(t,e){for(var i=-1,n=t==null?0:t.length,r=Array(n);++i<n;)r[i]=e(t[i],i,t);return r}var mre=1/0,E4=ga?ga.prototype:void 0,z4=E4?E4.toString:void 0;function s6(t){if(typeof t=="string")return t;if(tn(t))return yC(t,s6)+"";if(qw(t))return z4?z4.call(t):"";var e=t+"";return e=="0"&&1/t==-mre?"-0":e}function eA(t){return t==null?"":s6(t)}function mg(t,e){return tn(t)?t:vC(t,e)?[t]:hre(eA(t))}var gre="[object Arguments]";function I4(t){return ba(t)&&ka(t)==gre}var l6=Object.prototype,bre=l6.hasOwnProperty,vre=l6.propertyIsEnumerable,yre=I4(function(){return arguments}())?I4:function(t){return ba(t)&&bre.call(t,"callee")&&!vre.call(t,"callee")},tA=yre,wre=9007199254740991,Are=/^(?:0|[1-9]\d*)$/;function iA(t,e){var i=typeof t;return e=e==null?wre:e,!!e&&(i=="number"||i!="symbol"&&Are.test(t))&&t>-1&&t%1==0&&t<e}var xre=9007199254740991;function wC(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=xre}var kre=1/0;function If(t){if(typeof t=="string"||qw(t))return t;var e=t+"";return e=="0"&&1/t==-kre?"-0":e}function _re(t,e,i){e=mg(e,t);for(var n=-1,r=e.length,o=!1;++n<r;){var a=If(e[n]);if(!(o=t!=null&&i(t,a)))break;t=t[a]}return o||++n!=r?o:(r=t==null?0:t.length,!!r&&wC(r)&&iA(a,r)&&(tn(t)||tA(t)))}function c6(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function Tre(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function nA(t,e){e=mg(e,t);for(var i=0,n=e.length;t!=null&&i<n;)t=t[If(e[i++])];return i&&i==n?t:void 0}function u6(t,e,i){var n=-1,r=t.length;e<0&&(e=-e>r?0:r+e),i=i>r?r:i,i<0&&(i+=r),r=e>i?0:i-e>>>0,e>>>=0;for(var o=Array(r);++n<r;)o[n]=t[n+e];return o}function Sre(t,e){return e.length<2?t:nA(t,u6(e,0,-1))}function Cre(t,e,i){e=mg(e,t),t=Sre(t,e);var n=t==null?t:t[If(Tre(e))];return n==null?void 0:c6(n,t,i)}function gg(t){return t}var R4=Math.max;function d6(t,e,i){return e=R4(e===void 0?t.length-1:e,0),function(){for(var n=arguments,r=-1,o=R4(n.length-e,0),a=Array(o);++r<o;)a[r]=n[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=n[r];return s[e]=i(a),c6(t,this,s)}}function f6(t){return function(){return t}}var Ere=function(){try{var t=lu(Object,"defineProperty");return t({},"",{}),t}catch{}}(),fy=Ere,zre=fy?function(t,e){return fy(t,"toString",{configurable:!0,enumerable:!1,value:f6(e),writable:!0})}:gg,Ire=zre,Rre=800,Pre=16,Lre=Date.now;function Ore(t){var e=0,i=0;return function(){var n=Lre(),r=Pre-(n-i);if(i=n,r>0){if(++e>=Rre)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Mre=Ore(Ire),p6=Mre;function Dre(t,e){return p6(d6(t,e,gg),t+"")}var Bre=Dre(Cre),pt=Bre;function re(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AC(t){return t===void 0}var Fre=/\s/;function Nre(t){for(var e=t.length;e--&&Fre.test(t.charAt(e)););return e}var jre=/^\s+/;function Ure(t){return t&&t.slice(0,Nre(t)+1).replace(jre,"")}var P4=0/0,Gre=/^[-+]0x[0-9a-f]+$/i,Hre=/^0b[01]+$/i,Yre=/^0o[0-7]+$/i,Wre=parseInt;function h6(t){if(typeof t=="number")return t;if(qw(t))return P4;if(yl(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=yl(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Ure(t);var i=Hre.test(t);return i||Yre.test(t)?Wre(t.slice(2),i?2:8):Gre.test(t)?P4:+t}var L4=1/0,Vre=17976931348623157e292;function i2(t){if(!t)return t===0?t:0;if(t=h6(t),t===L4||t===-L4){var e=t<0?-1:1;return e*Vre}return t===t?t:0}function $re(t){var e=i2(t),i=e%1;return e===e?i?e-i:e:0}function Qre(t,e){for(var i=-1,n=t==null?0:t.length,r=0,o=[];++i<n;){var a=t[i];e(a,i,t)&&(o[r++]=a)}return o}function qre(t){return function(e,i,n){for(var r=-1,o=Object(e),a=n(e),s=a.length;s--;){var l=a[t?s:++r];if(i(o[l],l,o)===!1)break}return e}}var Kre=qre(),Xre=Kre;function Jre(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function Zre(){return!1}var m6=typeof os=="object"&&os&&!os.nodeType&&os,O4=m6&&typeof as=="object"&&as&&!as.nodeType&&as,eoe=O4&&O4.exports===m6,M4=eoe?Ts.Buffer:void 0,toe=M4?M4.isBuffer:void 0,ioe=toe||Zre,py=ioe,noe="[object Arguments]",roe="[object Array]",ooe="[object Boolean]",aoe="[object Date]",soe="[object Error]",loe="[object Function]",coe="[object Map]",uoe="[object Number]",doe="[object Object]",foe="[object RegExp]",poe="[object Set]",hoe="[object String]",moe="[object WeakMap]",goe="[object ArrayBuffer]",boe="[object DataView]",voe="[object Float32Array]",yoe="[object Float64Array]",woe="[object Int8Array]",Aoe="[object Int16Array]",xoe="[object Int32Array]",koe="[object Uint8Array]",_oe="[object Uint8ClampedArray]",Toe="[object Uint16Array]",Soe="[object Uint32Array]",ri={};ri[voe]=ri[yoe]=ri[woe]=ri[Aoe]=ri[xoe]=ri[koe]=ri[_oe]=ri[Toe]=ri[Soe]=!0;ri[noe]=ri[roe]=ri[goe]=ri[ooe]=ri[boe]=ri[aoe]=ri[soe]=ri[loe]=ri[coe]=ri[uoe]=ri[doe]=ri[foe]=ri[poe]=ri[hoe]=ri[moe]=!1;function Coe(t){return ba(t)&&wC(t.length)&&!!ri[ka(t)]}function Eoe(t){return function(e){return t(e)}}var g6=typeof os=="object"&&os&&!os.nodeType&&os,Eh=g6&&typeof as=="object"&&as&&!as.nodeType&&as,zoe=Eh&&Eh.exports===g6,V1=zoe&&o6.process,Ioe=function(){try{var t=Eh&&Eh.require&&Eh.require("util").types;return t||V1&&V1.binding&&V1.binding("util")}catch{}}(),D4=Ioe,B4=D4&&D4.isTypedArray,Roe=B4?Eoe(B4):Coe,xC=Roe,Poe=Object.prototype,Loe=Poe.hasOwnProperty;function Ooe(t,e){var i=tn(t),n=!i&&tA(t),r=!i&&!n&&py(t),o=!i&&!n&&!r&&xC(t),a=i||n||r||o,s=a?Jre(t.length,String):[],l=s.length;for(var c in t)(e||Loe.call(t,c))&&!(a&&(c=="length"||r&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||iA(c,l)))&&s.push(c);return s}var Moe=Object.prototype;function b6(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||Moe;return t===i}function v6(t,e){return function(i){return t(e(i))}}var Doe=v6(Object.keys,Object),Boe=Doe,Foe=Object.prototype,Noe=Foe.hasOwnProperty;function y6(t){if(!b6(t))return Boe(t);var e=[];for(var i in Object(t))Noe.call(t,i)&&i!="constructor"&&e.push(i);return e}function Rf(t){return t!=null&&wC(t.length)&&!dy(t)}function bg(t){return Rf(t)?Ooe(t):y6(t)}function w6(t,e){return t&&Xre(t,e,bg)}function joe(t,e){return function(i,n){if(i==null)return i;if(!Rf(i))return t(i,n);for(var r=i.length,o=e?r:-1,a=Object(i);(e?o--:++o<r)&&n(a[o],o,a)!==!1;);return i}}var Uoe=joe(w6),rA=Uoe;function Goe(){this.__data__=new Ss,this.size=0}function Hoe(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}function Yoe(t){return this.__data__.get(t)}function Woe(t){return this.__data__.has(t)}var Voe=200;function $oe(t,e){var i=this.__data__;if(i instanceof Ss){var n=i.__data__;if(!dm||n.length<Voe-1)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new Cs(n)}return i.set(t,e),this.size=i.size,this}function ls(t){var e=this.__data__=new Ss(t);this.size=e.size}ls.prototype.clear=Goe;ls.prototype.delete=Hoe;ls.prototype.get=Yoe;ls.prototype.has=Woe;ls.prototype.set=$oe;var Qoe="__lodash_hash_undefined__";function qoe(t){return this.__data__.set(t,Qoe),this}function Koe(t){return this.__data__.has(t)}function fm(t){var e=-1,i=t==null?0:t.length;for(this.__data__=new Cs;++e<i;)this.add(t[e])}fm.prototype.add=fm.prototype.push=qoe;fm.prototype.has=Koe;function A6(t,e){for(var i=-1,n=t==null?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}function x6(t,e){return t.has(e)}var Xoe=1,Joe=2;function k6(t,e,i,n,r,o){var a=i&Xoe,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),d=o.get(e);if(c&&d)return c==e&&d==t;var p=-1,h=!0,m=i&Joe?new fm:void 0;for(o.set(t,e),o.set(e,t);++p<s;){var y=t[p],w=e[p];if(n)var g=a?n(w,y,p,e,t,o):n(y,w,p,t,e,o);if(g!==void 0){if(g)continue;h=!1;break}if(m){if(!A6(e,function(A,x){if(!x6(m,x)&&(y===A||r(y,A,i,n,o)))return m.push(x)})){h=!1;break}}else if(!(y===w||r(y,w,i,n,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var Zoe=Ts.Uint8Array,F4=Zoe;function eae(t){var e=-1,i=Array(t.size);return t.forEach(function(n,r){i[++e]=[r,n]}),i}function kC(t){var e=-1,i=Array(t.size);return t.forEach(function(n){i[++e]=n}),i}var tae=1,iae=2,nae="[object Boolean]",rae="[object Date]",oae="[object Error]",aae="[object Map]",sae="[object Number]",lae="[object RegExp]",cae="[object Set]",uae="[object String]",dae="[object Symbol]",fae="[object ArrayBuffer]",pae="[object DataView]",N4=ga?ga.prototype:void 0,$1=N4?N4.valueOf:void 0;function hae(t,e,i,n,r,o,a){switch(i){case pae:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case fae:return!(t.byteLength!=e.byteLength||!o(new F4(t),new F4(e)));case nae:case rae:case sae:return Kw(+t,+e);case oae:return t.name==e.name&&t.message==e.message;case lae:case uae:return t==e+"";case aae:var s=eae;case cae:var l=n&tae;if(s||(s=kC),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;n|=iae,a.set(t,e);var d=k6(s(t),s(e),n,r,o,a);return a.delete(t),d;case dae:if($1)return $1.call(t)==$1.call(e)}return!1}function _6(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t}function mae(t,e,i){var n=e(t);return tn(t)?n:_6(n,i(t))}function gae(){return[]}var bae=Object.prototype,vae=bae.propertyIsEnumerable,j4=Object.getOwnPropertySymbols,yae=j4?function(t){return t==null?[]:(t=Object(t),Qre(j4(t),function(e){return vae.call(t,e)}))}:gae,wae=yae;function U4(t){return mae(t,bg,wae)}var Aae=1,xae=Object.prototype,kae=xae.hasOwnProperty;function _ae(t,e,i,n,r,o){var a=i&Aae,s=U4(t),l=s.length,c=U4(e),d=c.length;if(l!=d&&!a)return!1;for(var p=l;p--;){var h=s[p];if(!(a?h in e:kae.call(e,h)))return!1}var m=o.get(t),y=o.get(e);if(m&&y)return m==e&&y==t;var w=!0;o.set(t,e),o.set(e,t);for(var g=a;++p<l;){h=s[p];var A=t[h],x=e[h];if(n)var T=a?n(x,A,h,e,t,o):n(A,x,h,t,e,o);if(!(T===void 0?A===x||r(A,x,i,n,o):T)){w=!1;break}g||(g=h=="constructor")}if(w&&!g){var E=t.constructor,z=e.constructor;E!=z&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof z=="function"&&z instanceof z)&&(w=!1)}return o.delete(t),o.delete(e),w}var Tae=lu(Ts,"DataView"),n2=Tae,Sae=lu(Ts,"Promise"),r2=Sae,Cae=lu(Ts,"Set"),kd=Cae,Eae=lu(Ts,"WeakMap"),o2=Eae,G4="[object Map]",zae="[object Object]",H4="[object Promise]",Y4="[object Set]",W4="[object WeakMap]",V4="[object DataView]",Iae=su(n2),Rae=su(dm),Pae=su(r2),Lae=su(kd),Oae=su(o2),ac=ka;(n2&&ac(new n2(new ArrayBuffer(1)))!=V4||dm&&ac(new dm)!=G4||r2&&ac(r2.resolve())!=H4||kd&&ac(new kd)!=Y4||o2&&ac(new o2)!=W4)&&(ac=function(t){var e=ka(t),i=e==zae?t.constructor:void 0,n=i?su(i):"";if(n)switch(n){case Iae:return V4;case Rae:return G4;case Pae:return H4;case Lae:return Y4;case Oae:return W4}return e});var a2=ac,Mae=1,$4="[object Arguments]",Q4="[object Array]",w0="[object Object]",Dae=Object.prototype,q4=Dae.hasOwnProperty;function Bae(t,e,i,n,r,o){var a=tn(t),s=tn(e),l=a?Q4:a2(t),c=s?Q4:a2(e);l=l==$4?w0:l,c=c==$4?w0:c;var d=l==w0,p=c==w0,h=l==c;if(h&&py(t)){if(!py(e))return!1;a=!0,d=!1}if(h&&!d)return o||(o=new ls),a||xC(t)?k6(t,e,i,n,r,o):hae(t,e,l,i,n,r,o);if(!(i&Mae)){var m=d&&q4.call(t,"__wrapped__"),y=p&&q4.call(e,"__wrapped__");if(m||y){var w=m?t.value():t,g=y?e.value():e;return o||(o=new ls),r(w,g,i,n,o)}}return h?(o||(o=new ls),_ae(t,e,i,n,r,o)):!1}function _C(t,e,i,n,r){return t===e?!0:t==null||e==null||!ba(t)&&!ba(e)?t!==t&&e!==e:Bae(t,e,i,n,_C,r)}var Fae=1,Nae=2;function jae(t,e,i,n){var r=i.length,o=r,a=!n;if(t==null)return!o;for(t=Object(t);r--;){var s=i[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){s=i[r];var l=s[0],c=t[l],d=s[1];if(a&&s[2]){if(c===void 0&&!(l in t))return!1}else{var p=new ls;if(n)var h=n(c,d,l,t,e,p);if(!(h===void 0?_C(d,c,Fae|Nae,n,p):h))return!1}}return!0}function T6(t){return t===t&&!yl(t)}function Uae(t){for(var e=bg(t),i=e.length;i--;){var n=e[i],r=t[n];e[i]=[n,r,T6(r)]}return e}function S6(t,e){return function(i){return i==null?!1:i[t]===e&&(e!==void 0||t in Object(i))}}function Gae(t){var e=Uae(t);return e.length==1&&e[0][2]?S6(e[0][0],e[0][1]):function(i){return i===t||jae(i,t,e)}}function C6(t,e,i){var n=t==null?void 0:nA(t,e);return n===void 0?i:n}function Hae(t,e){return t!=null&&e in Object(t)}function E6(t,e){return t!=null&&_re(t,e,Hae)}var Yae=1,Wae=2;function Vae(t,e){return vC(t)&&T6(e)?S6(If(t),e):function(i){var n=C6(i,t);return n===void 0&&n===e?E6(i,t):_C(e,n,Yae|Wae)}}function $ae(t){return function(e){return e==null?void 0:e[t]}}function Qae(t){return function(e){return nA(e,t)}}function qae(t){return vC(t)?$ae(If(t)):Qae(t)}function TC(t){return typeof t=="function"?t:t==null?gg:typeof t=="object"?tn(t)?Vae(t[0],t[1]):Gae(t):qae(t)}var Kae="[object Map]",Xae="[object Set]",Jae=Object.prototype,Zae=Jae.hasOwnProperty;function ese(t){if(t==null)return!0;if(Rf(t)&&(tn(t)||typeof t=="string"||typeof t.splice=="function"||py(t)||xC(t)||tA(t)))return!t.length;var e=a2(t);if(e==Kae||e==Xae)return!t.size;if(b6(t))return!y6(t).length;for(var i in t)if(Zae.call(t,i))return!1;return!0}function tse(t,e,i,n){for(var r=t.length,o=i+(n?1:-1);n?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function ise(t){return t!==t}function nse(t,e,i){for(var n=i-1,r=t.length;++n<r;)if(t[n]===e)return n;return-1}function z6(t,e,i){return e===e?nse(t,e,i):tse(t,ise,i)}function rse(t,e){var i=t==null?0:t.length;return!!i&&z6(t,e,0)>-1}function ose(t,e,i){for(var n=-1,r=t==null?0:t.length;++n<r;)if(i(e,t[n]))return!0;return!1}function ase(t,e){for(var i=-1,n=t==null?0:t.length;++i<n&&e(t[i],i,t)!==!1;);return t}function sse(t){return typeof t=="function"?t:gg}function lse(t,e){var i=tn(t)?ase:rA;return i(t,sse(e))}var cse=function(e){return"default"+(e[0].toUpperCase()+e.slice(1))},use=function(e,i,n,r){r===void 0&&(r=!1);var o=i[e];if(o!==void 0)return o;if(r){var a=i[cse(e)];if(a!==void 0)return a;if(n){var s=n[e];if(s!==void 0)return s}}if(e==="checked")return!1;if(e==="value")return i.multiple?[]:""},oA=function(t){ye(e,t);function e(){for(var i,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];i=t.call.apply(t,[this].concat(r))||this;var a=i.constructor,s=a.autoControlledProps,l=a.getAutoControlledStateFromProps,c=pt(re(i),"getInitialAutoControlledState",i.props)||{},d=s.reduce(function(p,h){return p[h]=use(h,i.props,c,!0),p},{});return i.state=Me({},c,d,{autoControlledProps:s,getAutoControlledStateFromProps:l}),i}return e.getDerivedStateFromProps=function(n,r){var o=r.autoControlledProps,a=r.getAutoControlledStateFromProps,s=o.reduce(function(c,d){var p=!AC(n[d]);return p&&(c[d]=n[d]),c},{});if(a){var l=a(n,Me({},r,s),r);return Me({},s,l)}return s},e.getAutoControlledStateFromProps=function(){return null},e}(ze.Component);function dse(t,e){var i;return rA(t,function(n,r,o){return i=e(n,r,o),!i}),!!i}function fse(t,e,i){if(!yl(i))return!1;var n=typeof e;return(n=="number"?Rf(i)&&iA(e,i.length):n=="string"&&e in i)?Kw(i[e],t):!1}function Q1(t,e,i){var n=tn(t)?A6:dse;return i&&fse(t,e,i)&&(e=void 0),n(t,TC(e))}var Pt=function(e){return e==null||Array.isArray(e)&&e.length===0},pse={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function K4(t){var e=typeof t;return e==="string"||e==="number"?pse[t]||t:""}var pe=function(e,i){return e&&i},Bo=function(e,i){return e&&e!==!0&&e+" "+i},zi=function(e,i){return e&&(e===!0?i:e+" "+i)},hy=function(e,i){return!e||e===!0?null:e.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map(function(n){return n.replace("-"," ")+" "+i}).join(" ")},aA=function(e){return e==="justified"?"justified":Bo(e,"aligned")},vg=function(e){return Bo(e,"aligned")},Jo=function(e,i,n){if(i===void 0&&(i=""),n===void 0&&(n=!1),n&&e==="equal")return"equal width";var r=typeof e;return(r==="string"||r==="number")&&i?K4(e)+" "+i:K4(e)},X4=ga?ga.isConcatSpreadable:void 0;function hse(t){return tn(t)||tA(t)||!!(X4&&t&&t[X4])}function I6(t,e,i,n,r){var o=-1,a=t.length;for(i||(i=hse),r||(r=[]);++o<a;){var s=t[o];e>0&&i(s)?e>1?I6(s,e-1,i,n,r):_6(r,s):n||(r[r.length]=s)}return r}function mse(t,e,i){var n=t.length;return i=i===void 0?n:i,!e&&i>=n?t:u6(t,e,i)}function gse(t){return t.split("")}var bse="\\ud800-\\udfff",vse="\\u0300-\\u036f",yse="\\ufe20-\\ufe2f",wse="\\u20d0-\\u20ff",Ase=vse+yse+wse,xse="\\ufe0e\\ufe0f",kse="\\u200d",_se=RegExp("["+kse+bse+Ase+xse+"]");function R6(t){return _se.test(t)}var P6="\\ud800-\\udfff",Tse="\\u0300-\\u036f",Sse="\\ufe20-\\ufe2f",Cse="\\u20d0-\\u20ff",Ese=Tse+Sse+Cse,zse="\\ufe0e\\ufe0f",Ise="["+P6+"]",s2="["+Ese+"]",l2="\\ud83c[\\udffb-\\udfff]",Rse="(?:"+s2+"|"+l2+")",L6="[^"+P6+"]",O6="(?:\\ud83c[\\udde6-\\uddff]){2}",M6="[\\ud800-\\udbff][\\udc00-\\udfff]",Pse="\\u200d",D6=Rse+"?",B6="["+zse+"]?",Lse="(?:"+Pse+"(?:"+[L6,O6,M6].join("|")+")"+B6+D6+")*",Ose=B6+D6+Lse,Mse="(?:"+[L6+s2+"?",s2,O6,M6,Ise].join("|")+")",Dse=RegExp(l2+"(?="+l2+")|"+Mse+Ose,"g");function Bse(t){return t.match(Dse)||[]}function Fse(t){return R6(t)?Bse(t):gse(t)}function Nse(t,e,i){e=="__proto__"&&fy?fy(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}var jse=Object.prototype,Use=jse.hasOwnProperty;function Gse(t,e,i){var n=t[e];(!(Use.call(t,e)&&Kw(n,i))||i===void 0&&!(e in t))&&Nse(t,e,i)}function Hse(t,e,i,n){if(!yl(t))return t;e=mg(e,t);for(var r=-1,o=e.length,a=o-1,s=t;s!=null&&++r<o;){var l=If(e[r]),c=i;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(r!=a){var d=s[l];c=n?n(d,l,s):void 0,c===void 0&&(c=yl(d)?d:iA(e[r+1])?[]:{})}Gse(s,l,c),s=s[l]}return t}function Yse(t,e,i){for(var n=-1,r=e.length,o={};++n<r;){var a=e[n],s=nA(t,a);i(s,a)&&Hse(o,mg(a,t),s)}return o}function Wse(t,e){return Yse(t,e,function(i,n){return E6(t,n)})}function Vse(t){var e=t==null?0:t.length;return e?I6(t,1):[]}function $se(t){return p6(d6(t,void 0,Vse),t+"")}var Qse=$se(function(t,e){return t==null?{}:Wse(t,e)}),F6=Qse,qse=v6(Object.getPrototypeOf,Object),Kse=qse,Xse="[object Object]",Jse=Function.prototype,Zse=Object.prototype,N6=Jse.toString,ele=Zse.hasOwnProperty,tle=N6.call(Object);function j6(t){if(!ba(t)||ka(t)!=Xse)return!1;var e=Kse(t);if(e===null)return!0;var i=ele.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&N6.call(i)==tle}function Oi(t){return t==null}function ile(t,e){var i=-1,n=Rf(t)?Array(t.length):[];return rA(t,function(r,o,a){n[++i]=e(r,o,a)}),n}function pm(t,e){var i=tn(t)?yC:ile;return i(t,TC(e))}var SC={exports:{}},my={},U6={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window!="undefined"&&window.document&&window.document.createElement),i={canUseDOM:e,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=i:window.ExecutionEnvironment=i})()})(U6);Object.defineProperty(my,"__esModule",{value:!0});var J4=U6.exports,nle=$.exports;function G6(t){return(G6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function yg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z4(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function wg(t,e,i){return e&&Z4(t.prototype,e),i&&Z4(t,i),t}function uo(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function rle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y6(t,e)}function H6(t){return(H6=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Y6(t,e){return(Y6=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i})(t,e)}function ole(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ale(t,e){return!e||typeof e!="object"&&typeof e!="function"?ole(t):e}var W6=function(){function t(e){yg(this,t),uo(this,"handlers",void 0),this.handlers=e.slice(0)}return wg(t,[{key:"addHandlers",value:function(e){for(var i=this.handlers.slice(0),n=e.length,r=0;r<n;r+=1)i.push(e[r]);return new t(i)}},{key:"dispatchEvent",value:function(e,i){var n=this.handlers.length-1;if(i){for(var r=n;r>=0;r-=1)this.handlers[r].called||(this.handlers[r].called=!0,this.handlers[r](e));for(var o=n;o>=0;o-=1)this.handlers[o].called=!1}else(0,this.handlers[n])(e)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(e){for(var i=[],n=this.handlers.length,r=0;r<n;r+=1){var o=this.handlers[r];e.indexOf(o)===-1&&i.push(o)}return new t(i)}}]),t}();function eR(t){var e=new Map;return t.forEach(function(i,n){e.set(n,i)}),e}function tR(t){return Array.isArray(t)?t:[t]}var sle=function(t){return t!==null&&G6(t)==="object"&&t.hasOwnProperty("current")};function iR(t){return t==="document"?document:t==="window"?window:sle(t)?t.current||document:t||document}var c2=function(){function t(e,i){yg(this,t),uo(this,"handlerSets",void 0),uo(this,"poolName",void 0),this.handlerSets=i,this.poolName=e}return wg(t,[{key:"addHandlers",value:function(e,i){var n=eR(this.handlerSets);if(n.has(e)){var r=n.get(e);n.set(e,r.addHandlers(i))}else n.set(e,new W6(i));return new t(this.poolName,n)}},{key:"dispatchEvent",value:function(e,i){var n=this.handlerSets.get(e),r=this.poolName==="default";n&&n.dispatchEvent(i,r)}},{key:"hasHandlers",value:function(e){if(!e)return this.handlerSets.size>0;var i=this.handlerSets.get(e);return!!i&&i.hasHandlers()}},{key:"removeHandlers",value:function(e,i){var n=eR(this.handlerSets);if(!n.has(e))return new t(this.poolName,n);var r=n.get(e).removeHandlers(i);return r.hasHandlers()?n.set(e,r):n.delete(e),new t(this.poolName,n)}}]),t}();uo(c2,"createByType",function(t,e,i){var n=new Map;return n.set(e,new W6(i)),new c2(t,n)});var lle=function(){function t(e){var i=this;yg(this,t),uo(this,"handlers",new Map),uo(this,"pools",new Map),uo(this,"target",void 0),uo(this,"createEmitter",function(n){return function(r){i.pools.forEach(function(o){o.dispatchEvent(n,r)})}}),this.target=e}return wg(t,[{key:"addHandlers",value:function(e,i,n){if(this.pools.has(e)){var r=this.pools.get(e);this.pools.set(e,r.addHandlers(i,n))}else this.pools.set(e,c2.createByType(e,i,n));this.handlers.has(i)||this.addTargetHandler(i)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(e,i,n){if(this.pools.has(e)){var r=this.pools.get(e).removeHandlers(i,n);r.hasHandlers()?this.pools.set(e,r):this.pools.delete(e);var o=!1;this.pools.forEach(function(a){return o=o||a.hasHandlers(i)}),o||this.removeTargetHandler(i)}}},{key:"addTargetHandler",value:function(e){var i=this.createEmitter(e);this.handlers.set(e,i),this.target.addEventListener(e,i,!0)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),!0),this.handlers.delete(e))}}]),t}(),cle=function(){function t(){var e=this;yg(this,t),uo(this,"targets",new Map),uo(this,"getTarget",function(i){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=iR(i);if(e.targets.has(r))return e.targets.get(r);if(!n)return null;var o=new lle(r);return e.targets.set(r,o),o}),uo(this,"removeTarget",function(i){e.targets.delete(iR(i))})}return wg(t,[{key:"sub",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(J4.canUseDOM){var r=n.target,o=r===void 0?document:r,a=n.pool,s=a===void 0?"default":a;this.getTarget(o).addHandlers(s,e,tR(i))}}},{key:"unsub",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(J4.canUseDOM){var r=n.target,o=r===void 0?document:r,a=n.pool,s=a===void 0?"default":a,l=this.getTarget(o,!1);l&&(l.removeHandlers(s,e,tR(i)),l.hasHandlers()||this.removeTarget(o))}}}]),t}(),u2=new cle,q1=function(t){function e(){return yg(this,e),ale(this,H6(e).apply(this,arguments))}return rle(e,nle.PureComponent),wg(e,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(i){this.unsubscribe(i),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(i){var n=i.name,r=i.on,o=i.pool,a=i.target;u2.sub(n,r,{pool:o,target:a})}},{key:"unsubscribe",value:function(i){var n=i.name,r=i.on,o=i.pool,a=i.target;u2.unsub(n,r,{pool:o,target:a})}},{key:"render",value:function(){return null}}]),e}();uo(q1,"defaultProps",{pool:"default",target:"document"}),q1.propTypes={},my.instance=u2,my.default=q1;var CC;CC=my;SC.exports=CC.default;var sh=SC.exports.instance=CC.instance,Xu=SC.exports;function ule(){}var dle=1/0,fle=kd&&1/kC(new kd([,-0]))[1]==dle?function(t){return new kd(t)}:ule,ple=fle,hle=200;function mle(t,e,i){var n=-1,r=rse,o=t.length,a=!0,s=[],l=s;if(i)a=!1,r=ose;else if(o>=hle){var c=e?null:ple(t);if(c)return kC(c);a=!1,r=x6,l=new fm}else l=e?[]:s;e:for(;++n<o;){var d=t[n],p=e?e(d):d;if(d=i||d!==0?d:0,a&&p===p){for(var h=l.length;h--;)if(l[h]===p)continue e;e&&l.push(p),s.push(d)}else r(l,p,i)||(l!==s&&l.push(p),s.push(d))}return s}function gle(t){return t&&t.length?mle(t):[]}var ble="[object Number]";function vle(t){return typeof t=="number"||ba(t)&&ka(t)==ble}var yle="[object String]";function V6(t){return typeof t=="string"||!tn(t)&&ba(t)&&ka(t)==yle}var wle="[object Boolean]";function Ale(t){return t===!0||t===!1||ba(t)&&ka(t)==wle}function $6(t){var e,i,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(i=$6(t[e]))&&(n&&(n+=" "),n+=i);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function nt(){for(var t=0,e,i,n="";t<arguments.length;)(e=arguments[t++])&&(i=$6(e))&&(n&&(n+=" "),n+=i);return n}function xle(t,e,i,n){if(n===void 0&&(n={}),typeof t!="function"&&typeof t!="string")throw new Error("createShorthand() Component must be a string or function.");if(Oi(i)||Ale(i))return null;var r=V6(i),o=vle(i),a=dy(i),s=$.exports.isValidElement(i),l=j6(i),c=r||o||tn(i);if(!a&&!s&&!l&&!c)return null;var d=n,p=d.defaultProps,h=p===void 0?{}:p,m=s&&i.props||l&&i||c&&e(i),y=n,w=y.overrideProps,g=w===void 0?{}:w;g=dy(g)?g(Me({},h,m)):g;var A=Me({},h,m,g);if(h.className||g.className||m.className){var x=nt(h.className,g.className,m.className);A.className=gle(x.split(" ")).join(" ")}if((h.style||g.style||m.style)&&(A.style=Me({},h.style,m.style,g.style)),Oi(A.key)){var T=A.childKey,E=n,z=E.autoGenerateKey,M=z===void 0?!0:z;Oi(T)?M&&(r||o)&&(A.key=i):(A.key=typeof T=="function"?T(A):T,delete A.childKey)}if(s)return $.exports.cloneElement(i,A);if(typeof A.children=="function")return A.children(t,Me({},A,{children:void 0}));if(c||l)return $.exports.createElement(t,A);if(a)return i(t,A,A.children)}function wn(t,e){if(typeof t!="function"&&typeof t!="string")throw new Error("createShorthandFactory() Component must be a string or function.");return function(i,n){return xle(t,e,i,n)}}var kle=wn("div",function(t){return{children:t}}),_le=function(e,i){var n=e.handledProps,r=n===void 0?[]:n;return Object.keys(i).reduce(function(o,a){return a==="childKey"||r.indexOf(a)===-1&&(o[a]=i[a]),o},{})},St=_le;function Et(t,e,i){var n=t.defaultProps,r=n===void 0?{}:n;if(e.as&&e.as!==r.as)return e.as;if(i){var o=i();if(o)return o}return e.href?"a":r.as||"div"}function Tle(t,e){return yC(e,function(i){return t[i]})}function Sle(t){return t==null?[]:Tle(t,bg(t))}var Cle=Math.max;function ld(t,e,i,n){t=Rf(t)?t:Sle(t),i=i&&!n?$re(i):0;var r=t.length;return i<0&&(i=Cle(r+i,0)),V6(t)?i<=r&&t.indexOf(e,i)>-1:!!r&&z6(t,e,i)>-1}var Ele=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","form","id","inputMode","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],zle=["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Ile=[].concat(Ele,zle),Rle=["alt","height","src","srcSet","width","loading"],Ple=function(e,i){i===void 0&&(i={});var n=i,r=n.htmlProps,o=r===void 0?Ile:r,a=n.includeAria,s=a===void 0?!0:a,l={},c={};return lse(e,function(d,p){var h=s&&(/^aria-.*$/.test(p)||p==="role"),m=ld(o,p)||h?l:c;m[p]=d}),[l,c]},Lle=typeof document=="object"&&document!==null,Ole=typeof window=="object"&&window!==null&&window.self===window,Mle=function t(){return Oi(t.override)?Lle&&Ole:t.override},zc=Mle,Dle=Math.max,Ble=Math.min;function Fle(t,e,i){return t>=Ble(e,i)&&t<Dle(e,i)}function nR(t,e,i){return e=i2(e),i===void 0?(i=e,e=0):i=i2(i),t=h6(t),Fle(t,e,i)}function Nle(t){return t&&t.length?t[0]:void 0}var jle=function(e,i){if(Q1([i,e],Oi))return!1;if(i.target&&(pt(i.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return pt(i.target,"removeAttribute","data-suir-click-target"),e.contains(i.target);var n=i.clientX,r=i.clientY;if(Q1([n,r],Oi))return!1;var o=e.getClientRects();if(!e.offsetWidth||!e.offsetHeight||!o||!o.length)return!1;var a=Nle(o),s=a.top,l=a.bottom,c=a.left,d=a.right;return Q1([s,l,c,d],Oi)?!1:nR(r,s,l+.001)&&nR(n,c,d+.001)},_d=jle,Ule=zc()?ze.useLayoutEffect:ze.useEffect,rR=Ule,Gle=/\s+/;function Hle(t){var e=[];return t?(t.forEach(function(i){if(typeof i.current=="string"){var n=i.current.split(Gle);n.forEach(function(r){e.push(r)})}}),e.filter(function(i,n,r){return i.length>0&&r.indexOf(i)===n})):[]}function Yle(t,e){return[e.filter(function(i){return t.indexOf(i)===-1}),t.filter(function(i){return e.indexOf(i)===-1})]}var oR=new Map,K1=function(e,i){var n=Hle(i),r=Yle(oR.get(e)||[],n),o=r[0],a=r[1];e&&(o.forEach(function(s){return e.classList.add(s)}),a.forEach(function(s){return e.classList.remove(s)})),oR.set(e,n)},Wle=function(){var e=this;this.add=function(i,n){if(e.nodes.has(i)){var r=e.nodes.get(i);r.add(n);return}var o=new Set;o.add(n),e.nodes.set(i,o)},this.del=function(i,n){if(!!e.nodes.has(i)){var r=e.nodes.get(i);if(r.size===1){e.nodes.delete(i);return}r.delete(n)}},this.emit=function(i,n){n(i,e.nodes.get(i))},this.nodes=new Map},$p=new Wle;function Vle(t,e){var i=ze.useRef(),n=ze.useRef(!1);rR(function(){if(i.current=e,n.current){var r=t2(t)?t.current:t;$p.emit(r,K1)}n.current=!0},[e]),rR(function(){var r=t2(t)?t.current:t;return $p.add(r,i),$p.emit(r,K1),function(){$p.del(r,i),$p.emit(r,K1)}},[t])}function Yd(t){var e=t.children,i=t.className,n=t.content,r=t.size,o=nt(r,"icons",i),a=St(Yd,t),s=Et(Yd,t);return ze.createElement(s,Me({},a,{className:o}),Pt(e)?n:e)}Yd.handledProps=["as","children","className","content","size"];Yd.propTypes={};Yd.defaultProps={as:"i"};var Xc=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleClick=function(s){var l=n.props.disabled;if(l){s.preventDefault();return}pt(n.props,"onClick",s,n.props)},n}var i=e.prototype;return i.getIconAriaOptions=function(){var r={},o=this.props,a=o["aria-label"],s=o["aria-hidden"];return Oi(a)?r["aria-hidden"]="true":r["aria-label"]=a,Oi(s)||(r["aria-hidden"]=s),r},i.render=function(){var r=this.props,o=r.bordered,a=r.circular,s=r.className,l=r.color,c=r.corner,d=r.disabled,p=r.fitted,h=r.flipped,m=r.inverted,y=r.link,w=r.loading,g=r.name,A=r.rotated,x=r.size,T=nt(l,g,x,pe(o,"bordered"),pe(a,"circular"),pe(d,"disabled"),pe(p,"fitted"),pe(m,"inverted"),pe(y,"link"),pe(w,"loading"),zi(c,"corner"),Bo(h,"flipped"),Bo(A,"rotated"),"icon",s),E=St(e,this.props),z=Et(e,this.props),M=this.getIconAriaOptions();return P(z,{...E,...M,className:T,onClick:this.handleClick})},e}($.exports.PureComponent);Xc.handledProps=["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"];Xc.propTypes={};Xc.defaultProps={as:"i"};Xc.Group=Yd;Xc.create=wn(Xc,function(t){return{name:t}});var Wd=Xc,aR=function(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"},gy={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"};for(var A0=0;A0<24;A0+=1)gy[112+A0]="F"+(A0+1);for(var X1=0;X1<26;X1+=1){var J1=X1+65;gy[J1]=[String.fromCharCode(J1+32),String.fromCharCode(J1)]}var Ne={codes:gy,getCode:function(e){return aR(e)?e.keyCode||e.which||this[e.key]:this[e]},getKey:function(e){var i=aR(e);if(i&&e.key)return e.key;var n=gy[i?e.keyCode||e.which:e];return Array.isArray(n)&&(i?n=n[e.shiftKey?1:0]:n=n[0]),n},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};Ne.Spacebar=Ne[" "];Ne.Digit0=Ne[0];Ne.Digit1=Ne[1];Ne.Digit2=Ne[2];Ne.Digit3=Ne[3];Ne.Digit4=Ne[4];Ne.Digit5=Ne[5];Ne.Digit6=Ne[6];Ne.Digit7=Ne[7];Ne.Digit8=Ne[8];Ne.Digit9=Ne[9];Ne.Tilde=Ne["~"];Ne.GraveAccent=Ne["`"];Ne.ExclamationPoint=Ne["!"];Ne.AtSign=Ne["@"];Ne.PoundSign=Ne["#"];Ne.PercentSign=Ne["%"];Ne.Caret=Ne["^"];Ne.Ampersand=Ne["&"];Ne.PlusSign=Ne["+"];Ne.MinusSign=Ne["-"];Ne.EqualsSign=Ne["="];Ne.DivisionSign=Ne["/"];Ne.MultiplicationSign=Ne["*"];Ne.Comma=Ne[","];Ne.Decimal=Ne["."];Ne.Colon=Ne[":"];Ne.Semicolon=Ne[";"];Ne.Pipe=Ne["|"];Ne.BackSlash=Ne["\\"];Ne.QuestionMark=Ne["?"];Ne.SingleQuote=Ne["'"];Ne.DoubleQuote=Ne['"'];Ne.LeftCurlyBrace=Ne["{"];Ne.RightCurlyBrace=Ne["}"];Ne.LeftParenthesis=Ne["("];Ne.RightParenthesis=Ne[")"];Ne.LeftAngleBracket=Ne["<"];Ne.RightAngleBracket=Ne[">"];Ne.LeftSquareBracket=Ne["["];Ne.RightSquareBracket=Ne["]"];var sR=Ne,EC=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleRef=function(s){rs(n.props.innerRef,s)},n}var i=e.prototype;return i.componentDidMount=function(){pt(this.props,"onMount",null,this.props)},i.componentWillUnmount=function(){pt(this.props,"onUnmount",null,this.props)},i.render=function(){if(!zc())return null;var r=this.props,o=r.children,a=r.mountNode,s=a===void 0?document.body:a;return dl.exports.createPortal(P(vl,{innerRef:this.handleRef,children:o}),s)},e}($.exports.Component);EC.handledProps=["children","innerRef","mountNode","onMount","onUnmount"];EC.propTypes={};var Q6=EC,Pf=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.contentRef=ze.createRef(),n.triggerRef=ze.createRef(),n.latestDocumentMouseDownEvent=null,n.handleDocumentMouseDown=function(s){n.latestDocumentMouseDownEvent=s},n.handleDocumentClick=function(s){var l=n.props.closeOnDocumentClick,c=n.latestDocumentMouseDownEvent;n.latestDocumentMouseDownEvent=null,!(!n.contentRef.current||_d(n.triggerRef.current,s)||c&&_d(n.contentRef.current,c)||_d(n.contentRef.current,s))&&l&&n.close(s)},n.handleEscape=function(s){!n.props.closeOnEscape||sR.getCode(s)===sR.Escape&&n.close(s)},n.handlePortalMouseLeave=function(s){var l=n.props,c=l.closeOnPortalMouseLeave,d=l.mouseLeaveDelay;!c||s.target===n.contentRef.current&&(n.mouseLeaveTimer=n.closeWithTimeout(s,d))},n.handlePortalMouseEnter=function(){var s=n.props.closeOnPortalMouseLeave;!s||clearTimeout(n.mouseLeaveTimer)},n.handleTriggerBlur=function(s){for(var l=n.props,c=l.trigger,d=l.closeOnTriggerBlur,p=arguments.length,h=new Array(p>1?p-1:0),m=1;m<p;m++)h[m-1]=arguments[m];pt.apply(void 0,[c,"props.onBlur",s].concat(h));var y=s.relatedTarget||document.activeElement,w=pt(n.contentRef.current,"contains",y);!d||w||n.close(s)},n.handleTriggerClick=function(s){for(var l=n.props,c=l.trigger,d=l.closeOnTriggerClick,p=l.openOnTriggerClick,h=n.state.open,m=arguments.length,y=new Array(m>1?m-1:0),w=1;w<m;w++)y[w-1]=arguments[w];pt.apply(void 0,[c,"props.onClick",s].concat(y)),h&&d?n.close(s):!h&&p&&n.open(s)},n.handleTriggerFocus=function(s){for(var l=n.props,c=l.trigger,d=l.openOnTriggerFocus,p=arguments.length,h=new Array(p>1?p-1:0),m=1;m<p;m++)h[m-1]=arguments[m];pt.apply(void 0,[c,"props.onFocus",s].concat(h)),d&&n.open(s)},n.handleTriggerMouseLeave=function(s){clearTimeout(n.mouseEnterTimer);for(var l=n.props,c=l.trigger,d=l.closeOnTriggerMouseLeave,p=l.mouseLeaveDelay,h=arguments.length,m=new Array(h>1?h-1:0),y=1;y<h;y++)m[y-1]=arguments[y];pt.apply(void 0,[c,"props.onMouseLeave",s].concat(m)),d&&(n.mouseLeaveTimer=n.closeWithTimeout(s,p))},n.handleTriggerMouseEnter=function(s){clearTimeout(n.mouseLeaveTimer);for(var l=n.props,c=l.trigger,d=l.mouseEnterDelay,p=l.openOnTriggerMouseEnter,h=arguments.length,m=new Array(h>1?h-1:0),y=1;y<h;y++)m[y-1]=arguments[y];pt.apply(void 0,[c,"props.onMouseEnter",s].concat(m)),p&&(n.mouseEnterTimer=n.openWithTimeout(s,d))},n.open=function(s){pt(n.props,"onOpen",s,Me({},n.props,{open:!0})),n.setState({open:!0})},n.openWithTimeout=function(s,l){var c=Me({},s);return setTimeout(function(){return n.open(c)},l||0)},n.close=function(s){n.setState({open:!1}),pt(n.props,"onClose",s,Me({},n.props,{open:!1}))},n.closeWithTimeout=function(s,l){var c=Me({},s);return setTimeout(function(){return n.close(c)},l||0)},n.handleMount=function(){pt(n.props,"onMount",null,n.props)},n.handleUnmount=function(){pt(n.props,"onUnmount",null,n.props)},n.handleTriggerRef=function(s){n.triggerRef.current=s,rs(n.props.triggerRef,s)},n}var i=e.prototype;return i.componentWillUnmount=function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)},i.render=function(){var r=this.props,o=r.children,a=r.eventPool,s=r.mountNode,l=r.trigger,c=this.state.open;return ze.createElement(ze.Fragment,null,c&&ze.createElement(ze.Fragment,null,ze.createElement(Q6,{innerRef:this.contentRef,mountNode:s,onMount:this.handleMount,onUnmount:this.handleUnmount},o),ze.createElement(Xu,{name:"mouseleave",on:this.handlePortalMouseLeave,pool:a,target:this.contentRef}),ze.createElement(Xu,{name:"mouseenter",on:this.handlePortalMouseEnter,pool:a,target:this.contentRef}),ze.createElement(Xu,{name:"mousedown",on:this.handleDocumentMouseDown,pool:a}),ze.createElement(Xu,{name:"click",on:this.handleDocumentClick,pool:a}),ze.createElement(Xu,{name:"keydown",on:this.handleEscape,pool:a})),l&&ze.createElement(vl,{innerRef:this.handleTriggerRef},ze.cloneElement(l,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))},e}(oA);Pf.handledProps=["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"];Pf.propTypes={};Pf.defaultProps={closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0};Pf.autoControlledProps=["open"];Pf.Inner=Q6;var Td=Pf;function hm(t){var e=t.blurring,i=t.className,n=t.children,r=t.content,o=t.dimmed,a=nt(pe(e,"blurring"),pe(o,"dimmed"),"dimmable",i),s=St(hm,t),l=Et(hm,t);return ze.createElement(l,Me({},s,{className:a}),Pt(n)?r:n)}hm.handledProps=["as","blurring","children","className","content","dimmed"];hm.propTypes={};var mm=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.containerRef=$.exports.createRef(),n.contentRef=$.exports.createRef(),n.handleClick=function(s){var l=n.contentRef.current;pt(n.props,"onClick",s,n.props),!(l&&l!==s.target&&_d(l,s))&&pt(n.props,"onClickOutside",s,n.props)},n}var i=e.prototype;return i.componentDidMount=function(){var r=this.props.active;this.toggleStyles(r)},i.componentDidUpdate=function(r){var o=this.props.active,a=r.active;a!==o&&this.toggleStyles(o)},i.toggleStyles=function(r){var o=this.containerRef.current;!o||!o.style||(r?o.style.setProperty("display","flex","important"):o.style.removeProperty("display"))},i.render=function(){var r=this.props,o=r.active,a=r.children,s=r.className,l=r.content,c=r.disabled,d=r.inverted,p=r.page,h=r.simple,m=r.verticalAlign,y=nt("ui",pe(o,"active transition visible"),pe(c,"disabled"),pe(d,"inverted"),pe(p,"page"),pe(h,"simple"),vg(m),"dimmer",s),w=St(e,this.props),g=Et(e,this.props),A=Pt(a)?l:a;return P(vl,{innerRef:this.containerRef,children:P(g,{...w,className:y,onClick:this.handleClick,children:A&&P("div",{className:"content",ref:this.contentRef,children:A})})})},e}($.exports.Component);mm.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"];mm.propTypes={};var Jc=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handlePortalMount=function(){!zc()||(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},n.handlePortalUnmount=function(){!zc()||(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))},n}var i=e.prototype;return i.render=function(){var r=this.props,o=r.active,a=r.page,s=St(e,this.props);return a?P(Td,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:o,openOnTriggerClick:!1,children:P(mm,{...s,active:o,page:a})}):P(mm,{...s,active:o,page:a})},e}($.exports.Component);Jc.handledProps=["active","page"];Jc.propTypes={};Jc.Dimmable=hm;Jc.Inner=mm;Jc.create=wn(Jc,function(t){return{content:t}});function gm(t){var e=t.children,i=t.className,n=t.content,r=t.size,o=nt("ui",r,i,"images"),a=St(gm,t),s=Et(gm,t);return ze.createElement(s,Me({},a,{className:o}),Pt(e)?n:e)}gm.handledProps=["as","children","className","content","size"];gm.propTypes={};function hs(t){var e=t.avatar,i=t.bordered,n=t.centered,r=t.children,o=t.circular,a=t.className,s=t.content,l=t.dimmer,c=t.disabled,d=t.floated,p=t.fluid,h=t.hidden,m=t.href,y=t.inline,w=t.label,g=t.rounded,A=t.size,x=t.spaced,T=t.verticalAlign,E=t.wrapped,z=t.ui,M=nt(pe(z,"ui"),A,pe(e,"avatar"),pe(i,"bordered"),pe(o,"circular"),pe(n,"centered"),pe(c,"disabled"),pe(p,"fluid"),pe(h,"hidden"),pe(y,"inline"),pe(g,"rounded"),zi(x,"spaced"),Bo(d,"floated"),vg(T),"image",a),B=St(hs,t),L=Ple(B,{htmlProps:Rle}),F=L[0],H=L[1],X=Et(hs,t,function(){if(!Oi(l)||!Oi(w)||!Oi(E)||!Pt(r))return"div"});return Pt(r)?Pt(s)?X==="img"?ze.createElement(X,Me({},H,F,{className:M})):ze.createElement(X,Me({},H,{className:M,href:m}),Jc.create(l,{autoGenerateKey:!1}),Al.create(w,{autoGenerateKey:!1}),ze.createElement("img",F)):ze.createElement(X,Me({},B,{className:M}),s):ze.createElement(X,Me({},B,{className:M}),r)}hs.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"];hs.Group=gm;hs.propTypes={};hs.defaultProps={as:"img",ui:!0};hs.create=wn(hs,function(t){return{src:t}});function wl(t){var e=t.children,i=t.className,n=t.content,r=nt("detail",i),o=St(wl,t),a=Et(wl,t);return ze.createElement(a,Me({},o,{className:r}),Pt(e)?n:e)}wl.handledProps=["as","children","className","content"];wl.propTypes={};wl.create=wn(wl,function(t){return{content:t}});function bm(t){var e=t.children,i=t.circular,n=t.className,r=t.color,o=t.content,a=t.size,s=t.tag,l=nt("ui",r,a,pe(i,"circular"),pe(s,"tag"),"labels",n),c=St(bm,t),d=Et(bm,t);return ze.createElement(d,Me({},c,{className:l}),Pt(e)?o:e)}bm.handledProps=["as","children","circular","className","color","content","size","tag"];bm.propTypes={};var Al=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleClick=function(s){var l=n.props.onClick;l&&l(s,n.props)},n.handleIconOverrides=function(s){return{onClick:function(c){pt(s,"onClick",c),pt(n.props,"onRemove",c,n.props)}}},n}var i=e.prototype;return i.render=function(){var r=this.props,o=r.active,a=r.attached,s=r.basic,l=r.children,c=r.circular,d=r.className,p=r.color,h=r.content,m=r.corner,y=r.detail,w=r.empty,g=r.floating,A=r.horizontal,x=r.icon,T=r.image,E=r.onRemove,z=r.pointing,M=r.prompt,B=r.removeIcon,L=r.ribbon,F=r.size,H=r.tag,X=z===!0&&"pointing"||(z==="left"||z==="right")&&z+" pointing"||(z==="above"||z==="below")&&"pointing "+z,de=nt("ui",p,X,F,pe(o,"active"),pe(s,"basic"),pe(c,"circular"),pe(w,"empty"),pe(g,"floating"),pe(A,"horizontal"),pe(T===!0,"image"),pe(M,"prompt"),pe(H,"tag"),zi(m,"corner"),zi(L,"ribbon"),Bo(a,"attached"),"label",d),we=St(e,this.props),Ee=Et(e,this.props);if(!Pt(l))return P(Ee,{...we,className:de,onClick:this.handleClick,children:l});var ke=AC(B)?"delete":B;return ue(Ee,{className:de,onClick:this.handleClick,...we,children:[Wd.create(x,{autoGenerateKey:!1}),typeof T!="boolean"&&hs.create(T,{autoGenerateKey:!1}),h,wl.create(y,{autoGenerateKey:!1}),E&&Wd.create(ke,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides})]})},e}($.exports.Component);Al.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"];Al.propTypes={};Al.Detail=wl;Al.Group=bm;Al.create=wn(Al,function(t){return{content:t}});function vm(t){var e=t.children,i=t.className,n=t.content,r=t.hidden,o=t.visible,a=nt(pe(o,"visible"),pe(r,"hidden"),"content",i),s=St(vm,t),l=Et(vm,t);return ze.createElement(l,Me({},s,{className:a}),Pt(e)?n:e)}vm.handledProps=["as","children","className","content","hidden","visible"];vm.propTypes={};function ym(t){var e=t.attached,i=t.basic,n=t.buttons,r=t.children,o=t.className,a=t.color,s=t.compact,l=t.content,c=t.floated,d=t.fluid,p=t.icon,h=t.inverted,m=t.labeled,y=t.negative,w=t.positive,g=t.primary,A=t.secondary,x=t.size,T=t.toggle,E=t.vertical,z=t.widths,M=nt("ui",a,x,pe(i,"basic"),pe(s,"compact"),pe(d,"fluid"),pe(p,"icon"),pe(h,"inverted"),pe(m,"labeled"),pe(y,"negative"),pe(w,"positive"),pe(g,"primary"),pe(A,"secondary"),pe(T,"toggle"),pe(E,"vertical"),zi(e,"attached"),Bo(c,"floated"),Jo(z),"buttons",o),B=St(ym,t),L=Et(ym,t);return Oi(n)?ze.createElement(L,Me({},B,{className:M}),Pt(r)?l:r):ze.createElement(L,Me({},B,{className:M}),pm(n,function(F){return q6.create(F)}))}ym.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"];ym.propTypes={};function wm(t){var e=t.className,i=t.text,n=nt("or",e),r=St(wm,t),o=Et(wm,t);return ze.createElement(o,Me({},r,{className:n,"data-text":i}))}wm.handledProps=["as","className","text"];wm.propTypes={};var ms=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.ref=$.exports.createRef(),n.computeElementType=function(){var s=n.props,l=s.attached,c=s.label;if(!Oi(l)||!Oi(c))return"div"},n.computeTabIndex=function(s){var l=n.props,c=l.disabled,d=l.tabIndex;if(!Oi(d))return d;if(c)return-1;if(s==="div")return 0},n.focus=function(){return pt(n.ref.current,"focus")},n.handleClick=function(s){var l=n.props.disabled;if(l){s.preventDefault();return}pt(n.props,"onClick",s,n.props)},n.hasIconClass=function(){var s=n.props,l=s.labelPosition,c=s.children,d=s.content,p=s.icon;return p===!0?!0:p&&(l||Pt(c)&&Oi(d))},n}var i=e.prototype;return i.computeButtonAriaRole=function(r){var o=this.props.role;if(!Oi(o))return o;if(r!=="button")return"button"},i.render=function(){var r=this.props,o=r.active,a=r.animated,s=r.attached,l=r.basic,c=r.children,d=r.circular,p=r.className,h=r.color,m=r.compact,y=r.content,w=r.disabled,g=r.floated,A=r.fluid,x=r.icon,T=r.inverted,E=r.label,z=r.labelPosition,M=r.loading,B=r.negative,L=r.positive,F=r.primary,H=r.secondary,X=r.size,de=r.toggle,we=nt(h,X,pe(o,"active"),pe(l,"basic"),pe(d,"circular"),pe(m,"compact"),pe(A,"fluid"),pe(this.hasIconClass(),"icon"),pe(T,"inverted"),pe(M,"loading"),pe(B,"negative"),pe(L,"positive"),pe(F,"primary"),pe(H,"secondary"),pe(de,"toggle"),zi(a,"animated"),zi(s,"attached")),Ee=nt(zi(z||!!E,"labeled")),ke=nt(pe(w,"disabled"),Bo(g,"floated")),Be=St(e,this.props),De=Et(e,this.props,this.computeElementType),We=this.computeTabIndex(De);if(!Oi(E)){var Pe=nt("ui",we,"button",p),Oe=nt("ui",Ee,"button",p,ke),se=Al.create(E,{defaultProps:{basic:!0,pointing:z==="left"?"right":"left"},autoGenerateKey:!1});return ue(De,{...Be,className:Oe,onClick:this.handleClick,children:[z==="left"&&se,P(vl,{innerRef:this.ref,children:ue("button",{className:Pe,"aria-pressed":de?!!o:void 0,disabled:w,tabIndex:We,children:[Wd.create(x,{autoGenerateKey:!1})," ",y]})}),(z==="right"||!z)&&se]})}var Z=nt("ui",we,ke,Ee,"button",p),ce=!Pt(c),te=this.computeButtonAriaRole(De);return P(vl,{innerRef:this.ref,children:ue(De,{...Be,className:Z,"aria-pressed":de?!!o:void 0,disabled:w&&De==="button"||void 0,onClick:this.handleClick,role:te,tabIndex:We,children:[ce&&c,!ce&&Wd.create(x,{autoGenerateKey:!1}),!ce&&y]})})},e}($.exports.Component);ms.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle"];ms.propTypes={};ms.defaultProps={as:"button"};ms.Content=vm;ms.Group=ym;ms.Or=wm;ms.create=wn(ms,function(t){return{content:t}});var q6=ms;function K6(t,e,i,n){var r=-1,o=t==null?0:t.length;for(n&&o&&(i=t[++r]);++r<o;)i=e(i,t[r],r,t);return i}function $le(t,e,i,n,r){return r(t,function(o,a,s){i=n?(n=!1,o):e(i,o,a,s)}),i}function X6(t,e,i){var n=tn(t)?K6:$le,r=arguments.length<3;return n(t,TC(e),i,r,rA)}var J6=function(e,i,n,r){var o=n?n.call(r,e,i):void 0;if(o!==void 0)return!!o;if(e===i)return!0;if(typeof e!="object"||!e||typeof i!="object"||!i)return!1;var a=Object.keys(e),s=Object.keys(i);if(a.length!==s.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(i),c=0;c<a.length;c++){var d=a[c];if(!l(d))return!1;var p=e[d],h=i[d];if(o=n?n.call(r,p,h,d):void 0,o===!1||o===void 0&&p!==h)return!1}return!0},Vd=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleButtonOverrides=function(s){return{onClick:function(c,d){pt(s,"onClick",c,d),pt(n.props,"onActionClick",c,d)}}},n}var i=e.prototype;return i.render=function(){var r=this,o=this.props,a=o.actions,s=o.children,l=o.className,c=o.content,d=nt("actions",l),p=St(e,this.props),h=Et(e,this.props);return Pt(s)?Pt(c)?P(h,{...p,className:d,children:pm(a,function(m){return q6.create(m,{overrideProps:r.handleButtonOverrides})})}):P(h,{...p,className:d,children:c}):P(h,{...p,className:d,children:s})},e}($.exports.Component);Vd.handledProps=["actions","as","children","className","content","onActionClick"];Vd.propTypes={};Vd.create=wn(Vd,function(t){return{actions:t}});function xl(t){var e=t.children,i=t.className,n=t.content,r=t.image,o=t.scrolling,a=nt(i,pe(r,"image"),pe(o,"scrolling"),"content"),s=St(xl,t),l=Et(xl,t);return ze.createElement(l,Me({},s,{className:a}),Pt(e)?n:e)}xl.handledProps=["as","children","className","content","image","scrolling"];xl.propTypes={};xl.create=wn(xl,function(t){return{content:t}});function Am(t){var e=t.children,i=t.className,n=t.content,r=nt("description",i),o=St(Am,t),a=Et(Am,t);return ze.createElement(a,Me({},o,{className:r}),Pt(e)?n:e)}Am.handledProps=["as","children","className","content"];Am.propTypes={};function kl(t){var e=t.blurring,i=t.children,n=t.className,r=t.centered,o=t.content,a=t.inverted,s=t.mountNode,l=t.scrolling,c=ze.useRef(),d=nt("ui",pe(a,"inverted"),pe(!r,"top aligned"),"page modals dimmer transition visible active",n),p=nt("dimmable dimmed",pe(e,"blurring"),pe(l,"scrolling")),h=St(kl,t),m=Et(kl,t);return Vle(s,p),ze.useEffect(function(){c.current&&c.current.style&&c.current.style.setProperty("display","flex","important")},[]),ze.createElement(vl,{innerRef:c},ze.createElement(m,Me({},h,{className:d}),Pt(i)?o:i))}kl.handledProps=["as","blurring","centered","children","className","content","inverted","mountNode","scrolling"];kl.propTypes={};kl.create=wn(kl,function(t){return{content:t}});function _l(t){var e=t.children,i=t.className,n=t.content,r=nt("header",i),o=St(_l,t),a=Et(_l,t);return ze.createElement(a,Me({},o,{className:r}),Pt(e)?n:e)}_l.handledProps=["as","children","className","content"];_l.propTypes={};_l.create=wn(_l,function(t){return{content:t}});var lR=0,Qle=50,qle=function(e){var i=e.height+lR,n=e.height+lR,r=window.innerHeight,o=r/2,a=-(n/2),s=Qle,l=o+a;return l+i+s<r},Kle=function(e,i,n){var r=i&&e?-(n.height/2):0,o=-(n.width/2);return{marginLeft:o,marginTop:r}},Xle=function(){return!window.ActiveXObject&&"ActiveXObject"in window},_a=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.legacy=zc()&&Xle(),n.ref=$.exports.createRef(),n.dimmerRef=$.exports.createRef(),n.latestDocumentMouseDownEvent=null,n.getMountNode=function(){return zc()?n.props.mountNode||document.body:null},n.handleActionsOverrides=function(s){return{onActionClick:function(c,d){pt(s,"onActionClick",c,d),pt(n.props,"onActionClick",c,n.props),n.handleClose(c)}}},n.handleClose=function(s){n.setState({open:!1}),pt(n.props,"onClose",s,Me({},n.props,{open:!1}))},n.handleDocumentMouseDown=function(s){n.latestDocumentMouseDownEvent=s},n.handleDocumentClick=function(s){var l=n.props.closeOnDimmerClick,c=n.latestDocumentMouseDownEvent;n.latestDocumentMouseDownEvent=null,!(!l||_d(n.ref.current,c)||_d(n.ref.current,s))&&(n.setState({open:!1}),pt(n.props,"onClose",s,Me({},n.props,{open:!1})))},n.handleIconOverrides=function(s){return{onClick:function(c){pt(s,"onClick",c),n.handleClose(c)}}},n.handleOpen=function(s){pt(n.props,"onOpen",s,Me({},n.props,{open:!0})),n.setState({open:!0})},n.handlePortalMount=function(s){var l=n.props.eventPool;n.setState({scrolling:!1}),n.setPositionAndClassNames(),sh.sub("mousedown",n.handleDocumentMouseDown,{pool:l,target:n.dimmerRef.current}),sh.sub("click",n.handleDocumentClick,{pool:l,target:n.dimmerRef.current}),pt(n.props,"onMount",s,n.props)},n.handlePortalUnmount=function(s){var l=n.props.eventPool;cancelAnimationFrame(n.animationRequestId),sh.unsub("mousedown",n.handleDocumentMouseDown,{pool:l,target:n.dimmerRef.current}),sh.unsub("click",n.handleDocumentClick,{pool:l,target:n.dimmerRef.current}),pt(n.props,"onUnmount",s,n.props)},n.setPositionAndClassNames=function(){var s=n.props.centered,l,c={};if(n.ref.current){var d=n.ref.current.getBoundingClientRect(),p=qle(d);l=!p;var h=n.legacy?Kle(p,s,d):{};J6(n.state.legacyStyles,h)||(c.legacyStyles=h),n.state.scrolling!==l&&(c.scrolling=l)}ese(c)||n.setState(c),n.animationRequestId=requestAnimationFrame(n.setPositionAndClassNames)},n.renderContent=function(s){var l=n.props,c=l.actions,d=l.basic,p=l.children,h=l.className,m=l.closeIcon,y=l.content,w=l.header,g=l.size,A=l.style,x=n.state,T=x.legacyStyles,E=x.scrolling,z=nt("ui",g,pe(d,"basic"),pe(n.legacy,"legacy"),pe(E,"scrolling"),"modal transition visible active",h),M=Et(e,n.props),B=m===!0?"close":m,L=Wd.create(B,{overrideProps:n.handleIconOverrides});return P(vl,{innerRef:n.ref,children:ue(M,{...s,className:z,style:Me({},T,A),children:[L,Pt(p)?ue(yo,{children:[_l.create(w,{autoGenerateKey:!1}),xl.create(y,{autoGenerateKey:!1}),Vd.create(c,{overrideProps:n.handleActionsOverrides})]}):p]})})},n}var i=e.prototype;return i.componentWillUnmount=function(){this.handlePortalUnmount()},i.render=function(){var r=this.props,o=r.centered,a=r.closeOnDocumentClick,s=r.dimmer,l=r.eventPool,c=r.trigger,d=this.state,p=d.open,h=d.scrolling,m=this.getMountNode();if(!zc())return $.exports.isValidElement(c)?c:null;var y=St(e,this.props),w=Td.handledProps,g=X6(y,function(x,T,E){return ld(w,E)||(x[E]=T),x},{}),A=F6(y,w);return P(Td,{closeOnDocumentClick:a,...A,trigger:c,eventPool:l,mountNode:m,open:p,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount,children:P(vl,{innerRef:this.dimmerRef,children:kl.create(j6(s)?s:{},{autoGenerateKey:!1,defaultProps:{blurring:s==="blurring",inverted:s==="inverted"},overrideProps:{children:this.renderContent(g),centered:o,mountNode:m,scrolling:h}})})})},e}(oA);_a.handledProps=["actions","as","basic","centered","children","className","closeIcon","closeOnDimmerClick","closeOnDocumentClick","content","defaultOpen","dimmer","eventPool","header","mountNode","onActionClick","onClose","onMount","onOpen","onUnmount","open","size","style","trigger"];_a.propTypes={};_a.defaultProps={centered:!0,dimmer:!0,closeOnDimmerClick:!0,closeOnDocumentClick:!1,eventPool:"Modal"};_a.autoControlledProps=["open"];_a.Actions=Vd;_a.Content=xl;_a.Description=Am;_a.Dimmer=kl;_a.Header=_l;var d2=_a;function xm(t){var e=t.children,i=t.className,n=t.content,r=nt("header",i),o=St(xm,t),a=Et(xm,t);return ze.createElement(a,Me({},o,{className:r}),Pt(e)?n:e)}xm.handledProps=["as","children","className","content"];xm.propTypes={};function Jle(t){return function(e){return t==null?void 0:t[e]}}var Zle={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},ece=Jle(Zle),tce=ece,ice=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,nce="\\u0300-\\u036f",rce="\\ufe20-\\ufe2f",oce="\\u20d0-\\u20ff",ace=nce+rce+oce,sce="["+ace+"]",lce=RegExp(sce,"g");function cce(t){return t=eA(t),t&&t.replace(ice,tce).replace(lce,"")}var uce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function dce(t){return t.match(uce)||[]}var fce=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function pce(t){return fce.test(t)}var Z6="\\ud800-\\udfff",hce="\\u0300-\\u036f",mce="\\ufe20-\\ufe2f",gce="\\u20d0-\\u20ff",bce=hce+mce+gce,eF="\\u2700-\\u27bf",tF="a-z\\xdf-\\xf6\\xf8-\\xff",vce="\\xac\\xb1\\xd7\\xf7",yce="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",wce="\\u2000-\\u206f",Ace=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",iF="A-Z\\xc0-\\xd6\\xd8-\\xde",xce="\\ufe0e\\ufe0f",nF=vce+yce+wce+Ace,rF="['\u2019]",cR="["+nF+"]",kce="["+bce+"]",oF="\\d+",_ce="["+eF+"]",aF="["+tF+"]",sF="[^"+Z6+nF+oF+eF+tF+iF+"]",Tce="\\ud83c[\\udffb-\\udfff]",Sce="(?:"+kce+"|"+Tce+")",Cce="[^"+Z6+"]",lF="(?:\\ud83c[\\udde6-\\uddff]){2}",cF="[\\ud800-\\udbff][\\udc00-\\udfff]",Ju="["+iF+"]",Ece="\\u200d",uR="(?:"+aF+"|"+sF+")",zce="(?:"+Ju+"|"+sF+")",dR="(?:"+rF+"(?:d|ll|m|re|s|t|ve))?",fR="(?:"+rF+"(?:D|LL|M|RE|S|T|VE))?",uF=Sce+"?",dF="["+xce+"]?",Ice="(?:"+Ece+"(?:"+[Cce,lF,cF].join("|")+")"+dF+uF+")*",Rce="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pce="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Lce=dF+uF+Ice,Oce="(?:"+[_ce,lF,cF].join("|")+")"+Lce,Mce=RegExp([Ju+"?"+aF+"+"+dR+"(?="+[cR,Ju,"$"].join("|")+")",zce+"+"+fR+"(?="+[cR,Ju+uR,"$"].join("|")+")",Ju+"?"+uR+"+"+dR,Ju+"+"+fR,Pce,Rce,oF,Oce].join("|"),"g");function Dce(t){return t.match(Mce)||[]}function Bce(t,e,i){return t=eA(t),e=i?void 0:e,e===void 0?pce(t)?Dce(t):dce(t):t.match(e)||[]}var Fce="['\u2019]",Nce=RegExp(Fce,"g");function jce(t){return function(e){return K6(Bce(cce(e).replace(Nce,"")),t,"")}}function Uce(t){return function(e){e=eA(e);var i=R6(e)?Fse(e):void 0,n=i?i[0]:e.charAt(0),r=i?mse(i,1).join(""):e.slice(1);return n[t]()+r}}var Gce=Uce("toUpperCase"),Hce=Gce,Yce=jce(function(t,e,i){return t+(i?" ":"")+Hce(e)}),Wce=Yce,$d=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleClick=function(s){var l=n.props.disabled;l||pt(n.props,"onClick",s,n.props)},n}var i=e.prototype;return i.render=function(){var r=this.props,o=r.active,a=r.children,s=r.className,l=r.color,c=r.content,d=r.disabled,p=r.fitted,h=r.header,m=r.icon,y=r.link,w=r.name,g=r.onClick,A=r.position,x=nt(l,A,pe(o,"active"),pe(d,"disabled"),pe(m===!0||m&&!(w||c),"icon"),pe(h,"header"),pe(y,"link"),zi(p,"fitted"),"item",s),T=Et(e,this.props,function(){if(g)return"a"}),E=St(e,this.props);return Pt(a)?ue(T,{...E,className:x,onClick:this.handleClick,children:[Wd.create(m,{autoGenerateKey:!1}),Pt(c)?Wce(w):c]}):P(T,{...E,className:x,onClick:this.handleClick,children:a})},e}($.exports.Component);$d.handledProps=["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"];$d.propTypes={};$d.create=wn($d,function(t){return{content:t,name:t}});function km(t){var e=t.children,i=t.className,n=t.content,r=t.position,o=nt(r,"menu",i),a=St(km,t),s=Et(km,t);return ze.createElement(s,Me({},a,{className:o}),Pt(e)?n:e)}km.handledProps=["as","children","className","content","position"];km.propTypes={};var gs=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleItemOverrides=function(s){return{onClick:function(c,d){var p=d.index;n.setState({activeIndex:p}),pt(s,"onClick",c,d),pt(n.props,"onItemClick",c,d)}}},n}var i=e.prototype;return i.renderItems=function(){var r=this,o=this.props.items,a=this.state.activeIndex;return pm(o,function(s,l){return $d.create(s,{defaultProps:{active:parseInt(a,10)===l,index:l},overrideProps:r.handleItemOverrides})})},i.render=function(){var r=this.props,o=r.attached,a=r.borderless,s=r.children,l=r.className,c=r.color,d=r.compact,p=r.fixed,h=r.floated,m=r.fluid,y=r.icon,w=r.inverted,g=r.pagination,A=r.pointing,x=r.secondary,T=r.size,E=r.stackable,z=r.tabular,M=r.text,B=r.vertical,L=r.widths,F=nt("ui",c,T,pe(a,"borderless"),pe(d,"compact"),pe(m,"fluid"),pe(w,"inverted"),pe(g,"pagination"),pe(A,"pointing"),pe(x,"secondary"),pe(E,"stackable"),pe(M,"text"),pe(B,"vertical"),zi(o,"attached"),zi(h,"floated"),zi(y,"icon"),zi(z,"tabular"),Bo(p,"fixed"),Jo(L,"item"),l,"menu"),H=St(e,this.props),X=Et(e,this.props);return ze.createElement(X,Me({},H,{className:F}),Pt(s)?this.renderItems():s)},e}(oA);gs.handledProps=["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"];gs.propTypes={};gs.autoControlledProps=["activeIndex"];gs.Header=xm;gs.Item=$d;gs.Menu=km;gs.create=wn(gs,function(t){return{items:t}});var Vce=gs;function ca(t){var e=t.children,i=t.className,n=t.computer,r=t.color,o=t.floated,a=t.largeScreen,s=t.mobile,l=t.only,c=t.stretched,d=t.tablet,p=t.textAlign,h=t.verticalAlign,m=t.widescreen,y=t.width,w=nt(r,pe(c,"stretched"),hy(l,"only"),aA(p),Bo(o,"floated"),vg(h),Jo(n,"wide computer"),Jo(a,"wide large screen"),Jo(s,"wide mobile"),Jo(d,"wide tablet"),Jo(m,"wide widescreen"),Jo(y,"wide"),"column",i),g=St(ca,t),A=Et(ca,t);return ze.createElement(A,Me({},g,{className:w}),e)}ca.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"];ca.propTypes={};ca.create=wn(ca,function(t){return{children:t}});function _m(t){var e=t.centered,i=t.children,n=t.className,r=t.color,o=t.columns,a=t.divided,s=t.only,l=t.reversed,c=t.stretched,d=t.textAlign,p=t.verticalAlign,h=nt(r,pe(e,"centered"),pe(a,"divided"),pe(c,"stretched"),hy(s,"only"),hy(l,"reversed"),aA(d),vg(p),Jo(o,"column",!0),"row",n),m=St(_m,t),y=Et(_m,t);return ze.createElement(y,Me({},m,{className:h}),i)}_m.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"];_m.propTypes={};function Zc(t){var e=t.celled,i=t.centered,n=t.children,r=t.className,o=t.columns,a=t.container,s=t.divided,l=t.doubling,c=t.inverted,d=t.padded,p=t.relaxed,h=t.reversed,m=t.stackable,y=t.stretched,w=t.textAlign,g=t.verticalAlign,A=nt("ui",pe(i,"centered"),pe(a,"container"),pe(l,"doubling"),pe(c,"inverted"),pe(m,"stackable"),pe(y,"stretched"),zi(e,"celled"),zi(s,"divided"),zi(d,"padded"),zi(p,"relaxed"),hy(h,"reversed"),aA(w),vg(g),Jo(o,"column",!0),"grid",r),x=St(Zc,t),T=Et(Zc,t);return ze.createElement(T,Me({},x,{className:A}),n)}Zc.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"];Zc.Column=ca;Zc.Row=_m;Zc.propTypes={};function va(t){var e=t.active,i=t.children,n=t.className,r=t.content,o=t.disabled,a=t.indeterminate,s=t.inline,l=t.inverted,c=t.size,d=nt("ui",c,pe(e,"active"),pe(o,"disabled"),pe(a,"indeterminate"),pe(l,"inverted"),pe(i||r,"text"),zi(s,"inline"),"loader",n),p=St(va,t),h=Et(va,t);return ze.createElement(h,Me({},p,{className:d}),Pt(i)?r:i)}va.handledProps=["active","as","children","className","content","disabled","indeterminate","inline","inverted","size"];va.propTypes={};function Tm(t){var e=t.children,i=t.className,n=t.compact,r=t.content,o=t.horizontal,a=t.piled,s=t.raised,l=t.size,c=t.stacked,d=nt("ui",l,pe(n,"compact"),pe(o,"horizontal"),pe(a,"piled"),pe(s,"raised"),pe(c,"stacked"),"segments",i),p=St(Tm,t),h=Et(Tm,t);return ze.createElement(h,Me({},p,{className:d}),Pt(e)?r:e)}Tm.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"];Tm.propTypes={};function Sm(t){var e=t.children,i=t.className,n=t.content,r=nt("inline",i),o=St(Sm,t),a=Et(Sm,t);return ze.createElement(a,Me({},o,{className:r}),Pt(e)?n:e)}Sm.handledProps=["as","children","className","content"];Sm.propTypes={};function Tl(t){var e=t.attached,i=t.basic,n=t.children,r=t.circular,o=t.className,a=t.clearing,s=t.color,l=t.compact,c=t.content,d=t.disabled,p=t.floated,h=t.inverted,m=t.loading,y=t.placeholder,w=t.padded,g=t.piled,A=t.raised,x=t.secondary,T=t.size,E=t.stacked,z=t.tertiary,M=t.textAlign,B=t.vertical,L=nt("ui",s,T,pe(i,"basic"),pe(r,"circular"),pe(a,"clearing"),pe(l,"compact"),pe(d,"disabled"),pe(h,"inverted"),pe(m,"loading"),pe(y,"placeholder"),pe(g,"piled"),pe(A,"raised"),pe(x,"secondary"),pe(E,"stacked"),pe(z,"tertiary"),pe(B,"vertical"),zi(e,"attached"),zi(w,"padded"),aA(M),Bo(p,"floated"),"segment",o),F=St(Tl,t),H=Et(Tl,t);return ze.createElement(H,Me({},F,{className:L}),Pt(n)?c:n)}Tl.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","placeholder","raised","secondary","size","stacked","tertiary","textAlign","vertical"];Tl.Group=Tm;Tl.Inline=Sm;Tl.propTypes={};var $ce=$.exports.createContext();$.exports.createContext();var Qce=function(e){return Array.isArray(e)?e[0]:e},qce=function(e){if(typeof e=="function"){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},Kce=function(e,i){if(typeof e=="function")return qce(e,i);e!=null&&(e.current=i)},pR=function(e){return e.reduce(function(i,n){var r=n[0],o=n[1];return i[r]=o,i},{})},hR=typeof window!="undefined"&&window.document&&window.document.createElement?$.exports.useLayoutEffect:$.exports.useEffect,wr="top",go="bottom",bo="right",Ar="left",zC="auto",Ag=[wr,go,bo,Ar],Qd="start",Cm="end",Xce="clippingParents",fF="viewport",Qp="popper",Jce="reference",mR=Ag.reduce(function(t,e){return t.concat([e+"-"+Qd,e+"-"+Cm])},[]),pF=[].concat(Ag,[zC]).reduce(function(t,e){return t.concat([e,e+"-"+Qd,e+"-"+Cm])},[]),Zce="beforeRead",eue="read",tue="afterRead",iue="beforeMain",nue="main",rue="afterMain",oue="beforeWrite",aue="write",sue="afterWrite",lue=[Zce,eue,tue,iue,nue,rue,oue,aue,sue];function ya(t){return t?(t.nodeName||"").toLowerCase():null}function Uo(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function qd(t){var e=Uo(t).Element;return t instanceof e||t instanceof Element}function po(t){var e=Uo(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function hF(t){if(typeof ShadowRoot=="undefined")return!1;var e=Uo(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function cue(t){var e=t.state;Object.keys(e.elements).forEach(function(i){var n=e.styles[i]||{},r=e.attributes[i]||{},o=e.elements[i];!po(o)||!ya(o)||(Object.assign(o.style,n),Object.keys(r).forEach(function(a){var s=r[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function uue(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach(function(n){var r=e.elements[n],o=e.attributes[n]||{},a=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:i[n]),s=a.reduce(function(l,c){return l[c]="",l},{});!po(r)||!ya(r)||(Object.assign(r.style,s),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}var due={name:"applyStyles",enabled:!0,phase:"write",fn:cue,effect:uue,requires:["computeStyles"]};function ua(t){return t.split("-")[0]}var Ic=Math.max,by=Math.min,Kd=Math.round;function Xd(t,e){e===void 0&&(e=!1);var i=t.getBoundingClientRect(),n=1,r=1;if(po(t)&&e){var o=t.offsetHeight,a=t.offsetWidth;a>0&&(n=Kd(i.width)/a||1),o>0&&(r=Kd(i.height)/o||1)}return{width:i.width/n,height:i.height/r,top:i.top/r,right:i.right/n,bottom:i.bottom/r,left:i.left/n,x:i.left/n,y:i.top/r}}function IC(t){var e=Xd(t),i=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function mF(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&hF(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function wa(t){return Uo(t).getComputedStyle(t)}function fue(t){return["table","td","th"].indexOf(ya(t))>=0}function Dl(t){return((qd(t)?t.ownerDocument:t.document)||window.document).documentElement}function sA(t){return ya(t)==="html"?t:t.assignedSlot||t.parentNode||(hF(t)?t.host:null)||Dl(t)}function gR(t){return!po(t)||wa(t).position==="fixed"?null:t.offsetParent}function pue(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,i=navigator.userAgent.indexOf("Trident")!==-1;if(i&&po(t)){var n=wa(t);if(n.position==="fixed")return null}for(var r=sA(t);po(r)&&["html","body"].indexOf(ya(r))<0;){var o=wa(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function xg(t){for(var e=Uo(t),i=gR(t);i&&fue(i)&&wa(i).position==="static";)i=gR(i);return i&&(ya(i)==="html"||ya(i)==="body"&&wa(i).position==="static")?e:i||pue(t)||e}function RC(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function zh(t,e,i){return Ic(t,by(e,i))}function hue(t,e,i){var n=zh(t,e,i);return n>i?i:n}function gF(){return{top:0,right:0,bottom:0,left:0}}function bF(t){return Object.assign({},gF(),t)}function vF(t,e){return e.reduce(function(i,n){return i[n]=t,i},{})}var mue=function(e,i){return e=typeof e=="function"?e(Object.assign({},i.rects,{placement:i.placement})):e,bF(typeof e!="number"?e:vF(e,Ag))};function gue(t){var e,i=t.state,n=t.name,r=t.options,o=i.elements.arrow,a=i.modifiersData.popperOffsets,s=ua(i.placement),l=RC(s),c=[Ar,bo].indexOf(s)>=0,d=c?"height":"width";if(!(!o||!a)){var p=mue(r.padding,i),h=IC(o),m=l==="y"?wr:Ar,y=l==="y"?go:bo,w=i.rects.reference[d]+i.rects.reference[l]-a[l]-i.rects.popper[d],g=a[l]-i.rects.reference[l],A=xg(o),x=A?l==="y"?A.clientHeight||0:A.clientWidth||0:0,T=w/2-g/2,E=p[m],z=x-h[d]-p[y],M=x/2-h[d]/2+T,B=zh(E,M,z),L=l;i.modifiersData[n]=(e={},e[L]=B,e.centerOffset=B-M,e)}}function bue(t){var e=t.state,i=t.options,n=i.element,r=n===void 0?"[data-popper-arrow]":n;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||!mF(e.elements.popper,r)||(e.elements.arrow=r))}var vue={name:"arrow",enabled:!0,phase:"main",fn:gue,effect:bue,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Jd(t){return t.split("-")[1]}var yue={top:"auto",right:"auto",bottom:"auto",left:"auto"};function wue(t){var e=t.x,i=t.y,n=window,r=n.devicePixelRatio||1;return{x:Kd(e*r)/r||0,y:Kd(i*r)/r||0}}function bR(t){var e,i=t.popper,n=t.popperRect,r=t.placement,o=t.variation,a=t.offsets,s=t.position,l=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,p=t.isFixed,h=d===!0?wue(a):typeof d=="function"?d(a):a,m=h.x,y=m===void 0?0:m,w=h.y,g=w===void 0?0:w,A=a.hasOwnProperty("x"),x=a.hasOwnProperty("y"),T=Ar,E=wr,z=window;if(c){var M=xg(i),B="clientHeight",L="clientWidth";if(M===Uo(i)&&(M=Dl(i),wa(M).position!=="static"&&s==="absolute"&&(B="scrollHeight",L="scrollWidth")),M=M,r===wr||(r===Ar||r===bo)&&o===Cm){E=go;var F=p&&z.visualViewport?z.visualViewport.height:M[B];g-=F-n.height,g*=l?1:-1}if(r===Ar||(r===wr||r===go)&&o===Cm){T=bo;var H=p&&z.visualViewport?z.visualViewport.width:M[L];y-=H-n.width,y*=l?1:-1}}var X=Object.assign({position:s},c&&yue);if(l){var de;return Object.assign({},X,(de={},de[E]=x?"0":"",de[T]=A?"0":"",de.transform=(z.devicePixelRatio||1)<=1?"translate("+y+"px, "+g+"px)":"translate3d("+y+"px, "+g+"px, 0)",de))}return Object.assign({},X,(e={},e[E]=x?g+"px":"",e[T]=A?y+"px":"",e.transform="",e))}function Aue(t){var e=t.state,i=t.options,n=i.gpuAcceleration,r=n===void 0?!0:n,o=i.adaptive,a=o===void 0?!0:o,s=i.roundOffsets,l=s===void 0?!0:s,c={placement:ua(e.placement),variation:Jd(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,bR(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,bR(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var xue={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Aue,data:{}},x0={passive:!0};function kue(t){var e=t.state,i=t.instance,n=t.options,r=n.scroll,o=r===void 0?!0:r,a=n.resize,s=a===void 0?!0:a,l=Uo(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(d){d.addEventListener("scroll",i.update,x0)}),s&&l.addEventListener("resize",i.update,x0),function(){o&&c.forEach(function(d){d.removeEventListener("scroll",i.update,x0)}),s&&l.removeEventListener("resize",i.update,x0)}}var _ue={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:kue,data:{}},Tue={left:"right",right:"left",bottom:"top",top:"bottom"};function ov(t){return t.replace(/left|right|bottom|top/g,function(e){return Tue[e]})}var Sue={start:"end",end:"start"};function vR(t){return t.replace(/start|end/g,function(e){return Sue[e]})}function PC(t){var e=Uo(t),i=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:i,scrollTop:n}}function LC(t){return Xd(Dl(t)).left+PC(t).scrollLeft}function Cue(t){var e=Uo(t),i=Dl(t),n=e.visualViewport,r=i.clientWidth,o=i.clientHeight,a=0,s=0;return n&&(r=n.width,o=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=n.offsetLeft,s=n.offsetTop)),{width:r,height:o,x:a+LC(t),y:s}}function Eue(t){var e,i=Dl(t),n=PC(t),r=(e=t.ownerDocument)==null?void 0:e.body,o=Ic(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Ic(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-n.scrollLeft+LC(t),l=-n.scrollTop;return wa(r||i).direction==="rtl"&&(s+=Ic(i.clientWidth,r?r.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function OC(t){var e=wa(t),i=e.overflow,n=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function yF(t){return["html","body","#document"].indexOf(ya(t))>=0?t.ownerDocument.body:po(t)&&OC(t)?t:yF(sA(t))}function Ih(t,e){var i;e===void 0&&(e=[]);var n=yF(t),r=n===((i=t.ownerDocument)==null?void 0:i.body),o=Uo(n),a=r?[o].concat(o.visualViewport||[],OC(n)?n:[]):n,s=e.concat(a);return r?s:s.concat(Ih(sA(a)))}function f2(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function zue(t){var e=Xd(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function yR(t,e){return e===fF?f2(Cue(t)):qd(e)?zue(e):f2(Eue(Dl(t)))}function Iue(t){var e=Ih(sA(t)),i=["absolute","fixed"].indexOf(wa(t).position)>=0,n=i&&po(t)?xg(t):t;return qd(n)?e.filter(function(r){return qd(r)&&mF(r,n)&&ya(r)!=="body"&&(i?wa(r).position!=="static":!0)}):[]}function Rue(t,e,i){var n=e==="clippingParents"?Iue(t):[].concat(e),r=[].concat(n,[i]),o=r[0],a=r.reduce(function(s,l){var c=yR(t,l);return s.top=Ic(c.top,s.top),s.right=by(c.right,s.right),s.bottom=by(c.bottom,s.bottom),s.left=Ic(c.left,s.left),s},yR(t,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function wF(t){var e=t.reference,i=t.element,n=t.placement,r=n?ua(n):null,o=n?Jd(n):null,a=e.x+e.width/2-i.width/2,s=e.y+e.height/2-i.height/2,l;switch(r){case wr:l={x:a,y:e.y-i.height};break;case go:l={x:a,y:e.y+e.height};break;case bo:l={x:e.x+e.width,y:s};break;case Ar:l={x:e.x-i.width,y:s};break;default:l={x:e.x,y:e.y}}var c=r?RC(r):null;if(c!=null){var d=c==="y"?"height":"width";switch(o){case Qd:l[c]=l[c]-(e[d]/2-i[d]/2);break;case Cm:l[c]=l[c]+(e[d]/2-i[d]/2);break}}return l}function Em(t,e){e===void 0&&(e={});var i=e,n=i.placement,r=n===void 0?t.placement:n,o=i.boundary,a=o===void 0?Xce:o,s=i.rootBoundary,l=s===void 0?fF:s,c=i.elementContext,d=c===void 0?Qp:c,p=i.altBoundary,h=p===void 0?!1:p,m=i.padding,y=m===void 0?0:m,w=bF(typeof y!="number"?y:vF(y,Ag)),g=d===Qp?Jce:Qp,A=t.rects.popper,x=t.elements[h?g:d],T=Rue(qd(x)?x:x.contextElement||Dl(t.elements.popper),a,l),E=Xd(t.elements.reference),z=wF({reference:E,element:A,strategy:"absolute",placement:r}),M=f2(Object.assign({},A,z)),B=d===Qp?M:E,L={top:T.top-B.top+w.top,bottom:B.bottom-T.bottom+w.bottom,left:T.left-B.left+w.left,right:B.right-T.right+w.right},F=t.modifiersData.offset;if(d===Qp&&F){var H=F[r];Object.keys(L).forEach(function(X){var de=[bo,go].indexOf(X)>=0?1:-1,we=[wr,go].indexOf(X)>=0?"y":"x";L[X]+=H[we]*de})}return L}function Pue(t,e){e===void 0&&(e={});var i=e,n=i.placement,r=i.boundary,o=i.rootBoundary,a=i.padding,s=i.flipVariations,l=i.allowedAutoPlacements,c=l===void 0?pF:l,d=Jd(n),p=d?s?mR:mR.filter(function(y){return Jd(y)===d}):Ag,h=p.filter(function(y){return c.indexOf(y)>=0});h.length===0&&(h=p);var m=h.reduce(function(y,w){return y[w]=Em(t,{placement:w,boundary:r,rootBoundary:o,padding:a})[ua(w)],y},{});return Object.keys(m).sort(function(y,w){return m[y]-m[w]})}function Lue(t){if(ua(t)===zC)return[];var e=ov(t);return[vR(t),e,vR(e)]}function Oue(t){var e=t.state,i=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var r=i.mainAxis,o=r===void 0?!0:r,a=i.altAxis,s=a===void 0?!0:a,l=i.fallbackPlacements,c=i.padding,d=i.boundary,p=i.rootBoundary,h=i.altBoundary,m=i.flipVariations,y=m===void 0?!0:m,w=i.allowedAutoPlacements,g=e.options.placement,A=ua(g),x=A===g,T=l||(x||!y?[ov(g)]:Lue(g)),E=[g].concat(T).reduce(function(te,ae){return te.concat(ua(ae)===zC?Pue(e,{placement:ae,boundary:d,rootBoundary:p,padding:c,flipVariations:y,allowedAutoPlacements:w}):ae)},[]),z=e.rects.reference,M=e.rects.popper,B=new Map,L=!0,F=E[0],H=0;H<E.length;H++){var X=E[H],de=ua(X),we=Jd(X)===Qd,Ee=[wr,go].indexOf(de)>=0,ke=Ee?"width":"height",Be=Em(e,{placement:X,boundary:d,rootBoundary:p,altBoundary:h,padding:c}),De=Ee?we?bo:Ar:we?go:wr;z[ke]>M[ke]&&(De=ov(De));var We=ov(De),Pe=[];if(o&&Pe.push(Be[de]<=0),s&&Pe.push(Be[De]<=0,Be[We]<=0),Pe.every(function(te){return te})){F=X,L=!1;break}B.set(X,Pe)}if(L)for(var Oe=y?3:1,se=function(ae){var fe=E.find(function(ve){var be=B.get(ve);if(be)return be.slice(0,ae).every(function(Ie){return Ie})});if(fe)return F=fe,"break"},Z=Oe;Z>0;Z--){var ce=se(Z);if(ce==="break")break}e.placement!==F&&(e.modifiersData[n]._skip=!0,e.placement=F,e.reset=!0)}}var Mue={name:"flip",enabled:!0,phase:"main",fn:Oue,requiresIfExists:["offset"],data:{_skip:!1}};function wR(t,e,i){return i===void 0&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function AR(t){return[wr,bo,go,Ar].some(function(e){return t[e]>=0})}function Due(t){var e=t.state,i=t.name,n=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,a=Em(e,{elementContext:"reference"}),s=Em(e,{altBoundary:!0}),l=wR(a,n),c=wR(s,r,o),d=AR(l),p=AR(c);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}var Bue={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Due};function Fue(t,e,i){var n=ua(t),r=[Ar,wr].indexOf(n)>=0?-1:1,o=typeof i=="function"?i(Object.assign({},e,{placement:t})):i,a=o[0],s=o[1];return a=a||0,s=(s||0)*r,[Ar,bo].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}function Nue(t){var e=t.state,i=t.options,n=t.name,r=i.offset,o=r===void 0?[0,0]:r,a=pF.reduce(function(d,p){return d[p]=Fue(p,e.rects,o),d},{}),s=a[e.placement],l=s.x,c=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=a}var jue={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Nue};function Uue(t){var e=t.state,i=t.name;e.modifiersData[i]=wF({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Gue={name:"popperOffsets",enabled:!0,phase:"read",fn:Uue,data:{}};function Hue(t){return t==="x"?"y":"x"}function Yue(t){var e=t.state,i=t.options,n=t.name,r=i.mainAxis,o=r===void 0?!0:r,a=i.altAxis,s=a===void 0?!1:a,l=i.boundary,c=i.rootBoundary,d=i.altBoundary,p=i.padding,h=i.tether,m=h===void 0?!0:h,y=i.tetherOffset,w=y===void 0?0:y,g=Em(e,{boundary:l,rootBoundary:c,padding:p,altBoundary:d}),A=ua(e.placement),x=Jd(e.placement),T=!x,E=RC(A),z=Hue(E),M=e.modifiersData.popperOffsets,B=e.rects.reference,L=e.rects.popper,F=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,H=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),X=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,de={x:0,y:0};if(!!M){if(o){var we,Ee=E==="y"?wr:Ar,ke=E==="y"?go:bo,Be=E==="y"?"height":"width",De=M[E],We=De+g[Ee],Pe=De-g[ke],Oe=m?-L[Be]/2:0,se=x===Qd?B[Be]:L[Be],Z=x===Qd?-L[Be]:-B[Be],ce=e.elements.arrow,te=m&&ce?IC(ce):{width:0,height:0},ae=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:gF(),fe=ae[Ee],ve=ae[ke],be=zh(0,B[Be],te[Be]),Ie=T?B[Be]/2-Oe-be-fe-H.mainAxis:se-be-fe-H.mainAxis,He=T?-B[Be]/2+Oe+be+ve+H.mainAxis:Z+be+ve+H.mainAxis,Ve=e.elements.arrow&&xg(e.elements.arrow),et=Ve?E==="y"?Ve.clientTop||0:Ve.clientLeft||0:0,Jt=(we=X==null?void 0:X[E])!=null?we:0,Lt=De+Ie-Jt-et,Ir=De+He-Jt,_t=zh(m?by(We,Lt):We,De,m?Ic(Pe,Ir):Pe);M[E]=_t,de[E]=_t-De}if(s){var sn,Xe=E==="x"?wr:Ar,Sa=E==="x"?go:bo,gi=M[z],fi=z==="y"?"height":"width",Zr=gi+g[Xe],eo=gi-g[Sa],Ca=[wr,Ar].indexOf(A)!==-1,wo=(sn=X==null?void 0:X[z])!=null?sn:0,Nl=Ca?Zr:gi-B[fi]-L[fi]-wo+H.altAxis,Ao=Ca?gi+B[fi]+L[fi]-wo-H.altAxis:eo,ht=m&&Ca?hue(Nl,gi,Ao):zh(m?Nl:Zr,gi,m?Ao:eo);M[z]=ht,de[z]=ht-gi}e.modifiersData[n]=de}}var Wue={name:"preventOverflow",enabled:!0,phase:"main",fn:Yue,requiresIfExists:["offset"]};function Vue(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function $ue(t){return t===Uo(t)||!po(t)?PC(t):Vue(t)}function Que(t){var e=t.getBoundingClientRect(),i=Kd(e.width)/t.offsetWidth||1,n=Kd(e.height)/t.offsetHeight||1;return i!==1||n!==1}function que(t,e,i){i===void 0&&(i=!1);var n=po(e),r=po(e)&&Que(e),o=Dl(e),a=Xd(t,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!i)&&((ya(e)!=="body"||OC(o))&&(s=$ue(e)),po(e)?(l=Xd(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=LC(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function Kue(t){var e=new Map,i=new Set,n=[];t.forEach(function(o){e.set(o.name,o)});function r(o){i.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!i.has(s)){var l=e.get(s);l&&r(l)}}),n.push(o)}return t.forEach(function(o){i.has(o.name)||r(o)}),n}function Xue(t){var e=Kue(t);return lue.reduce(function(i,n){return i.concat(e.filter(function(r){return r.phase===n}))},[])}function Jue(t){var e;return function(){return e||(e=new Promise(function(i){Promise.resolve().then(function(){e=void 0,i(t())})})),e}}function Zue(t){var e=t.reduce(function(i,n){var r=i[n.name];return i[n.name]=r?Object.assign({},r,n,{options:Object.assign({},r.options,n.options),data:Object.assign({},r.data,n.data)}):n,i},{});return Object.keys(e).map(function(i){return e[i]})}var xR={placement:"bottom",modifiers:[],strategy:"absolute"};function kR(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function ede(t){t===void 0&&(t={});var e=t,i=e.defaultModifiers,n=i===void 0?[]:i,r=e.defaultOptions,o=r===void 0?xR:r;return function(s,l,c){c===void 0&&(c=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},xR,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},p=[],h=!1,m={state:d,setOptions:function(A){var x=typeof A=="function"?A(d.options):A;w(),d.options=Object.assign({},o,d.options,x),d.scrollParents={reference:qd(s)?Ih(s):s.contextElement?Ih(s.contextElement):[],popper:Ih(l)};var T=Xue(Zue([].concat(n,d.options.modifiers)));return d.orderedModifiers=T.filter(function(E){return E.enabled}),y(),m.update()},forceUpdate:function(){if(!h){var A=d.elements,x=A.reference,T=A.popper;if(!!kR(x,T)){d.rects={reference:que(x,xg(T),d.options.strategy==="fixed"),popper:IC(T)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(H){return d.modifiersData[H.name]=Object.assign({},H.data)});for(var E=0;E<d.orderedModifiers.length;E++){if(d.reset===!0){d.reset=!1,E=-1;continue}var z=d.orderedModifiers[E],M=z.fn,B=z.options,L=B===void 0?{}:B,F=z.name;typeof M=="function"&&(d=M({state:d,options:L,name:F,instance:m})||d)}}}},update:Jue(function(){return new Promise(function(g){m.forceUpdate(),g(d)})}),destroy:function(){w(),h=!0}};if(!kR(s,l))return m;m.setOptions(c).then(function(g){!h&&c.onFirstUpdate&&c.onFirstUpdate(g)});function y(){d.orderedModifiers.forEach(function(g){var A=g.name,x=g.options,T=x===void 0?{}:x,E=g.effect;if(typeof E=="function"){var z=E({state:d,name:A,instance:m,options:T}),M=function(){};p.push(z||M)}})}function w(){p.forEach(function(g){return g()}),p=[]}return m}}var tde=[_ue,Gue,xue,due,jue,Mue,Wue,vue,Bue],ide=ede({defaultModifiers:tde}),nde=typeof Element!="undefined",rde=typeof Map=="function",ode=typeof Set=="function",ade=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function av(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var i,n,r;if(Array.isArray(t)){if(i=t.length,i!=e.length)return!1;for(n=i;n--!==0;)if(!av(t[n],e[n]))return!1;return!0}var o;if(rde&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(n=o.next()).done;)if(!e.has(n.value[0]))return!1;for(o=t.entries();!(n=o.next()).done;)if(!av(n.value[1],e.get(n.value[0])))return!1;return!0}if(ode&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(n=o.next()).done;)if(!e.has(n.value[0]))return!1;return!0}if(ade&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(i=t.length,i!=e.length)return!1;for(n=i;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(r=Object.keys(t),i=r.length,i!==Object.keys(e).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[n]))return!1;if(nde&&t instanceof Element)return!1;for(n=i;n--!==0;)if(!((r[n]==="_owner"||r[n]==="__v"||r[n]==="__o")&&t.$$typeof)&&!av(t[r[n]],e[r[n]]))return!1;return!0}return t!==t&&e!==e}var sde=function(e,i){try{return av(e,i)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}},lde=[],cde=function(e,i,n){n===void 0&&(n={});var r=$.exports.useRef(null),o={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||lde},a=$.exports.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=a[0],l=a[1],c=$.exports.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(m){var y=m.state,w=Object.keys(y.elements);l({styles:pR(w.map(function(g){return[g,y.styles[g]||{}]})),attributes:pR(w.map(function(g){return[g,y.attributes[g]]}))})},requires:["computeStyles"]}},[]),d=$.exports.useMemo(function(){var h={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[c,{name:"applyStyles",enabled:!1}])};return sde(r.current,h)?r.current||h:(r.current=h,h)},[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,c]),p=$.exports.useRef();return hR(function(){p.current&&p.current.setOptions(d)},[d]),hR(function(){if(!(e==null||i==null)){var h=n.createPopper||ide,m=h(e,i,d);return p.current=m,function(){m.destroy(),p.current=null}}},[e,i,n.createPopper]),{state:p.current?p.current.state:null,styles:s.styles,attributes:s.attributes,update:p.current?p.current.update:null,forceUpdate:p.current?p.current.forceUpdate:null}},ude=function(){},dde=function(){return Promise.resolve(null)},fde=[];function pde(t){var e=t.placement,i=e===void 0?"bottom":e,n=t.strategy,r=n===void 0?"absolute":n,o=t.modifiers,a=o===void 0?fde:o,s=t.referenceElement,l=t.onFirstUpdate,c=t.innerRef,d=t.children,p=$.exports.useContext($ce),h=$.exports.useState(null),m=h[0],y=h[1],w=$.exports.useState(null),g=w[0],A=w[1];$.exports.useEffect(function(){Kce(c,m)},[c,m]);var x=$.exports.useMemo(function(){return{placement:i,strategy:r,onFirstUpdate:l,modifiers:[].concat(a,[{name:"arrow",enabled:g!=null,options:{element:g}}])}},[i,r,l,a,g]),T=cde(s||p,m,x),E=T.state,z=T.styles,M=T.forceUpdate,B=T.update,L=$.exports.useMemo(function(){return{ref:y,style:z.popper,placement:E?E.placement:i,hasPopperEscaped:E&&E.modifiersData.hide?E.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:E&&E.modifiersData.hide?E.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:z.arrow,ref:A},forceUpdate:M||ude,update:B||dde}},[y,A,i,E,z,B,M]);return Qce(d)(L)}function hde(t,e,i,n){return w6(t,function(r,o,a){e(n,i(r),o,a)}),n}function mde(t,e){return function(i,n){return hde(i,t,e(n),{})}}var gde=Object.prototype,bde=gde.toString,vde=mde(function(t,e,i){e!=null&&typeof e.toString!="function"&&(e=bde.call(e)),t[e]=i},f6(gg)),yde=vde,MC={"top center":"top","top left":"top-start","top right":"top-end","bottom center":"bottom","bottom left":"bottom-start","bottom right":"bottom-end","right center":"right","left center":"left"};bg(MC);var wde=yde(MC);function _R(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Fi(t,e,i){return e&&_R(t.prototype,e),i&&_R(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}var Ade=function(){function t(i){this.ref=i}var e=t.prototype;return e.getBoundingClientRect=function(){return pt(this.ref.current,"getBoundingClientRect")||{}},Fi(t,[{key:"clientWidth",get:function(){return this.getBoundingClientRect().width}},{key:"clientHeight",get:function(){return this.getBoundingClientRect().height}},{key:"parentNode",get:function(){return this.ref.current?this.ref.current.parentNode:void 0}}]),t}(),xde=Zw(function(t){return new Ade(t2(t)?t:{current:t})}),kde=xde;function Sl(t){var e=t.children,i=t.className,n=t.content,r=nt("content",i),o=St(Sl,t),a=Et(Sl,t);return ze.createElement(a,Me({},o,{className:r}),Pt(e)?n:e)}Sl.handledProps=["as","children","className","content"];Sl.propTypes={};Sl.create=wn(Sl,function(t){return{children:t}});function Cl(t){var e=t.children,i=t.className,n=t.content,r=nt("header",i),o=St(Cl,t),a=Et(Cl,t);return ze.createElement(a,Me({},o,{className:r}),Pt(e)?n:e)}Cl.handledProps=["as","children","className","content"];Cl.propTypes={};Cl.create=wn(Cl,function(t){return{children:t}});var bs=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.state={},n.open=!1,n.zIndexWasSynced=!1,n.triggerRef=ze.createRef(),n.getPortalProps=function(){var s={},l=n.props,c=l.on,d=l.hoverable,p=tn(c)?c:[c];return d&&(s.closeOnPortalMouseLeave=!0,s.mouseLeaveDelay=300),ld(p,"hover")&&(s.openOnTriggerClick=!1,s.closeOnTriggerClick=!1,s.openOnTriggerMouseEnter=!0,s.closeOnTriggerMouseLeave=!0,s.mouseLeaveDelay=70,s.mouseEnterDelay=50),ld(p,"click")&&(s.openOnTriggerClick=!0,s.closeOnTriggerClick=!0,s.closeOnDocumentClick=!0),ld(p,"focus")&&(s.openOnTriggerFocus=!0,s.closeOnTriggerBlur=!0),s},n.hideOnScroll=function(s){n.setState({closed:!0}),sh.unsub("scroll",n.hideOnScroll,{target:window}),n.timeoutId=setTimeout(function(){n.setState({closed:!1})},50),n.handleClose(s)},n.handleClose=function(s){pt(n.props,"onClose",s,Me({},n.props,{open:!1}))},n.handleOpen=function(s){pt(n.props,"onOpen",s,Me({},n.props,{open:!0}))},n.handlePortalMount=function(s){pt(n.props,"onMount",s,n.props)},n.handlePortalUnmount=function(s){n.positionUpdate=null,pt(n.props,"onUnmount",s,n.props)},n.renderContent=function(s){var l=s.placement,c=s.ref,d=s.update,p=s.style,h=n.props,m=h.basic,y=h.children,w=h.className,g=h.content,A=h.hideOnScroll,x=h.flowing,T=h.header,E=h.inverted,z=h.popper,M=h.size,B=h.style,L=h.wide,F=n.state.contentRestProps;n.positionUpdate=d;var H=nt("ui",wde[l],M,zi(L,"wide"),pe(m,"basic"),pe(x,"flowing"),pe(E,"inverted"),"popup transition visible",w),X=Et(e,n.props),de=Me({left:"auto",right:"auto",position:"initial"},B),we=ue(X,{...F,className:H,style:de,children:[Pt(y)?ue(yo,{children:[Cl.create(T,{autoGenerateKey:!1}),Sl.create(g,{autoGenerateKey:!1})]}):y,A&&P(Xu,{on:n.hideOnScroll,name:"scroll",target:"window"})]});return kle(z||{},{overrideProps:{children:we,ref:c,style:Me({display:"flex"},p)}})},n}e.getDerivedStateFromProps=function(r,o){if(o.closed||o.disabled)return{};var a=St(e,r),s=X6(a,function(c,d,p){return ld(Td.handledProps,p)||(c[p]=d),c},{}),l=F6(a,Td.handledProps);return{contentRestProps:s,portalRestProps:l}};var i=e.prototype;return i.componentDidUpdate=function(r){var o=J6(this.props.popperDependencies,r.popperDependencies);o||this.handleUpdate()},i.componentWillUnmount=function(){clearTimeout(this.timeoutId)},i.handleUpdate=function(){this.positionUpdate&&this.positionUpdate()},i.render=function(){var r=this,o=this.props,a=o.context,s=o.disabled,l=o.eventsEnabled,c=o.offset,d=o.pinned,p=o.popper,h=o.popperModifiers,m=o.position,y=o.positionFixed,w=o.trigger,g=this.state,A=g.closed,x=g.portalRestProps;if(A||s)return w;var T=[{name:"arrow",enabled:!1},{name:"eventListeners",options:{scroll:!!l,resize:!!l}},{name:"flip",enabled:!d},{name:"preventOverflow",enabled:!!c},{name:"offset",enabled:!!c,options:{offset:c}}].concat(h,[{name:"syncZIndex",enabled:!0,phase:"beforeRead",fn:function(B){var L,F=B.state;if(!r.zIndexWasSynced){var H=p==null||(L=p.style)==null?void 0:L.zIndex;AC(H)&&(F.elements.popper.style.zIndex=window.getComputedStyle(F.elements.popper.firstChild).zIndex),r.zIndexWasSynced=!0}},effect:function(){return function(){r.zIndexWasSynced=!1}}}]),E=kde(Oi(a)?this.triggerRef:a),z=Me({},this.getPortalProps(),x);return P(Td,{...z,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount,trigger:w,triggerRef:this.triggerRef,children:P(pde,{modifiers:T,placement:MC[m],strategy:y?"fixed":null,referenceElement:E,children:this.renderContent})})},e}($.exports.Component);bs.handledProps=["as","basic","children","className","content","context","disabled","eventsEnabled","flowing","header","hideOnScroll","hoverable","inverted","offset","on","onClose","onMount","onOpen","onUnmount","pinned","popper","popperDependencies","popperModifiers","position","positionFixed","size","style","trigger","wide"];bs.propTypes={};bs.defaultProps={disabled:!1,eventsEnabled:!0,on:["click","hover"],pinned:!1,popperModifiers:[],position:"top left"};bs.Content=Sl;bs.Header=Cl;function vs(t){var e=t.active,i=t.children,n=t.className,r=t.content,o=t.loading,a=nt(pe(e,"active"),pe(o,"loading"),"tab",n),s=St(vs,t),l=Et(vs,t),c={};return l===Tl&&(c.attached="bottom"),ze.createElement(l,Me({},c,s,{className:a}),Pt(i)?r:i)}vs.handledProps=["active","as","children","className","content","loading"];vs.defaultProps={as:Tl,active:!0};vs.propTypes={};vs.create=wn(vs,function(t){return{content:t}});var Lf=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleItemClick=function(s,l){var c=l.index;pt(n.props,"onTabChange",s,Me({},n.props,{activeIndex:c})),n.setState({activeIndex:c})},n}var i=e.prototype;return i.getInitialAutoControlledState=function(){return{activeIndex:0}},i.renderItems=function(){var r=this.props,o=r.panes,a=r.renderActiveOnly,s=this.state.activeIndex;return a?pt(C6(o,"["+s+"]"),"render",this.props):pm(o,function(l,c){var d=l.pane;return vs.create(d,{overrideProps:{active:c===s}})})},i.renderMenu=function(){var r=this.props,o=r.menu,a=r.panes,s=r.menuPosition,l=this.state.activeIndex;return o.tabular===!0&&s==="right"&&(o.tabular="right"),Vce.create(o,{autoGenerateKey:!1,overrideProps:{items:pm(a,"menuItem"),onItemClick:this.handleItemClick,activeIndex:l}})},i.renderVertical=function(r){var o=this.props,a=o.grid,s=o.menuPosition,l=a.paneWidth,c=a.tabWidth,d=ru(a,["paneWidth","tabWidth"]),p=s||r.props.tabular==="right"&&"right"||"left";return ze.createElement(Zc,d,p==="left"&&ca.create({width:c,children:r},{autoGenerateKey:!1}),ca.create({width:l,children:this.renderItems(),stretched:!0},{autoGenerateKey:!1}),p==="right"&&ca.create({width:c,children:r},{autoGenerateKey:!1}))},i.render=function(){var r=this.renderMenu(),o=St(e,this.props),a=Et(e,this.props);return r.props.vertical?ze.createElement(a,o,this.renderVertical(r)):ze.createElement(a,o,r.props.attached!=="bottom"&&r,this.renderItems(),r.props.attached==="bottom"&&r)},e}(oA);Lf.handledProps=["activeIndex","as","defaultActiveIndex","grid","menu","menuPosition","onTabChange","panes","renderActiveOnly"];Lf.propTypes={};Lf.autoControlledProps=["activeIndex"];Lf.defaultProps={grid:{paneWidth:12,tabWidth:4},menu:{attached:!0,tabular:!0},renderActiveOnly:!0};Lf.Pane=vs;var _de=Lf;const AF=({error:t})=>{const e=nS(),i=t?t.toString():"";return ue("div",{children:[P("h1",{className:"mzp-u-title-sm",children:"Sorry, we can\u2019t find that page."}),P("p",{children:i}),P("button",{className:"mzp-c-button mzp-t-secondary mzp-t-md",onClick:()=>e.goBack(),children:"Back"})]})},Of=({isLoading:t,children:e,error:i})=>t?P(va,{active:!0,size:"massive"}):i?P(AF,{error:i}):P(yo,{children:e}),Io={isLoading:!1,error:null,hasFetchRequest:!0};var vy=(t=>(t.FETCH_INIT="FETCH_INIT",t.FETCH_SUCCESS="FETCH_SUCCESS",t.FETCH_FAILURE="FETCH_FAILURE",t.FETCH="FETCH",t))(vy||{});const Tde=()=>(t,e)=>{switch(e.type){case"FETCH_INIT":return{...t,isLoading:!0,error:null};case"FETCH_SUCCESS":return{...t,isLoading:!1,data:e.payload,hasFetchRequest:!1};case"FETCH_FAILURE":return{...t,isLoading:!1,error:e.payload,hasFetchRequest:!1};case"FETCH":return{...t,hasFetchRequest:!0};default:return t}};function dn(t,e){const i=Tde(),[n,r]=$.exports.useReducer(i,t);return $.exports.useEffect(()=>{let o=!1;const a=async()=>{try{r({type:"FETCH_INIT"});const s=await e();o||r({type:"FETCH_SUCCESS",payload:s})}catch(s){if(!o){const l=ha(s);r({type:"FETCH_FAILURE",payload:l})}}};return n.hasFetchRequest&&a(),()=>{o=!0}},[n.hasFetchRequest,e]),{state:n,dispatch:r}}var Rc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var i,n="4.17.21",r=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,d="__lodash_placeholder__",p=1,h=2,m=4,y=1,w=2,g=1,A=2,x=4,T=8,E=16,z=32,M=64,B=128,L=256,F=512,H=30,X="...",de=800,we=16,Ee=1,ke=2,Be=3,De=1/0,We=9007199254740991,Pe=17976931348623157e292,Oe=0/0,se=4294967295,Z=se-1,ce=se>>>1,te=[["ary",B],["bind",g],["bindKey",A],["curry",T],["curryRight",E],["flip",F],["partial",z],["partialRight",M],["rearg",L]],ae="[object Arguments]",fe="[object Array]",ve="[object AsyncFunction]",be="[object Boolean]",Ie="[object Date]",He="[object DOMException]",Ve="[object Error]",et="[object Function]",Jt="[object GeneratorFunction]",Lt="[object Map]",Ir="[object Number]",_t="[object Null]",sn="[object Object]",Xe="[object Promise]",Sa="[object Proxy]",gi="[object RegExp]",fi="[object Set]",Zr="[object String]",eo="[object Symbol]",Ca="[object Undefined]",wo="[object WeakMap]",Nl="[object WeakSet]",Ao="[object ArrayBuffer]",ht="[object DataView]",Yf="[object Float32Array]",Wf="[object Float64Array]",Vf="[object Int8Array]",$f="[object Int16Array]",Qf="[object Int32Array]",Is="[object Uint8Array]",qf="[object Uint8ClampedArray]",Kf="[object Uint16Array]",Xf="[object Uint32Array]",MA=/\b__p \+= '';/g,Rr=/\b(__p \+=) '' \+/g,jg=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ug=/&(?:amp|lt|gt|quot|#39);/g,Gg=/[&<>"']/g,DA=RegExp(Ug.source),BA=RegExp(Gg.source),FA=/<%-([\s\S]+?)%>/g,jl=/<%([\s\S]+?)%>/g,An=/<%=([\s\S]+?)%>/g,NA=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jA=/^\w*$/,pu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pr=/[\\^$.*+?()[\]{}|]/g,hu=RegExp(Pr.source),jt=/^\s+/,UA=/\s/,mu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,gu=/\{\n\/\* \[wrapped with (.+)\] \*/,GA=/,? & /,Ea=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ni=/[()=,{}\[\]\/\s]/,bu=/\\(\\)?/g,ji=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Hg=/\w*$/,HA=/^[-+]0x[0-9a-f]+$/i,Yg=/^0b[01]+$/i,Jf=/^\[object .+?Constructor\]$/,Wg=/^0o[0-7]+$/i,Vg=/^(?:0|[1-9]\d*)$/,$g=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,za=/($^)/,YA=/['\n\r\u2028\u2029\\]/g,Ia="\\ud800-\\udfff",Qg="\\u0300-\\u036f",vu="\\ufe20-\\ufe2f",WA="\\u20d0-\\u20ff",qg=Qg+vu+WA,Ul="\\u2700-\\u27bf",Rs="a-z\\xdf-\\xf6\\xf8-\\xff",yu="\\xac\\xb1\\xd7\\xf7",Ps="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Zf="\\u2000-\\u206f",Kg=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",wu="A-Z\\xc0-\\xd6\\xd8-\\xde",to="\\ufe0e\\ufe0f",Xg=yu+Ps+Zf+Kg,Ls="['\u2019]",Jg="["+Ia+"]",ep="["+Xg+"]",Gl="["+qg+"]",Zg="\\d+",Au="["+Ul+"]",Os="["+Rs+"]",tp="[^"+Ia+Xg+Zg+Ul+Rs+wu+"]",ip="\\ud83c[\\udffb-\\udfff]",VA="(?:"+Gl+"|"+ip+")",np="[^"+Ia+"]",rp="(?:\\ud83c[\\udde6-\\uddff]){2}",op="[\\ud800-\\udbff][\\udc00-\\udfff]",Ra="["+wu+"]",eb="\\u200d",tb="(?:"+Os+"|"+tp+")",$A="(?:"+Ra+"|"+tp+")",ib="(?:"+Ls+"(?:d|ll|m|re|s|t|ve))?",nb="(?:"+Ls+"(?:D|LL|M|RE|S|T|VE))?",rb=VA+"?",Hl="["+to+"]?",xu="(?:"+eb+"(?:"+[np,rp,op].join("|")+")"+Hl+rb+")*",QA="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",qA="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ku=Hl+rb+xu,KA="(?:"+[Au,rp,op].join("|")+")"+ku,ap="(?:"+[np+Gl+"?",Gl,rp,op,Jg].join("|")+")",XA=RegExp(Ls,"g"),JA=RegExp(Gl,"g"),sp=RegExp(ip+"(?="+ip+")|"+ap+ku,"g"),Yl=RegExp([Ra+"?"+Os+"+"+ib+"(?="+[ep,Ra,"$"].join("|")+")",$A+"+"+nb+"(?="+[ep,Ra+tb,"$"].join("|")+")",Ra+"?"+tb+"+"+ib,Ra+"+"+nb,qA,QA,Zg,KA].join("|"),"g"),Ms=RegExp("["+eb+Ia+qg+to+"]"),_u=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Pa=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ZA=-1,Zt={};Zt[Yf]=Zt[Wf]=Zt[Vf]=Zt[$f]=Zt[Qf]=Zt[Is]=Zt[qf]=Zt[Kf]=Zt[Xf]=!0,Zt[ae]=Zt[fe]=Zt[Ao]=Zt[be]=Zt[ht]=Zt[Ie]=Zt[Ve]=Zt[et]=Zt[Lt]=Zt[Ir]=Zt[sn]=Zt[gi]=Zt[fi]=Zt[Zr]=Zt[wo]=!1;var Wt={};Wt[ae]=Wt[fe]=Wt[Ao]=Wt[ht]=Wt[be]=Wt[Ie]=Wt[Yf]=Wt[Wf]=Wt[Vf]=Wt[$f]=Wt[Qf]=Wt[Lt]=Wt[Ir]=Wt[sn]=Wt[gi]=Wt[fi]=Wt[Zr]=Wt[eo]=Wt[Is]=Wt[qf]=Wt[Kf]=Wt[Xf]=!0,Wt[Ve]=Wt[et]=Wt[wo]=!1;var lp={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},ex={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tx={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ix={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Tu=parseFloat,nx=parseInt,Ho=typeof zo=="object"&&zo&&zo.Object===Object&&zo,rx=typeof self=="object"&&self&&self.Object===Object&&self,Ui=Ho||rx||Function("return this")(),Vt=e&&!e.nodeType&&e,Yo=Vt&&!0&&t&&!t.nodeType&&t,ob=Yo&&Yo.exports===Vt,Su=ob&&Ho.process,ar=function(){try{var W=Yo&&Yo.require&&Yo.require("util").types;return W||Su&&Su.binding&&Su.binding("util")}catch{}}(),cp=ar&&ar.isArrayBuffer,ab=ar&&ar.isDate,up=ar&&ar.isMap,sb=ar&&ar.isRegExp,dp=ar&&ar.isSet,lb=ar&&ar.isTypedArray;function Nn(W,le,oe){switch(oe.length){case 0:return W.call(le);case 1:return W.call(le,oe[0]);case 2:return W.call(le,oe[0],oe[1]);case 3:return W.call(le,oe[0],oe[1],oe[2])}return W.apply(le,oe)}function ox(W,le,oe,Ue){for(var lt=-1,zt=W==null?0:W.length;++lt<zt;){var bi=W[lt];le(Ue,bi,oe(bi),W)}return Ue}function sr(W,le){for(var oe=-1,Ue=W==null?0:W.length;++oe<Ue&&le(W[oe],oe,W)!==!1;);return W}function ax(W,le){for(var oe=W==null?0:W.length;oe--&&le(W[oe],oe,W)!==!1;);return W}function cb(W,le){for(var oe=-1,Ue=W==null?0:W.length;++oe<Ue;)if(!le(W[oe],oe,W))return!1;return!0}function Wo(W,le){for(var oe=-1,Ue=W==null?0:W.length,lt=0,zt=[];++oe<Ue;){var bi=W[oe];le(bi,oe,W)&&(zt[lt++]=bi)}return zt}function Cu(W,le){var oe=W==null?0:W.length;return!!oe&&xo(W,le,0)>-1}function fp(W,le,oe){for(var Ue=-1,lt=W==null?0:W.length;++Ue<lt;)if(oe(le,W[Ue]))return!0;return!1}function Ft(W,le){for(var oe=-1,Ue=W==null?0:W.length,lt=Array(Ue);++oe<Ue;)lt[oe]=le(W[oe],oe,W);return lt}function lr(W,le){for(var oe=-1,Ue=le.length,lt=W.length;++oe<Ue;)W[lt+oe]=le[oe];return W}function Eu(W,le,oe,Ue){var lt=-1,zt=W==null?0:W.length;for(Ue&&zt&&(oe=W[++lt]);++lt<zt;)oe=le(oe,W[lt],lt,W);return oe}function ub(W,le,oe,Ue){var lt=W==null?0:W.length;for(Ue&&lt&&(oe=W[--lt]);lt--;)oe=le(oe,W[lt],lt,W);return oe}function zu(W,le){for(var oe=-1,Ue=W==null?0:W.length;++oe<Ue;)if(le(W[oe],oe,W))return!0;return!1}var db=mp("length");function fb(W){return W.split("")}function pp(W){return W.match(Ea)||[]}function hp(W,le,oe){var Ue;return oe(W,function(lt,zt,bi){if(le(lt,zt,bi))return Ue=zt,!1}),Ue}function Wl(W,le,oe,Ue){for(var lt=W.length,zt=oe+(Ue?1:-1);Ue?zt--:++zt<lt;)if(le(W[zt],zt,W))return zt;return-1}function xo(W,le,oe){return le===le?I(W,le,oe):Wl(W,pb,oe)}function Iu(W,le,oe,Ue){for(var lt=oe-1,zt=W.length;++lt<zt;)if(Ue(W[lt],le))return lt;return-1}function pb(W){return W!==W}function hb(W,le){var oe=W==null?0:W.length;return oe?vp(W,le)/oe:Oe}function mp(W){return function(le){return le==null?i:le[W]}}function gp(W){return function(le){return W==null?i:W[le]}}function mb(W,le,oe,Ue,lt){return lt(W,function(zt,bi,Ut){oe=Ue?(Ue=!1,zt):le(oe,zt,bi,Ut)}),oe}function bp(W,le){var oe=W.length;for(W.sort(le);oe--;)W[oe]=W[oe].value;return W}function vp(W,le){for(var oe,Ue=-1,lt=W.length;++Ue<lt;){var zt=le(W[Ue]);zt!==i&&(oe=oe===i?zt:oe+zt)}return oe}function yp(W,le){for(var oe=-1,Ue=Array(W);++oe<W;)Ue[oe]=le(oe);return Ue}function Ds(W,le){return Ft(le,function(oe){return[oe,W[oe]]})}function Ot(W){return W&&W.slice(0,q(W)+1).replace(jt,"")}function xi(W){return function(le){return W(le)}}function Gi(W,le){return Ft(le,function(oe){return W[oe]})}function xn(W,le){return W.has(le)}function gb(W,le){for(var oe=-1,Ue=W.length;++oe<Ue&&xo(le,W[oe],0)>-1;);return oe}function wp(W,le){for(var oe=W.length;oe--&&xo(le,W[oe],0)>-1;);return oe}function sx(W,le){for(var oe=W.length,Ue=0;oe--;)W[oe]===le&&++Ue;return Ue}var lx=gp(lp),cx=gp(ex);function ux(W){return"\\"+ix[W]}function dx(W,le){return W==null?i:W[le]}function Bs(W){return Ms.test(W)}function fx(W){return _u.test(W)}function bb(W){for(var le,oe=[];!(le=W.next()).done;)oe.push(le.value);return oe}function D(W){var le=-1,oe=Array(W.size);return W.forEach(function(Ue,lt){oe[++le]=[lt,Ue]}),oe}function v(W,le){return function(oe){return W(le(oe))}}function _(W,le){for(var oe=-1,Ue=W.length,lt=0,zt=[];++oe<Ue;){var bi=W[oe];(bi===le||bi===d)&&(W[oe]=d,zt[lt++]=oe)}return zt}function k(W){var le=-1,oe=Array(W.size);return W.forEach(function(Ue){oe[++le]=Ue}),oe}function S(W){var le=-1,oe=Array(W.size);return W.forEach(function(Ue){oe[++le]=[Ue,Ue]}),oe}function I(W,le,oe){for(var Ue=oe-1,lt=W.length;++Ue<lt;)if(W[Ue]===le)return Ue;return-1}function R(W,le,oe){for(var Ue=oe+1;Ue--;)if(W[Ue]===le)return Ue;return Ue}function U(W){return Bs(W)?J(W):db(W)}function G(W){return Bs(W)?he(W):fb(W)}function q(W){for(var le=W.length;le--&&UA.test(W.charAt(le)););return le}var V=gp(tx);function J(W){for(var le=sp.lastIndex=0;sp.test(W);)++le;return le}function he(W){return W.match(sp)||[]}function je(W){return W.match(Yl)||[]}var Qe=function W(le){le=le==null?Ui:Te.defaults(Ui.Object(),le,Te.pick(Ui,Pa));var oe=le.Array,Ue=le.Date,lt=le.Error,zt=le.Function,bi=le.Math,Ut=le.Object,Vl=le.RegExp,vb=le.String,It=le.TypeError,$l=oe.prototype,La=zt.prototype,Ru=Ut.prototype,yb=le["__core-js_shared__"],wb=La.toString,$t=Ru.hasOwnProperty,AU=0,ez=function(){var u=/[^.]+$/.exec(yb&&yb.keys&&yb.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Ab=Ru.toString,xU=wb.call(Ut),kU=Ui._,_U=Vl("^"+wb.call($t).replace(Pr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xb=ob?le.Buffer:i,Fs=le.Symbol,kb=le.Uint8Array,tz=xb?xb.allocUnsafe:i,_b=v(Ut.getPrototypeOf,Ut),iz=Ut.create,nz=Ru.propertyIsEnumerable,Tb=$l.splice,rz=Fs?Fs.isConcatSpreadable:i,Ap=Fs?Fs.iterator:i,Ql=Fs?Fs.toStringTag:i,Sb=function(){try{var u=Zl(Ut,"defineProperty");return u({},"",{}),u}catch{}}(),TU=le.clearTimeout!==Ui.clearTimeout&&le.clearTimeout,SU=Ue&&Ue.now!==Ui.Date.now&&Ue.now,CU=le.setTimeout!==Ui.setTimeout&&le.setTimeout,Cb=bi.ceil,Eb=bi.floor,px=Ut.getOwnPropertySymbols,EU=xb?xb.isBuffer:i,oz=le.isFinite,zU=$l.join,IU=v(Ut.keys,Ut),Hi=bi.max,kn=bi.min,RU=Ue.now,PU=le.parseInt,az=bi.random,LU=$l.reverse,hx=Zl(le,"DataView"),xp=Zl(le,"Map"),mx=Zl(le,"Promise"),Pu=Zl(le,"Set"),kp=Zl(le,"WeakMap"),_p=Zl(Ut,"create"),zb=kp&&new kp,Lu={},OU=ec(hx),MU=ec(xp),DU=ec(mx),BU=ec(Pu),FU=ec(kp),Ib=Fs?Fs.prototype:i,Tp=Ib?Ib.valueOf:i,sz=Ib?Ib.toString:i;function N(u){if(vi(u)&&!dt(u)&&!(u instanceof Tt)){if(u instanceof io)return u;if($t.call(u,"__wrapped__"))return lI(u)}return new io(u)}var Ou=function(){function u(){}return function(f){if(!pi(f))return{};if(iz)return iz(f);u.prototype=f;var b=new u;return u.prototype=i,b}}();function Rb(){}function io(u,f){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=i}N.templateSettings={escape:FA,evaluate:jl,interpolate:An,variable:"",imports:{_:N}},N.prototype=Rb.prototype,N.prototype.constructor=N,io.prototype=Ou(Rb.prototype),io.prototype.constructor=io;function Tt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=se,this.__views__=[]}function NU(){var u=new Tt(this.__wrapped__);return u.__actions__=cr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=cr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=cr(this.__views__),u}function jU(){if(this.__filtered__){var u=new Tt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function UU(){var u=this.__wrapped__.value(),f=this.__dir__,b=dt(u),C=f<0,O=b?u.length:0,j=Z9(0,O,this.__views__),Y=j.start,K=j.end,ie=K-Y,me=C?K:Y-1,ge=this.__iteratees__,xe=ge.length,Ge=0,Je=kn(ie,this.__takeCount__);if(!b||!C&&O==ie&&Je==ie)return Rz(u,this.__actions__);var ot=[];e:for(;ie--&&Ge<Je;){me+=f;for(var bt=-1,at=u[me];++bt<xe;){var xt=ge[bt],Ct=xt.iteratee,Mr=xt.type,Gn=Ct(at);if(Mr==ke)at=Gn;else if(!Gn){if(Mr==Ee)continue e;break e}}ot[Ge++]=at}return ot}Tt.prototype=Ou(Rb.prototype),Tt.prototype.constructor=Tt;function ql(u){var f=-1,b=u==null?0:u.length;for(this.clear();++f<b;){var C=u[f];this.set(C[0],C[1])}}function GU(){this.__data__=_p?_p(null):{},this.size=0}function HU(u){var f=this.has(u)&&delete this.__data__[u];return this.size-=f?1:0,f}function YU(u){var f=this.__data__;if(_p){var b=f[u];return b===l?i:b}return $t.call(f,u)?f[u]:i}function WU(u){var f=this.__data__;return _p?f[u]!==i:$t.call(f,u)}function VU(u,f){var b=this.__data__;return this.size+=this.has(u)?0:1,b[u]=_p&&f===i?l:f,this}ql.prototype.clear=GU,ql.prototype.delete=HU,ql.prototype.get=YU,ql.prototype.has=WU,ql.prototype.set=VU;function Oa(u){var f=-1,b=u==null?0:u.length;for(this.clear();++f<b;){var C=u[f];this.set(C[0],C[1])}}function $U(){this.__data__=[],this.size=0}function QU(u){var f=this.__data__,b=Pb(f,u);if(b<0)return!1;var C=f.length-1;return b==C?f.pop():Tb.call(f,b,1),--this.size,!0}function qU(u){var f=this.__data__,b=Pb(f,u);return b<0?i:f[b][1]}function KU(u){return Pb(this.__data__,u)>-1}function XU(u,f){var b=this.__data__,C=Pb(b,u);return C<0?(++this.size,b.push([u,f])):b[C][1]=f,this}Oa.prototype.clear=$U,Oa.prototype.delete=QU,Oa.prototype.get=qU,Oa.prototype.has=KU,Oa.prototype.set=XU;function Ma(u){var f=-1,b=u==null?0:u.length;for(this.clear();++f<b;){var C=u[f];this.set(C[0],C[1])}}function JU(){this.size=0,this.__data__={hash:new ql,map:new(xp||Oa),string:new ql}}function ZU(u){var f=Yb(this,u).delete(u);return this.size-=f?1:0,f}function e9(u){return Yb(this,u).get(u)}function t9(u){return Yb(this,u).has(u)}function i9(u,f){var b=Yb(this,u),C=b.size;return b.set(u,f),this.size+=b.size==C?0:1,this}Ma.prototype.clear=JU,Ma.prototype.delete=ZU,Ma.prototype.get=e9,Ma.prototype.has=t9,Ma.prototype.set=i9;function Kl(u){var f=-1,b=u==null?0:u.length;for(this.__data__=new Ma;++f<b;)this.add(u[f])}function n9(u){return this.__data__.set(u,l),this}function r9(u){return this.__data__.has(u)}Kl.prototype.add=Kl.prototype.push=n9,Kl.prototype.has=r9;function ko(u){var f=this.__data__=new Oa(u);this.size=f.size}function o9(){this.__data__=new Oa,this.size=0}function a9(u){var f=this.__data__,b=f.delete(u);return this.size=f.size,b}function s9(u){return this.__data__.get(u)}function l9(u){return this.__data__.has(u)}function c9(u,f){var b=this.__data__;if(b instanceof Oa){var C=b.__data__;if(!xp||C.length<r-1)return C.push([u,f]),this.size=++b.size,this;b=this.__data__=new Ma(C)}return b.set(u,f),this.size=b.size,this}ko.prototype.clear=o9,ko.prototype.delete=a9,ko.prototype.get=s9,ko.prototype.has=l9,ko.prototype.set=c9;function lz(u,f){var b=dt(u),C=!b&&tc(u),O=!b&&!C&&Hs(u),j=!b&&!C&&!O&&Fu(u),Y=b||C||O||j,K=Y?yp(u.length,vb):[],ie=K.length;for(var me in u)(f||$t.call(u,me))&&!(Y&&(me=="length"||O&&(me=="offset"||me=="parent")||j&&(me=="buffer"||me=="byteLength"||me=="byteOffset")||Na(me,ie)))&&K.push(me);return K}function cz(u){var f=u.length;return f?u[Sx(0,f-1)]:i}function u9(u,f){return Wb(cr(u),Xl(f,0,u.length))}function d9(u){return Wb(cr(u))}function gx(u,f,b){(b!==i&&!_o(u[f],b)||b===i&&!(f in u))&&Da(u,f,b)}function Sp(u,f,b){var C=u[f];(!($t.call(u,f)&&_o(C,b))||b===i&&!(f in u))&&Da(u,f,b)}function Pb(u,f){for(var b=u.length;b--;)if(_o(u[b][0],f))return b;return-1}function f9(u,f,b,C){return Ns(u,function(O,j,Y){f(C,O,b(O),Y)}),C}function uz(u,f){return u&&$o(f,Vi(f),u)}function p9(u,f){return u&&$o(f,dr(f),u)}function Da(u,f,b){f=="__proto__"&&Sb?Sb(u,f,{configurable:!0,enumerable:!0,value:b,writable:!0}):u[f]=b}function bx(u,f){for(var b=-1,C=f.length,O=oe(C),j=u==null;++b<C;)O[b]=j?i:Xx(u,f[b]);return O}function Xl(u,f,b){return u===u&&(b!==i&&(u=u<=b?u:b),f!==i&&(u=u>=f?u:f)),u}function no(u,f,b,C,O,j){var Y,K=f&p,ie=f&h,me=f&m;if(b&&(Y=O?b(u,C,O,j):b(u)),Y!==i)return Y;if(!pi(u))return u;var ge=dt(u);if(ge){if(Y=tG(u),!K)return cr(u,Y)}else{var xe=_n(u),Ge=xe==et||xe==Jt;if(Hs(u))return Oz(u,K);if(xe==sn||xe==ae||Ge&&!O){if(Y=ie||Ge?{}:Zz(u),!K)return ie?Y9(u,p9(Y,u)):H9(u,uz(Y,u))}else{if(!Wt[xe])return O?u:{};Y=iG(u,xe,K)}}j||(j=new ko);var Je=j.get(u);if(Je)return Je;j.set(u,Y),EI(u)?u.forEach(function(at){Y.add(no(at,f,b,at,u,j))}):SI(u)&&u.forEach(function(at,xt){Y.set(xt,no(at,f,b,xt,u,j))});var ot=me?ie?Bx:Dx:ie?dr:Vi,bt=ge?i:ot(u);return sr(bt||u,function(at,xt){bt&&(xt=at,at=u[xt]),Sp(Y,xt,no(at,f,b,xt,u,j))}),Y}function h9(u){var f=Vi(u);return function(b){return dz(b,u,f)}}function dz(u,f,b){var C=b.length;if(u==null)return!C;for(u=Ut(u);C--;){var O=b[C],j=f[O],Y=u[O];if(Y===i&&!(O in u)||!j(Y))return!1}return!0}function fz(u,f,b){if(typeof u!="function")throw new It(a);return Lp(function(){u.apply(i,b)},f)}function Cp(u,f,b,C){var O=-1,j=Cu,Y=!0,K=u.length,ie=[],me=f.length;if(!K)return ie;b&&(f=Ft(f,xi(b))),C?(j=fp,Y=!1):f.length>=r&&(j=xn,Y=!1,f=new Kl(f));e:for(;++O<K;){var ge=u[O],xe=b==null?ge:b(ge);if(ge=C||ge!==0?ge:0,Y&&xe===xe){for(var Ge=me;Ge--;)if(f[Ge]===xe)continue e;ie.push(ge)}else j(f,xe,C)||ie.push(ge)}return ie}var Ns=Nz(Vo),pz=Nz(yx,!0);function m9(u,f){var b=!0;return Ns(u,function(C,O,j){return b=!!f(C,O,j),b}),b}function Lb(u,f,b){for(var C=-1,O=u.length;++C<O;){var j=u[C],Y=f(j);if(Y!=null&&(K===i?Y===Y&&!Or(Y):b(Y,K)))var K=Y,ie=j}return ie}function g9(u,f,b,C){var O=u.length;for(b=mt(b),b<0&&(b=-b>O?0:O+b),C=C===i||C>O?O:mt(C),C<0&&(C+=O),C=b>C?0:II(C);b<C;)u[b++]=f;return u}function hz(u,f){var b=[];return Ns(u,function(C,O,j){f(C,O,j)&&b.push(C)}),b}function ln(u,f,b,C,O){var j=-1,Y=u.length;for(b||(b=rG),O||(O=[]);++j<Y;){var K=u[j];f>0&&b(K)?f>1?ln(K,f-1,b,C,O):lr(O,K):C||(O[O.length]=K)}return O}var vx=jz(),mz=jz(!0);function Vo(u,f){return u&&vx(u,f,Vi)}function yx(u,f){return u&&mz(u,f,Vi)}function Ob(u,f){return Wo(f,function(b){return ja(u[b])})}function Jl(u,f){f=Us(f,u);for(var b=0,C=f.length;u!=null&&b<C;)u=u[Qo(f[b++])];return b&&b==C?u:i}function gz(u,f,b){var C=f(u);return dt(u)?C:lr(C,b(u))}function jn(u){return u==null?u===i?Ca:_t:Ql&&Ql in Ut(u)?J9(u):dG(u)}function wx(u,f){return u>f}function b9(u,f){return u!=null&&$t.call(u,f)}function v9(u,f){return u!=null&&f in Ut(u)}function y9(u,f,b){return u>=kn(f,b)&&u<Hi(f,b)}function Ax(u,f,b){for(var C=b?fp:Cu,O=u[0].length,j=u.length,Y=j,K=oe(j),ie=1/0,me=[];Y--;){var ge=u[Y];Y&&f&&(ge=Ft(ge,xi(f))),ie=kn(ge.length,ie),K[Y]=!b&&(f||O>=120&&ge.length>=120)?new Kl(Y&&ge):i}ge=u[0];var xe=-1,Ge=K[0];e:for(;++xe<O&&me.length<ie;){var Je=ge[xe],ot=f?f(Je):Je;if(Je=b||Je!==0?Je:0,!(Ge?xn(Ge,ot):C(me,ot,b))){for(Y=j;--Y;){var bt=K[Y];if(!(bt?xn(bt,ot):C(u[Y],ot,b)))continue e}Ge&&Ge.push(ot),me.push(Je)}}return me}function w9(u,f,b,C){return Vo(u,function(O,j,Y){f(C,b(O),j,Y)}),C}function Ep(u,f,b){f=Us(f,u),u=nI(u,f);var C=u==null?u:u[Qo(oo(f))];return C==null?i:Nn(C,u,b)}function bz(u){return vi(u)&&jn(u)==ae}function A9(u){return vi(u)&&jn(u)==Ao}function x9(u){return vi(u)&&jn(u)==Ie}function zp(u,f,b,C,O){return u===f?!0:u==null||f==null||!vi(u)&&!vi(f)?u!==u&&f!==f:k9(u,f,b,C,zp,O)}function k9(u,f,b,C,O,j){var Y=dt(u),K=dt(f),ie=Y?fe:_n(u),me=K?fe:_n(f);ie=ie==ae?sn:ie,me=me==ae?sn:me;var ge=ie==sn,xe=me==sn,Ge=ie==me;if(Ge&&Hs(u)){if(!Hs(f))return!1;Y=!0,ge=!1}if(Ge&&!ge)return j||(j=new ko),Y||Fu(u)?Kz(u,f,b,C,O,j):K9(u,f,ie,b,C,O,j);if(!(b&y)){var Je=ge&&$t.call(u,"__wrapped__"),ot=xe&&$t.call(f,"__wrapped__");if(Je||ot){var bt=Je?u.value():u,at=ot?f.value():f;return j||(j=new ko),O(bt,at,b,C,j)}}return Ge?(j||(j=new ko),X9(u,f,b,C,O,j)):!1}function _9(u){return vi(u)&&_n(u)==Lt}function xx(u,f,b,C){var O=b.length,j=O,Y=!C;if(u==null)return!j;for(u=Ut(u);O--;){var K=b[O];if(Y&&K[2]?K[1]!==u[K[0]]:!(K[0]in u))return!1}for(;++O<j;){K=b[O];var ie=K[0],me=u[ie],ge=K[1];if(Y&&K[2]){if(me===i&&!(ie in u))return!1}else{var xe=new ko;if(C)var Ge=C(me,ge,ie,u,f,xe);if(!(Ge===i?zp(ge,me,y|w,C,xe):Ge))return!1}}return!0}function vz(u){if(!pi(u)||aG(u))return!1;var f=ja(u)?_U:Jf;return f.test(ec(u))}function T9(u){return vi(u)&&jn(u)==gi}function S9(u){return vi(u)&&_n(u)==fi}function C9(u){return vi(u)&&Xb(u.length)&&!!Zt[jn(u)]}function yz(u){return typeof u=="function"?u:u==null?fr:typeof u=="object"?dt(u)?xz(u[0],u[1]):Az(u):UI(u)}function kx(u){if(!Pp(u))return IU(u);var f=[];for(var b in Ut(u))$t.call(u,b)&&b!="constructor"&&f.push(b);return f}function E9(u){if(!pi(u))return uG(u);var f=Pp(u),b=[];for(var C in u)C=="constructor"&&(f||!$t.call(u,C))||b.push(C);return b}function _x(u,f){return u<f}function wz(u,f){var b=-1,C=ur(u)?oe(u.length):[];return Ns(u,function(O,j,Y){C[++b]=f(O,j,Y)}),C}function Az(u){var f=Nx(u);return f.length==1&&f[0][2]?tI(f[0][0],f[0][1]):function(b){return b===u||xx(b,u,f)}}function xz(u,f){return Ux(u)&&eI(f)?tI(Qo(u),f):function(b){var C=Xx(b,u);return C===i&&C===f?Jx(b,u):zp(f,C,y|w)}}function Mb(u,f,b,C,O){u!==f&&vx(f,function(j,Y){if(O||(O=new ko),pi(j))z9(u,f,Y,b,Mb,C,O);else{var K=C?C(Hx(u,Y),j,Y+"",u,f,O):i;K===i&&(K=j),gx(u,Y,K)}},dr)}function z9(u,f,b,C,O,j,Y){var K=Hx(u,b),ie=Hx(f,b),me=Y.get(ie);if(me){gx(u,b,me);return}var ge=j?j(K,ie,b+"",u,f,Y):i,xe=ge===i;if(xe){var Ge=dt(ie),Je=!Ge&&Hs(ie),ot=!Ge&&!Je&&Fu(ie);ge=ie,Ge||Je||ot?dt(K)?ge=K:ki(K)?ge=cr(K):Je?(xe=!1,ge=Oz(ie,!0)):ot?(xe=!1,ge=Mz(ie,!0)):ge=[]:Op(ie)||tc(ie)?(ge=K,tc(K)?ge=RI(K):(!pi(K)||ja(K))&&(ge=Zz(ie))):xe=!1}xe&&(Y.set(ie,ge),O(ge,ie,C,j,Y),Y.delete(ie)),gx(u,b,ge)}function kz(u,f){var b=u.length;if(!!b)return f+=f<0?b:0,Na(f,b)?u[f]:i}function _z(u,f,b){f.length?f=Ft(f,function(j){return dt(j)?function(Y){return Jl(Y,j.length===1?j[0]:j)}:j}):f=[fr];var C=-1;f=Ft(f,xi(rt()));var O=wz(u,function(j,Y,K){var ie=Ft(f,function(me){return me(j)});return{criteria:ie,index:++C,value:j}});return bp(O,function(j,Y){return G9(j,Y,b)})}function I9(u,f){return Tz(u,f,function(b,C){return Jx(u,C)})}function Tz(u,f,b){for(var C=-1,O=f.length,j={};++C<O;){var Y=f[C],K=Jl(u,Y);b(K,Y)&&Ip(j,Us(Y,u),K)}return j}function R9(u){return function(f){return Jl(f,u)}}function Tx(u,f,b,C){var O=C?Iu:xo,j=-1,Y=f.length,K=u;for(u===f&&(f=cr(f)),b&&(K=Ft(u,xi(b)));++j<Y;)for(var ie=0,me=f[j],ge=b?b(me):me;(ie=O(K,ge,ie,C))>-1;)K!==u&&Tb.call(K,ie,1),Tb.call(u,ie,1);return u}function Sz(u,f){for(var b=u?f.length:0,C=b-1;b--;){var O=f[b];if(b==C||O!==j){var j=O;Na(O)?Tb.call(u,O,1):zx(u,O)}}return u}function Sx(u,f){return u+Eb(az()*(f-u+1))}function P9(u,f,b,C){for(var O=-1,j=Hi(Cb((f-u)/(b||1)),0),Y=oe(j);j--;)Y[C?j:++O]=u,u+=b;return Y}function Cx(u,f){var b="";if(!u||f<1||f>We)return b;do f%2&&(b+=u),f=Eb(f/2),f&&(u+=u);while(f);return b}function yt(u,f){return Yx(iI(u,f,fr),u+"")}function L9(u){return cz(Nu(u))}function O9(u,f){var b=Nu(u);return Wb(b,Xl(f,0,b.length))}function Ip(u,f,b,C){if(!pi(u))return u;f=Us(f,u);for(var O=-1,j=f.length,Y=j-1,K=u;K!=null&&++O<j;){var ie=Qo(f[O]),me=b;if(ie==="__proto__"||ie==="constructor"||ie==="prototype")return u;if(O!=Y){var ge=K[ie];me=C?C(ge,ie,K):i,me===i&&(me=pi(ge)?ge:Na(f[O+1])?[]:{})}Sp(K,ie,me),K=K[ie]}return u}var Cz=zb?function(u,f){return zb.set(u,f),u}:fr,M9=Sb?function(u,f){return Sb(u,"toString",{configurable:!0,enumerable:!1,value:e1(f),writable:!0})}:fr;function D9(u){return Wb(Nu(u))}function ro(u,f,b){var C=-1,O=u.length;f<0&&(f=-f>O?0:O+f),b=b>O?O:b,b<0&&(b+=O),O=f>b?0:b-f>>>0,f>>>=0;for(var j=oe(O);++C<O;)j[C]=u[C+f];return j}function B9(u,f){var b;return Ns(u,function(C,O,j){return b=f(C,O,j),!b}),!!b}function Db(u,f,b){var C=0,O=u==null?C:u.length;if(typeof f=="number"&&f===f&&O<=ce){for(;C<O;){var j=C+O>>>1,Y=u[j];Y!==null&&!Or(Y)&&(b?Y<=f:Y<f)?C=j+1:O=j}return O}return Ex(u,f,fr,b)}function Ex(u,f,b,C){var O=0,j=u==null?0:u.length;if(j===0)return 0;f=b(f);for(var Y=f!==f,K=f===null,ie=Or(f),me=f===i;O<j;){var ge=Eb((O+j)/2),xe=b(u[ge]),Ge=xe!==i,Je=xe===null,ot=xe===xe,bt=Or(xe);if(Y)var at=C||ot;else me?at=ot&&(C||Ge):K?at=ot&&Ge&&(C||!Je):ie?at=ot&&Ge&&!Je&&(C||!bt):Je||bt?at=!1:at=C?xe<=f:xe<f;at?O=ge+1:j=ge}return kn(j,Z)}function Ez(u,f){for(var b=-1,C=u.length,O=0,j=[];++b<C;){var Y=u[b],K=f?f(Y):Y;if(!b||!_o(K,ie)){var ie=K;j[O++]=Y===0?0:Y}}return j}function zz(u){return typeof u=="number"?u:Or(u)?Oe:+u}function Lr(u){if(typeof u=="string")return u;if(dt(u))return Ft(u,Lr)+"";if(Or(u))return sz?sz.call(u):"";var f=u+"";return f=="0"&&1/u==-De?"-0":f}function js(u,f,b){var C=-1,O=Cu,j=u.length,Y=!0,K=[],ie=K;if(b)Y=!1,O=fp;else if(j>=r){var me=f?null:Q9(u);if(me)return k(me);Y=!1,O=xn,ie=new Kl}else ie=f?[]:K;e:for(;++C<j;){var ge=u[C],xe=f?f(ge):ge;if(ge=b||ge!==0?ge:0,Y&&xe===xe){for(var Ge=ie.length;Ge--;)if(ie[Ge]===xe)continue e;f&&ie.push(xe),K.push(ge)}else O(ie,xe,b)||(ie!==K&&ie.push(xe),K.push(ge))}return K}function zx(u,f){return f=Us(f,u),u=nI(u,f),u==null||delete u[Qo(oo(f))]}function Iz(u,f,b,C){return Ip(u,f,b(Jl(u,f)),C)}function Bb(u,f,b,C){for(var O=u.length,j=C?O:-1;(C?j--:++j<O)&&f(u[j],j,u););return b?ro(u,C?0:j,C?j+1:O):ro(u,C?j+1:0,C?O:j)}function Rz(u,f){var b=u;return b instanceof Tt&&(b=b.value()),Eu(f,function(C,O){return O.func.apply(O.thisArg,lr([C],O.args))},b)}function Ix(u,f,b){var C=u.length;if(C<2)return C?js(u[0]):[];for(var O=-1,j=oe(C);++O<C;)for(var Y=u[O],K=-1;++K<C;)K!=O&&(j[O]=Cp(j[O]||Y,u[K],f,b));return js(ln(j,1),f,b)}function Pz(u,f,b){for(var C=-1,O=u.length,j=f.length,Y={};++C<O;){var K=C<j?f[C]:i;b(Y,u[C],K)}return Y}function Rx(u){return ki(u)?u:[]}function Px(u){return typeof u=="function"?u:fr}function Us(u,f){return dt(u)?u:Ux(u,f)?[u]:sI(Gt(u))}var F9=yt;function Gs(u,f,b){var C=u.length;return b=b===i?C:b,!f&&b>=C?u:ro(u,f,b)}var Lz=TU||function(u){return Ui.clearTimeout(u)};function Oz(u,f){if(f)return u.slice();var b=u.length,C=tz?tz(b):new u.constructor(b);return u.copy(C),C}function Lx(u){var f=new u.constructor(u.byteLength);return new kb(f).set(new kb(u)),f}function N9(u,f){var b=f?Lx(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.byteLength)}function j9(u){var f=new u.constructor(u.source,Hg.exec(u));return f.lastIndex=u.lastIndex,f}function U9(u){return Tp?Ut(Tp.call(u)):{}}function Mz(u,f){var b=f?Lx(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.length)}function Dz(u,f){if(u!==f){var b=u!==i,C=u===null,O=u===u,j=Or(u),Y=f!==i,K=f===null,ie=f===f,me=Or(f);if(!K&&!me&&!j&&u>f||j&&Y&&ie&&!K&&!me||C&&Y&&ie||!b&&ie||!O)return 1;if(!C&&!j&&!me&&u<f||me&&b&&O&&!C&&!j||K&&b&&O||!Y&&O||!ie)return-1}return 0}function G9(u,f,b){for(var C=-1,O=u.criteria,j=f.criteria,Y=O.length,K=b.length;++C<Y;){var ie=Dz(O[C],j[C]);if(ie){if(C>=K)return ie;var me=b[C];return ie*(me=="desc"?-1:1)}}return u.index-f.index}function Bz(u,f,b,C){for(var O=-1,j=u.length,Y=b.length,K=-1,ie=f.length,me=Hi(j-Y,0),ge=oe(ie+me),xe=!C;++K<ie;)ge[K]=f[K];for(;++O<Y;)(xe||O<j)&&(ge[b[O]]=u[O]);for(;me--;)ge[K++]=u[O++];return ge}function Fz(u,f,b,C){for(var O=-1,j=u.length,Y=-1,K=b.length,ie=-1,me=f.length,ge=Hi(j-K,0),xe=oe(ge+me),Ge=!C;++O<ge;)xe[O]=u[O];for(var Je=O;++ie<me;)xe[Je+ie]=f[ie];for(;++Y<K;)(Ge||O<j)&&(xe[Je+b[Y]]=u[O++]);return xe}function cr(u,f){var b=-1,C=u.length;for(f||(f=oe(C));++b<C;)f[b]=u[b];return f}function $o(u,f,b,C){var O=!b;b||(b={});for(var j=-1,Y=f.length;++j<Y;){var K=f[j],ie=C?C(b[K],u[K],K,b,u):i;ie===i&&(ie=u[K]),O?Da(b,K,ie):Sp(b,K,ie)}return b}function H9(u,f){return $o(u,jx(u),f)}function Y9(u,f){return $o(u,Xz(u),f)}function Fb(u,f){return function(b,C){var O=dt(b)?ox:f9,j=f?f():{};return O(b,u,rt(C,2),j)}}function Mu(u){return yt(function(f,b){var C=-1,O=b.length,j=O>1?b[O-1]:i,Y=O>2?b[2]:i;for(j=u.length>3&&typeof j=="function"?(O--,j):i,Y&&Un(b[0],b[1],Y)&&(j=O<3?i:j,O=1),f=Ut(f);++C<O;){var K=b[C];K&&u(f,K,C,j)}return f})}function Nz(u,f){return function(b,C){if(b==null)return b;if(!ur(b))return u(b,C);for(var O=b.length,j=f?O:-1,Y=Ut(b);(f?j--:++j<O)&&C(Y[j],j,Y)!==!1;);return b}}function jz(u){return function(f,b,C){for(var O=-1,j=Ut(f),Y=C(f),K=Y.length;K--;){var ie=Y[u?K:++O];if(b(j[ie],ie,j)===!1)break}return f}}function W9(u,f,b){var C=f&g,O=Rp(u);function j(){var Y=this&&this!==Ui&&this instanceof j?O:u;return Y.apply(C?b:this,arguments)}return j}function Uz(u){return function(f){f=Gt(f);var b=Bs(f)?G(f):i,C=b?b[0]:f.charAt(0),O=b?Gs(b,1).join(""):f.slice(1);return C[u]()+O}}function Du(u){return function(f){return Eu(NI(FI(f).replace(XA,"")),u,"")}}function Rp(u){return function(){var f=arguments;switch(f.length){case 0:return new u;case 1:return new u(f[0]);case 2:return new u(f[0],f[1]);case 3:return new u(f[0],f[1],f[2]);case 4:return new u(f[0],f[1],f[2],f[3]);case 5:return new u(f[0],f[1],f[2],f[3],f[4]);case 6:return new u(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new u(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var b=Ou(u.prototype),C=u.apply(b,f);return pi(C)?C:b}}function V9(u,f,b){var C=Rp(u);function O(){for(var j=arguments.length,Y=oe(j),K=j,ie=Bu(O);K--;)Y[K]=arguments[K];var me=j<3&&Y[0]!==ie&&Y[j-1]!==ie?[]:_(Y,ie);if(j-=me.length,j<b)return Vz(u,f,Nb,O.placeholder,i,Y,me,i,i,b-j);var ge=this&&this!==Ui&&this instanceof O?C:u;return Nn(ge,this,Y)}return O}function Gz(u){return function(f,b,C){var O=Ut(f);if(!ur(f)){var j=rt(b,3);f=Vi(f),b=function(K){return j(O[K],K,O)}}var Y=u(f,b,C);return Y>-1?O[j?f[Y]:Y]:i}}function Hz(u){return Fa(function(f){var b=f.length,C=b,O=io.prototype.thru;for(u&&f.reverse();C--;){var j=f[C];if(typeof j!="function")throw new It(a);if(O&&!Y&&Hb(j)=="wrapper")var Y=new io([],!0)}for(C=Y?C:b;++C<b;){j=f[C];var K=Hb(j),ie=K=="wrapper"?Fx(j):i;ie&&Gx(ie[0])&&ie[1]==(B|T|z|L)&&!ie[4].length&&ie[9]==1?Y=Y[Hb(ie[0])].apply(Y,ie[3]):Y=j.length==1&&Gx(j)?Y[K]():Y.thru(j)}return function(){var me=arguments,ge=me[0];if(Y&&me.length==1&&dt(ge))return Y.plant(ge).value();for(var xe=0,Ge=b?f[xe].apply(this,me):ge;++xe<b;)Ge=f[xe].call(this,Ge);return Ge}})}function Nb(u,f,b,C,O,j,Y,K,ie,me){var ge=f&B,xe=f&g,Ge=f&A,Je=f&(T|E),ot=f&F,bt=Ge?i:Rp(u);function at(){for(var xt=arguments.length,Ct=oe(xt),Mr=xt;Mr--;)Ct[Mr]=arguments[Mr];if(Je)var Gn=Bu(at),Dr=sx(Ct,Gn);if(C&&(Ct=Bz(Ct,C,O,Je)),j&&(Ct=Fz(Ct,j,Y,Je)),xt-=Dr,Je&&xt<me){var _i=_(Ct,Gn);return Vz(u,f,Nb,at.placeholder,b,Ct,_i,K,ie,me-xt)}var To=xe?b:this,Ga=Ge?To[u]:u;return xt=Ct.length,K?Ct=fG(Ct,K):ot&&xt>1&&Ct.reverse(),ge&&ie<xt&&(Ct.length=ie),this&&this!==Ui&&this instanceof at&&(Ga=bt||Rp(Ga)),Ga.apply(To,Ct)}return at}function Yz(u,f){return function(b,C){return w9(b,u,f(C),{})}}function jb(u,f){return function(b,C){var O;if(b===i&&C===i)return f;if(b!==i&&(O=b),C!==i){if(O===i)return C;typeof b=="string"||typeof C=="string"?(b=Lr(b),C=Lr(C)):(b=zz(b),C=zz(C)),O=u(b,C)}return O}}function Ox(u){return Fa(function(f){return f=Ft(f,xi(rt())),yt(function(b){var C=this;return u(f,function(O){return Nn(O,C,b)})})})}function Ub(u,f){f=f===i?" ":Lr(f);var b=f.length;if(b<2)return b?Cx(f,u):f;var C=Cx(f,Cb(u/U(f)));return Bs(f)?Gs(G(C),0,u).join(""):C.slice(0,u)}function $9(u,f,b,C){var O=f&g,j=Rp(u);function Y(){for(var K=-1,ie=arguments.length,me=-1,ge=C.length,xe=oe(ge+ie),Ge=this&&this!==Ui&&this instanceof Y?j:u;++me<ge;)xe[me]=C[me];for(;ie--;)xe[me++]=arguments[++K];return Nn(Ge,O?b:this,xe)}return Y}function Wz(u){return function(f,b,C){return C&&typeof C!="number"&&Un(f,b,C)&&(b=C=i),f=Ua(f),b===i?(b=f,f=0):b=Ua(b),C=C===i?f<b?1:-1:Ua(C),P9(f,b,C,u)}}function Gb(u){return function(f,b){return typeof f=="string"&&typeof b=="string"||(f=ao(f),b=ao(b)),u(f,b)}}function Vz(u,f,b,C,O,j,Y,K,ie,me){var ge=f&T,xe=ge?Y:i,Ge=ge?i:Y,Je=ge?j:i,ot=ge?i:j;f|=ge?z:M,f&=~(ge?M:z),f&x||(f&=~(g|A));var bt=[u,f,O,Je,xe,ot,Ge,K,ie,me],at=b.apply(i,bt);return Gx(u)&&rI(at,bt),at.placeholder=C,oI(at,u,f)}function Mx(u){var f=bi[u];return function(b,C){if(b=ao(b),C=C==null?0:kn(mt(C),292),C&&oz(b)){var O=(Gt(b)+"e").split("e"),j=f(O[0]+"e"+(+O[1]+C));return O=(Gt(j)+"e").split("e"),+(O[0]+"e"+(+O[1]-C))}return f(b)}}var Q9=Pu&&1/k(new Pu([,-0]))[1]==De?function(u){return new Pu(u)}:n1;function $z(u){return function(f){var b=_n(f);return b==Lt?D(f):b==fi?S(f):Ds(f,u(f))}}function Ba(u,f,b,C,O,j,Y,K){var ie=f&A;if(!ie&&typeof u!="function")throw new It(a);var me=C?C.length:0;if(me||(f&=~(z|M),C=O=i),Y=Y===i?Y:Hi(mt(Y),0),K=K===i?K:mt(K),me-=O?O.length:0,f&M){var ge=C,xe=O;C=O=i}var Ge=ie?i:Fx(u),Je=[u,f,b,C,O,ge,xe,j,Y,K];if(Ge&&cG(Je,Ge),u=Je[0],f=Je[1],b=Je[2],C=Je[3],O=Je[4],K=Je[9]=Je[9]===i?ie?0:u.length:Hi(Je[9]-me,0),!K&&f&(T|E)&&(f&=~(T|E)),!f||f==g)var ot=W9(u,f,b);else f==T||f==E?ot=V9(u,f,K):(f==z||f==(g|z))&&!O.length?ot=$9(u,f,b,C):ot=Nb.apply(i,Je);var bt=Ge?Cz:rI;return oI(bt(ot,Je),u,f)}function Qz(u,f,b,C){return u===i||_o(u,Ru[b])&&!$t.call(C,b)?f:u}function qz(u,f,b,C,O,j){return pi(u)&&pi(f)&&(j.set(f,u),Mb(u,f,i,qz,j),j.delete(f)),u}function q9(u){return Op(u)?i:u}function Kz(u,f,b,C,O,j){var Y=b&y,K=u.length,ie=f.length;if(K!=ie&&!(Y&&ie>K))return!1;var me=j.get(u),ge=j.get(f);if(me&&ge)return me==f&&ge==u;var xe=-1,Ge=!0,Je=b&w?new Kl:i;for(j.set(u,f),j.set(f,u);++xe<K;){var ot=u[xe],bt=f[xe];if(C)var at=Y?C(bt,ot,xe,f,u,j):C(ot,bt,xe,u,f,j);if(at!==i){if(at)continue;Ge=!1;break}if(Je){if(!zu(f,function(xt,Ct){if(!xn(Je,Ct)&&(ot===xt||O(ot,xt,b,C,j)))return Je.push(Ct)})){Ge=!1;break}}else if(!(ot===bt||O(ot,bt,b,C,j))){Ge=!1;break}}return j.delete(u),j.delete(f),Ge}function K9(u,f,b,C,O,j,Y){switch(b){case ht:if(u.byteLength!=f.byteLength||u.byteOffset!=f.byteOffset)return!1;u=u.buffer,f=f.buffer;case Ao:return!(u.byteLength!=f.byteLength||!j(new kb(u),new kb(f)));case be:case Ie:case Ir:return _o(+u,+f);case Ve:return u.name==f.name&&u.message==f.message;case gi:case Zr:return u==f+"";case Lt:var K=D;case fi:var ie=C&y;if(K||(K=k),u.size!=f.size&&!ie)return!1;var me=Y.get(u);if(me)return me==f;C|=w,Y.set(u,f);var ge=Kz(K(u),K(f),C,O,j,Y);return Y.delete(u),ge;case eo:if(Tp)return Tp.call(u)==Tp.call(f)}return!1}function X9(u,f,b,C,O,j){var Y=b&y,K=Dx(u),ie=K.length,me=Dx(f),ge=me.length;if(ie!=ge&&!Y)return!1;for(var xe=ie;xe--;){var Ge=K[xe];if(!(Y?Ge in f:$t.call(f,Ge)))return!1}var Je=j.get(u),ot=j.get(f);if(Je&&ot)return Je==f&&ot==u;var bt=!0;j.set(u,f),j.set(f,u);for(var at=Y;++xe<ie;){Ge=K[xe];var xt=u[Ge],Ct=f[Ge];if(C)var Mr=Y?C(Ct,xt,Ge,f,u,j):C(xt,Ct,Ge,u,f,j);if(!(Mr===i?xt===Ct||O(xt,Ct,b,C,j):Mr)){bt=!1;break}at||(at=Ge=="constructor")}if(bt&&!at){var Gn=u.constructor,Dr=f.constructor;Gn!=Dr&&"constructor"in u&&"constructor"in f&&!(typeof Gn=="function"&&Gn instanceof Gn&&typeof Dr=="function"&&Dr instanceof Dr)&&(bt=!1)}return j.delete(u),j.delete(f),bt}function Fa(u){return Yx(iI(u,i,dI),u+"")}function Dx(u){return gz(u,Vi,jx)}function Bx(u){return gz(u,dr,Xz)}var Fx=zb?function(u){return zb.get(u)}:n1;function Hb(u){for(var f=u.name+"",b=Lu[f],C=$t.call(Lu,f)?b.length:0;C--;){var O=b[C],j=O.func;if(j==null||j==u)return O.name}return f}function Bu(u){var f=$t.call(N,"placeholder")?N:u;return f.placeholder}function rt(){var u=N.iteratee||t1;return u=u===t1?yz:u,arguments.length?u(arguments[0],arguments[1]):u}function Yb(u,f){var b=u.__data__;return oG(f)?b[typeof f=="string"?"string":"hash"]:b.map}function Nx(u){for(var f=Vi(u),b=f.length;b--;){var C=f[b],O=u[C];f[b]=[C,O,eI(O)]}return f}function Zl(u,f){var b=dx(u,f);return vz(b)?b:i}function J9(u){var f=$t.call(u,Ql),b=u[Ql];try{u[Ql]=i;var C=!0}catch{}var O=Ab.call(u);return C&&(f?u[Ql]=b:delete u[Ql]),O}var jx=px?function(u){return u==null?[]:(u=Ut(u),Wo(px(u),function(f){return nz.call(u,f)}))}:r1,Xz=px?function(u){for(var f=[];u;)lr(f,jx(u)),u=_b(u);return f}:r1,_n=jn;(hx&&_n(new hx(new ArrayBuffer(1)))!=ht||xp&&_n(new xp)!=Lt||mx&&_n(mx.resolve())!=Xe||Pu&&_n(new Pu)!=fi||kp&&_n(new kp)!=wo)&&(_n=function(u){var f=jn(u),b=f==sn?u.constructor:i,C=b?ec(b):"";if(C)switch(C){case OU:return ht;case MU:return Lt;case DU:return Xe;case BU:return fi;case FU:return wo}return f});function Z9(u,f,b){for(var C=-1,O=b.length;++C<O;){var j=b[C],Y=j.size;switch(j.type){case"drop":u+=Y;break;case"dropRight":f-=Y;break;case"take":f=kn(f,u+Y);break;case"takeRight":u=Hi(u,f-Y);break}}return{start:u,end:f}}function eG(u){var f=u.match(gu);return f?f[1].split(GA):[]}function Jz(u,f,b){f=Us(f,u);for(var C=-1,O=f.length,j=!1;++C<O;){var Y=Qo(f[C]);if(!(j=u!=null&&b(u,Y)))break;u=u[Y]}return j||++C!=O?j:(O=u==null?0:u.length,!!O&&Xb(O)&&Na(Y,O)&&(dt(u)||tc(u)))}function tG(u){var f=u.length,b=new u.constructor(f);return f&&typeof u[0]=="string"&&$t.call(u,"index")&&(b.index=u.index,b.input=u.input),b}function Zz(u){return typeof u.constructor=="function"&&!Pp(u)?Ou(_b(u)):{}}function iG(u,f,b){var C=u.constructor;switch(f){case Ao:return Lx(u);case be:case Ie:return new C(+u);case ht:return N9(u,b);case Yf:case Wf:case Vf:case $f:case Qf:case Is:case qf:case Kf:case Xf:return Mz(u,b);case Lt:return new C;case Ir:case Zr:return new C(u);case gi:return j9(u);case fi:return new C;case eo:return U9(u)}}function nG(u,f){var b=f.length;if(!b)return u;var C=b-1;return f[C]=(b>1?"& ":"")+f[C],f=f.join(b>2?", ":" "),u.replace(mu,`{
/* [wrapped with `+f+`] */
`)}function rG(u){return dt(u)||tc(u)||!!(rz&&u&&u[rz])}function Na(u,f){var b=typeof u;return f=f==null?We:f,!!f&&(b=="number"||b!="symbol"&&Vg.test(u))&&u>-1&&u%1==0&&u<f}function Un(u,f,b){if(!pi(b))return!1;var C=typeof f;return(C=="number"?ur(b)&&Na(f,b.length):C=="string"&&f in b)?_o(b[f],u):!1}function Ux(u,f){if(dt(u))return!1;var b=typeof u;return b=="number"||b=="symbol"||b=="boolean"||u==null||Or(u)?!0:jA.test(u)||!NA.test(u)||f!=null&&u in Ut(f)}function oG(u){var f=typeof u;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?u!=="__proto__":u===null}function Gx(u){var f=Hb(u),b=N[f];if(typeof b!="function"||!(f in Tt.prototype))return!1;if(u===b)return!0;var C=Fx(b);return!!C&&u===C[0]}function aG(u){return!!ez&&ez in u}var sG=yb?ja:o1;function Pp(u){var f=u&&u.constructor,b=typeof f=="function"&&f.prototype||Ru;return u===b}function eI(u){return u===u&&!pi(u)}function tI(u,f){return function(b){return b==null?!1:b[u]===f&&(f!==i||u in Ut(b))}}function lG(u){var f=qb(u,function(C){return b.size===c&&b.clear(),C}),b=f.cache;return f}function cG(u,f){var b=u[1],C=f[1],O=b|C,j=O<(g|A|B),Y=C==B&&b==T||C==B&&b==L&&u[7].length<=f[8]||C==(B|L)&&f[7].length<=f[8]&&b==T;if(!(j||Y))return u;C&g&&(u[2]=f[2],O|=b&g?0:x);var K=f[3];if(K){var ie=u[3];u[3]=ie?Bz(ie,K,f[4]):K,u[4]=ie?_(u[3],d):f[4]}return K=f[5],K&&(ie=u[5],u[5]=ie?Fz(ie,K,f[6]):K,u[6]=ie?_(u[5],d):f[6]),K=f[7],K&&(u[7]=K),C&B&&(u[8]=u[8]==null?f[8]:kn(u[8],f[8])),u[9]==null&&(u[9]=f[9]),u[0]=f[0],u[1]=O,u}function uG(u){var f=[];if(u!=null)for(var b in Ut(u))f.push(b);return f}function dG(u){return Ab.call(u)}function iI(u,f,b){return f=Hi(f===i?u.length-1:f,0),function(){for(var C=arguments,O=-1,j=Hi(C.length-f,0),Y=oe(j);++O<j;)Y[O]=C[f+O];O=-1;for(var K=oe(f+1);++O<f;)K[O]=C[O];return K[f]=b(Y),Nn(u,this,K)}}function nI(u,f){return f.length<2?u:Jl(u,ro(f,0,-1))}function fG(u,f){for(var b=u.length,C=kn(f.length,b),O=cr(u);C--;){var j=f[C];u[C]=Na(j,b)?O[j]:i}return u}function Hx(u,f){if(!(f==="constructor"&&typeof u[f]=="function")&&f!="__proto__")return u[f]}var rI=aI(Cz),Lp=CU||function(u,f){return Ui.setTimeout(u,f)},Yx=aI(M9);function oI(u,f,b){var C=f+"";return Yx(u,nG(C,pG(eG(C),b)))}function aI(u){var f=0,b=0;return function(){var C=RU(),O=we-(C-b);if(b=C,O>0){if(++f>=de)return arguments[0]}else f=0;return u.apply(i,arguments)}}function Wb(u,f){var b=-1,C=u.length,O=C-1;for(f=f===i?C:f;++b<f;){var j=Sx(b,O),Y=u[j];u[j]=u[b],u[b]=Y}return u.length=f,u}var sI=lG(function(u){var f=[];return u.charCodeAt(0)===46&&f.push(""),u.replace(pu,function(b,C,O,j){f.push(O?j.replace(bu,"$1"):C||b)}),f});function Qo(u){if(typeof u=="string"||Or(u))return u;var f=u+"";return f=="0"&&1/u==-De?"-0":f}function ec(u){if(u!=null){try{return wb.call(u)}catch{}try{return u+""}catch{}}return""}function pG(u,f){return sr(te,function(b){var C="_."+b[0];f&b[1]&&!Cu(u,C)&&u.push(C)}),u.sort()}function lI(u){if(u instanceof Tt)return u.clone();var f=new io(u.__wrapped__,u.__chain__);return f.__actions__=cr(u.__actions__),f.__index__=u.__index__,f.__values__=u.__values__,f}function hG(u,f,b){(b?Un(u,f,b):f===i)?f=1:f=Hi(mt(f),0);var C=u==null?0:u.length;if(!C||f<1)return[];for(var O=0,j=0,Y=oe(Cb(C/f));O<C;)Y[j++]=ro(u,O,O+=f);return Y}function mG(u){for(var f=-1,b=u==null?0:u.length,C=0,O=[];++f<b;){var j=u[f];j&&(O[C++]=j)}return O}function gG(){var u=arguments.length;if(!u)return[];for(var f=oe(u-1),b=arguments[0],C=u;C--;)f[C-1]=arguments[C];return lr(dt(b)?cr(b):[b],ln(f,1))}var bG=yt(function(u,f){return ki(u)?Cp(u,ln(f,1,ki,!0)):[]}),vG=yt(function(u,f){var b=oo(f);return ki(b)&&(b=i),ki(u)?Cp(u,ln(f,1,ki,!0),rt(b,2)):[]}),yG=yt(function(u,f){var b=oo(f);return ki(b)&&(b=i),ki(u)?Cp(u,ln(f,1,ki,!0),i,b):[]});function wG(u,f,b){var C=u==null?0:u.length;return C?(f=b||f===i?1:mt(f),ro(u,f<0?0:f,C)):[]}function AG(u,f,b){var C=u==null?0:u.length;return C?(f=b||f===i?1:mt(f),f=C-f,ro(u,0,f<0?0:f)):[]}function xG(u,f){return u&&u.length?Bb(u,rt(f,3),!0,!0):[]}function kG(u,f){return u&&u.length?Bb(u,rt(f,3),!0):[]}function _G(u,f,b,C){var O=u==null?0:u.length;return O?(b&&typeof b!="number"&&Un(u,f,b)&&(b=0,C=O),g9(u,f,b,C)):[]}function cI(u,f,b){var C=u==null?0:u.length;if(!C)return-1;var O=b==null?0:mt(b);return O<0&&(O=Hi(C+O,0)),Wl(u,rt(f,3),O)}function uI(u,f,b){var C=u==null?0:u.length;if(!C)return-1;var O=C-1;return b!==i&&(O=mt(b),O=b<0?Hi(C+O,0):kn(O,C-1)),Wl(u,rt(f,3),O,!0)}function dI(u){var f=u==null?0:u.length;return f?ln(u,1):[]}function TG(u){var f=u==null?0:u.length;return f?ln(u,De):[]}function SG(u,f){var b=u==null?0:u.length;return b?(f=f===i?1:mt(f),ln(u,f)):[]}function CG(u){for(var f=-1,b=u==null?0:u.length,C={};++f<b;){var O=u[f];C[O[0]]=O[1]}return C}function fI(u){return u&&u.length?u[0]:i}function EG(u,f,b){var C=u==null?0:u.length;if(!C)return-1;var O=b==null?0:mt(b);return O<0&&(O=Hi(C+O,0)),xo(u,f,O)}function zG(u){var f=u==null?0:u.length;return f?ro(u,0,-1):[]}var IG=yt(function(u){var f=Ft(u,Rx);return f.length&&f[0]===u[0]?Ax(f):[]}),RG=yt(function(u){var f=oo(u),b=Ft(u,Rx);return f===oo(b)?f=i:b.pop(),b.length&&b[0]===u[0]?Ax(b,rt(f,2)):[]}),PG=yt(function(u){var f=oo(u),b=Ft(u,Rx);return f=typeof f=="function"?f:i,f&&b.pop(),b.length&&b[0]===u[0]?Ax(b,i,f):[]});function LG(u,f){return u==null?"":zU.call(u,f)}function oo(u){var f=u==null?0:u.length;return f?u[f-1]:i}function OG(u,f,b){var C=u==null?0:u.length;if(!C)return-1;var O=C;return b!==i&&(O=mt(b),O=O<0?Hi(C+O,0):kn(O,C-1)),f===f?R(u,f,O):Wl(u,pb,O,!0)}function MG(u,f){return u&&u.length?kz(u,mt(f)):i}var DG=yt(pI);function pI(u,f){return u&&u.length&&f&&f.length?Tx(u,f):u}function BG(u,f,b){return u&&u.length&&f&&f.length?Tx(u,f,rt(b,2)):u}function FG(u,f,b){return u&&u.length&&f&&f.length?Tx(u,f,i,b):u}var NG=Fa(function(u,f){var b=u==null?0:u.length,C=bx(u,f);return Sz(u,Ft(f,function(O){return Na(O,b)?+O:O}).sort(Dz)),C});function jG(u,f){var b=[];if(!(u&&u.length))return b;var C=-1,O=[],j=u.length;for(f=rt(f,3);++C<j;){var Y=u[C];f(Y,C,u)&&(b.push(Y),O.push(C))}return Sz(u,O),b}function Wx(u){return u==null?u:LU.call(u)}function UG(u,f,b){var C=u==null?0:u.length;return C?(b&&typeof b!="number"&&Un(u,f,b)?(f=0,b=C):(f=f==null?0:mt(f),b=b===i?C:mt(b)),ro(u,f,b)):[]}function GG(u,f){return Db(u,f)}function HG(u,f,b){return Ex(u,f,rt(b,2))}function YG(u,f){var b=u==null?0:u.length;if(b){var C=Db(u,f);if(C<b&&_o(u[C],f))return C}return-1}function WG(u,f){return Db(u,f,!0)}function VG(u,f,b){return Ex(u,f,rt(b,2),!0)}function $G(u,f){var b=u==null?0:u.length;if(b){var C=Db(u,f,!0)-1;if(_o(u[C],f))return C}return-1}function QG(u){return u&&u.length?Ez(u):[]}function qG(u,f){return u&&u.length?Ez(u,rt(f,2)):[]}function KG(u){var f=u==null?0:u.length;return f?ro(u,1,f):[]}function XG(u,f,b){return u&&u.length?(f=b||f===i?1:mt(f),ro(u,0,f<0?0:f)):[]}function JG(u,f,b){var C=u==null?0:u.length;return C?(f=b||f===i?1:mt(f),f=C-f,ro(u,f<0?0:f,C)):[]}function ZG(u,f){return u&&u.length?Bb(u,rt(f,3),!1,!0):[]}function eH(u,f){return u&&u.length?Bb(u,rt(f,3)):[]}var tH=yt(function(u){return js(ln(u,1,ki,!0))}),iH=yt(function(u){var f=oo(u);return ki(f)&&(f=i),js(ln(u,1,ki,!0),rt(f,2))}),nH=yt(function(u){var f=oo(u);return f=typeof f=="function"?f:i,js(ln(u,1,ki,!0),i,f)});function rH(u){return u&&u.length?js(u):[]}function oH(u,f){return u&&u.length?js(u,rt(f,2)):[]}function aH(u,f){return f=typeof f=="function"?f:i,u&&u.length?js(u,i,f):[]}function Vx(u){if(!(u&&u.length))return[];var f=0;return u=Wo(u,function(b){if(ki(b))return f=Hi(b.length,f),!0}),yp(f,function(b){return Ft(u,mp(b))})}function hI(u,f){if(!(u&&u.length))return[];var b=Vx(u);return f==null?b:Ft(b,function(C){return Nn(f,i,C)})}var sH=yt(function(u,f){return ki(u)?Cp(u,f):[]}),lH=yt(function(u){return Ix(Wo(u,ki))}),cH=yt(function(u){var f=oo(u);return ki(f)&&(f=i),Ix(Wo(u,ki),rt(f,2))}),uH=yt(function(u){var f=oo(u);return f=typeof f=="function"?f:i,Ix(Wo(u,ki),i,f)}),dH=yt(Vx);function fH(u,f){return Pz(u||[],f||[],Sp)}function pH(u,f){return Pz(u||[],f||[],Ip)}var hH=yt(function(u){var f=u.length,b=f>1?u[f-1]:i;return b=typeof b=="function"?(u.pop(),b):i,hI(u,b)});function mI(u){var f=N(u);return f.__chain__=!0,f}function mH(u,f){return f(u),u}function Vb(u,f){return f(u)}var gH=Fa(function(u){var f=u.length,b=f?u[0]:0,C=this.__wrapped__,O=function(j){return bx(j,u)};return f>1||this.__actions__.length||!(C instanceof Tt)||!Na(b)?this.thru(O):(C=C.slice(b,+b+(f?1:0)),C.__actions__.push({func:Vb,args:[O],thisArg:i}),new io(C,this.__chain__).thru(function(j){return f&&!j.length&&j.push(i),j}))});function bH(){return mI(this)}function vH(){return new io(this.value(),this.__chain__)}function yH(){this.__values__===i&&(this.__values__=zI(this.value()));var u=this.__index__>=this.__values__.length,f=u?i:this.__values__[this.__index__++];return{done:u,value:f}}function wH(){return this}function AH(u){for(var f,b=this;b instanceof Rb;){var C=lI(b);C.__index__=0,C.__values__=i,f?O.__wrapped__=C:f=C;var O=C;b=b.__wrapped__}return O.__wrapped__=u,f}function xH(){var u=this.__wrapped__;if(u instanceof Tt){var f=u;return this.__actions__.length&&(f=new Tt(this)),f=f.reverse(),f.__actions__.push({func:Vb,args:[Wx],thisArg:i}),new io(f,this.__chain__)}return this.thru(Wx)}function kH(){return Rz(this.__wrapped__,this.__actions__)}var _H=Fb(function(u,f,b){$t.call(u,b)?++u[b]:Da(u,b,1)});function TH(u,f,b){var C=dt(u)?cb:m9;return b&&Un(u,f,b)&&(f=i),C(u,rt(f,3))}function SH(u,f){var b=dt(u)?Wo:hz;return b(u,rt(f,3))}var CH=Gz(cI),EH=Gz(uI);function zH(u,f){return ln($b(u,f),1)}function IH(u,f){return ln($b(u,f),De)}function RH(u,f,b){return b=b===i?1:mt(b),ln($b(u,f),b)}function gI(u,f){var b=dt(u)?sr:Ns;return b(u,rt(f,3))}function bI(u,f){var b=dt(u)?ax:pz;return b(u,rt(f,3))}var PH=Fb(function(u,f,b){$t.call(u,b)?u[b].push(f):Da(u,b,[f])});function LH(u,f,b,C){u=ur(u)?u:Nu(u),b=b&&!C?mt(b):0;var O=u.length;return b<0&&(b=Hi(O+b,0)),Jb(u)?b<=O&&u.indexOf(f,b)>-1:!!O&&xo(u,f,b)>-1}var OH=yt(function(u,f,b){var C=-1,O=typeof f=="function",j=ur(u)?oe(u.length):[];return Ns(u,function(Y){j[++C]=O?Nn(f,Y,b):Ep(Y,f,b)}),j}),MH=Fb(function(u,f,b){Da(u,b,f)});function $b(u,f){var b=dt(u)?Ft:wz;return b(u,rt(f,3))}function DH(u,f,b,C){return u==null?[]:(dt(f)||(f=f==null?[]:[f]),b=C?i:b,dt(b)||(b=b==null?[]:[b]),_z(u,f,b))}var BH=Fb(function(u,f,b){u[b?0:1].push(f)},function(){return[[],[]]});function FH(u,f,b){var C=dt(u)?Eu:mb,O=arguments.length<3;return C(u,rt(f,4),b,O,Ns)}function NH(u,f,b){var C=dt(u)?ub:mb,O=arguments.length<3;return C(u,rt(f,4),b,O,pz)}function jH(u,f){var b=dt(u)?Wo:hz;return b(u,Kb(rt(f,3)))}function UH(u){var f=dt(u)?cz:L9;return f(u)}function GH(u,f,b){(b?Un(u,f,b):f===i)?f=1:f=mt(f);var C=dt(u)?u9:O9;return C(u,f)}function HH(u){var f=dt(u)?d9:D9;return f(u)}function YH(u){if(u==null)return 0;if(ur(u))return Jb(u)?U(u):u.length;var f=_n(u);return f==Lt||f==fi?u.size:kx(u).length}function WH(u,f,b){var C=dt(u)?zu:B9;return b&&Un(u,f,b)&&(f=i),C(u,rt(f,3))}var VH=yt(function(u,f){if(u==null)return[];var b=f.length;return b>1&&Un(u,f[0],f[1])?f=[]:b>2&&Un(f[0],f[1],f[2])&&(f=[f[0]]),_z(u,ln(f,1),[])}),Qb=SU||function(){return Ui.Date.now()};function $H(u,f){if(typeof f!="function")throw new It(a);return u=mt(u),function(){if(--u<1)return f.apply(this,arguments)}}function vI(u,f,b){return f=b?i:f,f=u&&f==null?u.length:f,Ba(u,B,i,i,i,i,f)}function yI(u,f){var b;if(typeof f!="function")throw new It(a);return u=mt(u),function(){return--u>0&&(b=f.apply(this,arguments)),u<=1&&(f=i),b}}var $x=yt(function(u,f,b){var C=g;if(b.length){var O=_(b,Bu($x));C|=z}return Ba(u,C,f,b,O)}),wI=yt(function(u,f,b){var C=g|A;if(b.length){var O=_(b,Bu(wI));C|=z}return Ba(f,C,u,b,O)});function AI(u,f,b){f=b?i:f;var C=Ba(u,T,i,i,i,i,i,f);return C.placeholder=AI.placeholder,C}function xI(u,f,b){f=b?i:f;var C=Ba(u,E,i,i,i,i,i,f);return C.placeholder=xI.placeholder,C}function kI(u,f,b){var C,O,j,Y,K,ie,me=0,ge=!1,xe=!1,Ge=!0;if(typeof u!="function")throw new It(a);f=ao(f)||0,pi(b)&&(ge=!!b.leading,xe="maxWait"in b,j=xe?Hi(ao(b.maxWait)||0,f):j,Ge="trailing"in b?!!b.trailing:Ge);function Je(_i){var To=C,Ga=O;return C=O=i,me=_i,Y=u.apply(Ga,To),Y}function ot(_i){return me=_i,K=Lp(xt,f),ge?Je(_i):Y}function bt(_i){var To=_i-ie,Ga=_i-me,GI=f-To;return xe?kn(GI,j-Ga):GI}function at(_i){var To=_i-ie,Ga=_i-me;return ie===i||To>=f||To<0||xe&&Ga>=j}function xt(){var _i=Qb();if(at(_i))return Ct(_i);K=Lp(xt,bt(_i))}function Ct(_i){return K=i,Ge&&C?Je(_i):(C=O=i,Y)}function Mr(){K!==i&&Lz(K),me=0,C=ie=O=K=i}function Gn(){return K===i?Y:Ct(Qb())}function Dr(){var _i=Qb(),To=at(_i);if(C=arguments,O=this,ie=_i,To){if(K===i)return ot(ie);if(xe)return Lz(K),K=Lp(xt,f),Je(ie)}return K===i&&(K=Lp(xt,f)),Y}return Dr.cancel=Mr,Dr.flush=Gn,Dr}var QH=yt(function(u,f){return fz(u,1,f)}),qH=yt(function(u,f,b){return fz(u,ao(f)||0,b)});function KH(u){return Ba(u,F)}function qb(u,f){if(typeof u!="function"||f!=null&&typeof f!="function")throw new It(a);var b=function(){var C=arguments,O=f?f.apply(this,C):C[0],j=b.cache;if(j.has(O))return j.get(O);var Y=u.apply(this,C);return b.cache=j.set(O,Y)||j,Y};return b.cache=new(qb.Cache||Ma),b}qb.Cache=Ma;function Kb(u){if(typeof u!="function")throw new It(a);return function(){var f=arguments;switch(f.length){case 0:return!u.call(this);case 1:return!u.call(this,f[0]);case 2:return!u.call(this,f[0],f[1]);case 3:return!u.call(this,f[0],f[1],f[2])}return!u.apply(this,f)}}function XH(u){return yI(2,u)}var JH=F9(function(u,f){f=f.length==1&&dt(f[0])?Ft(f[0],xi(rt())):Ft(ln(f,1),xi(rt()));var b=f.length;return yt(function(C){for(var O=-1,j=kn(C.length,b);++O<j;)C[O]=f[O].call(this,C[O]);return Nn(u,this,C)})}),Qx=yt(function(u,f){var b=_(f,Bu(Qx));return Ba(u,z,i,f,b)}),_I=yt(function(u,f){var b=_(f,Bu(_I));return Ba(u,M,i,f,b)}),ZH=Fa(function(u,f){return Ba(u,L,i,i,i,f)});function eY(u,f){if(typeof u!="function")throw new It(a);return f=f===i?f:mt(f),yt(u,f)}function tY(u,f){if(typeof u!="function")throw new It(a);return f=f==null?0:Hi(mt(f),0),yt(function(b){var C=b[f],O=Gs(b,0,f);return C&&lr(O,C),Nn(u,this,O)})}function iY(u,f,b){var C=!0,O=!0;if(typeof u!="function")throw new It(a);return pi(b)&&(C="leading"in b?!!b.leading:C,O="trailing"in b?!!b.trailing:O),kI(u,f,{leading:C,maxWait:f,trailing:O})}function nY(u){return vI(u,1)}function rY(u,f){return Qx(Px(f),u)}function oY(){if(!arguments.length)return[];var u=arguments[0];return dt(u)?u:[u]}function aY(u){return no(u,m)}function sY(u,f){return f=typeof f=="function"?f:i,no(u,m,f)}function lY(u){return no(u,p|m)}function cY(u,f){return f=typeof f=="function"?f:i,no(u,p|m,f)}function uY(u,f){return f==null||dz(u,f,Vi(f))}function _o(u,f){return u===f||u!==u&&f!==f}var dY=Gb(wx),fY=Gb(function(u,f){return u>=f}),tc=bz(function(){return arguments}())?bz:function(u){return vi(u)&&$t.call(u,"callee")&&!nz.call(u,"callee")},dt=oe.isArray,pY=cp?xi(cp):A9;function ur(u){return u!=null&&Xb(u.length)&&!ja(u)}function ki(u){return vi(u)&&ur(u)}function hY(u){return u===!0||u===!1||vi(u)&&jn(u)==be}var Hs=EU||o1,mY=ab?xi(ab):x9;function gY(u){return vi(u)&&u.nodeType===1&&!Op(u)}function bY(u){if(u==null)return!0;if(ur(u)&&(dt(u)||typeof u=="string"||typeof u.splice=="function"||Hs(u)||Fu(u)||tc(u)))return!u.length;var f=_n(u);if(f==Lt||f==fi)return!u.size;if(Pp(u))return!kx(u).length;for(var b in u)if($t.call(u,b))return!1;return!0}function vY(u,f){return zp(u,f)}function yY(u,f,b){b=typeof b=="function"?b:i;var C=b?b(u,f):i;return C===i?zp(u,f,i,b):!!C}function qx(u){if(!vi(u))return!1;var f=jn(u);return f==Ve||f==He||typeof u.message=="string"&&typeof u.name=="string"&&!Op(u)}function wY(u){return typeof u=="number"&&oz(u)}function ja(u){if(!pi(u))return!1;var f=jn(u);return f==et||f==Jt||f==ve||f==Sa}function TI(u){return typeof u=="number"&&u==mt(u)}function Xb(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=We}function pi(u){var f=typeof u;return u!=null&&(f=="object"||f=="function")}function vi(u){return u!=null&&typeof u=="object"}var SI=up?xi(up):_9;function AY(u,f){return u===f||xx(u,f,Nx(f))}function xY(u,f,b){return b=typeof b=="function"?b:i,xx(u,f,Nx(f),b)}function kY(u){return CI(u)&&u!=+u}function _Y(u){if(sG(u))throw new lt(o);return vz(u)}function TY(u){return u===null}function SY(u){return u==null}function CI(u){return typeof u=="number"||vi(u)&&jn(u)==Ir}function Op(u){if(!vi(u)||jn(u)!=sn)return!1;var f=_b(u);if(f===null)return!0;var b=$t.call(f,"constructor")&&f.constructor;return typeof b=="function"&&b instanceof b&&wb.call(b)==xU}var Kx=sb?xi(sb):T9;function CY(u){return TI(u)&&u>=-We&&u<=We}var EI=dp?xi(dp):S9;function Jb(u){return typeof u=="string"||!dt(u)&&vi(u)&&jn(u)==Zr}function Or(u){return typeof u=="symbol"||vi(u)&&jn(u)==eo}var Fu=lb?xi(lb):C9;function EY(u){return u===i}function zY(u){return vi(u)&&_n(u)==wo}function IY(u){return vi(u)&&jn(u)==Nl}var RY=Gb(_x),PY=Gb(function(u,f){return u<=f});function zI(u){if(!u)return[];if(ur(u))return Jb(u)?G(u):cr(u);if(Ap&&u[Ap])return bb(u[Ap]());var f=_n(u),b=f==Lt?D:f==fi?k:Nu;return b(u)}function Ua(u){if(!u)return u===0?u:0;if(u=ao(u),u===De||u===-De){var f=u<0?-1:1;return f*Pe}return u===u?u:0}function mt(u){var f=Ua(u),b=f%1;return f===f?b?f-b:f:0}function II(u){return u?Xl(mt(u),0,se):0}function ao(u){if(typeof u=="number")return u;if(Or(u))return Oe;if(pi(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=pi(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=Ot(u);var b=Yg.test(u);return b||Wg.test(u)?nx(u.slice(2),b?2:8):HA.test(u)?Oe:+u}function RI(u){return $o(u,dr(u))}function LY(u){return u?Xl(mt(u),-We,We):u===0?u:0}function Gt(u){return u==null?"":Lr(u)}var OY=Mu(function(u,f){if(Pp(f)||ur(f)){$o(f,Vi(f),u);return}for(var b in f)$t.call(f,b)&&Sp(u,b,f[b])}),PI=Mu(function(u,f){$o(f,dr(f),u)}),Zb=Mu(function(u,f,b,C){$o(f,dr(f),u,C)}),MY=Mu(function(u,f,b,C){$o(f,Vi(f),u,C)}),DY=Fa(bx);function BY(u,f){var b=Ou(u);return f==null?b:uz(b,f)}var FY=yt(function(u,f){u=Ut(u);var b=-1,C=f.length,O=C>2?f[2]:i;for(O&&Un(f[0],f[1],O)&&(C=1);++b<C;)for(var j=f[b],Y=dr(j),K=-1,ie=Y.length;++K<ie;){var me=Y[K],ge=u[me];(ge===i||_o(ge,Ru[me])&&!$t.call(u,me))&&(u[me]=j[me])}return u}),NY=yt(function(u){return u.push(i,qz),Nn(LI,i,u)});function jY(u,f){return hp(u,rt(f,3),Vo)}function UY(u,f){return hp(u,rt(f,3),yx)}function GY(u,f){return u==null?u:vx(u,rt(f,3),dr)}function HY(u,f){return u==null?u:mz(u,rt(f,3),dr)}function YY(u,f){return u&&Vo(u,rt(f,3))}function WY(u,f){return u&&yx(u,rt(f,3))}function VY(u){return u==null?[]:Ob(u,Vi(u))}function $Y(u){return u==null?[]:Ob(u,dr(u))}function Xx(u,f,b){var C=u==null?i:Jl(u,f);return C===i?b:C}function QY(u,f){return u!=null&&Jz(u,f,b9)}function Jx(u,f){return u!=null&&Jz(u,f,v9)}var qY=Yz(function(u,f,b){f!=null&&typeof f.toString!="function"&&(f=Ab.call(f)),u[f]=b},e1(fr)),KY=Yz(function(u,f,b){f!=null&&typeof f.toString!="function"&&(f=Ab.call(f)),$t.call(u,f)?u[f].push(b):u[f]=[b]},rt),XY=yt(Ep);function Vi(u){return ur(u)?lz(u):kx(u)}function dr(u){return ur(u)?lz(u,!0):E9(u)}function JY(u,f){var b={};return f=rt(f,3),Vo(u,function(C,O,j){Da(b,f(C,O,j),C)}),b}function ZY(u,f){var b={};return f=rt(f,3),Vo(u,function(C,O,j){Da(b,O,f(C,O,j))}),b}var eW=Mu(function(u,f,b){Mb(u,f,b)}),LI=Mu(function(u,f,b,C){Mb(u,f,b,C)}),tW=Fa(function(u,f){var b={};if(u==null)return b;var C=!1;f=Ft(f,function(j){return j=Us(j,u),C||(C=j.length>1),j}),$o(u,Bx(u),b),C&&(b=no(b,p|h|m,q9));for(var O=f.length;O--;)zx(b,f[O]);return b});function iW(u,f){return OI(u,Kb(rt(f)))}var nW=Fa(function(u,f){return u==null?{}:I9(u,f)});function OI(u,f){if(u==null)return{};var b=Ft(Bx(u),function(C){return[C]});return f=rt(f),Tz(u,b,function(C,O){return f(C,O[0])})}function rW(u,f,b){f=Us(f,u);var C=-1,O=f.length;for(O||(O=1,u=i);++C<O;){var j=u==null?i:u[Qo(f[C])];j===i&&(C=O,j=b),u=ja(j)?j.call(u):j}return u}function oW(u,f,b){return u==null?u:Ip(u,f,b)}function aW(u,f,b,C){return C=typeof C=="function"?C:i,u==null?u:Ip(u,f,b,C)}var MI=$z(Vi),DI=$z(dr);function sW(u,f,b){var C=dt(u),O=C||Hs(u)||Fu(u);if(f=rt(f,4),b==null){var j=u&&u.constructor;O?b=C?new j:[]:pi(u)?b=ja(j)?Ou(_b(u)):{}:b={}}return(O?sr:Vo)(u,function(Y,K,ie){return f(b,Y,K,ie)}),b}function lW(u,f){return u==null?!0:zx(u,f)}function cW(u,f,b){return u==null?u:Iz(u,f,Px(b))}function uW(u,f,b,C){return C=typeof C=="function"?C:i,u==null?u:Iz(u,f,Px(b),C)}function Nu(u){return u==null?[]:Gi(u,Vi(u))}function dW(u){return u==null?[]:Gi(u,dr(u))}function fW(u,f,b){return b===i&&(b=f,f=i),b!==i&&(b=ao(b),b=b===b?b:0),f!==i&&(f=ao(f),f=f===f?f:0),Xl(ao(u),f,b)}function pW(u,f,b){return f=Ua(f),b===i?(b=f,f=0):b=Ua(b),u=ao(u),y9(u,f,b)}function hW(u,f,b){if(b&&typeof b!="boolean"&&Un(u,f,b)&&(f=b=i),b===i&&(typeof f=="boolean"?(b=f,f=i):typeof u=="boolean"&&(b=u,u=i)),u===i&&f===i?(u=0,f=1):(u=Ua(u),f===i?(f=u,u=0):f=Ua(f)),u>f){var C=u;u=f,f=C}if(b||u%1||f%1){var O=az();return kn(u+O*(f-u+Tu("1e-"+((O+"").length-1))),f)}return Sx(u,f)}var mW=Du(function(u,f,b){return f=f.toLowerCase(),u+(b?BI(f):f)});function BI(u){return Zx(Gt(u).toLowerCase())}function FI(u){return u=Gt(u),u&&u.replace($g,lx).replace(JA,"")}function gW(u,f,b){u=Gt(u),f=Lr(f);var C=u.length;b=b===i?C:Xl(mt(b),0,C);var O=b;return b-=f.length,b>=0&&u.slice(b,O)==f}function bW(u){return u=Gt(u),u&&BA.test(u)?u.replace(Gg,cx):u}function vW(u){return u=Gt(u),u&&hu.test(u)?u.replace(Pr,"\\$&"):u}var yW=Du(function(u,f,b){return u+(b?"-":"")+f.toLowerCase()}),wW=Du(function(u,f,b){return u+(b?" ":"")+f.toLowerCase()}),AW=Uz("toLowerCase");function xW(u,f,b){u=Gt(u),f=mt(f);var C=f?U(u):0;if(!f||C>=f)return u;var O=(f-C)/2;return Ub(Eb(O),b)+u+Ub(Cb(O),b)}function kW(u,f,b){u=Gt(u),f=mt(f);var C=f?U(u):0;return f&&C<f?u+Ub(f-C,b):u}function _W(u,f,b){u=Gt(u),f=mt(f);var C=f?U(u):0;return f&&C<f?Ub(f-C,b)+u:u}function TW(u,f,b){return b||f==null?f=0:f&&(f=+f),PU(Gt(u).replace(jt,""),f||0)}function SW(u,f,b){return(b?Un(u,f,b):f===i)?f=1:f=mt(f),Cx(Gt(u),f)}function CW(){var u=arguments,f=Gt(u[0]);return u.length<3?f:f.replace(u[1],u[2])}var EW=Du(function(u,f,b){return u+(b?"_":"")+f.toLowerCase()});function zW(u,f,b){return b&&typeof b!="number"&&Un(u,f,b)&&(f=b=i),b=b===i?se:b>>>0,b?(u=Gt(u),u&&(typeof f=="string"||f!=null&&!Kx(f))&&(f=Lr(f),!f&&Bs(u))?Gs(G(u),0,b):u.split(f,b)):[]}var IW=Du(function(u,f,b){return u+(b?" ":"")+Zx(f)});function RW(u,f,b){return u=Gt(u),b=b==null?0:Xl(mt(b),0,u.length),f=Lr(f),u.slice(b,b+f.length)==f}function PW(u,f,b){var C=N.templateSettings;b&&Un(u,f,b)&&(f=i),u=Gt(u),f=Zb({},f,C,Qz);var O=Zb({},f.imports,C.imports,Qz),j=Vi(O),Y=Gi(O,j),K,ie,me=0,ge=f.interpolate||za,xe="__p += '",Ge=Vl((f.escape||za).source+"|"+ge.source+"|"+(ge===An?ji:za).source+"|"+(f.evaluate||za).source+"|$","g"),Je="//# sourceURL="+($t.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ZA+"]")+`
`;u.replace(Ge,function(at,xt,Ct,Mr,Gn,Dr){return Ct||(Ct=Mr),xe+=u.slice(me,Dr).replace(YA,ux),xt&&(K=!0,xe+=`' +
__e(`+xt+`) +
'`),Gn&&(ie=!0,xe+=`';
`+Gn+`;
__p += '`),Ct&&(xe+=`' +
((__t = (`+Ct+`)) == null ? '' : __t) +
'`),me=Dr+at.length,at}),xe+=`';
`;var ot=$t.call(f,"variable")&&f.variable;if(!ot)xe=`with (obj) {
`+xe+`
}
`;else if(ni.test(ot))throw new lt(s);xe=(ie?xe.replace(MA,""):xe).replace(Rr,"$1").replace(jg,"$1;"),xe="function("+(ot||"obj")+`) {
`+(ot?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(K?", __e = _.escape":"")+(ie?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+xe+`return __p
}`;var bt=jI(function(){return zt(j,Je+"return "+xe).apply(i,Y)});if(bt.source=xe,qx(bt))throw bt;return bt}function LW(u){return Gt(u).toLowerCase()}function OW(u){return Gt(u).toUpperCase()}function MW(u,f,b){if(u=Gt(u),u&&(b||f===i))return Ot(u);if(!u||!(f=Lr(f)))return u;var C=G(u),O=G(f),j=gb(C,O),Y=wp(C,O)+1;return Gs(C,j,Y).join("")}function DW(u,f,b){if(u=Gt(u),u&&(b||f===i))return u.slice(0,q(u)+1);if(!u||!(f=Lr(f)))return u;var C=G(u),O=wp(C,G(f))+1;return Gs(C,0,O).join("")}function BW(u,f,b){if(u=Gt(u),u&&(b||f===i))return u.replace(jt,"");if(!u||!(f=Lr(f)))return u;var C=G(u),O=gb(C,G(f));return Gs(C,O).join("")}function FW(u,f){var b=H,C=X;if(pi(f)){var O="separator"in f?f.separator:O;b="length"in f?mt(f.length):b,C="omission"in f?Lr(f.omission):C}u=Gt(u);var j=u.length;if(Bs(u)){var Y=G(u);j=Y.length}if(b>=j)return u;var K=b-U(C);if(K<1)return C;var ie=Y?Gs(Y,0,K).join(""):u.slice(0,K);if(O===i)return ie+C;if(Y&&(K+=ie.length-K),Kx(O)){if(u.slice(K).search(O)){var me,ge=ie;for(O.global||(O=Vl(O.source,Gt(Hg.exec(O))+"g")),O.lastIndex=0;me=O.exec(ge);)var xe=me.index;ie=ie.slice(0,xe===i?K:xe)}}else if(u.indexOf(Lr(O),K)!=K){var Ge=ie.lastIndexOf(O);Ge>-1&&(ie=ie.slice(0,Ge))}return ie+C}function NW(u){return u=Gt(u),u&&DA.test(u)?u.replace(Ug,V):u}var jW=Du(function(u,f,b){return u+(b?" ":"")+f.toUpperCase()}),Zx=Uz("toUpperCase");function NI(u,f,b){return u=Gt(u),f=b?i:f,f===i?fx(u)?je(u):pp(u):u.match(f)||[]}var jI=yt(function(u,f){try{return Nn(u,i,f)}catch(b){return qx(b)?b:new lt(b)}}),UW=Fa(function(u,f){return sr(f,function(b){b=Qo(b),Da(u,b,$x(u[b],u))}),u});function GW(u){var f=u==null?0:u.length,b=rt();return u=f?Ft(u,function(C){if(typeof C[1]!="function")throw new It(a);return[b(C[0]),C[1]]}):[],yt(function(C){for(var O=-1;++O<f;){var j=u[O];if(Nn(j[0],this,C))return Nn(j[1],this,C)}})}function HW(u){return h9(no(u,p))}function e1(u){return function(){return u}}function YW(u,f){return u==null||u!==u?f:u}var WW=Hz(),VW=Hz(!0);function fr(u){return u}function t1(u){return yz(typeof u=="function"?u:no(u,p))}function $W(u){return Az(no(u,p))}function QW(u,f){return xz(u,no(f,p))}var qW=yt(function(u,f){return function(b){return Ep(b,u,f)}}),KW=yt(function(u,f){return function(b){return Ep(u,b,f)}});function i1(u,f,b){var C=Vi(f),O=Ob(f,C);b==null&&!(pi(f)&&(O.length||!C.length))&&(b=f,f=u,u=this,O=Ob(f,Vi(f)));var j=!(pi(b)&&"chain"in b)||!!b.chain,Y=ja(u);return sr(O,function(K){var ie=f[K];u[K]=ie,Y&&(u.prototype[K]=function(){var me=this.__chain__;if(j||me){var ge=u(this.__wrapped__),xe=ge.__actions__=cr(this.__actions__);return xe.push({func:ie,args:arguments,thisArg:u}),ge.__chain__=me,ge}return ie.apply(u,lr([this.value()],arguments))})}),u}function XW(){return Ui._===this&&(Ui._=kU),this}function n1(){}function JW(u){return u=mt(u),yt(function(f){return kz(f,u)})}var ZW=Ox(Ft),eV=Ox(cb),tV=Ox(zu);function UI(u){return Ux(u)?mp(Qo(u)):R9(u)}function iV(u){return function(f){return u==null?i:Jl(u,f)}}var nV=Wz(),rV=Wz(!0);function r1(){return[]}function o1(){return!1}function oV(){return{}}function aV(){return""}function sV(){return!0}function lV(u,f){if(u=mt(u),u<1||u>We)return[];var b=se,C=kn(u,se);f=rt(f),u-=se;for(var O=yp(C,f);++b<u;)f(b);return O}function cV(u){return dt(u)?Ft(u,Qo):Or(u)?[u]:cr(sI(Gt(u)))}function uV(u){var f=++AU;return Gt(u)+f}var dV=jb(function(u,f){return u+f},0),fV=Mx("ceil"),pV=jb(function(u,f){return u/f},1),hV=Mx("floor");function mV(u){return u&&u.length?Lb(u,fr,wx):i}function gV(u,f){return u&&u.length?Lb(u,rt(f,2),wx):i}function bV(u){return hb(u,fr)}function vV(u,f){return hb(u,rt(f,2))}function yV(u){return u&&u.length?Lb(u,fr,_x):i}function wV(u,f){return u&&u.length?Lb(u,rt(f,2),_x):i}var AV=jb(function(u,f){return u*f},1),xV=Mx("round"),kV=jb(function(u,f){return u-f},0);function _V(u){return u&&u.length?vp(u,fr):0}function TV(u,f){return u&&u.length?vp(u,rt(f,2)):0}return N.after=$H,N.ary=vI,N.assign=OY,N.assignIn=PI,N.assignInWith=Zb,N.assignWith=MY,N.at=DY,N.before=yI,N.bind=$x,N.bindAll=UW,N.bindKey=wI,N.castArray=oY,N.chain=mI,N.chunk=hG,N.compact=mG,N.concat=gG,N.cond=GW,N.conforms=HW,N.constant=e1,N.countBy=_H,N.create=BY,N.curry=AI,N.curryRight=xI,N.debounce=kI,N.defaults=FY,N.defaultsDeep=NY,N.defer=QH,N.delay=qH,N.difference=bG,N.differenceBy=vG,N.differenceWith=yG,N.drop=wG,N.dropRight=AG,N.dropRightWhile=xG,N.dropWhile=kG,N.fill=_G,N.filter=SH,N.flatMap=zH,N.flatMapDeep=IH,N.flatMapDepth=RH,N.flatten=dI,N.flattenDeep=TG,N.flattenDepth=SG,N.flip=KH,N.flow=WW,N.flowRight=VW,N.fromPairs=CG,N.functions=VY,N.functionsIn=$Y,N.groupBy=PH,N.initial=zG,N.intersection=IG,N.intersectionBy=RG,N.intersectionWith=PG,N.invert=qY,N.invertBy=KY,N.invokeMap=OH,N.iteratee=t1,N.keyBy=MH,N.keys=Vi,N.keysIn=dr,N.map=$b,N.mapKeys=JY,N.mapValues=ZY,N.matches=$W,N.matchesProperty=QW,N.memoize=qb,N.merge=eW,N.mergeWith=LI,N.method=qW,N.methodOf=KW,N.mixin=i1,N.negate=Kb,N.nthArg=JW,N.omit=tW,N.omitBy=iW,N.once=XH,N.orderBy=DH,N.over=ZW,N.overArgs=JH,N.overEvery=eV,N.overSome=tV,N.partial=Qx,N.partialRight=_I,N.partition=BH,N.pick=nW,N.pickBy=OI,N.property=UI,N.propertyOf=iV,N.pull=DG,N.pullAll=pI,N.pullAllBy=BG,N.pullAllWith=FG,N.pullAt=NG,N.range=nV,N.rangeRight=rV,N.rearg=ZH,N.reject=jH,N.remove=jG,N.rest=eY,N.reverse=Wx,N.sampleSize=GH,N.set=oW,N.setWith=aW,N.shuffle=HH,N.slice=UG,N.sortBy=VH,N.sortedUniq=QG,N.sortedUniqBy=qG,N.split=zW,N.spread=tY,N.tail=KG,N.take=XG,N.takeRight=JG,N.takeRightWhile=ZG,N.takeWhile=eH,N.tap=mH,N.throttle=iY,N.thru=Vb,N.toArray=zI,N.toPairs=MI,N.toPairsIn=DI,N.toPath=cV,N.toPlainObject=RI,N.transform=sW,N.unary=nY,N.union=tH,N.unionBy=iH,N.unionWith=nH,N.uniq=rH,N.uniqBy=oH,N.uniqWith=aH,N.unset=lW,N.unzip=Vx,N.unzipWith=hI,N.update=cW,N.updateWith=uW,N.values=Nu,N.valuesIn=dW,N.without=sH,N.words=NI,N.wrap=rY,N.xor=lH,N.xorBy=cH,N.xorWith=uH,N.zip=dH,N.zipObject=fH,N.zipObjectDeep=pH,N.zipWith=hH,N.entries=MI,N.entriesIn=DI,N.extend=PI,N.extendWith=Zb,i1(N,N),N.add=dV,N.attempt=jI,N.camelCase=mW,N.capitalize=BI,N.ceil=fV,N.clamp=fW,N.clone=aY,N.cloneDeep=lY,N.cloneDeepWith=cY,N.cloneWith=sY,N.conformsTo=uY,N.deburr=FI,N.defaultTo=YW,N.divide=pV,N.endsWith=gW,N.eq=_o,N.escape=bW,N.escapeRegExp=vW,N.every=TH,N.find=CH,N.findIndex=cI,N.findKey=jY,N.findLast=EH,N.findLastIndex=uI,N.findLastKey=UY,N.floor=hV,N.forEach=gI,N.forEachRight=bI,N.forIn=GY,N.forInRight=HY,N.forOwn=YY,N.forOwnRight=WY,N.get=Xx,N.gt=dY,N.gte=fY,N.has=QY,N.hasIn=Jx,N.head=fI,N.identity=fr,N.includes=LH,N.indexOf=EG,N.inRange=pW,N.invoke=XY,N.isArguments=tc,N.isArray=dt,N.isArrayBuffer=pY,N.isArrayLike=ur,N.isArrayLikeObject=ki,N.isBoolean=hY,N.isBuffer=Hs,N.isDate=mY,N.isElement=gY,N.isEmpty=bY,N.isEqual=vY,N.isEqualWith=yY,N.isError=qx,N.isFinite=wY,N.isFunction=ja,N.isInteger=TI,N.isLength=Xb,N.isMap=SI,N.isMatch=AY,N.isMatchWith=xY,N.isNaN=kY,N.isNative=_Y,N.isNil=SY,N.isNull=TY,N.isNumber=CI,N.isObject=pi,N.isObjectLike=vi,N.isPlainObject=Op,N.isRegExp=Kx,N.isSafeInteger=CY,N.isSet=EI,N.isString=Jb,N.isSymbol=Or,N.isTypedArray=Fu,N.isUndefined=EY,N.isWeakMap=zY,N.isWeakSet=IY,N.join=LG,N.kebabCase=yW,N.last=oo,N.lastIndexOf=OG,N.lowerCase=wW,N.lowerFirst=AW,N.lt=RY,N.lte=PY,N.max=mV,N.maxBy=gV,N.mean=bV,N.meanBy=vV,N.min=yV,N.minBy=wV,N.stubArray=r1,N.stubFalse=o1,N.stubObject=oV,N.stubString=aV,N.stubTrue=sV,N.multiply=AV,N.nth=MG,N.noConflict=XW,N.noop=n1,N.now=Qb,N.pad=xW,N.padEnd=kW,N.padStart=_W,N.parseInt=TW,N.random=hW,N.reduce=FH,N.reduceRight=NH,N.repeat=SW,N.replace=CW,N.result=rW,N.round=xV,N.runInContext=W,N.sample=UH,N.size=YH,N.snakeCase=EW,N.some=WH,N.sortedIndex=GG,N.sortedIndexBy=HG,N.sortedIndexOf=YG,N.sortedLastIndex=WG,N.sortedLastIndexBy=VG,N.sortedLastIndexOf=$G,N.startCase=IW,N.startsWith=RW,N.subtract=kV,N.sum=_V,N.sumBy=TV,N.template=PW,N.times=lV,N.toFinite=Ua,N.toInteger=mt,N.toLength=II,N.toLower=LW,N.toNumber=ao,N.toSafeInteger=LY,N.toString=Gt,N.toUpper=OW,N.trim=MW,N.trimEnd=DW,N.trimStart=BW,N.truncate=FW,N.unescape=NW,N.uniqueId=uV,N.upperCase=jW,N.upperFirst=Zx,N.each=gI,N.eachRight=bI,N.first=fI,i1(N,function(){var u={};return Vo(N,function(f,b){$t.call(N.prototype,b)||(u[b]=f)}),u}(),{chain:!1}),N.VERSION=n,sr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){N[u].placeholder=N}),sr(["drop","take"],function(u,f){Tt.prototype[u]=function(b){b=b===i?1:Hi(mt(b),0);var C=this.__filtered__&&!f?new Tt(this):this.clone();return C.__filtered__?C.__takeCount__=kn(b,C.__takeCount__):C.__views__.push({size:kn(b,se),type:u+(C.__dir__<0?"Right":"")}),C},Tt.prototype[u+"Right"]=function(b){return this.reverse()[u](b).reverse()}}),sr(["filter","map","takeWhile"],function(u,f){var b=f+1,C=b==Ee||b==Be;Tt.prototype[u]=function(O){var j=this.clone();return j.__iteratees__.push({iteratee:rt(O,3),type:b}),j.__filtered__=j.__filtered__||C,j}}),sr(["head","last"],function(u,f){var b="take"+(f?"Right":"");Tt.prototype[u]=function(){return this[b](1).value()[0]}}),sr(["initial","tail"],function(u,f){var b="drop"+(f?"":"Right");Tt.prototype[u]=function(){return this.__filtered__?new Tt(this):this[b](1)}}),Tt.prototype.compact=function(){return this.filter(fr)},Tt.prototype.find=function(u){return this.filter(u).head()},Tt.prototype.findLast=function(u){return this.reverse().find(u)},Tt.prototype.invokeMap=yt(function(u,f){return typeof u=="function"?new Tt(this):this.map(function(b){return Ep(b,u,f)})}),Tt.prototype.reject=function(u){return this.filter(Kb(rt(u)))},Tt.prototype.slice=function(u,f){u=mt(u);var b=this;return b.__filtered__&&(u>0||f<0)?new Tt(b):(u<0?b=b.takeRight(-u):u&&(b=b.drop(u)),f!==i&&(f=mt(f),b=f<0?b.dropRight(-f):b.take(f-u)),b)},Tt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Tt.prototype.toArray=function(){return this.take(se)},Vo(Tt.prototype,function(u,f){var b=/^(?:filter|find|map|reject)|While$/.test(f),C=/^(?:head|last)$/.test(f),O=N[C?"take"+(f=="last"?"Right":""):f],j=C||/^find/.test(f);!O||(N.prototype[f]=function(){var Y=this.__wrapped__,K=C?[1]:arguments,ie=Y instanceof Tt,me=K[0],ge=ie||dt(Y),xe=function(xt){var Ct=O.apply(N,lr([xt],K));return C&&Ge?Ct[0]:Ct};ge&&b&&typeof me=="function"&&me.length!=1&&(ie=ge=!1);var Ge=this.__chain__,Je=!!this.__actions__.length,ot=j&&!Ge,bt=ie&&!Je;if(!j&&ge){Y=bt?Y:new Tt(this);var at=u.apply(Y,K);return at.__actions__.push({func:Vb,args:[xe],thisArg:i}),new io(at,Ge)}return ot&&bt?u.apply(this,K):(at=this.thru(xe),ot?C?at.value()[0]:at.value():at)})}),sr(["pop","push","shift","sort","splice","unshift"],function(u){var f=$l[u],b=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",C=/^(?:pop|shift)$/.test(u);N.prototype[u]=function(){var O=arguments;if(C&&!this.__chain__){var j=this.value();return f.apply(dt(j)?j:[],O)}return this[b](function(Y){return f.apply(dt(Y)?Y:[],O)})}}),Vo(Tt.prototype,function(u,f){var b=N[f];if(b){var C=b.name+"";$t.call(Lu,C)||(Lu[C]=[]),Lu[C].push({name:f,func:b})}}),Lu[Nb(i,A).name]=[{name:"wrapper",func:i}],Tt.prototype.clone=NU,Tt.prototype.reverse=jU,Tt.prototype.value=UU,N.prototype.at=gH,N.prototype.chain=bH,N.prototype.commit=vH,N.prototype.next=yH,N.prototype.plant=AH,N.prototype.reverse=xH,N.prototype.toJSON=N.prototype.valueOf=N.prototype.value=kH,N.prototype.first=N.prototype.head,Ap&&(N.prototype[Ap]=wH),N},Te=Qe();Yo?((Yo.exports=Te)._=Te,Vt._=Te):Ui._=Te}).call(zo)})(Rc,Rc.exports);var Ta={exports:{}};(function(t,e){(function(i,n){t.exports=n($.exports)})(typeof self!="undefined"?self:zo,function(i){return function(n){function r(a){if(o[a])return o[a].exports;var s=o[a]={i:a,l:!1,exports:{}};return n[a].call(s.exports,s,s.exports,r),s.l=!0,s.exports}var o={};return r.m=n,r.c=o,r.d=function(a,s,l){r.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:l})},r.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(s,"a",s),s},r.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},r.p="",r(r.s=7)}([function(n,r,o){var a=this&&this.__importDefault||function(z){return z&&z.__esModule?z:{default:z}};Object.defineProperty(r,"__esModule",{value:!0});var s=a(o(1)),l=a(o(8)),c=a(o(2)),d=o(10),p=a(o(3)),h=a(o(6)),m=function(z){return z.query||(0,p.default)(z)},y=function(z){if(!z)return null;var M=Object.keys(z);return M.length===0?null:M.reduce(function(B,L){return B[(0,c.default)(L)]=z[L],B},{})},w=function(){var z=s.default.useRef(!1);return s.default.useEffect(function(){z.current=!0},[]),z.current},g=function(z){var M=s.default.useContext(h.default),B=function(){return y(z)||y(M)||{}},L=s.default.useState(B),F=L[0],H=L[1];return s.default.useEffect(function(){var X=B();(0,d.shallowEqualObjects)(F,X)||H(X)},[z,M]),F},A=function(z){var M=function(){return m(z)},B=s.default.useState(M),L=B[0],F=B[1];return s.default.useEffect(function(){var H=M();L!==H&&F(H)},[z]),L},x=function(z,M){var B=function(){return(0,l.default)(z,M)},L=s.default.useState(B),F=L[0],H=L[1],X=w();return s.default.useEffect(function(){if(X){var de=B();return H(de),function(){de&&de.dispose()}}},[z,M]),F},T=function(z){var M=s.default.useState(z.matches),B=M[0],L=M[1];return s.default.useEffect(function(){var F=function(){L(z.matches)};return z.addListener(F),F(),function(){z.removeListener(F)}},[z]),B},E=function(z,M,B){var L=g(M),F=A(z);if(!F)throw new Error("Invalid or missing MediaQuery!");var H=x(F,L),X=T(H),de=w();return s.default.useEffect(function(){de&&B&&B(X)},[X]),s.default.useEffect(function(){return function(){H&&H.dispose()}},[]),X};r.default=E},function(n,r){n.exports=i},function(n,r,o){function a(p){return"-"+p.toLowerCase()}function s(p){if(d.hasOwnProperty(p))return d[p];var h=p.replace(l,a);return d[p]=c.test(h)?"-"+h:h}Object.defineProperty(r,"__esModule",{value:!0});var l=/[A-Z]/g,c=/^ms-/,d={};r.default=s},function(n,r,o){var a=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(r,"__esModule",{value:!0});var s=a(o(2)),l=a(o(11)),c=function(m){return"not ".concat(m)},d=function(m,y){var w=(0,s.default)(m);return typeof y=="number"&&(y="".concat(y,"px")),y===!0?w:y===!1?c(w):"(".concat(w,": ").concat(y,")")},p=function(m){return m.join(" and ")},h=function(m){var y=[];return Object.keys(l.default.all).forEach(function(w){var g=m[w];g!=null&&y.push(d(w,g))}),p(y)};r.default=h},function(n,r,o){n.exports=o(13)},function(n,r,o){n.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(n,r,o){var a=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(r,"__esModule",{value:!0});var s=a(o(1)),l=s.default.createContext({});r.default=l},function(n,r,o){var a=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(r,"__esModule",{value:!0}),r.Context=r.toQuery=r.useMediaQuery=r.default=void 0;var s=a(o(0));r.useMediaQuery=s.default;var l=a(o(17));r.default=l.default;var c=a(o(3));r.toQuery=c.default;var d=a(o(6));r.Context=d.default},function(n,r,o){function a(d,p,h){function m(T){x&&x.addListener(T)}function y(T){x&&x.removeListener(T)}function w(T){A.matches=T.matches,A.media=T.media}function g(){x&&x.removeListener(w)}var A=this;if(c&&!h){var x=c.call(window,d);this.matches=x.matches,this.media=x.media,x.addListener(w)}else this.matches=l(d,p),this.media=d;this.addListener=m,this.removeListener=y,this.dispose=g}function s(d,p,h){return new a(d,p,h)}var l=o(9).match,c=typeof window!="undefined"?window.matchMedia:null;n.exports=s},function(n,r,o){function a(g,A){return s(g).some(function(x){var T=x.inverse,E=x.type==="all"||A.type===x.type;if(E&&T||!E&&!T)return!1;var z=x.expressions.every(function(M){var B=M.feature,L=M.modifier,F=M.value,H=A[B];if(!H)return!1;switch(B){case"orientation":case"scan":return H.toLowerCase()===F.toLowerCase();case"width":case"height":case"device-width":case"device-height":F=d(F),H=d(H);break;case"resolution":F=c(F),H=c(H);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":F=l(F),H=l(H);break;case"grid":case"color":case"color-index":case"monochrome":F=parseInt(F,10)||1,H=parseInt(H,10)||0}switch(L){case"min":return H>=F;case"max":return H<=F;default:return H===F}});return z&&!T||!z&&T})}function s(g){return g.split(",").map(function(A){A=A.trim();var x=A.match(p),T=x[1],E=x[2],z=x[3]||"",M={};return M.inverse=!!T&&T.toLowerCase()==="not",M.type=E?E.toLowerCase():"all",z=z.match(/\([^\)]+\)/g)||[],M.expressions=z.map(function(B){var L=B.match(h),F=L[1].toLowerCase().match(m);return{modifier:F[1],feature:F[2],value:L[2]}}),M})}function l(g){var A,x=Number(g);return x||(A=g.match(/^(\d+)\s*\/\s*(\d+)$/),x=A[1]/A[2]),x}function c(g){var A=parseFloat(g);switch(String(g).match(w)[1]){case"dpcm":return A/2.54;case"dppx":return 96*A;default:return A}}function d(g){var A=parseFloat(g);switch(String(g).match(y)[1]){case"em":case"rem":return 16*A;case"cm":return 96*A/2.54;case"mm":return 96*A/2.54/10;case"in":return 96*A;case"pt":return 72*A;case"pc":return 72*A/12;default:return A}}r.match=a,r.parse=s;var p=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,h=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,m=/^(?:(min|max)-)?(.+)/,y=/(em|rem|px|cm|mm|in|pt|pc)?$/,w=/(dpi|dpcm|dppx)?$/},function(n,r,o){function a(l,c){if(l===c)return!0;if(!l||!c)return!1;var d=Object.keys(l),p=Object.keys(c),h=d.length;if(p.length!==h)return!1;for(var m=0;m<h;m++){var y=d[m];if(l[y]!==c[y]||!Object.prototype.hasOwnProperty.call(c,y))return!1}return!0}function s(l,c){if(l===c)return!0;if(!l||!c)return!1;var d=l.length;if(c.length!==d)return!1;for(var p=0;p<d;p++)if(l[p]!==c[p])return!1;return!0}Object.defineProperty(r,"__esModule",{value:!0}),o.d(r,"shallowEqualArrays",function(){return s}),o.d(r,"shallowEqualObjects",function(){return a})},function(n,r,o){var a=this&&this.__assign||function(){return a=Object.assign||function(g){for(var A,x=1,T=arguments.length;x<T;x++){A=arguments[x];for(var E in A)Object.prototype.hasOwnProperty.call(A,E)&&(g[E]=A[E])}return g},a.apply(this,arguments)},s=this&&this.__rest||function(g,A){var x={};for(var T in g)Object.prototype.hasOwnProperty.call(g,T)&&A.indexOf(T)<0&&(x[T]=g[T]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,T=Object.getOwnPropertySymbols(g);E<T.length;E++)A.indexOf(T[E])<0&&Object.prototype.propertyIsEnumerable.call(g,T[E])&&(x[T[E]]=g[T[E]]);return x},l=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(r,"__esModule",{value:!0});var c=l(o(12)),d=c.default.oneOfType([c.default.string,c.default.number]),p={all:c.default.bool,grid:c.default.bool,aural:c.default.bool,braille:c.default.bool,handheld:c.default.bool,print:c.default.bool,projection:c.default.bool,screen:c.default.bool,tty:c.default.bool,tv:c.default.bool,embossed:c.default.bool},h={orientation:c.default.oneOf(["portrait","landscape"]),scan:c.default.oneOf(["progressive","interlace"]),aspectRatio:c.default.string,deviceAspectRatio:c.default.string,height:d,deviceHeight:d,width:d,deviceWidth:d,color:c.default.bool,colorIndex:c.default.bool,monochrome:c.default.bool,resolution:d,type:Object.keys(p)},m=s(h,["type"]),y=a({minAspectRatio:c.default.string,maxAspectRatio:c.default.string,minDeviceAspectRatio:c.default.string,maxDeviceAspectRatio:c.default.string,minHeight:d,maxHeight:d,minDeviceHeight:d,maxDeviceHeight:d,minWidth:d,maxWidth:d,minDeviceWidth:d,maxDeviceWidth:d,minColor:c.default.number,maxColor:c.default.number,minColorIndex:c.default.number,maxColorIndex:c.default.number,minMonochrome:c.default.number,maxMonochrome:c.default.number,minResolution:d,maxResolution:d},m),w=a(a({},p),y);r.default={all:w,types:p,matchers:h,features:y}},function(n,r,o){var a=o(4);n.exports=o(14)(a.isElement,!0)},function(n,r,o){(function(){function a(Xe){return typeof Xe=="string"||typeof Xe=="function"||Xe===L||Xe===Ee||Xe===H||Xe===F||Xe===Be||Xe===De||typeof Xe=="object"&&Xe!==null&&(Xe.$$typeof===Pe||Xe.$$typeof===We||Xe.$$typeof===X||Xe.$$typeof===de||Xe.$$typeof===ke||Xe.$$typeof===se||Xe.$$typeof===Z||Xe.$$typeof===ce||Xe.$$typeof===Oe)}function s(Xe){if(typeof Xe=="object"&&Xe!==null){var Sa=Xe.$$typeof;switch(Sa){case M:var gi=Xe.type;switch(gi){case we:case Ee:case L:case H:case F:case Be:return gi;default:var fi=gi&&gi.$$typeof;switch(fi){case de:case ke:case Pe:case We:case X:return fi;default:return Sa}}case B:return Sa}}}function l(Xe){return sn||(sn=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),c(Xe)||s(Xe)===we}function c(Xe){return s(Xe)===Ee}function d(Xe){return s(Xe)===de}function p(Xe){return s(Xe)===X}function h(Xe){return typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===M}function m(Xe){return s(Xe)===ke}function y(Xe){return s(Xe)===L}function w(Xe){return s(Xe)===Pe}function g(Xe){return s(Xe)===We}function A(Xe){return s(Xe)===B}function x(Xe){return s(Xe)===H}function T(Xe){return s(Xe)===F}function E(Xe){return s(Xe)===Be}var z=typeof Symbol=="function"&&Symbol.for,M=z?Symbol.for("react.element"):60103,B=z?Symbol.for("react.portal"):60106,L=z?Symbol.for("react.fragment"):60107,F=z?Symbol.for("react.strict_mode"):60108,H=z?Symbol.for("react.profiler"):60114,X=z?Symbol.for("react.provider"):60109,de=z?Symbol.for("react.context"):60110,we=z?Symbol.for("react.async_mode"):60111,Ee=z?Symbol.for("react.concurrent_mode"):60111,ke=z?Symbol.for("react.forward_ref"):60112,Be=z?Symbol.for("react.suspense"):60113,De=z?Symbol.for("react.suspense_list"):60120,We=z?Symbol.for("react.memo"):60115,Pe=z?Symbol.for("react.lazy"):60116,Oe=z?Symbol.for("react.block"):60121,se=z?Symbol.for("react.fundamental"):60117,Z=z?Symbol.for("react.responder"):60118,ce=z?Symbol.for("react.scope"):60119,te=we,ae=Ee,fe=de,ve=X,be=M,Ie=ke,He=L,Ve=Pe,et=We,Jt=B,Lt=H,Ir=F,_t=Be,sn=!1;r.AsyncMode=te,r.ConcurrentMode=ae,r.ContextConsumer=fe,r.ContextProvider=ve,r.Element=be,r.ForwardRef=Ie,r.Fragment=He,r.Lazy=Ve,r.Memo=et,r.Portal=Jt,r.Profiler=Lt,r.StrictMode=Ir,r.Suspense=_t,r.isAsyncMode=l,r.isConcurrentMode=c,r.isContextConsumer=d,r.isContextProvider=p,r.isElement=h,r.isForwardRef=m,r.isFragment=y,r.isLazy=w,r.isMemo=g,r.isPortal=A,r.isProfiler=x,r.isStrictMode=T,r.isSuspense=E,r.isValidElementType=a,r.typeOf=s})()},function(n,r,o){function a(){return null}var s=o(4),l=o(15),c=o(5),d=o(16),p=Function.call.bind(Object.prototype.hasOwnProperty),h=function(){};h=function(m){var y="Warning: "+m;typeof console!="undefined"&&console.error(y);try{throw new Error(y)}catch{}},n.exports=function(m,y){function w(se){var Z=se&&(De&&se[De]||se[We]);if(typeof Z=="function")return Z}function g(se,Z){return se===Z?se!==0||1/se==1/Z:se!==se&&Z!==Z}function A(se){this.message=se,this.stack=""}function x(se){function Z(fe,ve,be,Ie,He,Ve,et){if(Ie=Ie||Pe,Ve=Ve||be,et!==c){if(y){var Jt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw Jt.name="Invariant Violation",Jt}if(typeof console!="undefined"){var Lt=Ie+":"+be;!ce[Lt]&&te<3&&(h("You are manually calling a React.PropTypes validation function for the `"+Ve+"` prop on `"+Ie+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),ce[Lt]=!0,te++)}}return ve[be]==null?fe?new A(ve[be]===null?"The "+He+" `"+Ve+"` is marked as required in `"+Ie+"`, but its value is `null`.":"The "+He+" `"+Ve+"` is marked as required in `"+Ie+"`, but its value is `undefined`."):null:se(ve,be,Ie,He,Ve)}var ce={},te=0,ae=Z.bind(null,!1);return ae.isRequired=Z.bind(null,!0),ae}function T(se){function Z(ce,te,ae,fe,ve,be){var Ie=ce[te];return we(Ie)!==se?new A("Invalid "+fe+" `"+ve+"` of type `"+Ee(Ie)+"` supplied to `"+ae+"`, expected `"+se+"`."):null}return x(Z)}function E(se){function Z(ce,te,ae,fe,ve){if(typeof se!="function")return new A("Property `"+ve+"` of component `"+ae+"` has invalid PropType notation inside arrayOf.");var be=ce[te];if(!Array.isArray(be))return new A("Invalid "+fe+" `"+ve+"` of type `"+we(be)+"` supplied to `"+ae+"`, expected an array.");for(var Ie=0;Ie<be.length;Ie++){var He=se(be,Ie,ae,fe,ve+"["+Ie+"]",c);if(He instanceof Error)return He}return null}return x(Z)}function z(se){function Z(ce,te,ae,fe,ve){if(!(ce[te]instanceof se)){var be=se.name||Pe;return new A("Invalid "+fe+" `"+ve+"` of type `"+Be(ce[te])+"` supplied to `"+ae+"`, expected instance of `"+be+"`.")}return null}return x(Z)}function M(se){function Z(ce,te,ae,fe,ve){for(var be=ce[te],Ie=0;Ie<se.length;Ie++)if(g(be,se[Ie]))return null;var He=JSON.stringify(se,function(Ve,et){return Ee(et)==="symbol"?String(et):et});return new A("Invalid "+fe+" `"+ve+"` of value `"+String(be)+"` supplied to `"+ae+"`, expected one of "+He+".")}return Array.isArray(se)?x(Z):(h(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),a)}function B(se){function Z(ce,te,ae,fe,ve){if(typeof se!="function")return new A("Property `"+ve+"` of component `"+ae+"` has invalid PropType notation inside objectOf.");var be=ce[te],Ie=we(be);if(Ie!=="object")return new A("Invalid "+fe+" `"+ve+"` of type `"+Ie+"` supplied to `"+ae+"`, expected an object.");for(var He in be)if(p(be,He)){var Ve=se(be,He,ae,fe,ve+"."+He,c);if(Ve instanceof Error)return Ve}return null}return x(Z)}function L(se){function Z(ae,fe,ve,be,Ie){for(var He=0;He<se.length;He++)if((0,se[He])(ae,fe,ve,be,Ie,c)==null)return null;return new A("Invalid "+be+" `"+Ie+"` supplied to `"+ve+"`.")}if(!Array.isArray(se))return h("Invalid argument supplied to oneOfType, expected an instance of array."),a;for(var ce=0;ce<se.length;ce++){var te=se[ce];if(typeof te!="function")return h("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+ke(te)+" at index "+ce+"."),a}return x(Z)}function F(se){function Z(ce,te,ae,fe,ve){var be=ce[te],Ie=we(be);if(Ie!=="object")return new A("Invalid "+fe+" `"+ve+"` of type `"+Ie+"` supplied to `"+ae+"`, expected `object`.");for(var He in se){var Ve=se[He];if(Ve){var et=Ve(be,He,ae,fe,ve+"."+He,c);if(et)return et}}return null}return x(Z)}function H(se){function Z(ce,te,ae,fe,ve){var be=ce[te],Ie=we(be);if(Ie!=="object")return new A("Invalid "+fe+" `"+ve+"` of type `"+Ie+"` supplied to `"+ae+"`, expected `object`.");var He=l({},ce[te],se);for(var Ve in He){var et=se[Ve];if(!et)return new A("Invalid "+fe+" `"+ve+"` key `"+Ve+"` supplied to `"+ae+"`.\nBad object: "+JSON.stringify(ce[te],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(se),null,"  "));var Jt=et(be,Ve,ae,fe,ve+"."+Ve,c);if(Jt)return Jt}return null}return x(Z)}function X(se){switch(typeof se){case"number":case"string":case"undefined":return!0;case"boolean":return!se;case"object":if(Array.isArray(se))return se.every(X);if(se===null||m(se))return!0;var Z=w(se);if(!Z)return!1;var ce,te=Z.call(se);if(Z!==se.entries){for(;!(ce=te.next()).done;)if(!X(ce.value))return!1}else for(;!(ce=te.next()).done;){var ae=ce.value;if(ae&&!X(ae[1]))return!1}return!0;default:return!1}}function de(se,Z){return se==="symbol"||!!Z&&(Z["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&Z instanceof Symbol)}function we(se){var Z=typeof se;return Array.isArray(se)?"array":se instanceof RegExp?"object":de(Z,se)?"symbol":Z}function Ee(se){if(se==null)return""+se;var Z=we(se);if(Z==="object"){if(se instanceof Date)return"date";if(se instanceof RegExp)return"regexp"}return Z}function ke(se){var Z=Ee(se);switch(Z){case"array":case"object":return"an "+Z;case"boolean":case"date":case"regexp":return"a "+Z;default:return Z}}function Be(se){return se.constructor&&se.constructor.name?se.constructor.name:Pe}var De=typeof Symbol=="function"&&Symbol.iterator,We="@@iterator",Pe="<<anonymous>>",Oe={array:T("array"),bool:T("boolean"),func:T("function"),number:T("number"),object:T("object"),string:T("string"),symbol:T("symbol"),any:function(){return x(a)}(),arrayOf:E,element:function(){function se(Z,ce,te,ae,fe){var ve=Z[ce];return m(ve)?null:new A("Invalid "+ae+" `"+fe+"` of type `"+we(ve)+"` supplied to `"+te+"`, expected a single ReactElement.")}return x(se)}(),elementType:function(){function se(Z,ce,te,ae,fe){var ve=Z[ce];return s.isValidElementType(ve)?null:new A("Invalid "+ae+" `"+fe+"` of type `"+we(ve)+"` supplied to `"+te+"`, expected a single ReactElement type.")}return x(se)}(),instanceOf:z,node:function(){function se(Z,ce,te,ae,fe){return X(Z[ce])?null:new A("Invalid "+ae+" `"+fe+"` supplied to `"+te+"`, expected a ReactNode.")}return x(se)}(),objectOf:B,oneOf:M,oneOfType:L,shape:F,exact:H};return A.prototype=Error.prototype,Oe.checkPropTypes=d,Oe.resetWarningCache=d.resetWarningCache,Oe.PropTypes=Oe,Oe}},function(n,r,o){function a(d){if(d==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(d)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;n.exports=function(){try{if(!Object.assign)return!1;var d=new String("abc");if(d[5]="de",Object.getOwnPropertyNames(d)[0]==="5")return!1;for(var p={},h=0;h<10;h++)p["_"+String.fromCharCode(h)]=h;if(Object.getOwnPropertyNames(p).map(function(y){return p[y]}).join("")!=="0123456789")return!1;var m={};return"abcdefghijklmnopqrst".split("").forEach(function(y){m[y]=y}),Object.keys(Object.assign({},m)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(d,p){for(var h,m,y=a(d),w=1;w<arguments.length;w++){h=Object(arguments[w]);for(var g in h)l.call(h,g)&&(y[g]=h[g]);if(s){m=s(h);for(var A=0;A<m.length;A++)c.call(h,m[A])&&(y[m[A]]=h[m[A]])}}return y}},function(n,r,o){function a(p,h,m,y,w){for(var g in p)if(d(p,g)){var A;try{if(typeof p[g]!="function"){var x=Error((y||"React class")+": "+m+" type `"+g+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof p[g]+"`.");throw x.name="Invariant Violation",x}A=p[g](h,g,y,m,null,l)}catch(E){A=E}if(!A||A instanceof Error||s((y||"React class")+": type specification of "+m+" `"+g+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof A+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),A instanceof Error&&!(A.message in c)){c[A.message]=!0;var T=w?w():"";s("Failed "+m+" type: "+A.message+(T!=null?T:""))}}}var s=function(){},l=o(5),c={},d=Function.call.bind(Object.prototype.hasOwnProperty);s=function(p){var h="Warning: "+p;typeof console!="undefined"&&console.error(h);try{throw new Error(h)}catch{}},a.resetWarningCache=function(){c={}},n.exports=a},function(n,r,o){var a=this&&this.__rest||function(d,p){var h={};for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&p.indexOf(m)<0&&(h[m]=d[m]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,m=Object.getOwnPropertySymbols(d);y<m.length;y++)p.indexOf(m[y])<0&&Object.prototype.propertyIsEnumerable.call(d,m[y])&&(h[m[y]]=d[m[y]]);return h},s=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(r,"__esModule",{value:!0});var l=s(o(0)),c=function(d){var p=d.children,h=d.device,m=d.onChange,y=a(d,["children","device","onChange"]),w=(0,l.default)(y,h,m);return typeof p=="function"?p(w):w?p:null};r.default=c}])})})(Ta);var p2=(t=>(t.FAILURE="FAILURE",t.FETCH_CARDS="FETCH_CARDS",t.FETCH_CARDS_SUCCESS="FETCH_CARDS_SUCCESSS",t.SHOW_MORE_CARDS="SHOW_MORE_CARDS",t))(p2||{});const Sde=()=>(t,e)=>{switch(e.type){case"FAILURE":return{...t,error:e.payload,fetchCards:!1};case"FETCH_CARDS":return{...t,error:null,fetchCards:!0};case"FETCH_CARDS_SUCCESSS":{const i=Math.min(t.batchSize,e.payload.length);return{...t,cards:e.payload,visibleCount:i,fetchCards:!1}}case"SHOW_MORE_CARDS":{const i=Math.min(t.batchSize+t.visibleCount,t.cards.length);return{...t,visibleCount:i}}default:return t}};function Cde(t,e){const i=Sde(),[n,r]=$.exports.useReducer(i,t);return $.exports.useEffect(()=>{let o=!1;const a=async()=>{try{const s=await e();o||r({type:"FETCH_CARDS_SUCCESSS",payload:s})}catch(s){if(!o){const l=ha(s);r({type:"FAILURE",payload:l})}}};return n.fetchCards&&a(),()=>{o=!0}},[n.fetchCards,e,r]),[n,r]}var xF={};const Ede=["about","after","all","also","am","an","and","another","any","are","as","at","be","because","been","before","being","between","both","but","by","came","can","come","could","did","do","each","for","from","get","got","has","had","he","have","her","here","him","himself","his","how","if","in","into","is","it","like","make","many","me","might","more","most","much","must","my","never","now","of","on","only","or","other","our","out","over","said","same","should","since","some","still","such","take","than","that","the","their","them","then","there","these","they","this","those","through","to","too","under","up","very","was","way","we","well","were","what","where","which","while","who","with","would","you","your","a","i"];xF.words=Ede;const zde=xF.words;var zm=function(t,e){if(e=e||zde,typeof t!="object"||typeof e!="object")throw new Error("expected Arrays try: removeStopwords(Array[, Array])");return t.filter(function(i){return e.indexOf(i.toLowerCase())===-1})};DC(2);DC(3);function DC(t){if(typeof t!="number"||Number.isNaN(t)||t<1||t===Number.POSITIVE_INFINITY)throw new Error("`"+t+"` is not a valid argument for `n-gram`");return e;function e(i){var n=[],r,o;if(i==null||(o=i.slice?i:String(i),r=o.length-t+1,r<1))return n;for(;r--;)n[r]=o.slice(r,r+t);return n}}var TR={skis:"ski",idly:"idl",ugly:"ugli",only:"onli",news:"news",howe:"howe",bias:"bias"},SR={skies:"sky",dying:"die",lying:"lie",tying:"tie",early:"earli",atlas:"atlas",andes:"andes"},CR={gently:"gentl",singly:"singl",cosmos:"cosmos"},Ide={inning:0,outing:0,canning:0,herring:0,earring:0,proceed:0,exceed:0,succeed:0},ER=/[^aeiouy]*[aeiouy]+[^aeiouy](\w*)/,Rde=/^[aeiouy][^aeiouy]$/,Pde=/.*[^aeiouy][aeiouy][^aeiouywxY]$/;function kF(t){return t.length===2?Rde.test(t):Pde.test(t)}var Lde=/([aeiouy])y/g,Ode=/[aeiouy]./;function Mde(t,e){if(t.endsWith("at")||t.endsWith("bl")||t.endsWith("iz"))return t+"e";var i=t.charCodeAt(t.length-1);return i===t.charCodeAt(t.length-2)&&(i===98||i===100||i===102||i===103||i===109||i===110||i===112||i===114||i===116)?t.slice(0,-1):e===t.length&&kF(t)?t+"e":t}var Dde=/(ed|edly|ing|ingly)$/,Bde=/[aeiouy]/;function Fde(t,e){if(t.endsWith("eedly"))return t.length-5>=e?t.slice(0,-3):t;if(t.endsWith("eed"))return t.length-3>=e?t.slice(0,-1):t;var i=Dde.exec(t);if(i){var n=t.slice(0,-i[0].length);if(t.length>1&&Bde.test(n))return Mde(n,e)}return t}function Nde(t,e,i,n,r){if(t.endsWith(i)){if(t.length-i.length>=e){var o=t.slice(0,-i.length);if(r===null)return o+n;for(var a=0;a<r.length;a++){var s=r[a];if(o.endsWith(s))return o+n}}return t}return null}var _F=[["enci","ence",null],["anci","ance",null],["abli","able",null],["izer","ize",null],["ator","ate",null],["alli","al",null],["bli","ble",null],["ogi","og",["l"]],["li","",["c","d","e","g","h","k","m","n","r","t"]]],jde=[["ization","ize",null],["ational","ate",null],["fulness","ful",null],["ousness","ous",null],["iveness","ive",null],["tional","tion",null],["biliti","ble",null],["lessli","less",null],["entli","ent",null],["ation","ate",null],["alism","al",null],["aliti","al",null],["ousli","ous",null],["iviti","ive",null],["fulli","ful",null]].concat(_F);function Ude(t,e){for(var i=t.length>6?jde:_F,n=0;n<i.length;n++){var r=i[n],o=Nde(t,e,r[0],r[1],r[2]);if(o!==null)return o}return t}function Gde(t,e,i,n,r,o){if(t.endsWith(n)){if(t.length-n.length>=e)if(o){if(t.length-n.length>=i)return t.slice(0,-n.length)+r}else return t.slice(0,-n.length)+r;return t}return null}var zR=[{a:"ational",b:"ate",c:!1},{a:"tional",b:"tion",c:!1},{a:"alize",b:"al",c:!1},{a:"icate",b:"ic",c:!1},{a:"iciti",b:"ic",c:!1},{a:"ative",b:"",c:!0},{a:"ical",b:"ic",c:!1},{a:"ness",b:"",c:!1},{a:"ful",b:"",c:!1}];function Hde(t,e,i){for(var n=0;n<zR.length;n++){var r=zR[n],o=Gde(t,e,i,r.a,r.b,r.c);if(o!==null)return o}return t}var IR=["al","ance","ence","er","ic","able","ible","ant","ement","ment","ent","ism","ate","iti","ous","ive","ize"];function Yde(t,e){for(var i=0;i<IR.length;i++){var n=IR[i];if(t.endsWith(n))return t.length-n.length>=e?t.slice(0,-n.length):t}if(t.length-3>=e){var r=t.charCodeAt(t.length-4);if((r===115||r===116)&&t.endsWith("ion"))return t.slice(0,-3)}return t}var Wde=/Y/g;function yy(t){var e,i,n,r;if(t.length<3||(t.charCodeAt(0)===39&&(t=t.slice(1)),t==="sky"))return t;if(t.length<7){if(t.length===4){if(TR.hasOwnProperty(t))return TR[t]}else if(t.length===5){if(SR.hasOwnProperty(t))return SR[t]}else if(t.length===6&&CR.hasOwnProperty(t))return CR[t]}if(t.charCodeAt(0)===121&&(t="Y"+t.slice(1)),t=t.replace(Lde,"$1Y"),t.length>4&&(t.startsWith("gener")||t.startsWith("arsen"))?n=5:t.startsWith("commun")?n=6:(i=ER.exec(t),n=i?t.length-i[1].length:t.length),i=ER.exec(t.slice(n)),r=i?t.length-i[1].length:t.length,t.charCodeAt(t.length-1)===39?t.endsWith("'s'")?t=t.slice(0,-3):t=t.slice(0,-1):t.endsWith("'s")&&(t=t.slice(0,-2)),t.endsWith("sses"))t=t.slice(0,-4)+"ss";else if(t.endsWith("ied")||t.endsWith("ies"))t=t.slice(0,-3)+(t.length>4?"i":"ie");else if(t.endsWith("us")||t.endsWith("ss"))t=t;else if(t.charCodeAt(t.length-1)===115){var o=t.slice(0,-1);Ode.test(o)&&(t=o)}return(t.length===6||t.length===7)&&Ide.hasOwnProperty(t)||(t=Fde(t,n),t.length>2&&(e=t.charCodeAt(t.length-1),(e===121||e===89)&&(e=t.charCodeAt(t.length-2),(e<97||e>121||e!==97&&e!==101&&e!==105&&e!==111&&e!==117&&e!==121)&&(t=t.slice(0,-1)+"i"))),t=Ude(t,n),t=Hde(t,n,r),t=Yde(t,r),e=t.charCodeAt(t.length-1),e===108?t.length-1>=r&&t.charCodeAt(t.length-2)===108&&(t=t.slice(0,-1)):e===101&&(t.length-1>=r||t.length-1>=n&&!kF(t.slice(0,-1)))&&(t=t.slice(0,-1)),t=t.replace(Wde,"y")),t}class Zd{constructor(e){this.id=e.id,this.uri=e.uri,this.name=e.name,e.description&&(this.description=e.description),e.media_type&&(this.media_type=e.media_type)}}class Pc{constructor(e){this.id=e.id,this.event_datetime=ma(e.event_datetime),this.body_ref=e.body_ref.id,e.agenda_uri&&(this.agenda_uri=e.agenda_uri),e.minutes_uri&&(this.minutes_uri=e.minutes_uri),typeof e.body_ref=="object"&&!(e.body_ref instanceof kt)&&(this.body=new uy(e.body_ref)),e.external_source_id&&(this.external_source_id=e.external_source_id),e.hover_thumbnail_ref&&(e.hover_thumbnail_ref instanceof kt?this.hover_thumbnail_ref=e.hover_thumbnail_ref.id:typeof e.hover_thumbnail_ref=="object"&&(this.hover_thumbnail=new Zd(e.hover_thumbnail_ref))),e.static_thumbnail_ref&&(e.static_thumbnail_ref instanceof kt?this.static_thumbnail_ref=e.static_thumbnail_ref.id:typeof e.static_thumbnail_ref=="object"&&(this.static_thumbnail=new Zd(e.static_thumbnail_ref)))}}class RR{constructor(e){this.id=e.id,this.context_span=e.context_span,this.datetime_weighted_value=e.datetime_weighted_value,this.event_ref=e.event_ref.id,this.stemmed_gram=e.stemmed_gram,this.unstemmed_gram=e.unstemmed_gram,this.value=e.value,typeof e.event_ref=="object"&&!(e.event_ref instanceof kt)&&(this.event=new Pc(e.event_ref))}}class TF extends Dn{constructor(e){super(_e.IndexedEventGram,e)}async getMatchingGrams(e){const i=this.networkService.getDocuments(_e.IndexedEventGram,[Ai("stemmed_gram",mi.eq,e)]);return this.createModels(i,RR,`getMatchingGrams(${e})`)}async getKeyGramsForEvent(e){const i=this.networkService.getDocuments(_e.IndexedEventGram,[Ai("event_ref",mi.eq,Yi(Qt.getDb(),e)),Rn("value",Ki.desc),Qc(5)]);return this.createModels(i,RR,`getKeyGramsForEvent(${e})`)}}class lA extends Dn{constructor(e){super(_e.Event,e),this.indexedEventGramService=new TF(e)}async getEventById(e){const i=this.networkService.getDocument(e,_e.Event,new Ji([new Ci(_e.Body,vt.EventBodyRef)]));return this.createModel(i,Pc,`getEventById(${e})`)}async getFullEventById(e){const i=this.networkService.getDocument(e,_e.Event,new Ji([new Ci(_e.Body,vt.EventBodyRef),new Ci(_e.File,vt.EventStaticThumbnailRef),new Ci(_e.File,vt.EventHoverThumbnailRef)]));return this.createModel(i,Pc,`getFullEventById(${e})`)}async getEvents(e,i,n,r,o){if(i.length>10)return Promise.reject(new Error(`Number of bodies exceeded ${bC}.`));const a=[];if(i.length>0){const l=i.map(c=>Yi(Qt.getDb(),_e.Body,c));a.push(Ai(vt.EventBodyRef,mi.in,l))}if(n.start){const l=tr.fromDate(n.start);a.push(Ai("event_datetime",mi.gteq,l))}if(n.end){const l=new Date(n.end);l.setUTCDate(l.getUTCDate()+1);const c=tr.fromDate(l);a.push(Ai("event_datetime",mi.lteq,c))}if(a.push(Rn(r.by,r.order)),o){const l=tr.fromDate(o);a.push(pC(l))}a.push(Qc(e));const s=this.networkService.getDocuments(_e.Event,a,new Ji([new Ci(_e.Body,vt.EventBodyRef)]));return this.createModels(s,Pc,`getEvents([${i}], ${JSON.stringify(n)}, ${JSON.stringify(r)}, ${o==null?void 0:o.toISOString}})`)}async getRenderableEvent(e){try{const n=(await this.indexedEventGramService.getKeyGramsForEvent(`${_e.Event}/${e.id}`)).reduce((r,o)=>(o.unstemmed_gram!==void 0&&r.push(o.unstemmed_gram),r),[]);return Promise.resolve({...e,keyGrams:n})}catch(i){const n=ha(i);return n.message=`eventService_getRenderableEvent(${JSON.stringify(e)})_${n.message}`,Promise.reject(n)}}}const Im=t=>{let e=t.replace(/[\t\n]+/g," ");return e=e.replace(/[\-\-]/g," "),e=e.replace(/['!"#$%&\\'()\*+,\-\.\/:;<=>?@\[\\\]\^_`{|}~']/g,""),e=e.replace(/\s{2,}/g," "),e.trim()};class Vde{constructor(e,i,n,r,o,a){this.eventRef=`${_e.Event}/${e}`,this.pureRelevance=i,this.datetimeWeightedRelevance=n,this.containedGrams=r,this.selectedGram=o,this.selectedContextSpan=a}}class $de{constructor(e){this.networkService=Qt.getInstance(e.options,e.settings),this.eventService=new lA(e),this.indexedEventGramService=new TF(e),this.serviceName="EventSearchService"}cleanText(e){const i=Im(e);return zm(i.split(" "))}getStemmedGrams(e){const i=this.cleanText(e),n=[];return Array.from([1,2,3]).forEach(r=>{DC(r)(i).forEach(a=>{n.push(a.map(s=>yy(s)).join(" ").toLowerCase())})}),n}async searchEvents(e){const n=this.getStemmedGrams(e).map(a=>this.indexedEventGramService.getMatchingGrams(a)),r=new Map,o=[];try{return await Promise.allSettled(n).then(a=>{a.forEach(s=>{if(s.status==="fulfilled")s.value.forEach(l=>{if(l.event_ref!==void 0){const c=r.get(l.event_ref);c===void 0?r.set(l.event_ref,[l]):c.push(l)}});else if(!(s.reason instanceof mC))throw s.reason});for(const[s,l]of r){const c=Rc.exports.maxBy(l,"value");let d="",p="";c&&(d=(c==null?void 0:c.context_span)||"",p=(c==null?void 0:c.unstemmed_gram)||"");const h=l.reduce((m,y)=>(y.unstemmed_gram!==void 0&&m.push(y.unstemmed_gram),m),[]);o.push(new Vde(s,Rc.exports.sumBy(l,"value"),Rc.exports.sumBy(l,"datetime_weighted_value"),h,p,d))}}),Promise.resolve(o)}catch(a){const s=ha(a);return s.message=`${this.serviceName}_searchEvents(${e})_${s.message}`,Promise.reject(s)}}async getRenderableEvent(e){const i=e.eventRef.split("/")[1],n=this.eventService.getEventById(i),r=this.indexedEventGramService.getKeyGramsForEvent(e.eventRef);try{const[o,a]=await Promise.all([n,r]),s=a.reduce((l,c)=>(c.unstemmed_gram!==void 0&&l.push(c.unstemmed_gram),l),[]);return Promise.resolve({...e,event:o,keyGrams:s})}catch(o){const a=ha(o);return a.message=`${this.serviceName}_getRenderableEvent(${e.eventRef})_${a.message}`,Promise.reject(a)}}}var SF={exports:{}};(function(t){t.exports=function(e){var i={};function n(r){if(i[r])return i[r].exports;var o=i[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=i,n.p="",n(0)}([function(e,i,n){e.exports=n(1)},function(e,i,n){Object.defineProperty(i,"__esModule",{value:!0});function r(s){return s&&s.__esModule?s:{default:s}}var o=n(2),a=r(o);i.default=a.default,e.exports=i.default},function(e,i,n){Object.defineProperty(i,"__esModule",{value:!0});var r=Object.assign||function(y){for(var w=1;w<arguments.length;w++){var g=arguments[w];for(var A in g)Object.prototype.hasOwnProperty.call(g,A)&&(y[A]=g[A])}return y};i.default=m;function o(y){return y&&y.__esModule?y:{default:y}}function a(y,w){var g={};for(var A in y)w.indexOf(A)>=0||!Object.prototype.hasOwnProperty.call(y,A)||(g[A]=y[A]);return g}var s=n(3),l=n(4),c=o(l),d=n(14),p=n(15),h=o(p);m.propTypes={activeClassName:c.default.string,activeIndex:c.default.number,activeStyle:c.default.object,autoEscape:c.default.bool,className:c.default.string,findChunks:c.default.func,highlightClassName:c.default.oneOfType([c.default.object,c.default.string]),highlightStyle:c.default.object,highlightTag:c.default.oneOfType([c.default.node,c.default.func,c.default.string]),sanitize:c.default.func,searchWords:c.default.arrayOf(c.default.oneOfType([c.default.string,c.default.instanceOf(RegExp)])).isRequired,textToHighlight:c.default.string.isRequired,unhighlightClassName:c.default.string,unhighlightStyle:c.default.object};function m(y){var w=y.activeClassName,g=w===void 0?"":w,A=y.activeIndex,x=A===void 0?-1:A,T=y.activeStyle,E=y.autoEscape,z=y.caseSensitive,M=z===void 0?!1:z,B=y.className,L=y.findChunks,F=y.highlightClassName,H=F===void 0?"":F,X=y.highlightStyle,de=X===void 0?{}:X,we=y.highlightTag,Ee=we===void 0?"mark":we,ke=y.sanitize,Be=y.searchWords,De=y.textToHighlight,We=y.unhighlightClassName,Pe=We===void 0?"":We,Oe=y.unhighlightStyle,se=a(y,["activeClassName","activeIndex","activeStyle","autoEscape","caseSensitive","className","findChunks","highlightClassName","highlightStyle","highlightTag","sanitize","searchWords","textToHighlight","unhighlightClassName","unhighlightStyle"]),Z=(0,s.findAll)({autoEscape:E,caseSensitive:M,findChunks:L,sanitize:ke,searchWords:Be,textToHighlight:De}),ce=Ee,te=-1,ae="",fe=void 0,ve=function(He){var Ve={};for(var et in He)Ve[et.toLowerCase()]=He[et];return Ve},be=(0,h.default)(ve);return(0,d.createElement)("span",r({className:B},se,{children:Z.map(function(Ie,He){var Ve=De.substr(Ie.start,Ie.end-Ie.start);if(Ie.highlight){te++;var et=void 0;typeof H=="object"?M?et=H[Ve]:(H=be(H),et=H[Ve.toLowerCase()]):et=H;var Jt=te===+x;ae=et+" "+(Jt?g:""),fe=Jt===!0&&T!=null?Object.assign({},de,T):de;var Lt={children:Ve,className:ae,key:He,style:fe};return typeof ce!="string"&&(Lt.highlightIndex=te),(0,d.createElement)(ce,Lt)}else return(0,d.createElement)("span",{children:Ve,className:Pe,key:He,style:Oe})})}))}e.exports=i.default},function(e,i){e.exports=function(n){var r={};function o(a){if(r[a])return r[a].exports;var s=r[a]={exports:{},id:a,loaded:!1};return n[a].call(s.exports,s,s.exports,o),s.loaded=!0,s.exports}return o.m=n,o.c=r,o.p="",o(0)}([function(n,r,o){n.exports=o(1)},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(2);Object.defineProperty(r,"combineChunks",{enumerable:!0,get:function(){return a.combineChunks}}),Object.defineProperty(r,"fillInChunks",{enumerable:!0,get:function(){return a.fillInChunks}}),Object.defineProperty(r,"findAll",{enumerable:!0,get:function(){return a.findAll}}),Object.defineProperty(r,"findChunks",{enumerable:!0,get:function(){return a.findChunks}})},function(n,r){Object.defineProperty(r,"__esModule",{value:!0}),r.findAll=function(p){var h=p.autoEscape,m=p.caseSensitive,y=m===void 0?!1:m,w=p.findChunks,g=w===void 0?a:w,A=p.sanitize,x=p.searchWords,T=p.textToHighlight;return s({chunksToHighlight:o({chunks:g({autoEscape:h,caseSensitive:y,sanitize:A,searchWords:x,textToHighlight:T})}),totalLength:T?T.length:0})};var o=r.combineChunks=function(p){var h=p.chunks;return h=h.sort(function(m,y){return m.start-y.start}).reduce(function(m,y){if(m.length===0)return[y];var w=m.pop();if(y.start<=w.end){var g=Math.max(w.end,y.end);m.push({start:w.start,end:g})}else m.push(w,y);return m},[]),h},a=function(p){var h=p.autoEscape,m=p.caseSensitive,y=p.sanitize,w=y===void 0?l:y,g=p.searchWords,A=p.textToHighlight;return A=w(A),g.filter(function(x){return x}).reduce(function(x,T){T=w(T),h&&(T=c(T));for(var E=new RegExp(T,m?"g":"gi"),z=void 0;z=E.exec(A);){var M=z.index,B=E.lastIndex;B>M&&x.push({start:M,end:B}),z.index==E.lastIndex&&E.lastIndex++}return x},[])};r.findChunks=a;var s=r.fillInChunks=function(p){var h=p.chunksToHighlight,m=p.totalLength,y=[],w=function(x,T,E){T-x>0&&y.push({start:x,end:T,highlight:E})};if(h.length===0)w(0,m,!1);else{var g=0;h.forEach(function(A){w(g,A.start,!1),w(A.start,A.end,!0),g=A.end}),w(g,m,!1)}return y};function l(d){return d}function c(d){return d.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}}])},function(e,i,n){(function(r){e.exports=n(13)()}).call(i,n(5))},function(e,i){var n=e.exports={},r,o;function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?r=setTimeout:r=a}catch{r=a}try{typeof clearTimeout=="function"?o=clearTimeout:o=s}catch{o=s}})();function l(x){if(r===setTimeout)return setTimeout(x,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(x,0);try{return r(x,0)}catch{try{return r.call(null,x,0)}catch{return r.call(this,x,0)}}}function c(x){if(o===clearTimeout)return clearTimeout(x);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(x);try{return o(x)}catch{try{return o.call(null,x)}catch{return o.call(this,x)}}}var d=[],p=!1,h,m=-1;function y(){!p||!h||(p=!1,h.length?d=h.concat(d):m=-1,d.length&&w())}function w(){if(!p){var x=l(y);p=!0;for(var T=d.length;T;){for(h=d,d=[];++m<T;)h&&h[m].run();m=-1,T=d.length}h=null,p=!1,c(x)}}n.nextTick=function(x){var T=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)T[E-1]=arguments[E];d.push(new g(x,T)),d.length===1&&!p&&l(w)};function g(x,T){this.fun=x,this.array=T}g.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={};function A(){}n.on=A,n.addListener=A,n.once=A,n.off=A,n.removeListener=A,n.removeAllListeners=A,n.emit=A,n.prependListener=A,n.prependOnceListener=A,n.listeners=function(x){return[]},n.binding=function(x){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(x){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,i,n){(function(r){var o=n(7),a=n(8),s=n(9),l=n(10),c=n(11),d=n(12);e.exports=function(p,h){var m=typeof Symbol=="function"&&Symbol.iterator,y="@@iterator";function w(Z){var ce=Z&&(m&&Z[m]||Z[y]);if(typeof ce=="function")return ce}var g="<<anonymous>>",A={array:z("array"),bool:z("boolean"),func:z("function"),number:z("number"),object:z("object"),string:z("string"),symbol:z("symbol"),any:M(),arrayOf:B,element:L(),instanceOf:F,node:we(),objectOf:X,oneOf:H,oneOfType:de,shape:Ee,exact:ke};function x(Z,ce){return Z===ce?Z!==0||1/Z===1/ce:Z!==Z&&ce!==ce}function T(Z){this.message=Z,this.stack=""}T.prototype=Error.prototype;function E(Z){function ce(ae,fe,ve,be,Ie,He,Ve){return be=be||g,He=He||ve,Ve!==c&&h&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"),fe[ve]==null?ae?fe[ve]===null?new T("The "+Ie+" `"+He+"` is marked as required "+("in `"+be+"`, but its value is `null`.")):new T("The "+Ie+" `"+He+"` is marked as required in "+("`"+be+"`, but its value is `undefined`.")):null:Z(fe,ve,be,Ie,He)}var te=ce.bind(null,!1);return te.isRequired=ce.bind(null,!0),te}function z(Z){function ce(te,ae,fe,ve,be,Ie){var He=te[ae],Ve=We(He);if(Ve!==Z){var et=Pe(He);return new T("Invalid "+ve+" `"+be+"` of type "+("`"+et+"` supplied to `"+fe+"`, expected ")+("`"+Z+"`."))}return null}return E(ce)}function M(){return E(o.thatReturnsNull)}function B(Z){function ce(te,ae,fe,ve,be){if(typeof Z!="function")return new T("Property `"+be+"` of component `"+fe+"` has invalid PropType notation inside arrayOf.");var Ie=te[ae];if(!Array.isArray(Ie)){var He=We(Ie);return new T("Invalid "+ve+" `"+be+"` of type "+("`"+He+"` supplied to `"+fe+"`, expected an array."))}for(var Ve=0;Ve<Ie.length;Ve++){var et=Z(Ie,Ve,fe,ve,be+"["+Ve+"]",c);if(et instanceof Error)return et}return null}return E(ce)}function L(){function Z(ce,te,ae,fe,ve){var be=ce[te];if(!p(be)){var Ie=We(be);return new T("Invalid "+fe+" `"+ve+"` of type "+("`"+Ie+"` supplied to `"+ae+"`, expected a single ReactElement."))}return null}return E(Z)}function F(Z){function ce(te,ae,fe,ve,be){if(!(te[ae]instanceof Z)){var Ie=Z.name||g,He=se(te[ae]);return new T("Invalid "+ve+" `"+be+"` of type "+("`"+He+"` supplied to `"+fe+"`, expected ")+("instance of `"+Ie+"`."))}return null}return E(ce)}function H(Z){if(!Array.isArray(Z))return o.thatReturnsNull;function ce(te,ae,fe,ve,be){for(var Ie=te[ae],He=0;He<Z.length;He++)if(x(Ie,Z[He]))return null;var Ve=JSON.stringify(Z);return new T("Invalid "+ve+" `"+be+"` of value `"+Ie+"` "+("supplied to `"+fe+"`, expected one of "+Ve+"."))}return E(ce)}function X(Z){function ce(te,ae,fe,ve,be){if(typeof Z!="function")return new T("Property `"+be+"` of component `"+fe+"` has invalid PropType notation inside objectOf.");var Ie=te[ae],He=We(Ie);if(He!=="object")return new T("Invalid "+ve+" `"+be+"` of type "+("`"+He+"` supplied to `"+fe+"`, expected an object."));for(var Ve in Ie)if(Ie.hasOwnProperty(Ve)){var et=Z(Ie,Ve,fe,ve,be+"."+Ve,c);if(et instanceof Error)return et}return null}return E(ce)}function de(Z){if(!Array.isArray(Z))return o.thatReturnsNull;for(var ce=0;ce<Z.length;ce++){var te=Z[ce];if(typeof te!="function")return s(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",Oe(te),ce),o.thatReturnsNull}function ae(fe,ve,be,Ie,He){for(var Ve=0;Ve<Z.length;Ve++){var et=Z[Ve];if(et(fe,ve,be,Ie,He,c)==null)return null}return new T("Invalid "+Ie+" `"+He+"` supplied to "+("`"+be+"`."))}return E(ae)}function we(){function Z(ce,te,ae,fe,ve){return Be(ce[te])?null:new T("Invalid "+fe+" `"+ve+"` supplied to "+("`"+ae+"`, expected a ReactNode."))}return E(Z)}function Ee(Z){function ce(te,ae,fe,ve,be){var Ie=te[ae],He=We(Ie);if(He!=="object")return new T("Invalid "+ve+" `"+be+"` of type `"+He+"` "+("supplied to `"+fe+"`, expected `object`."));for(var Ve in Z){var et=Z[Ve];if(!!et){var Jt=et(Ie,Ve,fe,ve,be+"."+Ve,c);if(Jt)return Jt}}return null}return E(ce)}function ke(Z){function ce(te,ae,fe,ve,be){var Ie=te[ae],He=We(Ie);if(He!=="object")return new T("Invalid "+ve+" `"+be+"` of type `"+He+"` "+("supplied to `"+fe+"`, expected `object`."));var Ve=l({},te[ae],Z);for(var et in Ve){var Jt=Z[et];if(!Jt)return new T("Invalid "+ve+" `"+be+"` key `"+et+"` supplied to `"+fe+"`.\nBad object: "+JSON.stringify(te[ae],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(Z),null,"  "));var Lt=Jt(Ie,et,fe,ve,be+"."+et,c);if(Lt)return Lt}return null}return E(ce)}function Be(Z){switch(typeof Z){case"number":case"string":case"undefined":return!0;case"boolean":return!Z;case"object":if(Array.isArray(Z))return Z.every(Be);if(Z===null||p(Z))return!0;var ce=w(Z);if(ce){var te=ce.call(Z),ae;if(ce!==Z.entries){for(;!(ae=te.next()).done;)if(!Be(ae.value))return!1}else for(;!(ae=te.next()).done;){var fe=ae.value;if(fe&&!Be(fe[1]))return!1}}else return!1;return!0;default:return!1}}function De(Z,ce){return Z==="symbol"||ce["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&ce instanceof Symbol}function We(Z){var ce=typeof Z;return Array.isArray(Z)?"array":Z instanceof RegExp?"object":De(ce,Z)?"symbol":ce}function Pe(Z){if(typeof Z=="undefined"||Z===null)return""+Z;var ce=We(Z);if(ce==="object"){if(Z instanceof Date)return"date";if(Z instanceof RegExp)return"regexp"}return ce}function Oe(Z){var ce=Pe(Z);switch(ce){case"array":case"object":return"an "+ce;case"boolean":case"date":case"regexp":return"a "+ce;default:return ce}}function se(Z){return!Z.constructor||!Z.constructor.name?g:Z.constructor.name}return A.checkPropTypes=d,A.PropTypes=A,A}}).call(i,n(5))},function(e,i){function n(o){return function(){return o}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(o){return o},e.exports=r},function(e,i,n){(function(r){function o(a,s,l,c,d,p,h,m){if(!a){var y;if(s===void 0)y=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var w=[l,c,d,p,h,m],g=0;y=new Error(s.replace(/%s/g,function(){return w[g++]})),y.name="Invariant Violation"}throw y.framesToPop=1,y}}e.exports=o}).call(i,n(5))},function(e,i,n){(function(r){var o=n(7),a=o;e.exports=a}).call(i,n(5))},function(e,i){var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(l){if(l==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(l)}function s(){try{if(!Object.assign)return!1;var l=new String("abc");if(l[5]="de",Object.getOwnPropertyNames(l)[0]==="5")return!1;for(var c={},d=0;d<10;d++)c["_"+String.fromCharCode(d)]=d;var p=Object.getOwnPropertyNames(c).map(function(m){return c[m]});if(p.join("")!=="0123456789")return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(m){h[m]=m}),Object.keys(Object.assign({},h)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}e.exports=s()?Object.assign:function(l,c){for(var d,p=a(l),h,m=1;m<arguments.length;m++){d=Object(arguments[m]);for(var y in d)r.call(d,y)&&(p[y]=d[y]);if(n){h=n(d);for(var w=0;w<h.length;w++)o.call(d,h[w])&&(p[h[w]]=d[h[w]])}}return p}},function(e,i){var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},function(e,i,n){(function(r){function o(a,s,l,c,d){}e.exports=o}).call(i,n(5))},function(e,i,n){var r=n(7),o=n(8),a=n(11);e.exports=function(){function s(d,p,h,m,y,w){w!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}s.isRequired=s;function l(){return s}var c={array:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:l,element:s,instanceOf:l,node:s,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l};return c.checkPropTypes=r,c.PropTypes=c,c}},function(e,i){e.exports=$.exports},function(e,i){var n=function(a,s){return a===s};function r(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,s=void 0,l=[],c=void 0,d=!1,p=function(y,w){return a(y,l[w])},h=function(){for(var y=arguments.length,w=Array(y),g=0;g<y;g++)w[g]=arguments[g];return d&&s===this&&w.length===l.length&&w.every(p)||(d=!0,s=this,l=w,c=o.apply(this,w)),c};return h}e.exports=r}])})(SF);var CF=EV(SF.exports);class wy extends Dn{constructor(e){super(_e.File,e)}async getFileById(e){const i=this.networkService.getDocument(e,_e.File);return this.createModel(i,Zd,`getFileById(${e})`)}}var EF=Fe.div({position:"absolute",height:"100%",width:"100%"});const Qde=_K`
  0% {
    transform: translateX(-100%);
  }
  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }
  100% {
    transform: translateX(100%);
  }
`,qde=Fe.div(t=>({position:"relative",width:"100%",height:"100%","& > div, & > div:nth-of-type(2):after":{position:"absolute",inset:0},"& > div:first-of-type":{opacity:t.isLoading?0:1},"& > div:nth-of-type(2)":{display:t.isLoading?"block":"none",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.11)",overflow:"hidden"},"& > div:nth-of-type(2):after":{content:'""',animation:`${Qde} 1.6s linear 0.5s infinite`,backgroundImage:"linear-gradient(90deg, transparent, rgba(0, 0, 0, 0.04), transparent)",transform:"translateX(-100%)"}})),BC=({contentIsLoading:t,children:e,placeholderStyle:i})=>ue(qde,{isLoading:t,children:[P("div",{children:e}),P("div",{style:i})]}),Ro={lightgrey:"#DDDDDD",grey:"#595959",black:"#111111",white:"#FFFFFF",basicGrey:"#ececec",dark_blue:"#00458b"},Ay=" \u2022 ",PR={COLORS:{ODD_CELL:Ro.white,EVEN_CELL:Ro.lightgrey,ACTIVE_UNDERLINE:Ro.dark_blue}},Kde=Fe.section({marginBottom:0}),Xde=Fe.div({position:"relative","& > img":{position:"absolute",inset:0},"& > img:first-of-type":{zIndex:1},"& > img:last-of-type":{zIndex:2,opacity:0},"& > img:last-of-type:hover":{opacity:1}}),zF=({event:t,tags:e,excerpt:i,gram:n,query:r})=>{var A,x,T,E,z;const{language:o}=jo(),{firebaseConfig:a,municipality:s}=Di(),[l,c]=$.exports.useState(!0),d=$.exports.useCallback(async()=>{const M=new wy(a),{networkService:B}=M,L=[Promise.resolve(void 0),Promise.resolve(void 0)];t.static_thumbnail_ref&&(L[0]=M.getFileById(t.static_thumbnail_ref).then(X=>B.getDownloadUrl(X.uri)).catch(()=>Promise.resolve(void 0))),t.hover_thumbnail_ref&&(L[1]=M.getFileById(t.hover_thumbnail_ref).then(X=>B.getDownloadUrl(X.uri)).catch(()=>Promise.resolve(void 0)));const[F,H]=await Promise.all(L);return Promise.resolve({staticThumbNailUrl:F,hoverThumbNailUrl:H})},[a,t.static_thumbnail_ref,t.hover_thumbnail_ref]),{state:p}=dn({isLoading:!1,error:null,hasFetchRequest:!0},d),h=(A=t.event_datetime)==null?void 0:A.toLocaleDateString(o,{timeZone:s.timeZone,month:"long",day:"numeric",year:"numeric"}),m=(x=t.body)==null?void 0:x.name,y=$.exports.useMemo(()=>{const M=Im(r||""),B=zm(M.split(" "));return n&&n.length>0&&B.push(n),B.length===0?[]:[new RegExp(`\\b(${B.join("|")})`,"g")]},[r,n]),w=`${(T=t.body)==null?void 0:T.name} - ${h}`,g=e.map(M=>M.toLowerCase()).join(Ay);return P(Kde,{className:"mzp-c-card mzp-c-card-medium mzp-has-aspect-16-9",children:ue("div",{className:"mzp-c-card-block-link",children:[P("div",{className:"mzp-c-card-media-wrapper",children:P(EF,{children:P(BC,{contentIsLoading:l,children:ue(Xde,{children:[P("img",{className:"mzp-c-card-image",src:(E=p.data)==null?void 0:E.staticThumbNailUrl,alt:w,onLoad:()=>c(!1)}),P("img",{className:"mzp-c-card-image",src:(z=p.data)==null?void 0:z.hoverThumbNailUrl,alt:w})]})})})}),ue("div",{className:"mzp-c-card-content",children:[P("div",{className:"mzp-c-card-tag",children:Se.committee}),P("h2",{className:"mzp-c-card-title",children:h}),P("p",{className:"mzp-c-card-desc",children:m}),i&&P("p",{className:"mzp-c-card-desc",style:{fontStyle:"italic",marginTop:"1rem"},children:P(CF,{caseSensitive:!1,searchWords:y,textToHighlight:`"${i}"`})}),e.length>0&&ue(yo,{children:[P("p",{className:"mzp-c-card-meta",children:Se.keywords}),P("p",{className:"mzp-c-card-desc",children:g})]})]})]})})},Jde=Fe.div({display:"flex",flexDirection:"column",gap:4,[`@media (min-width:${Dt.tablet})`]:{flexDirection:"row",flexWrap:"wrap","& > div:last-of-type:not(:first-of-type), & > button:last-of-type":{marginLeft:"auto"}}}),IF=()=>P("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),RF=Fe.button({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%","& > svg":{marginLeft:24,width:16,height:16}});RF.displayName="TriggerButton";const PF=Fe(bs)({maxWidth:"100% !important",boxShadow:"none !important",border:"2px solid #9595a2 !important"});PF.displayName="StyledPopup";const LF=Fe(bs.Content)({flexGrow:1,overflowY:"auto",paddingLeft:"10px",paddingRight:"10px"});LF.displayName="ContentContainer";const OF=Fe.div({maxHeight:"45vh",display:"flex",flexDirection:"column"});OF.displayName="PopupContainer";const MF=Fe.div({display:"flex",justifyContent:"space-between",padding:".833em 0 0",minWidth:"256px"});MF.displayName="ButtonContainer";const Z1=({name:t,clear:e,getTextRep:i,isActive:n,popupIsOpen:r,setPopupIsOpen:o,handlePopupClose:a,closeOnChange:s,children:l,hasRequiredError:c,hasLimitError:d,limit:p})=>{const h=$.exports.useRef(null),m=Rc.exports.some([c,d]),y=$.exports.useMemo(()=>{const T=[];return c&&T.push(`Please select at least one ${t.toLowerCase()}.`),d&&T.push(`Please select only ${p} or fewer ${t.toLowerCase()}s.`),T},[c,d,t,p]),w=()=>o(!1),g=()=>{o(T=>!T)},A=()=>{o(!1),!m&&a&&a()},x=()=>{e()};return ue($.exports.Fragment,{children:[P(PF,{basic:!0,flowing:!0,context:h.current||void 0,on:"click",open:r,onClose:w,pinned:!0,offset:[0,-5],position:"bottom left",positionFixed:!0,trigger:ue(RF,{className:"mzp-c-button mzp-t-lg mzp-t-neutral",onClick:g,children:[i(),P(IF,{})]}),children:ue(OF,{children:[P(LF,{children:l}),m&&P("div",{className:"mzp-c-form-errors",style:{margin:"24px 0"},children:P("ul",{className:"mzp-u-list-styled",children:y.map(T=>P("li",{children:T},T))})}),!s&&ue(MF,{children:[P("button",{className:"mzp-c-button mzp-t-md mzp-t-neutral",disabled:!n(),onClick:x,children:Se.clear}),P("button",{className:"mzp-c-button mzp-t-md mzp-t-product",disabled:m,onClick:A,children:Se.save})]})]})}),P("div",{ref:h})]})};function ef(t,e){if(isNaN(t.getTime()))return;const n=t.toLocaleString("en-US",{timeZone:e,timeZoneName:"short"}).split(" ").pop(),r=t.toLocaleString("en-US",{timeZone:"UTC",timeZoneName:"short"}).split(" ");return r.pop(),new Date(`${r.join(" ")} ${n}`)}const DF=(t,e)=>(i,n)=>{const r=ef(new Date(i.start),e),o=ef(new Date(i.end),e),a=r==null?void 0:r.toLocaleDateString(t,{timeZone:e,month:"short",day:"numeric",year:r.getUTCFullYear()===(o==null?void 0:o.getUTCFullYear())?void 0:"numeric"}),s=o==null?void 0:o.toLocaleDateString(t,{timeZone:e,month:"short",day:"numeric",year:"numeric"});let l;return r&&o?l=`${a} - ${s}`:r?l=`${a} -`:o?l=`- ${s}`:l=n,l},Zde=({state:t,update:e})=>{const i=n=>{const r=n.currentTarget.name,o=n.currentTarget.value;e(r,o)};return ue(fS,{className:"mzp-c-form",children:[ue("div",{className:"mzp-c-field",children:[P("label",{className:"mzp-c-field-label",htmlFor:"form-input-control-start-date",children:"From"}),P("input",{className:"mzp-c-field-control",type:"date",name:"start",id:"form-input-control-start-date",value:t.start,onChange:i})]}),ue("div",{className:"mzp-c-field",children:[P("label",{className:"mzp-c-field-label",htmlFor:"form-input-control-end-date",children:"To"}),P("input",{className:"mzp-c-field-control",type:"date",name:"end",id:"form-input-control-end-date",value:t.end,onChange:i})]})]})},efe=({sortOptions:t,state:e,update:i,onPopupClose:n})=>{const r=o=>{const[a,s]=o.currentTarget.value.split("#");if(i("by",a),i("order",s),o.currentTarget.parentNode){const l=o.currentTarget.parentNode.textContent;l&&i("label",l)}n()};return P(fS,{className:"mzp-c-form",children:P("fieldset",{className:"mzp-c-field-set",children:P("div",{className:"mzp-c-choices",children:t.map(o=>ue("div",{className:"mzp-c-choice",children:[P("input",{className:"mzp-c-choice-control",type:"radio",id:`form-checkbox-control-${o.label}`,value:`${o.by}#${o.order}`,checked:e.label===o.label,onChange:r}),P("label",{className:"mzp-c-choice-label",htmlFor:`form-checkbox-control-${o.label}`,children:o.label})]},o.label))})})})},BF=(t,e)=>{let i=e;return t.by&&t.order&&t.label&&(i=t.label),i},FF=({allBodies:t,filters:e,sortOptions:i,handlePopupClose:n})=>{const[r,o,a]=e,[s,l]=$.exports.useState(""),c=()=>t.map(p=>({name:p.id,label:p.name,disabled:!1})),d=()=>{a.setPopupIsOpen(!1),n()};return ue(Jde,{children:[P("div",{children:P(Z1,{name:r.name,clear:r.clear,getTextRep:r.getTextRep,isActive:r.isActive,popupIsOpen:r.popupIsOpen,setPopupIsOpen:r.setPopupIsOpen,handlePopupClose:n,closeOnChange:!1,hasLimitError:r.hasLimitError(),limit:r.limit,children:P(rX,{name:r.name,state:r.state,update:r.update,options:c(),optionQuery:s,setOptionQuery:l})})}),P("div",{children:P(Z1,{name:o.name,clear:o.clear,getTextRep:o.getTextRep,isActive:o.isActive,popupIsOpen:o.popupIsOpen,setPopupIsOpen:o.setPopupIsOpen,handlePopupClose:n,closeOnChange:!1,children:P(Zde,{state:o.state,update:o.update})})}),P("div",{children:P(Z1,{name:a.name,clear:a.clear,getTextRep:a.getTextRep,isActive:a.isActive,popupIsOpen:a.popupIsOpen,setPopupIsOpen:a.setPopupIsOpen,handlePopupClose:n,closeOnChange:!0,children:P(efe,{sortOptions:i,state:a.state,update:a.update,onPopupClose:d})})})]})},Tr={font_size_1:"0.625rem",font_size_2:"0.75rem",font_size_3:"0.8125rem",font_size_4:"0.875rem",font_size_5:"1rem",font_size_6:"1.125rem",font_size_7:"1.25rem",font_size_8:"1.5rem",font_size_9:"1.625rem",font_size_10:"1.75rem"},Rh=Fe.p({fontSize:Tr.font_size_6}),NF=Fe.div({display:"flex",flexDirection:"column",gap:32}),jF=({placeholder:t,query:e,setQuery:i,handleSearch:n})=>P("form",{className:"mzp-c-form",role:"search",onSubmit:a=>{a.preventDefault(),n()},children:P("input",{type:"search",placeholder:t,required:!0,"aria-required":!0,value:e,onChange:a=>i(a.target.value)})}),UF=Fe.div({display:"flex",flexDirection:"column",rowGap:32,"& > h1, & form, & input":{marginBottom:0},"& input":{width:"100%"},[`@media (min-width:${Dt.tablet})`]:{flexDirection:"row",justifyContent:"space-between",alignItems:"center","& input":{width:"auto"}}}),cA=Fe.div(t=>({visibility:t.isVisible?"visible":"hidden","& > button":{width:"100%"},"& .ui.loader":{marginLeft:16},[`@media (min-width:${Dt.tablet})`]:{"& > button":{width:"auto"}}})),tfe=Fe.div({display:"grid",gap:64,gridTemplateColumns:"1fr",[`@media (min-width:${Dt.tablet})`]:{justifyContent:"space-between",gridTemplateColumns:`repeat(${2}, 1fr)`},[`@media (min-width:${Dt.desktop})`]:{gridTemplateColumns:`repeat(${3}, 1fr)`}}),FC=({cards:t})=>P(tfe,{children:t.map(({link:e,jsx:i,searchQuery:n})=>P("div",{children:P(pn,{to:{pathname:e,state:{query:n||""}},style:{textDecoration:"none",color:Ro.black,fontSize:Tr.font_size_6},children:i})},e))});var ife="/cdp-frontend/assets/dave-hoefler-reduced-1.51b148fe.jpg",nfe="/cdp-frontend/assets/dave-hoefler-reduced-2.22148879.jpg",rfe="/cdp-frontend/assets/dave-hoefler-reduced-3.796c3192.jpg",ofe="/cdp-frontend/assets/dave-hoefler-reduced-4.d61f5fac.jpg",afe="/cdp-frontend/assets/dave-hoefler-reduced-5.8b230200.jpg";const sfe=["en","de","es"],GF=10,xy=[ife,nfe,rfe,ofe,afe],lfe=({searchEventsState:t,bodies:e})=>{const{firebaseConfig:i,municipality:n}=Di(),{language:r}=jo(),o=$.exports.useRef(t.query),[a,s]=$.exports.useState(t.query);xf(o.current?`${Se.events} -- ${o.current}`:Se.events);const l=Sc({name:Se.date,initialState:t.dateRange,defaultDataValue:"",textRepFunction:DF(r,n.timeZone)}),c=Sc({name:Se.committee,initialState:t.committees,defaultDataValue:!1,textRepFunction:F8,limit:bC}),d=Sc({name:"Sort",initialState:{by:"datetimeWeightedRelevance",order:Ki.desc,label:Se.most_relevant_first},defaultDataValue:"",textRepFunction:BF}),p=$.exports.useCallback(async()=>{const E=new $de(i),z=await E.searchEvents(a),M=await Promise.all(z.map(F=>E.getRenderableEvent(F))),B=dS(c.state);let L=M.filter(({event:F})=>{var de;if(B.length&&(!((de=F.body)!=null&&de.id)||!B.includes(F.body.id)))return!1;const H=ef(new Date(l.state.start),n.timeZone),X=ef(new Date(l.state.end),n.timeZone);if(H||X){if(!F.event_datetime||H&&F.event_datetime<H)return!1;if(X){const we=new Date(X);if(we.setUTCDate(we.getUTCDate()+1),F.event_datetime>we)return!1}}return!0});return L=Rc.exports.orderBy(L,[d.state.by],[d.state.order]),Promise.resolve(L)},[a,c.state,l.state,d.state,i,n.timeZone]),h=Ta.exports.useMediaQuery({query:`(min-width: ${Dt.desktop})`}),[m,y]=Cde({batchSize:GF-(h?1:0),visibleCount:0,cards:[],fetchCards:!0,error:null},p),w=wf(),g=$.exports.useCallback(()=>{o.current=a;const E=`?q=${a.trim().replace(/\s+/g,"+")}`;history.pushState({},"",`#${w.pathname}${E}`),y({type:p2.FETCH_CARDS})},[a,w,y]),A=$.exports.useCallback(()=>y({type:p2.SHOW_MORE_CARDS}),[y]),x=$.exports.useMemo(()=>{if(m.fetchCards)return P(va,{active:!0,size:"massive"});if(m.error)return P(Rh,{children:m.error.toString()});if(m.cards.length===0)return P(Rh,{children:Se.no_results_found});{const E=m.cards.slice(0,m.visibleCount).map(({event:z,keyGrams:M,selectedContextSpan:B,selectedGram:L})=>({link:`/${$r.EVENT}/${z.id}`,jsx:P(zF,{event:z,tags:M,excerpt:B,gram:L,query:o.current}),searchQuery:o.current}));return ue(yo,{children:[P(Rh,{children:`${m.cards.length} ${$r.EVENT}`}),P(FC,{cards:E})]})}},[m.fetchCards,m.error,m.cards,m.visibleCount]),T=$.exports.useMemo(()=>m.visibleCount<m.cards.length&&!m.fetchCards,[m]);return ue(NF,{children:[ue(UF,{children:[P("h1",{className:"mzp-u-title-sm",children:Se.event_search_results}),P(jF,{placeholder:Se.search_topic_placeholder,query:a,setQuery:s,handleSearch:g})]}),P(FF,{allBodies:e,filters:[c,l,d],sortOptions:[{by:"datetimeWeightedRelevance",order:Ki.desc,label:Se.most_relevant_first},{by:"pureRelevance",order:Ki.desc,label:Se.closest_match_first},{by:"event.event_datetime",order:Ki.desc,label:Se.newest_first},{by:"event.event_datetime",order:Ki.asc,label:Se.oldest_first}],handlePopupClose:g}),ue("p",{style:{fontSize:Tr.font_size_5},children:[Se.disclaimer_start," ",P("a",{rel:"noopener noreferrer license external",href:"https://cloud.google.com/speech-to-text",target:"_blank",children:"Google Speech-to-Text"})," ",Se.disclaimer_end]}),x,P(cA,{isVisible:T,children:P("button",{className:"mzp-c-button mzp-t-secondary mzp-t-lg",onClick:A,children:Se.show_more})})]})},cfe=()=>{const t=wf(),e=$.exports.useMemo(()=>{if(t.state)return t.state;const{q:o}=kw.parse(t.search);return{query:o||" ",committees:{},dateRange:{start:"",end:""}}},[t]),{firebaseConfig:i}=Di(),n=$.exports.useCallback(async()=>{const a=await new r6(i).getAllBodies();return Promise.resolve({bodies:a,searchEventsState:e})},[i,e]),{state:r}=dn({isLoading:!1,error:null,hasFetchRequest:!0},n);return P(Of,{isLoading:r.isLoading,error:r.error,children:r.data&&P(lfe,{...r.data})})};class HF{constructor(e){this.id=e.id,this.event_ref=e.event_ref.id,this.session_datetime=ma(e.session_datetime),this.session_index=e.session_index,this.video_uri=e.video_uri,e.caption_uri&&(this.caption_uri=e.caption_uri),typeof e.event_ref=="object"&&!(e.event_ref instanceof kt)&&(this.event=new Pc(e.event_ref)),e.external_source_id&&(this.external_source_id=e.external_source_id)}}class ufe extends Dn{constructor(e){super(_e.Session,e)}async getSessionsByEventId(e){const i=this.networkService.getDocuments(_e.Session,[Ai(vt.SessionEventRef,mi.eq,Yi(Qt.getDb(),_e.Event,e)),Rn("session_index")]);return this.createModels(i,HF,`getSessionsByEventId(${e})`)}}class dfe{constructor(e){this.id=e.id,this.confidence=e.confidence,this.generator=e.generator,this.created=ma(e.created),this.file_ref=e.file_ref.id,this.session_ref=e.session_ref.id,typeof e.file_ref=="object"&&!(e.file_ref instanceof kt)&&(this.file=new Zd(e.file_ref)),typeof e.session_ref=="object"&&!(e.session_ref instanceof kt)&&(this.session=new HF(e.session_ref))}}class ffe extends Dn{constructor(e){super(_e.Transcript,e)}async getTranscriptBySessionId(e){const i=this.networkService.getDocuments(_e.Transcript,[Ai(vt.TranscriptSessionRef,mi.eq,Yi(Qt.getDb(),_e.Session,e)),Rn("confidence",Ki.desc),Qc(1)],new Ji([new Ci(_e.File,vt.TranscriptFileRef)]));return this.createModels(i,dfe,`getTranscriptBySessionId(${e})`)}}class kg{constructor(e){this.id=e.id,this.matter_type=e.matter_type,this.name=e.name,this.title=e.title,e.external_source_id&&(this.external_source_id=e.external_source_id)}}class pfe{constructor(e){this.id=e.id,this.name=e.name,e.description&&(this.description=e.description),e.external_source_id&&(this.external_source_id=e.external_source_id),e.matter_ref&&(e.matter_ref instanceof kt?this.matter_ref=e.matter_ref.id:typeof e.matter_ref=="object"&&(this.matter=new kg(e.matter_ref)))}}class uA{constructor(e){this.id=e.id,e.decision&&(this.decision=e.decision),this.event_ref=e.event_ref.id,typeof e.event_ref=="object"&&!(e.event_ref instanceof kt)&&(this.event=new Pc(e.event_ref)),e.external_source_id&&(this.external_source_id=e.external_source_id),this.index=e.index,this.minutes_item_ref=e.minutes_item_ref.id,typeof e.minutes_item_ref=="object"&&!(e.minutes_item_ref instanceof kt)&&(this.minutes_item=new pfe(e.minutes_item_ref))}}class hfe extends Dn{constructor(e){super(_e.EventMinutesItem,e)}async getEventMinutesItemsByEventId(e){const i=this.networkService.getDocuments(_e.EventMinutesItem,[Ai(vt.EventMinutesItemEventRef,mi.eq,Yi(Qt.getDb(),_e.Event,e)),Rn("index")],new Ji([new Ci(_e.MinutesItem,vt.EventMinutesItemMinutesItemRef)]));return this.createModels(i,uA,`getEventMinutesItemsByEventId(${e})`)}}class mfe{constructor(e){this.id=e.id,this.event_minutes_item_ref=e.event_minutes_item_ref.id,typeof e.event_minutes_item_ref=="object"&&!(e.event_minutes_item_ref instanceof kt)&&(this.event_minutes_item=new uA(e.event_minutes_item_ref)),e.external_source_id&&(this.external_source_id=e.external_source_id),this.name=e.name,this.uri=e.uri}}class YF extends Dn{constructor(e){super(_e.EventMinutesItemFile,e)}async getEventMinutesItemFilesByEventMinutesItemId(e){const i=this.networkService.getDocuments(_e.EventMinutesItemFile,[Ai(vt.EventMinutesItemFileEventMinutesItemRef,mi.eq,Yi(Qt.getDb(),_e.EventMinutesItem,e)),Rn("name")]);try{return this.createModels(i,mfe,`getEventMinutesItemFilesByEventMinutesItemId(${e})`)}catch{return Promise.resolve([])}}}class dA{constructor(e){this.id=e.id,this.is_active=e.is_active,this.name=e.name,this.router_string=e.router_string,e.email&&(this.email=e.email),e.phone&&(this.phone=e.phone),e.website&&(this.website=e.website),e.picture_ref&&(e.picture_ref instanceof kt?this.picture_ref=e.picture_ref.id:typeof e.picture_ref=="object"&&(this.picture=new Zd(e.picture_ref))),e.external_source_id&&(this.external_source_id=e.external_source_id)}}class ek{constructor(e){this.id=e.id,this.event_minutes_item_ref=e.event_minutes_item_ref.id,this.event_ref=e.event_ref.id,this.matter_ref=e.matter_ref.id,this.person_ref=e.person_ref.id,this.decision=e.decision,typeof e.event_ref=="object"&&!(e.event_ref instanceof kt)&&(this.event=new Pc(e.event_ref)),typeof e.event_minutes_item_ref=="object"&&!(e.event_minutes_item_ref instanceof kt)&&(this.event_minutes_item=new uA(e.event_minutes_item_ref)),e.external_source_id&&(this.external_source_id=e.external_source_id),e.in_majority&&(this.in_majority=e.in_majority),typeof e.matter_ref=="object"&&!(e.matter_ref instanceof kt)&&(this.matter=new kg(e.matter_ref)),typeof e.person_ref=="object"&&!(e.person_ref instanceof kt)&&(this.person=new dA(e.person_ref))}}class fA extends Dn{constructor(e){super(_e.Vote,e)}async getVotesByEventId(e){const i=this.networkService.getDocuments(_e.Vote,[Ai(vt.VoteEventRef,mi.eq,Yi(Qt.getDb(),_e.Event,e)),Rn(vt.VotePersonRef)],new Ji([new Ci(_e.Person,vt.VotePersonRef)]));return this.createModels(i,ek,`getVotesByEventId(${e})`)}async getVotesByEventMinutesItemId(e){const i=this.networkService.getDocuments(_e.Vote,[Ai(vt.VoteEventMinutesItemRef,mi.eq,Yi(Qt.getDb(),_e.EventMinutesItem,e))],new Ji([new Ci(_e.Person,vt.VotePersonRef)]));return this.createModels(i,ek,`getVotesByEventMinutesItemId(${e})`)}async getFullyPopulatedVotesByPersonId(e,i,n){const r=new Ci(_e.Matter,vt.VoteMatterRef),o=new Ci(_e.Body,vt.EventBodyRef),a=new Ji([o]),s=new Ci(_e.Event,vt.VoteEventRef,a),l=new Ci(_e.EventMinutesItem,vt.VoteEventMinutesItemRef),c=[];if(c.push(Ai(vt.VotePersonRef,mi.eq,Yi(Qt.getDb(),_e.Person,e))),c.push(Rn(vt.VoteEventRef,Ki.asc)),n){const p=Yi(Qt.getDb(),_e.Vote,n),h=await hC(p);c.push(pC(h))}c.push(Qc(i));const d=this.networkService.getDocuments(_e.Vote,c,new Ji([r,s,l]));return this.createModels(d,ek,`getFullyPopulatedVotesByPersonId(${e})`)}}class gfe{constructor(e){this.confidence=e.confidence,this.generator=e.generator,this.created_datetime=ma(e.created_datetime),this.sentences=e.sentences,e.session_datetime&&(this.session_datetime=ma(e.session_datetime)),e.annotations&&(this.annotations=e.annotations)}}class bfe extends Dn{constructor(e){super(_e.TranscriptJSON,e)}async download(e){const i=this.networkService.downloadJson(e);return this.createModel(i,gfe,`download(${e})`)}}const _g=({data:t,isLoading:e,error:i,notFound:n,children:r})=>e?P("p",{children:`Fetching ${t}...`}):i?P("p",{children:i.message}):n?P("p",{children:`No ${t} found.`}):P(yo,{children:r});function Ni(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h2(t){return h2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h2(t)}function Jr(t,e){if(e&&(h2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return re(t)}function rr(t){return rr=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},rr(t)}function Cr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&Qh(t,e)}function ne(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function WF(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function VF(t){function e(i){var n=this.constructor.getDerivedStateFromProps(t,i);return n!=null?n:null}this.setState(e.bind(this))}function $F(t,e){try{var i=this.props,n=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(i,n)}finally{this.props=i,this.state=n}}WF.__suppressDeprecationWarning=!0;VF.__suppressDeprecationWarning=!0;$F.__suppressDeprecationWarning=!0;function Tg(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var i=null,n=null,r=null;if(typeof e.componentWillMount=="function"?i="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(i="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?r="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(r="UNSAFE_componentWillUpdate"),i!==null||n!==null||r!==null){var o=t.displayName||t.name,a=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+a+" but also contains the following legacy lifecycles:"+(i!==null?`
  `+i:"")+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=WF,e.componentWillReceiveProps=VF),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=$F;var s=e.componentDidUpdate;e.componentDidUpdate=function(c,d,p){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:p;s.call(this,c,d,h)}}return t}function LR(t){var e=t.cellCount,i=t.cellSize,n=t.computeMetadataCallback,r=t.computeMetadataCallbackProps,o=t.nextCellsCount,a=t.nextCellSize,s=t.nextScrollToIndex,l=t.scrollToIndex,c=t.updateScrollOffsetForScrollToIndex;(e!==o||(typeof i=="number"||typeof a=="number")&&i!==a)&&(n(r),l>=0&&l===s&&c())}function lh(t,e){if(t==null)return{};var i=ru(t,e),n,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(i[n]=t[n]))}return i}var vfe=function(){function t(e){var i=e.cellCount,n=e.cellSizeGetter,r=e.estimatedCellSize;Ni(this,t),ne(this,"_cellSizeAndPositionData",{}),ne(this,"_lastMeasuredIndex",-1),ne(this,"_lastBatchedIndex",-1),ne(this,"_cellCount",void 0),ne(this,"_cellSizeGetter",void 0),ne(this,"_estimatedCellSize",void 0),this._cellSizeGetter=n,this._cellCount=i,this._estimatedCellSize=r}return Fi(t,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(i){var n=i.cellCount,r=i.estimatedCellSize,o=i.cellSizeGetter;this._cellCount=n,this._estimatedCellSize=r,this._cellSizeGetter=o}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(i){if(i<0||i>=this._cellCount)throw Error("Requested index ".concat(i," is outside of range 0..").concat(this._cellCount));if(i>this._lastMeasuredIndex)for(var n=this.getSizeAndPositionOfLastMeasuredCell(),r=n.offset+n.size,o=this._lastMeasuredIndex+1;o<=i;o++){var a=this._cellSizeGetter({index:o});if(a===void 0||isNaN(a))throw Error("Invalid size returned for cell ".concat(o," of value ").concat(a));a===null?(this._cellSizeAndPositionData[o]={offset:r,size:0},this._lastBatchedIndex=i):(this._cellSizeAndPositionData[o]={offset:r,size:a},r+=a,this._lastMeasuredIndex=i)}return this._cellSizeAndPositionData[i]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var i=this.getSizeAndPositionOfLastMeasuredCell(),n=i.offset+i.size,r=this._cellCount-this._lastMeasuredIndex-1,o=r*this._estimatedCellSize;return n+o}},{key:"getUpdatedOffsetForIndex",value:function(i){var n=i.align,r=n===void 0?"auto":n,o=i.containerSize,a=i.currentOffset,s=i.targetIndex;if(o<=0)return 0;var l=this.getSizeAndPositionOfCell(s),c=l.offset,d=c-o+l.size,p;switch(r){case"start":p=c;break;case"end":p=d;break;case"center":p=c-(o-l.size)/2;break;default:p=Math.max(d,Math.min(c,a));break}var h=this.getTotalSize();return Math.max(0,Math.min(h-o,p))}},{key:"getVisibleCellRange",value:function(i){var n=i.containerSize,r=i.offset,o=this.getTotalSize();if(o===0)return{};var a=r+n,s=this._findNearestCell(r),l=this.getSizeAndPositionOfCell(s);r=l.offset+l.size;for(var c=s;r<a&&c<this._cellCount-1;)c++,r+=this.getSizeAndPositionOfCell(c).size;return{start:s,stop:c}}},{key:"resetCell",value:function(i){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,i-1)}},{key:"_binarySearch",value:function(i,n,r){for(;n<=i;){var o=n+Math.floor((i-n)/2),a=this.getSizeAndPositionOfCell(o).offset;if(a===r)return o;a<r?n=o+1:a>r&&(i=o-1)}return n>0?n-1:0}},{key:"_exponentialSearch",value:function(i,n){for(var r=1;i<this._cellCount&&this.getSizeAndPositionOfCell(i).offset<n;)i+=r,r*=2;return this._binarySearch(Math.min(i,this._cellCount-1),Math.floor(i/2),n)}},{key:"_findNearestCell",value:function(i){if(isNaN(i))throw Error("Invalid offset ".concat(i," specified"));i=Math.max(0,i);var n=this.getSizeAndPositionOfLastMeasuredCell(),r=Math.max(0,this._lastMeasuredIndex);return n.offset>=i?this._binarySearch(r,0,i):this._exponentialSearch(r,i)}}]),t}(),yfe=15e5,wfe=16777100,Afe=function(){return typeof window!="undefined"},xfe=function(){return!!window.chrome},kfe=function(){return Afe()&&xfe()?wfe:yfe},OR=function(){function t(e){var i=e.maxScrollSize,n=i===void 0?kfe():i,r=lh(e,["maxScrollSize"]);Ni(this,t),ne(this,"_cellSizeAndPositionManager",void 0),ne(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new vfe(r),this._maxScrollSize=n}return Fi(t,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(i){this._cellSizeAndPositionManager.configure(i)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(i){var n=i.containerSize,r=i.offset,o=this._cellSizeAndPositionManager.getTotalSize(),a=this.getTotalSize(),s=this._getOffsetPercentage({containerSize:n,offset:r,totalSize:a});return Math.round(s*(a-o))}},{key:"getSizeAndPositionOfCell",value:function(i){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(i)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(i){var n=i.align,r=n===void 0?"auto":n,o=i.containerSize,a=i.currentOffset,s=i.targetIndex;a=this._safeOffsetToOffset({containerSize:o,offset:a});var l=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:r,containerSize:o,currentOffset:a,targetIndex:s});return this._offsetToSafeOffset({containerSize:o,offset:l})}},{key:"getVisibleCellRange",value:function(i){var n=i.containerSize,r=i.offset;return r=this._safeOffsetToOffset({containerSize:n,offset:r}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:n,offset:r})}},{key:"resetCell",value:function(i){this._cellSizeAndPositionManager.resetCell(i)}},{key:"_getOffsetPercentage",value:function(i){var n=i.containerSize,r=i.offset,o=i.totalSize;return o<=n?0:r/(o-n)}},{key:"_offsetToSafeOffset",value:function(i){var n=i.containerSize,r=i.offset,o=this._cellSizeAndPositionManager.getTotalSize(),a=this.getTotalSize();if(o===a)return r;var s=this._getOffsetPercentage({containerSize:n,offset:r,totalSize:o});return Math.round(s*(a-n))}},{key:"_safeOffsetToOffset",value:function(i){var n=i.containerSize,r=i.offset,o=this._cellSizeAndPositionManager.getTotalSize(),a=this.getTotalSize();if(o===a)return r;var s=this._getOffsetPercentage({containerSize:n,offset:r,totalSize:a});return Math.round(s*(o-n))}}]),t}();function tf(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e={};return function(i){var n=i.callback,r=i.indices,o=Object.keys(r),a=!t||o.every(function(l){var c=r[l];return Array.isArray(c)?c.length>0:c>=0}),s=o.length!==Object.keys(e).length||o.some(function(l){var c=e[l],d=r[l];return Array.isArray(d)?c.join(",")!==d.join(","):c!==d});e=r,a&&s&&n(r)}}var k0=-1,$a=1;function _fe(t){var e=t.cellCount,i=t.overscanCellsCount,n=t.scrollDirection,r=t.startIndex,o=t.stopIndex;return n===$a?{overscanStartIndex:Math.max(0,r),overscanStopIndex:Math.min(e-1,o+i)}:{overscanStartIndex:Math.max(0,r-i),overscanStopIndex:Math.min(e-1,o)}}function MR(t){var e=t.cellSize,i=t.cellSizeAndPositionManager,n=t.previousCellsCount,r=t.previousCellSize,o=t.previousScrollToAlignment,a=t.previousScrollToIndex,s=t.previousSize,l=t.scrollOffset,c=t.scrollToAlignment,d=t.scrollToIndex,p=t.size,h=t.sizeJustIncreasedFromZero,m=t.updateScrollIndexCallback,y=i.getCellCount(),w=d>=0&&d<y,g=p!==s||h||!r||typeof e=="number"&&e!==r;w&&(g||c!==o||d!==a)?m(d):!w&&y>0&&(p<s||y<n)&&l>i.getTotalSize()-p&&m(y-1)}function Tfe(t){for(var e=t.cellCache,i=t.cellRenderer,n=t.columnSizeAndPositionManager,r=t.columnStartIndex,o=t.columnStopIndex,a=t.deferredMeasurementCache,s=t.horizontalOffsetAdjustment,l=t.isScrolling,c=t.isScrollingOptOut,d=t.parent,p=t.rowSizeAndPositionManager,h=t.rowStartIndex,m=t.rowStopIndex,y=t.styleCache,w=t.verticalOffsetAdjustment,g=t.visibleColumnIndices,A=t.visibleRowIndices,x=[],T=n.areOffsetsAdjusted()||p.areOffsetsAdjusted(),E=!l&&!T,z=h;z<=m;z++)for(var M=p.getSizeAndPositionOfCell(z),B=r;B<=o;B++){var L=n.getSizeAndPositionOfCell(B),F=B>=g.start&&B<=g.stop&&z>=A.start&&z<=A.stop,H="".concat(z,"-").concat(B),X=void 0;E&&y[H]?X=y[H]:a&&!a.has(z,B)?X={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(X={height:M.size,left:L.offset+s,position:"absolute",top:M.offset+w,width:L.size},y[H]=X);var de={columnIndex:B,isScrolling:l,isVisible:F,key:H,parent:d,rowIndex:z,style:X},we=void 0;(c||l)&&!s&&!w?(e[H]||(e[H]=i(de)),we=e[H]):we=i(de),!(we==null||we===!1)&&x.push(we)}return x}var Sfe=!!(typeof window!="undefined"&&window.document&&window.document.createElement),_0;function m2(t){if((!_0&&_0!==0||t)&&Sfe){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),_0=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return _0}var $n;typeof window!="undefined"?$n=window:typeof self!="undefined"?$n=self:$n={};var Cfe=$n.requestAnimationFrame||$n.webkitRequestAnimationFrame||$n.mozRequestAnimationFrame||$n.oRequestAnimationFrame||$n.msRequestAnimationFrame||function(t){return $n.setTimeout(t,1e3/60)},Efe=$n.cancelAnimationFrame||$n.webkitCancelAnimationFrame||$n.mozCancelAnimationFrame||$n.oCancelAnimationFrame||$n.msCancelAnimationFrame||function(t){$n.clearTimeout(t)},DR=Cfe,zfe=Efe,nf=function(e){return zfe(e.id)},NC=function(e,i){var n;Promise.resolve().then(function(){n=Date.now()});var r=function a(){Date.now()-n>=i?e.call():o.id=DR(a)},o={id:DR(r)};return o},BR,FR;function NR(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function ic(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?NR(i,!0).forEach(function(n){ne(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):NR(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var Ife=150,tk={OBSERVED:"observed",REQUESTED:"requested"},Rfe=function(){return null},Js=(FR=BR=function(t){Cr(e,t);function e(i){var n;Ni(this,e),n=Jr(this,rr(e).call(this,i)),ne(re(n),"_onGridRenderedMemoizer",tf()),ne(re(n),"_onScrollMemoizer",tf(!1)),ne(re(n),"_deferredInvalidateColumnIndex",null),ne(re(n),"_deferredInvalidateRowIndex",null),ne(re(n),"_recomputeScrollLeftFlag",!1),ne(re(n),"_recomputeScrollTopFlag",!1),ne(re(n),"_horizontalScrollBarSize",0),ne(re(n),"_verticalScrollBarSize",0),ne(re(n),"_scrollbarPresenceChanged",!1),ne(re(n),"_scrollingContainer",void 0),ne(re(n),"_childrenToDisplay",void 0),ne(re(n),"_columnStartIndex",void 0),ne(re(n),"_columnStopIndex",void 0),ne(re(n),"_rowStartIndex",void 0),ne(re(n),"_rowStopIndex",void 0),ne(re(n),"_renderedColumnStartIndex",0),ne(re(n),"_renderedColumnStopIndex",0),ne(re(n),"_renderedRowStartIndex",0),ne(re(n),"_renderedRowStopIndex",0),ne(re(n),"_initialScrollTop",void 0),ne(re(n),"_initialScrollLeft",void 0),ne(re(n),"_disablePointerEventsTimeoutId",void 0),ne(re(n),"_styleCache",{}),ne(re(n),"_cellCache",{}),ne(re(n),"_debounceScrollEndedCallback",function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})}),ne(re(n),"_invokeOnGridRenderedHelper",function(){var a=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:a,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})}),ne(re(n),"_setScrollingContainerRef",function(a){n._scrollingContainer=a}),ne(re(n),"_onScroll",function(a){a.target===n._scrollingContainer&&n.handleScrollEvent(a.target)});var r=new OR({cellCount:i.columnCount,cellSizeGetter:function(s){return e._wrapSizeGetter(i.columnWidth)(s)},estimatedCellSize:e._getEstimatedColumnSize(i)}),o=new OR({cellCount:i.rowCount,cellSizeGetter:function(s){return e._wrapSizeGetter(i.rowHeight)(s)},estimatedCellSize:e._getEstimatedRowSize(i)});return n.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:o,prevColumnWidth:i.columnWidth,prevRowHeight:i.rowHeight,prevColumnCount:i.columnCount,prevRowCount:i.rowCount,prevIsScrolling:i.isScrolling===!0,prevScrollToColumn:i.scrollToColumn,prevScrollToRow:i.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:$a,scrollDirectionVertical:$a,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},i.scrollToRow>0&&(n._initialScrollTop=n._getCalculatedScrollTop(i,n.state)),i.scrollToColumn>0&&(n._initialScrollLeft=n._getCalculatedScrollLeft(i,n.state)),n}return Fi(e,[{key:"getOffsetForCell",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.alignment,o=r===void 0?this.props.scrollToAlignment:r,a=n.columnIndex,s=a===void 0?this.props.scrollToColumn:a,l=n.rowIndex,c=l===void 0?this.props.scrollToRow:l,d=ic({},this.props,{scrollToAlignment:o,scrollToColumn:s,scrollToRow:c});return{scrollLeft:this._getCalculatedScrollLeft(d),scrollTop:this._getCalculatedScrollTop(d)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(n){var r=n.scrollLeft,o=r===void 0?0:r,a=n.scrollTop,s=a===void 0?0:a;if(!(s<0)){this._debounceScrollEnded();var l=this.props,c=l.autoHeight,d=l.autoWidth,p=l.height,h=l.width,m=this.state.instanceProps,y=m.scrollbarSize,w=m.rowSizeAndPositionManager.getTotalSize(),g=m.columnSizeAndPositionManager.getTotalSize(),A=Math.min(Math.max(0,g-h+y),o),x=Math.min(Math.max(0,w-p+y),s);if(this.state.scrollLeft!==A||this.state.scrollTop!==x){var T=A!==this.state.scrollLeft?A>this.state.scrollLeft?$a:k0:this.state.scrollDirectionHorizontal,E=x!==this.state.scrollTop?x>this.state.scrollTop?$a:k0:this.state.scrollDirectionVertical,z={isScrolling:!0,scrollDirectionHorizontal:T,scrollDirectionVertical:E,scrollPositionChangeReason:tk.OBSERVED};c||(z.scrollTop=x),d||(z.scrollLeft=A),z.needToResetStyleCache=!1,this.setState(z)}this._invokeOnScrollMemoizer({scrollLeft:A,scrollTop:x,totalColumnsWidth:g,totalRowsHeight:w})}}},{key:"invalidateCellSizeAfterRender",value:function(n){var r=n.columnIndex,o=n.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,r):r,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,o):o}},{key:"measureAllCells",value:function(){var n=this.props,r=n.columnCount,o=n.rowCount,a=this.state.instanceProps;a.columnSizeAndPositionManager.getSizeAndPositionOfCell(r-1),a.rowSizeAndPositionManager.getSizeAndPositionOfCell(o-1)}},{key:"recomputeGridSize",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.columnIndex,o=r===void 0?0:r,a=n.rowIndex,s=a===void 0?0:a,l=this.props,c=l.scrollToColumn,d=l.scrollToRow,p=this.state.instanceProps;p.columnSizeAndPositionManager.resetCell(o),p.rowSizeAndPositionManager.resetCell(s),this._recomputeScrollLeftFlag=c>=0&&(this.state.scrollDirectionHorizontal===$a?o<=c:o>=c),this._recomputeScrollTopFlag=d>=0&&(this.state.scrollDirectionVertical===$a?s<=d:s>=d),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(n){var r=n.columnIndex,o=n.rowIndex,a=this.props.columnCount,s=this.props;a>1&&r!==void 0&&this._updateScrollLeftForScrollToColumn(ic({},s,{scrollToColumn:r})),o!==void 0&&this._updateScrollTopForScrollToRow(ic({},s,{scrollToRow:o}))}},{key:"componentDidMount",value:function(){var n=this.props,r=n.getScrollbarSize,o=n.height,a=n.scrollLeft,s=n.scrollToColumn,l=n.scrollTop,c=n.scrollToRow,d=n.width,p=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),p.scrollbarSizeMeasured||this.setState(function(y){var w=ic({},y,{needToResetStyleCache:!1});return w.instanceProps.scrollbarSize=r(),w.instanceProps.scrollbarSizeMeasured=!0,w}),typeof a=="number"&&a>=0||typeof l=="number"&&l>=0){var h=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:a,scrollTop:l});h&&(h.needToResetStyleCache=!1,this.setState(h))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var m=o>0&&d>0;s>=0&&m&&this._updateScrollLeftForScrollToColumn(),c>=0&&m&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:a||0,scrollTop:l||0,totalColumnsWidth:p.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:p.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(n,r){var o=this,a=this.props,s=a.autoHeight,l=a.autoWidth,c=a.columnCount,d=a.height,p=a.rowCount,h=a.scrollToAlignment,m=a.scrollToColumn,y=a.scrollToRow,w=a.width,g=this.state,A=g.scrollLeft,x=g.scrollPositionChangeReason,T=g.scrollTop,E=g.instanceProps;this._handleInvalidatedGridSize();var z=c>0&&n.columnCount===0||p>0&&n.rowCount===0;x===tk.REQUESTED&&(!l&&A>=0&&(A!==this._scrollingContainer.scrollLeft||z)&&(this._scrollingContainer.scrollLeft=A),!s&&T>=0&&(T!==this._scrollingContainer.scrollTop||z)&&(this._scrollingContainer.scrollTop=T));var M=(n.width===0||n.height===0)&&d>0&&w>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):MR({cellSizeAndPositionManager:E.columnSizeAndPositionManager,previousCellsCount:n.columnCount,previousCellSize:n.columnWidth,previousScrollToAlignment:n.scrollToAlignment,previousScrollToIndex:n.scrollToColumn,previousSize:n.width,scrollOffset:A,scrollToAlignment:h,scrollToIndex:m,size:w,sizeJustIncreasedFromZero:M,updateScrollIndexCallback:function(){return o._updateScrollLeftForScrollToColumn(o.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):MR({cellSizeAndPositionManager:E.rowSizeAndPositionManager,previousCellsCount:n.rowCount,previousCellSize:n.rowHeight,previousScrollToAlignment:n.scrollToAlignment,previousScrollToIndex:n.scrollToRow,previousSize:n.height,scrollOffset:T,scrollToAlignment:h,scrollToIndex:y,size:d,sizeJustIncreasedFromZero:M,updateScrollIndexCallback:function(){return o._updateScrollTopForScrollToRow(o.props)}}),this._invokeOnGridRenderedHelper(),A!==r.scrollLeft||T!==r.scrollTop){var B=E.rowSizeAndPositionManager.getTotalSize(),L=E.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:A,scrollTop:T,totalColumnsWidth:L,totalRowsHeight:B})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&nf(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var n=this.props,r=n.autoContainerWidth,o=n.autoHeight,a=n.autoWidth,s=n.className,l=n.containerProps,c=n.containerRole,d=n.containerStyle,p=n.height,h=n.id,m=n.noContentRenderer,y=n.role,w=n.style,g=n.tabIndex,A=n.width,x=this.state,T=x.instanceProps,E=x.needToResetStyleCache,z=this._isScrolling(),M={boxSizing:"border-box",direction:"ltr",height:o?"auto":p,position:"relative",width:a?"auto":A,WebkitOverflowScrolling:"touch",willChange:"transform"};E&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var B=T.columnSizeAndPositionManager.getTotalSize(),L=T.rowSizeAndPositionManager.getTotalSize(),F=L>p?T.scrollbarSize:0,H=B>A?T.scrollbarSize:0;(H!==this._horizontalScrollBarSize||F!==this._verticalScrollBarSize)&&(this._horizontalScrollBarSize=H,this._verticalScrollBarSize=F,this._scrollbarPresenceChanged=!0),M.overflowX=B+F<=A?"hidden":"auto",M.overflowY=L+H<=p?"hidden":"auto";var X=this._childrenToDisplay,de=X.length===0&&p>0&&A>0;return $.exports.createElement("div",Me({ref:this._setScrollingContainerRef},l,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:nt("ReactVirtualized__Grid",s),id:h,onScroll:this._onScroll,role:y,style:ic({},M,{},w),tabIndex:g}),X.length>0&&$.exports.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:c,style:ic({width:r?"auto":B,height:L,maxWidth:B,maxHeight:L,overflow:"hidden",pointerEvents:z?"none":"",position:"relative"},d)},X),de&&m())}},{key:"_calculateChildrenToRender",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=n.cellRenderer,a=n.cellRangeRenderer,s=n.columnCount,l=n.deferredMeasurementCache,c=n.height,d=n.overscanColumnCount,p=n.overscanIndicesGetter,h=n.overscanRowCount,m=n.rowCount,y=n.width,w=n.isScrollingOptOut,g=r.scrollDirectionHorizontal,A=r.scrollDirectionVertical,x=r.instanceProps,T=this._initialScrollTop>0?this._initialScrollTop:r.scrollTop,E=this._initialScrollLeft>0?this._initialScrollLeft:r.scrollLeft,z=this._isScrolling(n,r);if(this._childrenToDisplay=[],c>0&&y>0){var M=x.columnSizeAndPositionManager.getVisibleCellRange({containerSize:y,offset:E}),B=x.rowSizeAndPositionManager.getVisibleCellRange({containerSize:c,offset:T}),L=x.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:y,offset:E}),F=x.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:c,offset:T});this._renderedColumnStartIndex=M.start,this._renderedColumnStopIndex=M.stop,this._renderedRowStartIndex=B.start,this._renderedRowStopIndex=B.stop;var H=p({direction:"horizontal",cellCount:s,overscanCellsCount:d,scrollDirection:g,startIndex:typeof M.start=="number"?M.start:0,stopIndex:typeof M.stop=="number"?M.stop:-1}),X=p({direction:"vertical",cellCount:m,overscanCellsCount:h,scrollDirection:A,startIndex:typeof B.start=="number"?B.start:0,stopIndex:typeof B.stop=="number"?B.stop:-1}),de=H.overscanStartIndex,we=H.overscanStopIndex,Ee=X.overscanStartIndex,ke=X.overscanStopIndex;if(l){if(!l.hasFixedHeight()){for(var Be=Ee;Be<=ke;Be++)if(!l.has(Be,0)){de=0,we=s-1;break}}if(!l.hasFixedWidth()){for(var De=de;De<=we;De++)if(!l.has(0,De)){Ee=0,ke=m-1;break}}}this._childrenToDisplay=a({cellCache:this._cellCache,cellRenderer:o,columnSizeAndPositionManager:x.columnSizeAndPositionManager,columnStartIndex:de,columnStopIndex:we,deferredMeasurementCache:l,horizontalOffsetAdjustment:L,isScrolling:z,isScrollingOptOut:w,parent:this,rowSizeAndPositionManager:x.rowSizeAndPositionManager,rowStartIndex:Ee,rowStopIndex:ke,scrollLeft:E,scrollTop:T,styleCache:this._styleCache,verticalOffsetAdjustment:F,visibleColumnIndices:M,visibleRowIndices:B}),this._columnStartIndex=de,this._columnStopIndex=we,this._rowStartIndex=Ee,this._rowStopIndex=ke}}},{key:"_debounceScrollEnded",value:function(){var n=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&nf(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=NC(this._debounceScrollEndedCallback,n)}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var n=this._deferredInvalidateColumnIndex,r=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:n,rowIndex:r})}}},{key:"_invokeOnScrollMemoizer",value:function(n){var r=this,o=n.scrollLeft,a=n.scrollTop,s=n.totalColumnsWidth,l=n.totalRowsHeight;this._onScrollMemoizer({callback:function(d){var p=d.scrollLeft,h=d.scrollTop,m=r.props,y=m.height,w=m.onScroll,g=m.width;w({clientHeight:y,clientWidth:g,scrollHeight:l,scrollLeft:p,scrollTop:h,scrollWidth:s})},indices:{scrollLeft:o,scrollTop:a}})}},{key:"_isScrolling",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(n,"isScrolling")?Boolean(n.isScrolling):Boolean(r.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var n=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,n({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(n){var r=n.scrollLeft,o=n.scrollTop,a=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:r,scrollTop:o});a&&(a.needToResetStyleCache=!1,this.setState(a))}},{key:"_getCalculatedScrollLeft",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return e._getCalculatedScrollLeft(n,r)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=e._getScrollLeftForScrollToColumnStateUpdate(n,r);o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollTop",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return e._getCalculatedScrollTop(n,r)}},{key:"_resetStyleCache",value:function(){var n=this._styleCache,r=this._cellCache,o=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var a=this._rowStartIndex;a<=this._rowStopIndex;a++)for(var s=this._columnStartIndex;s<=this._columnStopIndex;s++){var l="".concat(a,"-").concat(s);this._styleCache[l]=n[l],o&&(this._cellCache[l]=r[l])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=e._getScrollTopForScrollToRowStateUpdate(n,r);o&&(o.needToResetStyleCache=!1,this.setState(o))}}],[{key:"getDerivedStateFromProps",value:function(n,r){var o={};n.columnCount===0&&r.scrollLeft!==0||n.rowCount===0&&r.scrollTop!==0?(o.scrollLeft=0,o.scrollTop=0):(n.scrollLeft!==r.scrollLeft&&n.scrollToColumn<0||n.scrollTop!==r.scrollTop&&n.scrollToRow<0)&&Object.assign(o,e._getScrollToPositionStateUpdate({prevState:r,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}));var a=r.instanceProps;o.needToResetStyleCache=!1,(n.columnWidth!==a.prevColumnWidth||n.rowHeight!==a.prevRowHeight)&&(o.needToResetStyleCache=!0),a.columnSizeAndPositionManager.configure({cellCount:n.columnCount,estimatedCellSize:e._getEstimatedColumnSize(n),cellSizeGetter:e._wrapSizeGetter(n.columnWidth)}),a.rowSizeAndPositionManager.configure({cellCount:n.rowCount,estimatedCellSize:e._getEstimatedRowSize(n),cellSizeGetter:e._wrapSizeGetter(n.rowHeight)}),(a.prevColumnCount===0||a.prevRowCount===0)&&(a.prevColumnCount=0,a.prevRowCount=0),n.autoHeight&&n.isScrolling===!1&&a.prevIsScrolling===!0&&Object.assign(o,{isScrolling:!1});var s,l;return LR({cellCount:a.prevColumnCount,cellSize:typeof a.prevColumnWidth=="number"?a.prevColumnWidth:null,computeMetadataCallback:function(){return a.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:n,nextCellsCount:n.columnCount,nextCellSize:typeof n.columnWidth=="number"?n.columnWidth:null,nextScrollToIndex:n.scrollToColumn,scrollToIndex:a.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){s=e._getScrollLeftForScrollToColumnStateUpdate(n,r)}}),LR({cellCount:a.prevRowCount,cellSize:typeof a.prevRowHeight=="number"?a.prevRowHeight:null,computeMetadataCallback:function(){return a.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:n,nextCellsCount:n.rowCount,nextCellSize:typeof n.rowHeight=="number"?n.rowHeight:null,nextScrollToIndex:n.scrollToRow,scrollToIndex:a.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){l=e._getScrollTopForScrollToRowStateUpdate(n,r)}}),a.prevColumnCount=n.columnCount,a.prevColumnWidth=n.columnWidth,a.prevIsScrolling=n.isScrolling===!0,a.prevRowCount=n.rowCount,a.prevRowHeight=n.rowHeight,a.prevScrollToColumn=n.scrollToColumn,a.prevScrollToRow=n.scrollToRow,a.scrollbarSize=n.getScrollbarSize(),a.scrollbarSize===void 0?(a.scrollbarSizeMeasured=!1,a.scrollbarSize=0):a.scrollbarSizeMeasured=!0,o.instanceProps=a,ic({},o,{},s,{},l)}},{key:"_getEstimatedColumnSize",value:function(n){return typeof n.columnWidth=="number"?n.columnWidth:n.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(n){return typeof n.rowHeight=="number"?n.rowHeight:n.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(n){var r=n.prevState,o=n.scrollLeft,a=n.scrollTop,s={scrollPositionChangeReason:tk.REQUESTED};return typeof o=="number"&&o>=0&&(s.scrollDirectionHorizontal=o>r.scrollLeft?$a:k0,s.scrollLeft=o),typeof a=="number"&&a>=0&&(s.scrollDirectionVertical=a>r.scrollTop?$a:k0,s.scrollTop=a),typeof o=="number"&&o>=0&&o!==r.scrollLeft||typeof a=="number"&&a>=0&&a!==r.scrollTop?s:{}}},{key:"_wrapSizeGetter",value:function(n){return typeof n=="function"?n:function(){return n}}},{key:"_getCalculatedScrollLeft",value:function(n,r){var o=n.columnCount,a=n.height,s=n.scrollToAlignment,l=n.scrollToColumn,c=n.width,d=r.scrollLeft,p=r.instanceProps;if(o>0){var h=o-1,m=l<0?h:Math.min(h,l),y=p.rowSizeAndPositionManager.getTotalSize(),w=p.scrollbarSizeMeasured&&y>a?p.scrollbarSize:0;return p.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:s,containerSize:c-w,currentOffset:d,targetIndex:m})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(n,r){var o=r.scrollLeft,a=e._getCalculatedScrollLeft(n,r);return typeof a=="number"&&a>=0&&o!==a?e._getScrollToPositionStateUpdate({prevState:r,scrollLeft:a,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(n,r){var o=n.height,a=n.rowCount,s=n.scrollToAlignment,l=n.scrollToRow,c=n.width,d=r.scrollTop,p=r.instanceProps;if(a>0){var h=a-1,m=l<0?h:Math.min(h,l),y=p.columnSizeAndPositionManager.getTotalSize(),w=p.scrollbarSizeMeasured&&y>c?p.scrollbarSize:0;return p.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:s,containerSize:o-w,currentOffset:d,targetIndex:m})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(n,r){var o=r.scrollTop,a=e._getCalculatedScrollTop(n,r);return typeof a=="number"&&a>=0&&o!==a?e._getScrollToPositionStateUpdate({prevState:r,scrollLeft:-1,scrollTop:a}):{}}}]),e}($.exports.PureComponent),ne(BR,"propTypes",null),FR);ne(Js,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:Tfe,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:m2,noContentRenderer:Rfe,onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:_fe,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:Ife,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1});Tg(Js);var Pfe=1;function QF(t){var e=t.cellCount,i=t.overscanCellsCount,n=t.scrollDirection,r=t.startIndex,o=t.stopIndex;return i=Math.max(1,i),n===Pfe?{overscanStartIndex:Math.max(0,r-1),overscanStopIndex:Math.min(e-1,o+i)}:{overscanStartIndex:Math.max(0,r-i),overscanStopIndex:Math.min(e-1,o+1)}}var jR,UR;function GR(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Lfe(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?GR(i,!0).forEach(function(n){ne(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):GR(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var qF=(UR=jR=function(t){Cr(e,t);function e(){var i,n;Ni(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=Jr(this,(i=rr(e)).call.apply(i,[this].concat(o))),ne(re(n),"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),ne(re(n),"_columnStartIndex",0),ne(re(n),"_columnStopIndex",0),ne(re(n),"_rowStartIndex",0),ne(re(n),"_rowStopIndex",0),ne(re(n),"_onKeyDown",function(s){var l=n.props,c=l.columnCount,d=l.disabled,p=l.mode,h=l.rowCount;if(!d){var m=n._getScrollState(),y=m.scrollToColumn,w=m.scrollToRow,g=n._getScrollState(),A=g.scrollToColumn,x=g.scrollToRow;switch(s.key){case"ArrowDown":x=Math.min(p==="cells"?x+1:n._rowStopIndex+1,h-1);break;case"ArrowLeft":A=Math.max(p==="cells"?A-1:n._columnStartIndex-1,0);break;case"ArrowRight":A=Math.min(p==="cells"?A+1:n._columnStopIndex+1,c-1);break;case"ArrowUp":x=Math.max(p==="cells"?x-1:n._rowStartIndex-1,0);break}(A!==y||x!==w)&&(s.preventDefault(),n._updateScrollState({scrollToColumn:A,scrollToRow:x}))}}),ne(re(n),"_onSectionRendered",function(s){var l=s.columnStartIndex,c=s.columnStopIndex,d=s.rowStartIndex,p=s.rowStopIndex;n._columnStartIndex=l,n._columnStopIndex=c,n._rowStartIndex=d,n._rowStopIndex=p}),n}return Fi(e,[{key:"setScrollIndexes",value:function(n){var r=n.scrollToColumn,o=n.scrollToRow;this.setState({scrollToRow:o,scrollToColumn:r})}},{key:"render",value:function(){var n=this.props,r=n.className,o=n.children,a=this._getScrollState(),s=a.scrollToColumn,l=a.scrollToRow;return $.exports.createElement("div",{className:r,onKeyDown:this._onKeyDown},o({onSectionRendered:this._onSectionRendered,scrollToColumn:s,scrollToRow:l}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(n){var r=n.scrollToColumn,o=n.scrollToRow,a=this.props,s=a.isControlled,l=a.onScrollToChange;typeof l=="function"&&l({scrollToColumn:r,scrollToRow:o}),s||this.setState({scrollToColumn:r,scrollToRow:o})}}],[{key:"getDerivedStateFromProps",value:function(n,r){return n.isControlled?{}:n.scrollToColumn!==r.instanceProps.prevScrollToColumn||n.scrollToRow!==r.instanceProps.prevScrollToRow?Lfe({},r,{scrollToColumn:n.scrollToColumn,scrollToRow:n.scrollToRow,instanceProps:{prevScrollToColumn:n.scrollToColumn,prevScrollToRow:n.scrollToRow}}):{}}}]),e}($.exports.PureComponent),ne(jR,"propTypes",null),UR);ne(qF,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0});Tg(qF);function KF(t,e){var i;typeof e!="undefined"?i=e:typeof window!="undefined"?i=window:typeof self!="undefined"?i=self:i=global;var n=typeof i.document!="undefined"&&i.document.attachEvent;if(!n){var r=function(){var B=i.requestAnimationFrame||i.mozRequestAnimationFrame||i.webkitRequestAnimationFrame||function(L){return i.setTimeout(L,20)};return function(L){return B(L)}}(),o=function(){var B=i.cancelAnimationFrame||i.mozCancelAnimationFrame||i.webkitCancelAnimationFrame||i.clearTimeout;return function(L){return B(L)}}(),a=function(L){var F=L.__resizeTriggers__,H=F.firstElementChild,X=F.lastElementChild,de=H.firstElementChild;X.scrollLeft=X.scrollWidth,X.scrollTop=X.scrollHeight,de.style.width=H.offsetWidth+1+"px",de.style.height=H.offsetHeight+1+"px",H.scrollLeft=H.scrollWidth,H.scrollTop=H.scrollHeight},s=function(L){return L.offsetWidth!=L.__resizeLast__.width||L.offsetHeight!=L.__resizeLast__.height},l=function(L){if(!(L.target.className&&typeof L.target.className.indexOf=="function"&&L.target.className.indexOf("contract-trigger")<0&&L.target.className.indexOf("expand-trigger")<0)){var F=this;a(this),this.__resizeRAF__&&o(this.__resizeRAF__),this.__resizeRAF__=r(function(){s(F)&&(F.__resizeLast__.width=F.offsetWidth,F.__resizeLast__.height=F.offsetHeight,F.__resizeListeners__.forEach(function(H){H.call(F,L)}))})}},c=!1,d="",p="animationstart",h="Webkit Moz O ms".split(" "),m="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),y="";{var w=i.document.createElement("fakeelement");if(w.style.animationName!==void 0&&(c=!0),c===!1){for(var g=0;g<h.length;g++)if(w.style[h[g]+"AnimationName"]!==void 0){y=h[g],d="-"+y.toLowerCase()+"-",p=m[g],c=!0;break}}}var A="resizeanim",x="@"+d+"keyframes "+A+" { from { opacity: 0; } to { opacity: 0; } } ",T=d+"animation: 1ms "+A+"; "}var E=function(L){if(!L.getElementById("detectElementResize")){var F=(x||"")+".resize-triggers { "+(T||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',H=L.head||L.getElementsByTagName("head")[0],X=L.createElement("style");X.id="detectElementResize",X.type="text/css",t!=null&&X.setAttribute("nonce",t),X.styleSheet?X.styleSheet.cssText=F:X.appendChild(L.createTextNode(F)),H.appendChild(X)}},z=function(L,F){if(n)L.attachEvent("onresize",F);else{if(!L.__resizeTriggers__){var H=L.ownerDocument,X=i.getComputedStyle(L);X&&X.position=="static"&&(L.style.position="relative"),E(H),L.__resizeLast__={},L.__resizeListeners__=[],(L.__resizeTriggers__=H.createElement("div")).className="resize-triggers";var de='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>';if(window.trustedTypes){var we=trustedTypes.createPolicy("react-virtualized-auto-sizer",{createHTML:function(){return de}});L.__resizeTriggers__.innerHTML=we.createHTML("")}else L.__resizeTriggers__.innerHTML=de;L.appendChild(L.__resizeTriggers__),a(L),L.addEventListener("scroll",l,!0),p&&(L.__resizeTriggers__.__animationListener__=function(ke){ke.animationName==A&&a(L)},L.__resizeTriggers__.addEventListener(p,L.__resizeTriggers__.__animationListener__))}L.__resizeListeners__.push(F)}},M=function(L,F){if(n)L.detachEvent("onresize",F);else if(L.__resizeListeners__.splice(L.__resizeListeners__.indexOf(F),1),!L.__resizeListeners__.length){L.removeEventListener("scroll",l,!0),L.__resizeTriggers__.__animationListener__&&(L.__resizeTriggers__.removeEventListener(p,L.__resizeTriggers__.__animationListener__),L.__resizeTriggers__.__animationListener__=null);try{L.__resizeTriggers__=!L.removeChild(L.__resizeTriggers__)}catch{}}};return{addResizeListener:z,removeResizeListener:M}}var HR,YR;function WR(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Ofe(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?WR(i,!0).forEach(function(n){ne(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):WR(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var XF=(YR=HR=function(t){Cr(e,t);function e(){var i,n;Ni(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=Jr(this,(i=rr(e)).call.apply(i,[this].concat(o))),ne(re(n),"state",{height:n.props.defaultHeight||0,width:n.props.defaultWidth||0}),ne(re(n),"_parentNode",void 0),ne(re(n),"_autoSizer",void 0),ne(re(n),"_window",void 0),ne(re(n),"_detectElementResize",void 0),ne(re(n),"_onResize",function(){var s=n.props,l=s.disableHeight,c=s.disableWidth,d=s.onResize;if(n._parentNode){var p=n._parentNode.offsetHeight||0,h=n._parentNode.offsetWidth||0,m=n._window||window,y=m.getComputedStyle(n._parentNode)||{},w=parseInt(y.paddingLeft,10)||0,g=parseInt(y.paddingRight,10)||0,A=parseInt(y.paddingTop,10)||0,x=parseInt(y.paddingBottom,10)||0,T=p-A-x,E=h-w-g;(!l&&n.state.height!==T||!c&&n.state.width!==E)&&(n.setState({height:p-A-x,width:h-w-g}),d({height:p,width:h}))}}),ne(re(n),"_setRef",function(s){n._autoSizer=s}),n}return Fi(e,[{key:"componentDidMount",value:function(){var n=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=KF(n,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var n=this.props,r=n.children,o=n.className,a=n.disableHeight,s=n.disableWidth,l=n.style,c=this.state,d=c.height,p=c.width,h={overflow:"visible"},m={};return a||(h.height=0,m.height=d),s||(h.width=0,m.width=p),$.exports.createElement("div",{className:o,ref:this._setRef,style:Ofe({},h,{},l)},r(m))}}]),e}($.exports.Component),ne(HR,"propTypes",null),YR);ne(XF,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});var VR,$R,JF=($R=VR=function(t){Cr(e,t);function e(){var i,n;Ni(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=Jr(this,(i=rr(e)).call.apply(i,[this].concat(o))),ne(re(n),"_child",void 0),ne(re(n),"_measure",function(){var s=n.props,l=s.cache,c=s.columnIndex,d=c===void 0?0:c,p=s.parent,h=s.rowIndex,m=h===void 0?n.props.index||0:h,y=n._getCellMeasurements(),w=y.height,g=y.width;(w!==l.getHeight(m,d)||g!==l.getWidth(m,d))&&(l.set(m,d,g,w),p&&typeof p.recomputeGridSize=="function"&&p.recomputeGridSize({columnIndex:d,rowIndex:m}))}),ne(re(n),"_registerChild",function(s){s&&!(s instanceof Element)&&console.warn("CellMeasurer registerChild expects to be passed Element or null"),n._child=s,s&&n._maybeMeasureCell()}),n}return Fi(e,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var n=this.props.children;return typeof n=="function"?n({measure:this._measure,registerChild:this._registerChild}):n}},{key:"_getCellMeasurements",value:function(){var n=this.props.cache,r=this._child||dl.exports.findDOMNode(this);if(r&&r.ownerDocument&&r.ownerDocument.defaultView&&r instanceof r.ownerDocument.defaultView.HTMLElement){var o=r.style.width,a=r.style.height;n.hasFixedWidth()||(r.style.width="auto"),n.hasFixedHeight()||(r.style.height="auto");var s=Math.ceil(r.offsetHeight),l=Math.ceil(r.offsetWidth);return o&&(r.style.width=o),a&&(r.style.height=a),{height:s,width:l}}else return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var n=this.props,r=n.cache,o=n.columnIndex,a=o===void 0?0:o,s=n.parent,l=n.rowIndex,c=l===void 0?this.props.index||0:l;if(!r.has(c,a)){var d=this._getCellMeasurements(),p=d.height,h=d.width;r.set(c,a,h,p),s&&typeof s.invalidateCellSizeAfterRender=="function"&&s.invalidateCellSizeAfterRender({columnIndex:a,rowIndex:c})}}}]),e}($.exports.PureComponent),ne(VR,"propTypes",null),$R);ne(JF,"__internalCellMeasurerFlag",!1);var Mfe=30,Dfe=100,Bfe=function(){function t(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ni(this,t),ne(this,"_cellHeightCache",{}),ne(this,"_cellWidthCache",{}),ne(this,"_columnWidthCache",{}),ne(this,"_rowHeightCache",{}),ne(this,"_defaultHeight",void 0),ne(this,"_defaultWidth",void 0),ne(this,"_minHeight",void 0),ne(this,"_minWidth",void 0),ne(this,"_keyMapper",void 0),ne(this,"_hasFixedHeight",void 0),ne(this,"_hasFixedWidth",void 0),ne(this,"_columnCount",0),ne(this,"_rowCount",0),ne(this,"columnWidth",function(d){var p=d.index,h=e._keyMapper(0,p);return e._columnWidthCache[h]!==void 0?e._columnWidthCache[h]:e._defaultWidth}),ne(this,"rowHeight",function(d){var p=d.index,h=e._keyMapper(p,0);return e._rowHeightCache[h]!==void 0?e._rowHeightCache[h]:e._defaultHeight});var n=i.defaultHeight,r=i.defaultWidth,o=i.fixedHeight,a=i.fixedWidth,s=i.keyMapper,l=i.minHeight,c=i.minWidth;this._hasFixedHeight=o===!0,this._hasFixedWidth=a===!0,this._minHeight=l||0,this._minWidth=c||0,this._keyMapper=s||Ffe,this._defaultHeight=Math.max(this._minHeight,typeof n=="number"?n:Mfe),this._defaultWidth=Math.max(this._minWidth,typeof r=="number"?r:Dfe)}return Fi(t,[{key:"clear",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=this._keyMapper(i,n);delete this._cellHeightCache[r],delete this._cellWidthCache[r],this._updateCachedColumnAndRowSizes(i,n)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var r=this._keyMapper(i,n);return this._cellHeightCache[r]!==void 0?Math.max(this._minHeight,this._cellHeightCache[r]):this._defaultHeight}},{key:"getWidth",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var r=this._keyMapper(i,n);return this._cellWidthCache[r]!==void 0?Math.max(this._minWidth,this._cellWidthCache[r]):this._defaultWidth}},{key:"has",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=this._keyMapper(i,n);return this._cellHeightCache[r]!==void 0}},{key:"set",value:function(i,n,r,o){var a=this._keyMapper(i,n);n>=this._columnCount&&(this._columnCount=n+1),i>=this._rowCount&&(this._rowCount=i+1),this._cellHeightCache[a]=o,this._cellWidthCache[a]=r,this._updateCachedColumnAndRowSizes(i,n)}},{key:"_updateCachedColumnAndRowSizes",value:function(i,n){if(!this._hasFixedWidth){for(var r=0,o=0;o<this._rowCount;o++)r=Math.max(r,this.getWidth(o,n));var a=this._keyMapper(0,n);this._columnWidthCache[a]=r}if(!this._hasFixedHeight){for(var s=0,l=0;l<this._columnCount;l++)s=Math.max(s,this.getHeight(i,l));var c=this._keyMapper(i,0);this._rowHeightCache[c]=s}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}]),t}();function Ffe(t,e){return"".concat(t,"-").concat(e)}function QR(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Nfe(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?QR(i,!0).forEach(function(n){ne(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):QR(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var jfe=150,Uu={OBSERVED:"observed",REQUESTED:"requested"},pA=function(t){Cr(e,t);function e(){var i,n;Ni(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=Jr(this,(i=rr(e)).call.apply(i,[this].concat(o))),ne(re(n),"state",{isScrolling:!1,scrollLeft:0,scrollTop:0}),ne(re(n),"_calculateSizeAndPositionDataOnNextUpdate",!1),ne(re(n),"_onSectionRenderedMemoizer",tf()),ne(re(n),"_onScrollMemoizer",tf(!1)),ne(re(n),"_invokeOnSectionRenderedHelper",function(){var s=n.props,l=s.cellLayoutManager,c=s.onSectionRendered;n._onSectionRenderedMemoizer({callback:c,indices:{indices:l.getLastRenderedIndices()}})}),ne(re(n),"_setScrollingContainerRef",function(s){n._scrollingContainer=s}),ne(re(n),"_updateScrollPositionForScrollToCell",function(){var s=n.props,l=s.cellLayoutManager,c=s.height,d=s.scrollToAlignment,p=s.scrollToCell,h=s.width,m=n.state,y=m.scrollLeft,w=m.scrollTop;if(p>=0){var g=l.getScrollPositionForCell({align:d,cellIndex:p,height:c,scrollLeft:y,scrollTop:w,width:h});(g.scrollLeft!==y||g.scrollTop!==w)&&n._setScrollPosition(g)}}),ne(re(n),"_onScroll",function(s){if(s.target===n._scrollingContainer){n._enablePointerEventsAfterDelay();var l=n.props,c=l.cellLayoutManager,d=l.height,p=l.isScrollingChange,h=l.width,m=n._scrollbarSize,y=c.getTotalSize(),w=y.height,g=y.width,A=Math.max(0,Math.min(g-h+m,s.target.scrollLeft)),x=Math.max(0,Math.min(w-d+m,s.target.scrollTop));if(n.state.scrollLeft!==A||n.state.scrollTop!==x){var T=s.cancelable?Uu.OBSERVED:Uu.REQUESTED;n.state.isScrolling||p(!0),n.setState({isScrolling:!0,scrollLeft:A,scrollPositionChangeReason:T,scrollTop:x})}n._invokeOnScrollMemoizer({scrollLeft:A,scrollTop:x,totalWidth:g,totalHeight:w})}}),n._scrollbarSize=m2(),n._scrollbarSize===void 0?(n._scrollbarSizeMeasured=!1,n._scrollbarSize=0):n._scrollbarSizeMeasured=!0,n}return Fi(e,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var n=this.props,r=n.cellLayoutManager,o=n.scrollLeft,a=n.scrollToCell,s=n.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=m2(),this._scrollbarSizeMeasured=!0,this.setState({})),a>=0?this._updateScrollPositionForScrollToCell():(o>=0||s>=0)&&this._setScrollPosition({scrollLeft:o,scrollTop:s}),this._invokeOnSectionRenderedHelper();var l=r.getTotalSize(),c=l.height,d=l.width;this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:s||0,totalHeight:c,totalWidth:d})}},{key:"componentDidUpdate",value:function(n,r){var o=this.props,a=o.height,s=o.scrollToAlignment,l=o.scrollToCell,c=o.width,d=this.state,p=d.scrollLeft,h=d.scrollPositionChangeReason,m=d.scrollTop;h===Uu.REQUESTED&&(p>=0&&p!==r.scrollLeft&&p!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=p),m>=0&&m!==r.scrollTop&&m!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=m)),(a!==n.height||s!==n.scrollToAlignment||l!==n.scrollToCell||c!==n.width)&&this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var n=this.props,r=n.autoHeight,o=n.cellCount,a=n.cellLayoutManager,s=n.className,l=n.height,c=n.horizontalOverscanSize,d=n.id,p=n.noContentRenderer,h=n.style,m=n.verticalOverscanSize,y=n.width,w=this.state,g=w.isScrolling,A=w.scrollLeft,x=w.scrollTop;(this._lastRenderedCellCount!==o||this._lastRenderedCellLayoutManager!==a||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=o,this._lastRenderedCellLayoutManager=a,this._calculateSizeAndPositionDataOnNextUpdate=!1,a.calculateSizeAndPositionData());var T=a.getTotalSize(),E=T.height,z=T.width,M=Math.max(0,A-c),B=Math.max(0,x-m),L=Math.min(z,A+y+c),F=Math.min(E,x+l+m),H=l>0&&y>0?a.cellRenderers({height:F-B,isScrolling:g,width:L-M,x:M,y:B}):[],X={boxSizing:"border-box",direction:"ltr",height:r?"auto":l,position:"relative",WebkitOverflowScrolling:"touch",width:y,willChange:"transform"},de=E>l?this._scrollbarSize:0,we=z>y?this._scrollbarSize:0;return X.overflowX=z+de<=y?"hidden":"auto",X.overflowY=E+we<=l?"hidden":"auto",$.exports.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:nt("ReactVirtualized__Collection",s),id:d,onScroll:this._onScroll,role:"grid",style:Nfe({},X,{},h),tabIndex:0},o>0&&$.exports.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:E,maxHeight:E,maxWidth:z,overflow:"hidden",pointerEvents:g?"none":"",width:z}},H),o===0&&p())}},{key:"_enablePointerEventsAfterDelay",value:function(){var n=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){var r=n.props.isScrollingChange;r(!1),n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1})},jfe)}},{key:"_invokeOnScrollMemoizer",value:function(n){var r=this,o=n.scrollLeft,a=n.scrollTop,s=n.totalHeight,l=n.totalWidth;this._onScrollMemoizer({callback:function(d){var p=d.scrollLeft,h=d.scrollTop,m=r.props,y=m.height,w=m.onScroll,g=m.width;w({clientHeight:y,clientWidth:g,scrollHeight:s,scrollLeft:p,scrollTop:h,scrollWidth:l})},indices:{scrollLeft:o,scrollTop:a}})}},{key:"_setScrollPosition",value:function(n){var r=n.scrollLeft,o=n.scrollTop,a={scrollPositionChangeReason:Uu.REQUESTED};r>=0&&(a.scrollLeft=r),o>=0&&(a.scrollTop=o),(r>=0&&r!==this.state.scrollLeft||o>=0&&o!==this.state.scrollTop)&&this.setState(a)}}],[{key:"getDerivedStateFromProps",value:function(n,r){return n.cellCount===0&&(r.scrollLeft!==0||r.scrollTop!==0)?{scrollLeft:0,scrollTop:0,scrollPositionChangeReason:Uu.REQUESTED}:n.scrollLeft!==r.scrollLeft||n.scrollTop!==r.scrollTop?{scrollLeft:n.scrollLeft!=null?n.scrollLeft:r.scrollLeft,scrollTop:n.scrollTop!=null?n.scrollTop:r.scrollTop,scrollPositionChangeReason:Uu.REQUESTED}:null}}]),e}($.exports.PureComponent);ne(pA,"defaultProps",{"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0});pA.propTypes={};Tg(pA);var Ufe=function(){function t(e){var i=e.height,n=e.width,r=e.x,o=e.y;Ni(this,t),this.height=i,this.width=n,this.x=r,this.y=o,this._indexMap={},this._indices=[]}return Fi(t,[{key:"addCellIndex",value:function(i){var n=i.index;this._indexMap[n]||(this._indexMap[n]=!0,this._indices.push(n))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y," ").concat(this.width,"x").concat(this.height)}}]),t}(),Gfe=100,Hfe=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Gfe;Ni(this,t),this._sectionSize=e,this._cellMetadata=[],this._sections={}}return Fi(t,[{key:"getCellIndices",value:function(i){var n=i.height,r=i.width,o=i.x,a=i.y,s={};return this.getSections({height:n,width:r,x:o,y:a}).forEach(function(l){return l.getCellIndices().forEach(function(c){s[c]=c})}),Object.keys(s).map(function(l){return s[l]})}},{key:"getCellMetadata",value:function(i){var n=i.index;return this._cellMetadata[n]}},{key:"getSections",value:function(i){for(var n=i.height,r=i.width,o=i.x,a=i.y,s=Math.floor(o/this._sectionSize),l=Math.floor((o+r-1)/this._sectionSize),c=Math.floor(a/this._sectionSize),d=Math.floor((a+n-1)/this._sectionSize),p=[],h=s;h<=l;h++)for(var m=c;m<=d;m++){var y="".concat(h,".").concat(m);this._sections[y]||(this._sections[y]=new Ufe({height:this._sectionSize,width:this._sectionSize,x:h*this._sectionSize,y:m*this._sectionSize})),p.push(this._sections[y])}return p}},{key:"getTotalSectionCount",value:function(){return Object.keys(this._sections).length}},{key:"toString",value:function(){var i=this;return Object.keys(this._sections).map(function(n){return i._sections[n].toString()})}},{key:"registerCell",value:function(i){var n=i.cellMetadatum,r=i.index;this._cellMetadata[r]=n,this.getSections(n).forEach(function(o){return o.addCellIndex({index:r})})}}]),t}();function Yfe(t){for(var e=t.cellCount,i=t.cellSizeAndPositionGetter,n=t.sectionSize,r=[],o=new Hfe(n),a=0,s=0,l=0;l<e;l++){var c=i({index:l});if(c.height==null||isNaN(c.height)||c.width==null||isNaN(c.width)||c.x==null||isNaN(c.x)||c.y==null||isNaN(c.y))throw Error("Invalid metadata returned for cell ".concat(l,`:
        x:`).concat(c.x,", y:").concat(c.y,", width:").concat(c.width,", height:").concat(c.height));a=Math.max(a,c.y+c.height),s=Math.max(s,c.x+c.width),r[l]=c,o.registerCell({cellMetadatum:c,index:l})}return{cellMetadata:r,height:a,sectionManager:o,width:s}}function qR(t){var e=t.align,i=e===void 0?"auto":e,n=t.cellOffset,r=t.cellSize,o=t.containerSize,a=t.currentOffset,s=n,l=s-o+r;switch(i){case"start":return s;case"end":return l;case"center":return s-(o-r)/2;default:return Math.max(l,Math.min(s,a))}}var ZF=function(t){Cr(e,t);function e(i,n){var r;return Ni(this,e),r=Jr(this,rr(e).call(this,i,n)),r._cellMetadata=[],r._lastRenderedCellIndices=[],r._cellCache=[],r._isScrollingChange=r._isScrollingChange.bind(re(r)),r._setCollectionViewRef=r._setCollectionViewRef.bind(re(r)),r}return Fi(e,[{key:"forceUpdate",value:function(){this._collectionView!==void 0&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var n=Me({},this.props);return $.exports.createElement(pA,Me({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},n))}},{key:"calculateSizeAndPositionData",value:function(){var n=this.props,r=n.cellCount,o=n.cellSizeAndPositionGetter,a=n.sectionSize,s=Yfe({cellCount:r,cellSizeAndPositionGetter:o,sectionSize:a});this._cellMetadata=s.cellMetadata,this._sectionManager=s.sectionManager,this._height=s.height,this._width=s.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(n){var r=n.align,o=n.cellIndex,a=n.height,s=n.scrollLeft,l=n.scrollTop,c=n.width,d=this.props.cellCount;if(o>=0&&o<d){var p=this._cellMetadata[o];s=qR({align:r,cellOffset:p.x,cellSize:p.width,containerSize:c,currentOffset:s,targetIndex:o}),l=qR({align:r,cellOffset:p.y,cellSize:p.height,containerSize:a,currentOffset:l,targetIndex:o})}return{scrollLeft:s,scrollTop:l}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(n){var r=this,o=n.height,a=n.isScrolling,s=n.width,l=n.x,c=n.y,d=this.props,p=d.cellGroupRenderer,h=d.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:o,width:s,x:l,y:c}),p({cellCache:this._cellCache,cellRenderer:h,cellSizeAndPositionGetter:function(y){var w=y.index;return r._sectionManager.getCellMetadata({index:w})},indices:this._lastRenderedCellIndices,isScrolling:a})}},{key:"_isScrollingChange",value:function(n){n||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(n){this._collectionView=n}}]),e}($.exports.PureComponent);ne(ZF,"defaultProps",{"aria-label":"grid",cellGroupRenderer:Wfe});ZF.propTypes={};function Wfe(t){var e=t.cellCache,i=t.cellRenderer,n=t.cellSizeAndPositionGetter,r=t.indices,o=t.isScrolling;return r.map(function(a){var s=n({index:a}),l={index:a,isScrolling:o,key:a,style:{height:s.height,left:s.x,position:"absolute",top:s.y,width:s.width}};return o?(a in e||(e[a]=i(l)),e[a]):i(l)}).filter(function(a){return!!a})}function g2(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Vfe(t){if(Array.isArray(t))return g2(t)}function $fe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function e7(t,e){if(!!t){if(typeof t=="string")return g2(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return g2(t,e)}}function Qfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qfe(t){return Vfe(t)||$fe(t)||e7(t)||Qfe()}var t7=function(t){Cr(e,t);function e(i,n){var r;return Ni(this,e),r=Jr(this,rr(e).call(this,i,n)),r._loadMoreRowsMemoizer=tf(),r._onRowsRendered=r._onRowsRendered.bind(re(r)),r._registerChild=r._registerChild.bind(re(r)),r}return Fi(e,[{key:"resetLoadMoreRowsCache",value:function(n){this._loadMoreRowsMemoizer=tf(),n&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){var n=this.props.children;return n({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(n){var r=this,o=this.props.loadMoreRows;n.forEach(function(a){var s=o(a);s&&s.then(function(){Kfe({lastRenderedStartIndex:r._lastRenderedStartIndex,lastRenderedStopIndex:r._lastRenderedStopIndex,startIndex:a.startIndex,stopIndex:a.stopIndex})&&r._registeredChild&&Jfe(r._registeredChild,r._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(n){var r=n.startIndex,o=n.stopIndex;this._lastRenderedStartIndex=r,this._lastRenderedStopIndex=o,this._doStuff(r,o)}},{key:"_doStuff",value:function(n,r){var o,a=this,s=this.props,l=s.isRowLoaded,c=s.minimumBatchSize,d=s.rowCount,p=s.threshold,h=Xfe({isRowLoaded:l,minimumBatchSize:c,rowCount:d,startIndex:Math.max(0,n-p),stopIndex:Math.min(d-1,r+p)}),m=(o=[]).concat.apply(o,qfe(h.map(function(y){var w=y.startIndex,g=y.stopIndex;return[w,g]})));this._loadMoreRowsMemoizer({callback:function(){a._loadUnloadedRanges(h)},indices:{squashedUnloadedRanges:m}})}},{key:"_registerChild",value:function(n){this._registeredChild=n}}]),e}($.exports.PureComponent);ne(t7,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15});t7.propTypes={};function Kfe(t){var e=t.lastRenderedStartIndex,i=t.lastRenderedStopIndex,n=t.startIndex,r=t.stopIndex;return!(n>i||r<e)}function Xfe(t){for(var e=t.isRowLoaded,i=t.minimumBatchSize,n=t.rowCount,r=t.startIndex,o=t.stopIndex,a=[],s=null,l=null,c=r;c<=o;c++){var d=e({index:c});d?l!==null&&(a.push({startIndex:s,stopIndex:l}),s=l=null):(l=c,s===null&&(s=c))}if(l!==null){for(var p=Math.min(Math.max(l,s+i-1),n-1),h=l+1;h<=p&&!e({index:h});h++)l=h;a.push({startIndex:s,stopIndex:l})}if(a.length)for(var m=a[0];m.stopIndex-m.startIndex+1<i&&m.startIndex>0;){var y=m.startIndex-1;if(!e({index:y}))m.startIndex=y;else break}return a}function Jfe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=typeof t.recomputeGridSize=="function"?t.recomputeGridSize:t.recomputeRowHeights;i?i.call(t,e):t.forceUpdate()}var KR,XR,i7=(XR=KR=function(t){Cr(e,t);function e(){var i,n;Ni(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=Jr(this,(i=rr(e)).call.apply(i,[this].concat(o))),ne(re(n),"Grid",void 0),ne(re(n),"_cellRenderer",function(s){var l=s.parent,c=s.rowIndex,d=s.style,p=s.isScrolling,h=s.isVisible,m=s.key,y=n.props.rowRenderer,w=Object.getOwnPropertyDescriptor(d,"width");return w&&w.writable&&(d.width="100%"),y({index:c,style:d,isScrolling:p,isVisible:h,key:m,parent:l})}),ne(re(n),"_setRef",function(s){n.Grid=s}),ne(re(n),"_onScroll",function(s){var l=s.clientHeight,c=s.scrollHeight,d=s.scrollTop,p=n.props.onScroll;p({clientHeight:l,scrollHeight:c,scrollTop:d})}),ne(re(n),"_onSectionRendered",function(s){var l=s.rowOverscanStartIndex,c=s.rowOverscanStopIndex,d=s.rowStartIndex,p=s.rowStopIndex,h=n.props.onRowsRendered;h({overscanStartIndex:l,overscanStopIndex:c,startIndex:d,stopIndex:p})}),n}return Fi(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(n){var r=n.alignment,o=n.index;if(this.Grid){var a=this.Grid.getOffsetForCell({alignment:r,rowIndex:o,columnIndex:0}),s=a.scrollTop;return s}return 0}},{key:"invalidateCellSizeAfterRender",value:function(n){var r=n.columnIndex,o=n.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:o,columnIndex:r})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.columnIndex,o=r===void 0?0:r,a=n.rowIndex,s=a===void 0?0:a;this.Grid&&this.Grid.recomputeGridSize({rowIndex:s,columnIndex:o})}},{key:"recomputeRowHeights",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:n,columnIndex:0})}},{key:"scrollToPosition",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:n})}},{key:"scrollToRow",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:n})}},{key:"render",value:function(){var n=this.props,r=n.className,o=n.noRowsRenderer,a=n.scrollToIndex,s=n.width,l=nt("ReactVirtualized__List",r);return $.exports.createElement(Js,Me({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:l,columnWidth:s,columnCount:1,noContentRenderer:o,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:a}))}}]),e}($.exports.PureComponent),ne(KR,"propTypes",null),XR);ne(i7,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:QF,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});function Zfe(t){if(Array.isArray(t))return t}function epe(t,e){var i=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var n=[],r=!0,o=!1,a,s;try{for(i=i.call(t);!(r=(a=i.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){o=!0,s=l}finally{try{!r&&i.return!=null&&i.return()}finally{if(o)throw s}}return n}}function tpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ipe(t,e){return Zfe(t)||epe(t,e)||e7(t,e)||tpe()}function npe(t,e,i,n){for(var r=i+1;e<=i;){var o=e+i>>>1,a=t[o];a>=n?(r=o,i=o-1):e=o+1}return r}function rpe(t,e,i,n,r){for(var o=i+1;e<=i;){var a=e+i>>>1,s=t[a];r(s,n)>=0?(o=a,i=a-1):e=a+1}return o}function ope(t,e,i,n,r){return typeof i=="function"?rpe(t,n===void 0?0:n|0,r===void 0?t.length-1:r|0,e,i):npe(t,i===void 0?0:i|0,n===void 0?t.length-1:n|0,e)}function ape(t,e,i,n){for(var r=i+1;e<=i;){var o=e+i>>>1,a=t[o];a>n?(r=o,i=o-1):e=o+1}return r}function spe(t,e,i,n,r){for(var o=i+1;e<=i;){var a=e+i>>>1,s=t[a];r(s,n)>0?(o=a,i=a-1):e=a+1}return o}function lpe(t,e,i,n,r){return typeof i=="function"?spe(t,n===void 0?0:n|0,r===void 0?t.length-1:r|0,e,i):ape(t,i===void 0?0:i|0,n===void 0?t.length-1:n|0,e)}function cpe(t,e,i,n){for(var r=e-1;e<=i;){var o=e+i>>>1,a=t[o];a<n?(r=o,e=o+1):i=o-1}return r}function upe(t,e,i,n,r){for(var o=e-1;e<=i;){var a=e+i>>>1,s=t[a];r(s,n)<0?(o=a,e=a+1):i=a-1}return o}function dpe(t,e,i,n,r){return typeof i=="function"?upe(t,n===void 0?0:n|0,r===void 0?t.length-1:r|0,e,i):cpe(t,i===void 0?0:i|0,n===void 0?t.length-1:n|0,e)}function fpe(t,e,i,n){for(var r=e-1;e<=i;){var o=e+i>>>1,a=t[o];a<=n?(r=o,e=o+1):i=o-1}return r}function ppe(t,e,i,n,r){for(var o=e-1;e<=i;){var a=e+i>>>1,s=t[a];r(s,n)<=0?(o=a,e=a+1):i=a-1}return o}function hpe(t,e,i,n,r){return typeof i=="function"?ppe(t,n===void 0?0:n|0,r===void 0?t.length-1:r|0,e,i):fpe(t,i===void 0?0:i|0,n===void 0?t.length-1:n|0,e)}function mpe(t,e,i,n){for(;e<=i;){var r=e+i>>>1,o=t[r];if(o===n)return r;o<=n?e=r+1:i=r-1}return-1}function gpe(t,e,i,n,r){for(;e<=i;){var o=e+i>>>1,a=t[o],s=r(a,n);if(s===0)return o;s<=0?e=o+1:i=o-1}return-1}function bpe(t,e,i,n,r){return typeof i=="function"?gpe(t,n===void 0?0:n|0,r===void 0?t.length-1:r|0,e,i):mpe(t,i===void 0?0:i|0,n===void 0?t.length-1:n|0,e)}var ky={ge:ope,gt:lpe,lt:dpe,le:hpe,eq:bpe},cd=0,sc=1,sv=2;function jC(t,e,i,n,r){this.mid=t,this.left=e,this.right=i,this.leftPoints=n,this.rightPoints=r,this.count=(e?e.count:0)+(i?i.count:0)+n.length}var Sg=jC.prototype;function ik(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function n7(t,e){var i=rf(e);t.mid=i.mid,t.left=i.left,t.right=i.right,t.leftPoints=i.leftPoints,t.rightPoints=i.rightPoints,t.count=i.count}function JR(t,e){var i=t.intervals([]);i.push(e),n7(t,i)}function ZR(t,e){var i=t.intervals([]),n=i.indexOf(e);return n<0?cd:(i.splice(n,1),n7(t,i),sc)}Sg.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t};Sg.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?JR(this,t):this.left.insert(t):this.left=rf([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?JR(this,t):this.right.insert(t):this.right=rf([t]);else{var i=ky.ge(this.leftPoints,t,UC),n=ky.ge(this.rightPoints,t,GC);this.leftPoints.splice(i,0,t),this.rightPoints.splice(n,0,t)}};Sg.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid){if(!this.left)return cd;var i=this.right?this.right.count:0;if(4*i>3*(e-1))return ZR(this,t);var n=this.left.remove(t);return n===sv?(this.left=null,this.count-=1,sc):(n===sc&&(this.count-=1),n)}else if(t[0]>this.mid){if(!this.right)return cd;var r=this.left?this.left.count:0;if(4*r>3*(e-1))return ZR(this,t);var n=this.right.remove(t);return n===sv?(this.right=null,this.count-=1,sc):(n===sc&&(this.count-=1),n)}else{if(this.count===1)return this.leftPoints[0]===t?sv:cd;if(this.leftPoints.length===1&&this.leftPoints[0]===t){if(this.left&&this.right){for(var o=this,a=this.left;a.right;)o=a,a=a.right;if(o===this)a.right=this.right;else{var s=this.left,n=this.right;o.count-=a.count,o.right=a.left,a.left=s,a.right=n}ik(this,a),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?ik(this,this.left):ik(this,this.right);return sc}for(var s=ky.ge(this.leftPoints,t,UC);s<this.leftPoints.length&&this.leftPoints[s][0]===t[0];++s)if(this.leftPoints[s]===t){this.count-=1,this.leftPoints.splice(s,1);for(var n=ky.ge(this.rightPoints,t,GC);n<this.rightPoints.length&&this.rightPoints[n][1]===t[1];++n)if(this.rightPoints[n]===t)return this.rightPoints.splice(n,1),sc}return cd}};function r7(t,e,i){for(var n=0;n<t.length&&t[n][0]<=e;++n){var r=i(t[n]);if(r)return r}}function o7(t,e,i){for(var n=t.length-1;n>=0&&t[n][1]>=e;--n){var r=i(t[n]);if(r)return r}}function a7(t,e){for(var i=0;i<t.length;++i){var n=e(t[i]);if(n)return n}}Sg.queryPoint=function(t,e){if(t<this.mid){if(this.left){var i=this.left.queryPoint(t,e);if(i)return i}return r7(this.leftPoints,t,e)}else if(t>this.mid){if(this.right){var i=this.right.queryPoint(t,e);if(i)return i}return o7(this.rightPoints,t,e)}else return a7(this.leftPoints,e)};Sg.queryInterval=function(t,e,i){if(t<this.mid&&this.left){var n=this.left.queryInterval(t,e,i);if(n)return n}if(e>this.mid&&this.right){var n=this.right.queryInterval(t,e,i);if(n)return n}return e<this.mid?r7(this.leftPoints,e,i):t>this.mid?o7(this.rightPoints,t,i):a7(this.leftPoints,i)};function vpe(t,e){return t-e}function UC(t,e){var i=t[0]-e[0];return i||t[1]-e[1]}function GC(t,e){var i=t[1]-e[1];return i||t[0]-e[0]}function rf(t){if(t.length===0)return null;for(var e=[],i=0;i<t.length;++i)e.push(t[i][0],t[i][1]);e.sort(vpe);for(var n=e[e.length>>1],r=[],o=[],a=[],i=0;i<t.length;++i){var s=t[i];s[1]<n?r.push(s):n<s[0]?o.push(s):a.push(s)}var l=a,c=a.slice();return l.sort(UC),c.sort(GC),new jC(n,rf(r),rf(o),l,c)}function b2(t){this.root=t}var Mf=b2.prototype;Mf.insert=function(t){this.root?this.root.insert(t):this.root=new jC(t[0],null,null,[t],[t])};Mf.remove=function(t){if(this.root){var e=this.root.remove(t);return e===sv&&(this.root=null),e!==cd}return!1};Mf.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)};Mf.queryInterval=function(t,e,i){if(t<=e&&this.root)return this.root.queryInterval(t,e,i)};Object.defineProperty(Mf,"count",{get:function(){return this.root?this.root.count:0}});Object.defineProperty(Mf,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function ype(t){return!t||t.length===0?new b2(null):new b2(rf(t))}var nk=function(){function t(){Ni(this,t),ne(this,"_columnSizeMap",{}),ne(this,"_intervalTree",ype()),ne(this,"_leftMap",{})}return Fi(t,[{key:"estimateTotalHeight",value:function(i,n,r){var o=i-this.count;return this.tallestColumnSize+Math.ceil(o/n)*r}},{key:"range",value:function(i,n,r){var o=this;this._intervalTree.queryInterval(i,i+n,function(a){var s=ipe(a,3),l=s[0];s[1];var c=s[2];return r(c,o._leftMap[c],l)})}},{key:"setPosition",value:function(i,n,r,o){this._intervalTree.insert([r,r+o,i]),this._leftMap[i]=n;var a=this._columnSizeMap,s=a[n];s===void 0?a[n]=r+o:a[n]=Math.max(s,r+o)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var i=this._columnSizeMap,n=0;for(var r in i){var o=i[r];n=n===0?o:Math.min(n,o)}return n}},{key:"tallestColumnSize",get:function(){var i=this._columnSizeMap,n=0;for(var r in i){var o=i[r];n=Math.max(n,o)}return n}}]),t}(),eP,tP;function iP(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function wpe(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?iP(i,!0).forEach(function(n){ne(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):iP(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var Ape={},xpe=150,s7=(tP=eP=function(t){Cr(e,t);function e(){var i,n;Ni(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=Jr(this,(i=rr(e)).call.apply(i,[this].concat(o))),ne(re(n),"state",{isScrolling:!1,scrollTop:0}),ne(re(n),"_debounceResetIsScrollingId",void 0),ne(re(n),"_invalidateOnUpdateStartIndex",null),ne(re(n),"_invalidateOnUpdateStopIndex",null),ne(re(n),"_positionCache",new nk),ne(re(n),"_startIndex",null),ne(re(n),"_startIndexMemoized",null),ne(re(n),"_stopIndex",null),ne(re(n),"_stopIndexMemoized",null),ne(re(n),"_debounceResetIsScrollingCallback",function(){n.setState({isScrolling:!1})}),ne(re(n),"_setScrollingContainerRef",function(s){n._scrollingContainer=s}),ne(re(n),"_onScroll",function(s){var l=n.props.height,c=s.currentTarget.scrollTop,d=Math.min(Math.max(0,n._getEstimatedTotalHeight()-l),c);c===d&&(n._debounceResetIsScrolling(),n.state.scrollTop!==d&&n.setState({isScrolling:!0,scrollTop:d}))}),n}return Fi(e,[{key:"clearCellPositions",value:function(){this._positionCache=new nk,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(n){var r=n.rowIndex;this._invalidateOnUpdateStartIndex===null?(this._invalidateOnUpdateStartIndex=r,this._invalidateOnUpdateStopIndex=r):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,r),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,r))}},{key:"recomputeCellPositions",value:function(){var n=this._positionCache.count-1;this._positionCache=new nk,this._populatePositionCache(0,n),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(n,r){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==n.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&nf(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var n=this,r=this.props,o=r.autoHeight,a=r.cellCount,s=r.cellMeasurerCache,l=r.cellRenderer,c=r.className,d=r.height,p=r.id,h=r.keyMapper,m=r.overscanByPixels,y=r.role,w=r.style,g=r.tabIndex,A=r.width,x=r.rowDirection,T=this.state,E=T.isScrolling,z=T.scrollTop,M=[],B=this._getEstimatedTotalHeight(),L=this._positionCache.shortestColumnSize,F=this._positionCache.count,H=0,X;if(this._positionCache.range(Math.max(0,z-m),d+m*2,function(Ee,ke,Be){var De;typeof X=="undefined"?(H=Ee,X=Ee):(H=Math.min(H,Ee),X=Math.max(X,Ee)),M.push(l({index:Ee,isScrolling:E,key:h(Ee),parent:n,style:(De={height:s.getHeight(Ee)},ne(De,x==="ltr"?"left":"right",ke),ne(De,"position","absolute"),ne(De,"top",Be),ne(De,"width",s.getWidth(Ee)),De)}))}),L<z+d+m&&F<a)for(var de=Math.min(a-F,Math.ceil((z+d+m-L)/s.defaultHeight*A/s.defaultWidth)),we=F;we<F+de;we++)X=we,M.push(l({index:we,isScrolling:E,key:h(we),parent:this,style:{width:s.getWidth(we)}}));return this._startIndex=H,this._stopIndex=X,$.exports.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:nt("ReactVirtualized__Masonry",c),id:p,onScroll:this._onScroll,role:y,style:wpe({boxSizing:"border-box",direction:"ltr",height:o?"auto":d,overflowX:"hidden",overflowY:B<d?"hidden":"auto",position:"relative",width:A,WebkitOverflowScrolling:"touch",willChange:"transform"},w),tabIndex:g},$.exports.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:B,maxWidth:"100%",maxHeight:B,overflow:"hidden",pointerEvents:E?"none":"",position:"relative"}},M))}},{key:"_checkInvalidateOnUpdate",value:function(){if(typeof this._invalidateOnUpdateStartIndex=="number"){var n=this._invalidateOnUpdateStartIndex,r=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(n,r),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var n=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&nf(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=NC(this._debounceResetIsScrollingCallback,n)}},{key:"_getEstimatedTotalHeight",value:function(){var n=this.props,r=n.cellCount,o=n.cellMeasurerCache,a=n.width,s=Math.max(1,Math.floor(a/o.defaultWidth));return this._positionCache.estimateTotalHeight(r,s,o.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var n=this.props,r=n.height,o=n.onScroll,a=this.state.scrollTop;this._onScrollMemoized!==a&&(o({clientHeight:r,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:a}),this._onScrollMemoized=a)}},{key:"_invokeOnCellsRenderedCallback",value:function(){if(this._startIndexMemoized!==this._startIndex||this._stopIndexMemoized!==this._stopIndex){var n=this.props.onCellsRendered;n({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex}}},{key:"_populatePositionCache",value:function(n,r){for(var o=this.props,a=o.cellMeasurerCache,s=o.cellPositioner,l=n;l<=r;l++){var c=s(l),d=c.left,p=c.top;this._positionCache.setPosition(l,d,p,a.getHeight(l))}}}],[{key:"getDerivedStateFromProps",value:function(n,r){return n.scrollTop!==void 0&&r.scrollTop!==n.scrollTop?{isScrolling:!0,scrollTop:n.scrollTop}:null}}]),e}($.exports.PureComponent),ne(eP,"propTypes",null),tP);ne(s7,"defaultProps",{autoHeight:!1,keyMapper:kpe,onCellsRendered:nP,onScroll:nP,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:xpe,style:Ape,tabIndex:0,rowDirection:"ltr"});function kpe(t){return t}function nP(){}Tg(s7);var rk=function(){function t(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ni(this,t),ne(this,"_cellMeasurerCache",void 0),ne(this,"_columnIndexOffset",void 0),ne(this,"_rowIndexOffset",void 0),ne(this,"columnWidth",function(l){var c=l.index;e._cellMeasurerCache.columnWidth({index:c+e._columnIndexOffset})}),ne(this,"rowHeight",function(l){var c=l.index;e._cellMeasurerCache.rowHeight({index:c+e._rowIndexOffset})});var n=i.cellMeasurerCache,r=i.columnIndexOffset,o=r===void 0?0:r,a=i.rowIndexOffset,s=a===void 0?0:a;this._cellMeasurerCache=n,this._columnIndexOffset=o,this._rowIndexOffset=s}return Fi(t,[{key:"clear",value:function(i,n){this._cellMeasurerCache.clear(i+this._rowIndexOffset,n+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getHeight(i+this._rowIndexOffset,n+this._columnIndexOffset)}},{key:"getWidth",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getWidth(i+this._rowIndexOffset,n+this._columnIndexOffset)}},{key:"has",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.has(i+this._rowIndexOffset,n+this._columnIndexOffset)}},{key:"set",value:function(i,n,r,o){this._cellMeasurerCache.set(i+this._rowIndexOffset,n+this._columnIndexOffset,r,o)}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}}]),t}();function rP(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Tn(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?rP(i,!0).forEach(function(n){ne(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):rP(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var oP=20,HC=function(t){Cr(e,t);function e(i,n){var r;Ni(this,e),r=Jr(this,rr(e).call(this,i,n)),ne(re(r),"state",{scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1}),ne(re(r),"_deferredInvalidateColumnIndex",null),ne(re(r),"_deferredInvalidateRowIndex",null),ne(re(r),"_bottomLeftGridRef",function(l){r._bottomLeftGrid=l}),ne(re(r),"_bottomRightGridRef",function(l){r._bottomRightGrid=l}),ne(re(r),"_cellRendererBottomLeftGrid",function(l){var c=l.rowIndex,d=lh(l,["rowIndex"]),p=r.props,h=p.cellRenderer,m=p.fixedRowCount,y=p.rowCount;return c===y-m?$.exports.createElement("div",{key:d.key,style:Tn({},d.style,{height:oP})}):h(Tn({},d,{parent:re(r),rowIndex:c+m}))}),ne(re(r),"_cellRendererBottomRightGrid",function(l){var c=l.columnIndex,d=l.rowIndex,p=lh(l,["columnIndex","rowIndex"]),h=r.props,m=h.cellRenderer,y=h.fixedColumnCount,w=h.fixedRowCount;return m(Tn({},p,{columnIndex:c+y,parent:re(r),rowIndex:d+w}))}),ne(re(r),"_cellRendererTopRightGrid",function(l){var c=l.columnIndex,d=lh(l,["columnIndex"]),p=r.props,h=p.cellRenderer,m=p.columnCount,y=p.fixedColumnCount;return c===m-y?$.exports.createElement("div",{key:d.key,style:Tn({},d.style,{width:oP})}):h(Tn({},d,{columnIndex:c+y,parent:re(r)}))}),ne(re(r),"_columnWidthRightGrid",function(l){var c=l.index,d=r.props,p=d.columnCount,h=d.fixedColumnCount,m=d.columnWidth,y=r.state,w=y.scrollbarSize,g=y.showHorizontalScrollbar;return g&&c===p-h?w:typeof m=="function"?m({index:c+h}):m}),ne(re(r),"_onScroll",function(l){var c=l.scrollLeft,d=l.scrollTop;r.setState({scrollLeft:c,scrollTop:d});var p=r.props.onScroll;p&&p(l)}),ne(re(r),"_onScrollbarPresenceChange",function(l){var c=l.horizontal,d=l.size,p=l.vertical,h=r.state,m=h.showHorizontalScrollbar,y=h.showVerticalScrollbar;if(c!==m||p!==y){r.setState({scrollbarSize:d,showHorizontalScrollbar:c,showVerticalScrollbar:p});var w=r.props.onScrollbarPresenceChange;typeof w=="function"&&w({horizontal:c,size:d,vertical:p})}}),ne(re(r),"_onScrollLeft",function(l){var c=l.scrollLeft;r._onScroll({scrollLeft:c,scrollTop:r.state.scrollTop})}),ne(re(r),"_onScrollTop",function(l){var c=l.scrollTop;r._onScroll({scrollTop:c,scrollLeft:r.state.scrollLeft})}),ne(re(r),"_rowHeightBottomGrid",function(l){var c=l.index,d=r.props,p=d.fixedRowCount,h=d.rowCount,m=d.rowHeight,y=r.state,w=y.scrollbarSize,g=y.showVerticalScrollbar;return g&&c===h-p?w:typeof m=="function"?m({index:c+p}):m}),ne(re(r),"_topLeftGridRef",function(l){r._topLeftGrid=l}),ne(re(r),"_topRightGridRef",function(l){r._topRightGrid=l});var o=i.deferredMeasurementCache,a=i.fixedColumnCount,s=i.fixedRowCount;return r._maybeCalculateCachedStyles(!0),o&&(r._deferredMeasurementCacheBottomLeftGrid=s>0?new rk({cellMeasurerCache:o,columnIndexOffset:0,rowIndexOffset:s}):o,r._deferredMeasurementCacheBottomRightGrid=a>0||s>0?new rk({cellMeasurerCache:o,columnIndexOffset:a,rowIndexOffset:s}):o,r._deferredMeasurementCacheTopRightGrid=a>0?new rk({cellMeasurerCache:o,columnIndexOffset:a,rowIndexOffset:0}):o),r}return Fi(e,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.columnIndex,o=r===void 0?0:r,a=n.rowIndex,s=a===void 0?0:a;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,o):o,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,s):s}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.columnIndex,o=r===void 0?0:r,a=n.rowIndex,s=a===void 0?0:a,l=this.props,c=l.fixedColumnCount,d=l.fixedRowCount,p=Math.max(0,o-c),h=Math.max(0,s-d);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:o,rowIndex:h}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:p,rowIndex:h}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:o,rowIndex:s}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:p,rowIndex:s}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var n=this.props,r=n.scrollLeft,o=n.scrollTop;if(r>0||o>0){var a={};r>0&&(a.scrollLeft=r),o>0&&(a.scrollTop=o),this.setState(a)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var n=this.props,r=n.onScroll,o=n.onSectionRendered;n.onScrollbarPresenceChange,n.scrollLeft;var a=n.scrollToColumn;n.scrollTop;var s=n.scrollToRow,l=lh(n,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),this.props.width===0||this.props.height===0)return null;var c=this.state,d=c.scrollLeft,p=c.scrollTop;return $.exports.createElement("div",{style:this._containerOuterStyle},$.exports.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(l),this._renderTopRightGrid(Tn({},l,{onScroll:r,scrollLeft:d}))),$.exports.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(Tn({},l,{onScroll:r,scrollTop:p})),this._renderBottomRightGrid(Tn({},l,{onScroll:r,onSectionRendered:o,scrollLeft:d,scrollToColumn:a,scrollToRow:s,scrollTop:p}))))}},{key:"_getBottomGridHeight",value:function(n){var r=n.height,o=this._getTopGridHeight(n);return r-o}},{key:"_getLeftGridWidth",value:function(n){var r=n.fixedColumnCount,o=n.columnWidth;if(this._leftGridWidth==null)if(typeof o=="function"){for(var a=0,s=0;s<r;s++)a+=o({index:s});this._leftGridWidth=a}else this._leftGridWidth=o*r;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(n){var r=n.width,o=this._getLeftGridWidth(n);return r-o}},{key:"_getTopGridHeight",value:function(n){var r=n.fixedRowCount,o=n.rowHeight;if(this._topGridHeight==null)if(typeof o=="function"){for(var a=0,s=0;s<r;s++)a+=o({index:s});this._topGridHeight=a}else this._topGridHeight=o*r;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"){var n=this._deferredInvalidateColumnIndex,r=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:n,rowIndex:r}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(n){var r=this.props,o=r.columnWidth,a=r.enableFixedColumnScroll,s=r.enableFixedRowScroll,l=r.height,c=r.fixedColumnCount,d=r.fixedRowCount,p=r.rowHeight,h=r.style,m=r.styleBottomLeftGrid,y=r.styleBottomRightGrid,w=r.styleTopLeftGrid,g=r.styleTopRightGrid,A=r.width,x=n||l!==this._lastRenderedHeight||A!==this._lastRenderedWidth,T=n||o!==this._lastRenderedColumnWidth||c!==this._lastRenderedFixedColumnCount,E=n||d!==this._lastRenderedFixedRowCount||p!==this._lastRenderedRowHeight;(n||x||h!==this._lastRenderedStyle)&&(this._containerOuterStyle=Tn({height:l,overflow:"visible",width:A},h)),(n||x||E)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:A},this._containerBottomStyle={height:l-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:A}),(n||m!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=Tn({left:0,overflowX:"hidden",overflowY:a?"auto":"hidden",position:"absolute"},m)),(n||T||y!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=Tn({left:this._getLeftGridWidth(this.props),position:"absolute"},y)),(n||w!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=Tn({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},w)),(n||T||g!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=Tn({left:this._getLeftGridWidth(this.props),overflowX:s?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},g)),this._lastRenderedColumnWidth=o,this._lastRenderedFixedColumnCount=c,this._lastRenderedFixedRowCount=d,this._lastRenderedHeight=l,this._lastRenderedRowHeight=p,this._lastRenderedStyle=h,this._lastRenderedStyleBottomLeftGrid=m,this._lastRenderedStyleBottomRightGrid=y,this._lastRenderedStyleTopLeftGrid=w,this._lastRenderedStyleTopRightGrid=g,this._lastRenderedWidth=A}},{key:"_prepareForRender",value:function(){(this._lastRenderedColumnWidth!==this.props.columnWidth||this._lastRenderedFixedColumnCount!==this.props.fixedColumnCount)&&(this._leftGridWidth=null),(this._lastRenderedFixedRowCount!==this.props.fixedRowCount||this._lastRenderedRowHeight!==this.props.rowHeight)&&(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(n){var r=n.enableFixedColumnScroll,o=n.fixedColumnCount,a=n.fixedRowCount,s=n.rowCount,l=n.hideBottomLeftGridScrollbar,c=this.state.showVerticalScrollbar;if(!o)return null;var d=c?1:0,p=this._getBottomGridHeight(n),h=this._getLeftGridWidth(n),m=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,y=l?h+m:h,w=$.exports.createElement(Js,Me({},n,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:o,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:p,onScroll:r?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,s-a)+d,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:y}));return l?$.exports.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:Tn({},this._bottomLeftGridStyle,{height:p,width:h,overflowY:"hidden"})},w):w}},{key:"_renderBottomRightGrid",value:function(n){var r=n.columnCount,o=n.fixedColumnCount,a=n.fixedRowCount,s=n.rowCount,l=n.scrollToColumn,c=n.scrollToRow;return $.exports.createElement(Js,Me({},n,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,r-o),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(n),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,s-a),rowHeight:this._rowHeightBottomGrid,scrollToColumn:l-o,scrollToRow:c-a,style:this._bottomRightGridStyle,width:this._getRightGridWidth(n)}))}},{key:"_renderTopLeftGrid",value:function(n){var r=n.fixedColumnCount,o=n.fixedRowCount;return!r||!o?null:$.exports.createElement(Js,Me({},n,{className:this.props.classNameTopLeftGrid,columnCount:r,height:this._getTopGridHeight(n),ref:this._topLeftGridRef,rowCount:o,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(n)}))}},{key:"_renderTopRightGrid",value:function(n){var r=n.columnCount,o=n.enableFixedRowScroll,a=n.fixedColumnCount,s=n.fixedRowCount,l=n.scrollLeft,c=n.hideTopRightGridScrollbar,d=this.state,p=d.showHorizontalScrollbar,h=d.scrollbarSize;if(!s)return null;var m=p?1:0,y=this._getTopGridHeight(n),w=this._getRightGridWidth(n),g=p?h:0,A=y,x=this._topRightGridStyle;c&&(A=y+g,x=Tn({},this._topRightGridStyle,{left:0}));var T=$.exports.createElement(Js,Me({},n,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,r-a)+m,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:A,onScroll:o?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:s,scrollLeft:l,style:x,tabIndex:null,width:w}));return c?$.exports.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:Tn({},this._topRightGridStyle,{height:y,width:w,overflowX:"hidden"})},T):T}}],[{key:"getDerivedStateFromProps",value:function(n,r){return n.scrollLeft!==r.scrollLeft||n.scrollTop!==r.scrollTop?{scrollLeft:n.scrollLeft!=null&&n.scrollLeft>=0?n.scrollLeft:r.scrollLeft,scrollTop:n.scrollTop!=null&&n.scrollTop>=0?n.scrollTop:r.scrollTop}:null}}]),e}($.exports.PureComponent);ne(HC,"defaultProps",{classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1});HC.propTypes={};Tg(HC);function _pe(t){var e=t.dataKey,i=t.rowData;return typeof i.get=="function"?i.get(e):i[e]}function Tpe(t){var e=t.cellData;return e==null?"":String(e)}function l7(t){var e=t.className,i=t.columns,n=t.style;return $.exports.createElement("div",{className:e,role:"row",style:n},i)}l7.propTypes=null;var Zs={ASC:"ASC",DESC:"DESC"};function c7(t){var e=t.sortDirection,i=nt("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":e===Zs.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":e===Zs.DESC});return $.exports.createElement("svg",{className:i,width:18,height:18,viewBox:"0 0 24 24"},e===Zs.ASC?$.exports.createElement("path",{d:"M7 14l5-5 5 5z"}):$.exports.createElement("path",{d:"M7 10l5 5 5-5z"}),$.exports.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}c7.propTypes={};function u7(t){var e=t.dataKey,i=t.label,n=t.sortBy,r=t.sortDirection,o=n===e,a=[$.exports.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:typeof i=="string"?i:null},i)];return o&&a.push($.exports.createElement(c7,{key:"SortIndicator",sortDirection:r})),a}u7.propTypes=null;function d7(t){var e=t.className,i=t.columns,n=t.index,r=t.key,o=t.onRowClick,a=t.onRowDoubleClick,s=t.onRowMouseOut,l=t.onRowMouseOver,c=t.onRowRightClick,d=t.rowData,p=t.style,h={"aria-rowindex":n+1};return(o||a||s||l||c)&&(h["aria-label"]="row",h.tabIndex=0,o&&(h.onClick=function(m){return o({event:m,index:n,rowData:d})}),a&&(h.onDoubleClick=function(m){return a({event:m,index:n,rowData:d})}),s&&(h.onMouseOut=function(m){return s({event:m,index:n,rowData:d})}),l&&(h.onMouseOver=function(m){return l({event:m,index:n,rowData:d})}),c&&(h.onContextMenu=function(m){return c({event:m,index:n,rowData:d})})),$.exports.createElement("div",Me({},h,{className:e,key:r,role:"row",style:p}),i)}d7.propTypes=null;var f7=function(t){Cr(e,t);function e(){return Ni(this,e),Jr(this,rr(e).apply(this,arguments))}return e}($.exports.Component);ne(f7,"defaultProps",{cellDataGetter:_pe,cellRenderer:Tpe,defaultSortDirection:Zs.ASC,flexGrow:0,flexShrink:1,headerRenderer:u7,style:{}});f7.propTypes={};function aP(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Gu(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?aP(i,!0).forEach(function(n){ne(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):aP(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var p7=function(t){Cr(e,t);function e(i){var n;return Ni(this,e),n=Jr(this,rr(e).call(this,i)),n.state={scrollbarWidth:0},n._createColumn=n._createColumn.bind(re(n)),n._createRow=n._createRow.bind(re(n)),n._onScroll=n._onScroll.bind(re(n)),n._onSectionRendered=n._onSectionRendered.bind(re(n)),n._setRef=n._setRef.bind(re(n)),n}return Fi(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(n){var r=n.alignment,o=n.index;if(this.Grid){var a=this.Grid.getOffsetForCell({alignment:r,rowIndex:o}),s=a.scrollTop;return s}return 0}},{key:"invalidateCellSizeAfterRender",value:function(n){var r=n.columnIndex,o=n.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:o,columnIndex:r})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.columnIndex,o=r===void 0?0:r,a=n.rowIndex,s=a===void 0?0:a;this.Grid&&this.Grid.recomputeGridSize({rowIndex:s,columnIndex:o})}},{key:"recomputeRowHeights",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:n})}},{key:"scrollToPosition",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:n})}},{key:"scrollToRow",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:n})}},{key:"getScrollbarWidth",value:function(){if(this.Grid){var n=dl.exports.findDOMNode(this.Grid),r=n.clientWidth||0,o=n.offsetWidth||0;return o-r}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var n=this,r=this.props,o=r.children,a=r.className,s=r.disableHeader,l=r.gridClassName,c=r.gridStyle,d=r.headerHeight,p=r.headerRowRenderer,h=r.height,m=r.id,y=r.noRowsRenderer,w=r.rowClassName,g=r.rowStyle,A=r.scrollToIndex,x=r.style,T=r.width,E=this.state.scrollbarWidth,z=s?h:h-d,M=typeof w=="function"?w({index:-1}):w,B=typeof g=="function"?g({index:-1}):g;return this._cachedColumnStyles=[],$.exports.Children.toArray(o).forEach(function(L,F){var H=n._getFlexStyleForColumn(L,L.props.style);n._cachedColumnStyles[F]=Gu({overflow:"hidden"},H)}),$.exports.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":$.exports.Children.toArray(o).length,"aria-rowcount":this.props.rowCount,className:nt("ReactVirtualized__Table",a),id:m,role:"grid",style:x},!s&&p({className:nt("ReactVirtualized__Table__headerRow",M),columns:this._getHeaderColumns(),style:Gu({height:d,overflow:"hidden",paddingRight:E,width:T},B)}),$.exports.createElement(Js,Me({},this.props,{"aria-readonly":null,autoContainerWidth:!0,className:nt("ReactVirtualized__Table__Grid",l),cellRenderer:this._createRow,columnWidth:T,columnCount:1,height:z,id:void 0,noContentRenderer:y,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:E,scrollToRow:A,style:Gu({},c,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(n){var r=n.column,o=n.columnIndex,a=n.isScrolling,s=n.parent,l=n.rowData,c=n.rowIndex,d=this.props.onColumnClick,p=r.props,h=p.cellDataGetter,m=p.cellRenderer,y=p.className,w=p.columnData,g=p.dataKey,A=p.id,x=h({columnData:w,dataKey:g,rowData:l}),T=m({cellData:x,columnData:w,columnIndex:o,dataKey:g,isScrolling:a,parent:s,rowData:l,rowIndex:c}),E=function(L){d&&d({columnData:w,dataKey:g,event:L})},z=this._cachedColumnStyles[o],M=typeof T=="string"?T:null;return $.exports.createElement("div",{"aria-colindex":o+1,"aria-describedby":A,className:nt("ReactVirtualized__Table__rowColumn",y),key:"Row"+c+"-Col"+o,onClick:E,role:"gridcell",style:z,title:M},T)}},{key:"_createHeader",value:function(n){var r=n.column,o=n.index,a=this.props,s=a.headerClassName,l=a.headerStyle,c=a.onHeaderClick,d=a.sort,p=a.sortBy,h=a.sortDirection,m=r.props,y=m.columnData,w=m.dataKey,g=m.defaultSortDirection,A=m.disableSort,x=m.headerRenderer,T=m.id,E=m.label,z=!A&&d,M=nt("ReactVirtualized__Table__headerColumn",s,r.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:z}),B=this._getFlexStyleForColumn(r,Gu({},l,{},r.props.headerStyle)),L=x({columnData:y,dataKey:w,disableSort:A,label:E,sortBy:p,sortDirection:h}),F,H,X,de,we;if(z||c){var Ee=p!==w,ke=Ee?g:h===Zs.DESC?Zs.ASC:Zs.DESC,Be=function(Pe){z&&d({defaultSortDirection:g,event:Pe,sortBy:w,sortDirection:ke}),c&&c({columnData:y,dataKey:w,event:Pe})},De=function(Pe){(Pe.key==="Enter"||Pe.key===" ")&&Be(Pe)};we=r.props["aria-label"]||E||w,de="none",X=0,F=Be,H=De}return p===w&&(de=h===Zs.ASC?"ascending":"descending"),$.exports.createElement("div",{"aria-label":we,"aria-sort":de,className:M,id:T,key:"Header-Col"+o,onClick:F,onKeyDown:H,role:"columnheader",style:B,tabIndex:X},L)}},{key:"_createRow",value:function(n){var r=this,o=n.rowIndex,a=n.isScrolling,s=n.key,l=n.parent,c=n.style,d=this.props,p=d.children,h=d.onRowClick,m=d.onRowDoubleClick,y=d.onRowRightClick,w=d.onRowMouseOver,g=d.onRowMouseOut,A=d.rowClassName,x=d.rowGetter,T=d.rowRenderer,E=d.rowStyle,z=this.state.scrollbarWidth,M=typeof A=="function"?A({index:o}):A,B=typeof E=="function"?E({index:o}):E,L=x({index:o}),F=$.exports.Children.toArray(p).map(function(de,we){return r._createColumn({column:de,columnIndex:we,isScrolling:a,parent:l,rowData:L,rowIndex:o,scrollbarWidth:z})}),H=nt("ReactVirtualized__Table__row",M),X=Gu({},c,{height:this._getRowHeight(o),overflow:"hidden",paddingRight:z},B);return T({className:H,columns:F,index:o,isScrolling:a,key:s,onRowClick:h,onRowDoubleClick:m,onRowRightClick:y,onRowMouseOver:w,onRowMouseOut:g,rowData:L,style:X})}},{key:"_getFlexStyleForColumn",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o="".concat(n.props.flexGrow," ").concat(n.props.flexShrink," ").concat(n.props.width,"px"),a=Gu({},r,{flex:o,msFlex:o,WebkitFlex:o});return n.props.maxWidth&&(a.maxWidth=n.props.maxWidth),n.props.minWidth&&(a.minWidth=n.props.minWidth),a}},{key:"_getHeaderColumns",value:function(){var n=this,r=this.props,o=r.children,a=r.disableHeader,s=a?[]:$.exports.Children.toArray(o);return s.map(function(l,c){return n._createHeader({column:l,index:c})})}},{key:"_getRowHeight",value:function(n){var r=this.props.rowHeight;return typeof r=="function"?r({index:n}):r}},{key:"_onScroll",value:function(n){var r=n.clientHeight,o=n.scrollHeight,a=n.scrollTop,s=this.props.onScroll;s({clientHeight:r,scrollHeight:o,scrollTop:a})}},{key:"_onSectionRendered",value:function(n){var r=n.rowOverscanStartIndex,o=n.rowOverscanStopIndex,a=n.rowStartIndex,s=n.rowStopIndex,l=this.props.onRowsRendered;l({overscanStartIndex:r,overscanStopIndex:o,startIndex:a,stopIndex:s})}},{key:"_setRef",value:function(n){this.Grid=n}},{key:"_setScrollbarWidth",value:function(){var n=this.getScrollbarWidth();this.setState({scrollbarWidth:n})}}]),e}($.exports.PureComponent);ne(p7,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:QF,overscanRowCount:10,rowRenderer:d7,headerRowRenderer:l7,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}});p7.propTypes={};var ul=[],Ph=null,Lc=null;function h7(){Lc&&(Lc=null,document.body&&Ph!=null&&(document.body.style.pointerEvents=Ph),Ph=null)}function Spe(){h7(),ul.forEach(function(t){return t.__resetIsScrolling()})}function Cpe(){Lc&&nf(Lc);var t=0;ul.forEach(function(e){t=Math.max(t,e.props.scrollingResetTimeInterval)}),Lc=NC(Spe,t)}function m7(t){t.currentTarget===window&&Ph==null&&document.body&&(Ph=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),Cpe(),ul.forEach(function(e){e.props.scrollElement===t.currentTarget&&e.__handleWindowScrollEvent()})}function sP(t,e){ul.some(function(i){return i.props.scrollElement===e})||e.addEventListener("scroll",m7),ul.push(t)}function lP(t,e){ul=ul.filter(function(i){return i!==t}),ul.length||(e.removeEventListener("scroll",m7),Lc&&(nf(Lc),h7()))}var YC=function(e){return e===window},ch=function(e){return e.getBoundingClientRect()};function cP(t,e){if(t)if(YC(t)){var i=window,n=i.innerHeight,r=i.innerWidth;return{height:typeof n=="number"?n:0,width:typeof r=="number"?r:0}}else return ch(t);else return{height:e.serverHeight,width:e.serverWidth}}function Epe(t,e){if(YC(e)&&document.documentElement){var i=document.documentElement,n=ch(t),r=ch(i);return{top:n.top-r.top,left:n.left-r.left}}else{var o=g7(e),a=ch(t),s=ch(e);return{top:a.top+o.top-s.top,left:a.left+o.left-s.left}}}function g7(t){return YC(t)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:t.scrollTop,left:t.scrollLeft}}var uP,dP;function fP(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function zpe(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?fP(i,!0).forEach(function(n){ne(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):fP(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var Ipe=150,b7=function(){return typeof window!="undefined"?window:void 0},Rpe=(dP=uP=function(t){Cr(e,t);function e(){var i,n;Ni(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=Jr(this,(i=rr(e)).call.apply(i,[this].concat(o))),ne(re(n),"_window",b7()),ne(re(n),"_isMounted",!1),ne(re(n),"_positionFromTop",0),ne(re(n),"_positionFromLeft",0),ne(re(n),"_detectElementResize",void 0),ne(re(n),"_child",void 0),ne(re(n),"state",zpe({},cP(n.props.scrollElement,n.props),{isScrolling:!1,scrollLeft:0,scrollTop:0})),ne(re(n),"_registerChild",function(s){s&&!(s instanceof Element)&&console.warn("WindowScroller registerChild expects to be passed Element or null"),n._child=s,n.updatePosition()}),ne(re(n),"_onChildScroll",function(s){var l=s.scrollTop;if(n.state.scrollTop!==l){var c=n.props.scrollElement;c&&(typeof c.scrollTo=="function"?c.scrollTo(0,l+n._positionFromTop):c.scrollTop=l+n._positionFromTop)}}),ne(re(n),"_registerResizeListener",function(s){s===window?window.addEventListener("resize",n._onResize,!1):n._detectElementResize.addResizeListener(s,n._onResize)}),ne(re(n),"_unregisterResizeListener",function(s){s===window?window.removeEventListener("resize",n._onResize,!1):s&&n._detectElementResize.removeResizeListener(s,n._onResize)}),ne(re(n),"_onResize",function(){n.updatePosition()}),ne(re(n),"__handleWindowScrollEvent",function(){if(!!n._isMounted){var s=n.props.onScroll,l=n.props.scrollElement;if(l){var c=g7(l),d=Math.max(0,c.left-n._positionFromLeft),p=Math.max(0,c.top-n._positionFromTop);n.setState({isScrolling:!0,scrollLeft:d,scrollTop:p}),s({scrollLeft:d,scrollTop:p})}}}),ne(re(n),"__resetIsScrolling",function(){n.setState({isScrolling:!1})}),n}return Fi(e,[{key:"updatePosition",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollElement,r=this.props.onResize,o=this.state,a=o.height,s=o.width,l=this._child||dl.exports.findDOMNode(this);if(l instanceof Element&&n){var c=Epe(l,n);this._positionFromTop=c.top,this._positionFromLeft=c.left}var d=cP(n,this.props);(a!==d.height||s!==d.width)&&(this.setState({height:d.height,width:d.width}),r({height:d.height,width:d.width}))}},{key:"componentDidMount",value:function(){var n=this.props.scrollElement;this._detectElementResize=KF(),this.updatePosition(n),n&&(sP(this,n),this._registerResizeListener(n)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(n,r){var o=this.props.scrollElement,a=n.scrollElement;a!==o&&a!=null&&o!=null&&(this.updatePosition(o),lP(this,a),sP(this,o),this._unregisterResizeListener(a),this._registerResizeListener(o))}},{key:"componentWillUnmount",value:function(){var n=this.props.scrollElement;n&&(lP(this,n),this._unregisterResizeListener(n)),this._isMounted=!1}},{key:"render",value:function(){var n=this.props.children,r=this.state,o=r.isScrolling,a=r.scrollTop,s=r.scrollLeft,l=r.height,c=r.width;return n({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:l,isScrolling:o,scrollLeft:s,scrollTop:a,width:c})}}]),e}($.exports.PureComponent),ne(uP,"propTypes",null),dP);ne(Rpe,"defaultProps",{onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:Ipe,scrollElement:b7(),serverHeight:0,serverWidth:0});const Ppe=()=>P("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Lpe=()=>P("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",width:"24",height:"24",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Ope=()=>ue("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",width:"24",height:"24",children:[P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),Mpe=Fe.div(t=>({display:"grid",gridTemplateColumns:"1fr",rowGap:8,padding:"8px 16px",backgroundColor:"white",borderLeft:`4px solid ${t.isJumpedTo?Ro.dark_blue:"transparent"}`})),Dpe=Fe.div({fontSize:Tr.font_size_5}),Bpe=Fe.div(t=>({display:"grid",columnGap:4,gridTemplateColumns:t.hasMultipleActions?"1fr auto auto":"1fr auto",justifyContent:"start",alignItems:"center"})),Fpe=Fe.div({display:"grid",columnGap:4,gridTemplateColumns:"auto auto",justifyContent:"start",alignItems:"center",fontSize:Tr.font_size_2,overflowWrap:"anywhere","& p":{margin:0}}),_y=24,Npe=Fe.img({objectFit:"cover",objectPosition:"center",borderRadius:"50%",width:_y,height:_y}),jpe=Fe.div({width:_y,height:_y}),pP=Fe.button({padding:"2px 8px !important",display:"flex",justifyContent:"center",alignItems:"center"}),v7=({sessionIndex:t,speakerName:e,text:i,startTime:n,speakerId:r,speakerPictureSrc:o,searchQuery:a,handleJumpToVideoClip:s,handleJumpToTranscript:l,componentRef:c})=>{const[d,p]=$.exports.useState(!1),h=$.exports.useRef(null);$.exports.useImperativeHandle(c,()=>({scrollIntoView:()=>{var g;(g=h.current)==null||g.scrollIntoView({behavior:"smooth",block:"center"}),p(!0),setTimeout(()=>{p(!1)},5e3)}}));const m=r?P(pn,{to:`/people/${r}`,children:e}):P("div",{children:e}),y=o?P(Npe,{src:o,alt:e}):P(jpe,{children:P(Ppe,{})}),w=$.exports.useMemo(()=>{const g=Im(a||""),A=zm(g.split(" "));if(!g||A.length===0)return[];const x=A.map(E=>yy(E)),T=A.map((E,z)=>new RegExp(`\\b(${E}|${x[z]})`,"g"));return a&&a.trim().length>0&&T.push(new RegExp(a.trim(),"g")),T},[a]);return ue(Mpe,{isJumpedTo:d,ref:h,children:[P(Dpe,{children:P(CF,{caseSensitive:!1,searchWords:w,textToHighlight:i})}),ue(Bpe,{hasMultipleActions:l!==void 0,children:[ue(Fpe,{children:[y,ue("div",{children:[m,P("p",{children:`${Se.session} ${t+1}`}),P("p",{children:n})]})]}),P("div",{children:P(bs,{position:"top right",content:Se.jump_to_sentence_video,size:"mini",trigger:P(pP,{"aria-label":Se.jump_to_sentence_video,className:"mzp-c-button mzp-t-neutral",onClick:s,children:P(Ope,{})})})}),l&&P("div",{children:P(bs,{position:"top right",content:Se.jump_to_sentence_transcript,size:"mini",trigger:P(pP,{"aria-label":Se.jump_to_sentence_transcript,className:"mzp-c-button mzp-t-neutral",onClick:l,children:P(Lpe,{})})})})]})]})};function Lh(t){return`${t}`.padStart(2,"0")}function y7(t){const e=Math.floor(t),i=Math.floor(e/3600),n=Math.floor((e-i*3600)/60),r=e-i*3600-n*60;return`${Lh(i)}:${Lh(n)}:${Lh(r)}`}const Upe=({searchQuery:t,sentences:e,jumpToVideoClip:i,jumpToTranscript:n})=>{const r=(c,d)=>()=>i(c,d),o=c=>()=>{n(c)},a=new Bfe({fixedWidth:!0,defaultHeight:100}),s=()=>{a.clearAll()},l=({index:c,parent:d,key:p,style:h})=>P(JF,{cache:a,parent:d,columnIndex:0,rowIndex:c,children:P("div",{style:h,role:"row",children:P("div",{style:{margin:"0 0 16px 0"},role:"cell",children:P(v7,{sessionIndex:e[c].session_index,speakerName:e[c].speaker_name,text:e[c].text,startTime:y7(e[c].start_time),handleJumpToVideoClip:r(e[c].session_index,e[c].start_time),searchQuery:t,speakerId:e[c].speaker_id,speakerPictureSrc:e[c].speaker_pictureSrc,handleJumpToTranscript:o(e[c].index)})})})},p);return P(XF,{onResize:s,children:({width:c,height:d})=>P(i7,{deferredMeasurementCache:a,height:d,rowCount:e.length,rowHeight:a.rowHeight,rowRenderer:l,scrollToIndex:0,style:{willChange:""},width:c})})},Gpe=Fe.div({display:"flex",flexDirection:"column",height:"100%"}),Hpe=Fe.div({display:"flex",flexDirection:"column",justifyContent:"start",marginBottom:"16px","div:first-of-type":{fontSize:Tr.font_size_7,fontWeight:600},[`@media (min-width:${Dt.tablet})`]:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}}),Ype=Fe.div(t=>({minHeight:t.hasSearchResults?"80vh":0,[`@media (min-width:${Dt.tablet})`]:{minHeight:t.hasSearchResults?"50vh":0},[`@media (min-aspect-ratio:5/4), (min-width:${Dt.desktop})`]:{flex:"1 1 auto",minHeight:0}})),Wpe=({searchQuery:t,sentences:e,jumpToVideoClip:i,jumpToTranscript:n})=>{const[r,o]=$.exports.useState(t),a=h=>{o(h.target.value)},[s,l]=$.exports.useState(t),c=h=>{h.preventDefault(),l(r)},d=$.exports.useMemo(()=>e.data?e.data.map(({text:h})=>{const m=Im(h),w=zm(m.split(" ")).map(g=>yy(g).toLowerCase());return new Set(w)}):[],[e.data]),p=$.exports.useMemo(()=>{if(e.data){if(!s.trim())return e.data;const h=Im(s),m=zm(h.split(" "));if(!h||m.length===0)return[];const y=m.map(w=>yy(w).toLowerCase());return e.data.filter((w,g)=>y.some(A=>d[g].has(A)))}return[]},[e.data,d,s]);return ue(Gpe,{children:[ue(Hpe,{children:[P("div",{children:Se.search_transcript}),P("div",{children:e.data&&Se.number_of_results.replace("{number}",`${p.length}`)})]}),P("form",{className:"mzp-c-form",role:"search",onSubmit:c,children:P("input",{style:{width:"100%"},type:"search",placeholder:Se.search_transcript_placeholder,value:r,onChange:a})}),P(_g,{data:"transcript",isLoading:e.isLoading,error:e.error,notFound:!e.data||e.data.length===0,children:e.data&&P(Ype,{hasSearchResults:p.length!==0,children:P(Upe,{searchQuery:s,sentences:p,jumpToVideoClip:i,jumpToTranscript:n})})})]})};var uh;typeof window!="undefined"?uh=window:typeof zo!="undefined"?uh=zo:typeof self!="undefined"?uh=self:uh={};var Q=uh,Vpe={},$pe=Object.freeze(Object.defineProperty({__proto__:null,default:Vpe},Symbol.toStringTag,{value:"Module"})),Qpe=Q2($pe),hP=typeof zo!="undefined"?zo:typeof window!="undefined"?window:{},qpe=Qpe,dh;typeof document!="undefined"?dh=document:(dh=hP["__GLOBAL_DOCUMENT_CACHE@4"],dh||(dh=hP["__GLOBAL_DOCUMENT_CACHE@4"]=qpe));var Le=dh,Kpe=Xpe;function Xpe(t,e){var i,n=null;try{i=JSON.parse(t,e)}catch(r){n=r}return[n,i]}var v2={exports:{}};(function(t,e){function i(l){if(l&&typeof l=="object"){var c=l.which||l.keyCode||l.charCode;c&&(l=c)}if(typeof l=="number")return a[l];var d=String(l),p=n[d.toLowerCase()];if(p)return p;var p=r[d.toLowerCase()];if(p)return p;if(d.length===1)return d.charCodeAt(0)}i.isEventKey=function(c,d){if(c&&typeof c=="object"){var p=c.which||c.keyCode||c.charCode;if(p==null)return!1;if(typeof d=="string"){var h=n[d.toLowerCase()];if(h)return h===p;var h=r[d.toLowerCase()];if(h)return h===p}else if(typeof d=="number")return d===p;return!1}},e=t.exports=i;var n=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(o=97;o<123;o++)n[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)n[o-48]=o;for(o=1;o<13;o++)n["f"+o]=o+111;for(o=0;o<10;o++)n["numpad "+o]=o+96;var a=e.names=e.title={};for(o in n)a[n[o]]=o;for(var s in r)n[s]=r[s]})(v2,v2.exports);var ft=v2.exports,WC={exports:{}},Jpe=Q2(QQ),Zpe=the,ehe=Object.prototype.toString;function the(t){if(!t)return!1;var e=ehe.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window!="undefined"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}var ihe=Q,nhe=function(e,i){return i===void 0&&(i=!1),function(n,r,o){if(n){e(n);return}if(r.statusCode>=400&&r.statusCode<=599){var a=o;if(i)if(ihe.TextDecoder){var s=rhe(r.headers&&r.headers["content-type"]);try{a=new TextDecoder(s).decode(o)}catch{}}else a=String.fromCharCode.apply(null,new Uint8Array(o));e({cause:a});return}e(null,o)}};function rhe(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,i){var n=i.split("="),r=n[0],o=n[1];return r.trim()==="charset"?o.trim():e},"utf-8")}var ohe=nhe,w7=Q,ahe=Jpe,she=Zpe;da.httpHandler=ohe;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var lhe=function(e){var i={};return e&&e.trim().split(`
`).forEach(function(n){var r=n.indexOf(":"),o=n.slice(0,r).trim().toLowerCase(),a=n.slice(r+1).trim();typeof i[o]=="undefined"?i[o]=a:Array.isArray(i[o])?i[o].push(a):i[o]=[i[o],a]}),i};WC.exports=da;WC.exports.default=da;da.XMLHttpRequest=w7.XMLHttpRequest||fhe;da.XDomainRequest="withCredentials"in new da.XMLHttpRequest?da.XMLHttpRequest:w7.XDomainRequest;che(["get","put","post","patch","head","delete"],function(t){da[t==="delete"?"del":t]=function(e,i,n){return i=A7(e,i,n),i.method=t.toUpperCase(),x7(i)}});function che(t,e){for(var i=0;i<t.length;i++)e(t[i])}function uhe(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function A7(t,e,i){var n=t;return she(e)?(i=e,typeof t=="string"&&(n={uri:t})):n=ahe({},e,{uri:t}),n.callback=i,n}function da(t,e,i){return e=A7(t,e,i),x7(e)}function x7(t){if(typeof t.callback=="undefined")throw new Error("callback argument missing");var e=!1,i=function(T,E,z){e||(e=!0,t.callback(T,E,z))};function n(){s.readyState===4&&setTimeout(a,0)}function r(){var x=void 0;if(s.response?x=s.response:x=s.responseText||dhe(s),w)try{x=JSON.parse(x)}catch{}return x}function o(x){return clearTimeout(g),x instanceof Error||(x=new Error(""+(x||"Unknown XMLHttpRequest Error"))),x.statusCode=0,i(x,A)}function a(){if(!c){var x;clearTimeout(g),t.useXDR&&s.status===void 0?x=200:x=s.status===1223?204:s.status;var T=A,E=null;return x!==0?(T={body:r(),statusCode:x,method:p,headers:{},url:d,rawRequest:s},s.getAllResponseHeaders&&(T.headers=lhe(s.getAllResponseHeaders()))):E=new Error("Internal XMLHttpRequest Error"),i(E,T,T.body)}}var s=t.xhr||null;s||(t.cors||t.useXDR?s=new da.XDomainRequest:s=new da.XMLHttpRequest);var l,c,d=s.url=t.uri||t.url,p=s.method=t.method||"GET",h=t.body||t.data,m=s.headers=t.headers||{},y=!!t.sync,w=!1,g,A={body:void 0,headers:{},statusCode:0,method:p,url:d,rawRequest:s};if("json"in t&&t.json!==!1&&(w=!0,m.accept||m.Accept||(m.Accept="application/json"),p!=="GET"&&p!=="HEAD"&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),h=JSON.stringify(t.json===!0?h:t.json))),s.onreadystatechange=n,s.onload=a,s.onerror=o,s.onprogress=function(){},s.onabort=function(){c=!0},s.ontimeout=o,s.open(p,d,!y,t.username,t.password),y||(s.withCredentials=!!t.withCredentials),!y&&t.timeout>0&&(g=setTimeout(function(){if(!c){c=!0,s.abort("timeout");var x=new Error("XMLHttpRequest timeout");x.code="ETIMEDOUT",o(x)}},t.timeout)),s.setRequestHeader)for(l in m)m.hasOwnProperty(l)&&s.setRequestHeader(l,m[l]);else if(t.headers&&!uhe(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(s.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(s),s.send(h||null),s}function dhe(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function fhe(){}var k7=WC.exports,_7={exports:{}},mP=Le,VC=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function Ur(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}Ur.prototype=VC(Error.prototype);Ur.prototype.constructor=Ur;Ur.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function $C(t){function e(n,r,o,a){return(n|0)*3600+(r|0)*60+(o|0)+(a|0)/1e3}var i=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}function Oh(){this.values=VC(null)}Oh.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function fh(t,e,i,n){var r=n?t.split(n):[t];for(var o in r)if(typeof r[o]=="string"){var a=r[o].split(i);if(a.length===2){var s=a[0],l=a[1];e(s,l)}}}function phe(t,e,i){var n=t;function r(){var s=$C(t);if(s===null)throw new Ur(Ur.Errors.BadTimeStamp,"Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),s}function o(s,l){var c=new Oh;fh(s,function(d,p){switch(d){case"region":for(var h=i.length-1;h>=0;h--)if(i[h].id===p){c.set(d,i[h].region);break}break;case"vertical":c.alt(d,p,["rl","lr"]);break;case"line":var m=p.split(","),y=m[0];c.integer(d,y),c.percent(d,y)&&c.set("snapToLines",!1),c.alt(d,y,["auto"]),m.length===2&&c.alt("lineAlign",m[1],["start","center","end"]);break;case"position":m=p.split(","),c.percent(d,m[0]),m.length===2&&c.alt("positionAlign",m[1],["start","center","end"]);break;case"size":c.percent(d,p);break;case"align":c.alt(d,p,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=c.get("region",null),l.vertical=c.get("vertical","");try{l.line=c.get("line","auto")}catch{}l.lineAlign=c.get("lineAlign","start"),l.snapToLines=c.get("snapToLines",!0),l.size=c.get("size",100);try{l.align=c.get("align","center")}catch{l.align=c.get("align","middle")}try{l.position=c.get("position","auto")}catch{l.position=c.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=c.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=r(),a(),t.substr(0,3)!=="-->")throw new Ur(Ur.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+n);t=t.substr(3),a(),e.endTime=r(),a(),o(t,e)}var ok=mP.createElement&&mP.createElement("textarea"),hhe={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},gP={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},mhe={v:"title",lang:"lang"},bP={rt:"ruby"};function T7(t,e){function i(){if(!e)return null;function y(g){return e=e.substr(g.length),g}var w=e.match(/^([^<]*)(<[^>]*>?)?/);return y(w[1]?w[1]:w[2])}function n(y){return ok.innerHTML=y,y=ok.textContent,ok.textContent="",y}function r(y,w){return!bP[w.localName]||bP[w.localName]===y.localName}function o(y,w){var g=hhe[y];if(!g)return null;var A=t.document.createElement(g),x=mhe[y];return x&&w&&(A[x]=w.trim()),A}for(var a=t.document.createElement("div"),s=a,l,c=[];(l=i())!==null;){if(l[0]==="<"){if(l[1]==="/"){c.length&&c[c.length-1]===l.substr(2).replace(">","")&&(c.pop(),s=s.parentNode);continue}var d=$C(l.substr(1,l.length-2)),p;if(d){p=t.document.createProcessingInstruction("timestamp",d),s.appendChild(p);continue}var h=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h||(p=o(h[1],h[3]),!p)||!r(s,p))continue;if(h[2]){var m=h[2].split(".");m.forEach(function(y){var w=/^bg_/.test(y),g=w?y.slice(3):y;if(gP.hasOwnProperty(g)){var A=w?"background-color":"color",x=gP[g];p.style[A]=x}}),p.className=m.join(" ")}c.push(h[1]),s.appendChild(p),s=p;continue}s.appendChild(t.document.createTextNode(n(l)))}return a}var vP=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function ghe(t){for(var e=0;e<vP.length;e++){var i=vP[e];if(t>=i[0]&&t<=i[1])return!0}return!1}function bhe(t){var e=[],i="",n;if(!t||!t.childNodes)return"ltr";function r(s,l){for(var c=l.childNodes.length-1;c>=0;c--)s.push(l.childNodes[c])}function o(s){if(!s||!s.length)return null;var l=s.pop(),c=l.textContent||l.innerText;if(c){var d=c.match(/^.*(\n|\r)/);return d?(s.length=0,d[0]):c}if(l.tagName==="ruby")return o(s);if(l.childNodes)return r(s,l),o(s)}for(r(e,t);i=o(e);)for(var a=0;a<i.length;a++)if(n=i.charCodeAt(a),ghe(n))return"rtl";return"ltr"}function vhe(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,i=e.textTrackList,n=0,r=0;r<i.length&&i[r]!==e;r++)i[r].mode==="showing"&&n++;return++n*-1}function hA(){}hA.prototype.applyStyles=function(t,e){e=e||this.div;for(var i in t)t.hasOwnProperty(i)&&(e.style[i]=t[i])};hA.prototype.formatStyle=function(t,e){return t===0?0:t+e};function Ty(t,e,i){hA.call(this),this.cue=e,this.cueDiv=T7(t,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=t.document.createElement("div"),n={direction:bhe(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":r=e.position;break;case"center":r=e.position-e.size/2;break;case"end":r=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(o){this.applyStyles({top:this.formatStyle(o.top,"px"),bottom:this.formatStyle(o.bottom,"px"),left:this.formatStyle(o.left,"px"),right:this.formatStyle(o.right,"px"),height:this.formatStyle(o.height,"px"),width:this.formatStyle(o.width,"px")})}}Ty.prototype=VC(hA.prototype);Ty.prototype.constructor=Ty;function qn(t){var e,i,n,r;if(t.div){i=t.div.offsetHeight,n=t.div.offsetWidth,r=t.div.offsetTop;var o=(o=t.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();t=t.div.getBoundingClientRect(),e=o?Math.max(o[0]&&o[0].height||0,t.height/o.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||i,this.bottom=t.bottom||r+(t.height||i),this.width=t.width||n,this.lineHeight=e!==void 0?e:t.lineHeight}qn.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};qn.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};qn.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};qn.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};qn.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};qn.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),i=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),n=e*i;return n/(this.height*this.width)};qn.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};qn.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,i=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var r={left:t.left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||i};return r};function yhe(t,e,i,n){function r(g,A){for(var x,T=new qn(g),E=1,z=0;z<A.length;z++){for(;g.overlapsOppositeAxis(i,A[z])||g.within(i)&&g.overlapsAny(n);)g.move(A[z]);if(g.within(i))return g;var M=g.intersectPercentage(i);E>M&&(x=new qn(g),E=M),g=new qn(T)}return x||T}var o=new qn(e),a=e.cue,s=vhe(a),l=[];if(a.snapToLines){var c;switch(a.vertical){case"":l=["+y","-y"],c="height";break;case"rl":l=["+x","-x"],c="width";break;case"lr":l=["-x","+x"],c="width";break}var d=o.lineHeight,p=d*Math.round(s),h=i[c]+d,m=l[0];Math.abs(p)>h&&(p=p<0?-1:1,p*=Math.ceil(h/d)*d),s<0&&(p+=a.vertical===""?i.height:i.width,l=l.reverse()),o.move(m,p)}else{var y=o.lineHeight/i.height*100;switch(a.lineAlign){case"center":s-=y/2;break;case"end":s-=y;break}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(s,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(s,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(s,"%")});break}l=["+y","-x","+x","-y"],o=new qn(e)}var w=r(o,l);e.move(w.toCSSCompatValues(i))}function Df(){}Df.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};Df.convertCueToDOMTree=function(t,e){return!t||!e?null:T7(t,e)};var whe=.05,Ahe="sans-serif",xhe="1.5%";Df.processCues=function(t,e,i){if(!t||!e||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var n=t.document.createElement("div");n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin=xhe,i.appendChild(n);function r(d){for(var p=0;p<d.length;p++)if(d[p].hasBeenReset||!d[p].displayState)return!0;return!1}if(!r(e)){for(var o=0;o<e.length;o++)n.appendChild(e[o].displayState);return}var a=[],s=qn.getSimpleBoxPosition(n),l=Math.round(s.height*whe*100)/100,c={font:l+"px "+Ahe};(function(){for(var d,p,h=0;h<e.length;h++)p=e[h],d=new Ty(t,p,c),n.appendChild(d.div),yhe(t,d,s,a),p.displayState=d.div,a.push(qn.getSimpleBoxPosition(d))})()};Df.Parser=function(t,e,i){i||(i=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]};Df.Parser.prototype={reportOrThrowError:function(t){if(t instanceof Ur)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function i(){for(var d=e.buffer,p=0;p<d.length&&d[p]!=="\r"&&d[p]!==`
`;)++p;var h=d.substr(0,p);return d[p]==="\r"&&++p,d[p]===`
`&&++p,e.buffer=d.substr(p),h}function n(d){var p=new Oh;if(fh(d,function(m,y){switch(m){case"id":p.set(m,y);break;case"width":p.percent(m,y);break;case"lines":p.integer(m,y);break;case"regionanchor":case"viewportanchor":var w=y.split(",");if(w.length!==2)break;var g=new Oh;if(g.percent("x",w[0]),g.percent("y",w[1]),!g.has("x")||!g.has("y"))break;p.set(m+"X",g.get("x")),p.set(m+"Y",g.get("y"));break;case"scroll":p.alt(m,y,["up"]);break}},/=/,/\s/),p.has("id")){var h=new(e.vttjs.VTTRegion||e.window.VTTRegion);h.width=p.get("width",100),h.lines=p.get("lines",3),h.regionAnchorX=p.get("regionanchorX",0),h.regionAnchorY=p.get("regionanchorY",100),h.viewportAnchorX=p.get("viewportanchorX",0),h.viewportAnchorY=p.get("viewportanchorY",100),h.scroll=p.get("scroll",""),e.onregion&&e.onregion(h),e.regionList.push({id:p.get("id"),region:h})}}function r(d){var p=new Oh;fh(d,function(h,m){switch(h){case"MPEGT":p.integer(h+"S",m);break;case"LOCA":p.set(h+"L",$C(m));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:p.get("MPEGTS"),LOCAL:p.get("LOCAL")})}function o(d){d.match(/X-TIMESTAMP-MAP/)?fh(d,function(p,h){switch(p){case"X-TIMESTAMP-MAP":r(h);break}},/=/):fh(d,function(p,h){switch(p){case"Region":n(h);break}},/:/)}try{var a;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;a=i();var s=a.match(/^WEBVTT([ \t].*)?$/);if(!s||!s[0])throw new Ur(Ur.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:a=i(),e.state){case"HEADER":/:/.test(a)?o(a):a||(e.state="ID");continue;case"NOTE":a||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){e.state="NOTE";break}if(!a)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",a.indexOf("-->")===-1){e.cue.id=a;continue}case"CUE":try{phe(a,e.cue,e.regionList)}catch(d){e.reportOrThrowError(d),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var c=a.indexOf("-->")!==-1;if(!a||c&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=a.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":a||(e.state="ID");continue}}}catch(d){e.reportOrThrowError(d),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new Ur(Ur.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var khe=Df,_he="auto",The={"":1,lr:1,rl:1},She={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function Che(t){if(typeof t!="string")return!1;var e=The[t.toLowerCase()];return e?t.toLowerCase():!1}function ak(t){if(typeof t!="string")return!1;var e=She[t.toLowerCase()];return e?t.toLowerCase():!1}function S7(t,e,i){this.hasBeenReset=!1;var n="",r=!1,o=t,a=e,s=i,l=null,c="",d=!0,p="auto",h="start",m="auto",y="auto",w=100,g="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(A){n=""+A}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(A){r=!!A}},startTime:{enumerable:!0,get:function(){return o},set:function(A){if(typeof A!="number")throw new TypeError("Start time must be set to a number.");o=A,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(A){if(typeof A!="number")throw new TypeError("End time must be set to a number.");a=A,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return s},set:function(A){s=""+A,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(A){l=A,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return c},set:function(A){var x=Che(A);if(x===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");c=x,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return d},set:function(A){d=!!A,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return p},set:function(A){if(typeof A!="number"&&A!==_he)throw new SyntaxError("Line: an invalid number or illegal string was specified.");p=A,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(A){var x=ak(A);x?(h=x,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return m},set:function(A){if(A<0||A>100)throw new Error("Position must be between 0 and 100.");m=A,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return y},set:function(A){var x=ak(A);x?(y=x,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return w},set:function(A){if(A<0||A>100)throw new Error("Size must be between 0 and 100.");w=A,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return g},set:function(A){var x=ak(A);if(!x)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");g=x,this.hasBeenReset=!0}}}),this.displayState=void 0}S7.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Ehe=S7,zhe={"":!0,up:!0};function Ihe(t){if(typeof t!="string")return!1;var e=zhe[t.toLowerCase()];return e?t.toLowerCase():!1}function qp(t){return typeof t=="number"&&t>=0&&t<=100}function Rhe(){var t=100,e=3,i=0,n=100,r=0,o=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(s){if(!qp(s))throw new Error("Width must be between 0 and 100.");t=s}},lines:{enumerable:!0,get:function(){return e},set:function(s){if(typeof s!="number")throw new TypeError("Lines must be set to a number.");e=s}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(s){if(!qp(s))throw new Error("RegionAnchorX must be between 0 and 100.");n=s}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(s){if(!qp(s))throw new Error("RegionAnchorY must be between 0 and 100.");i=s}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(s){if(!qp(s))throw new Error("ViewportAnchorY must be between 0 and 100.");o=s}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(s){if(!qp(s))throw new Error("ViewportAnchorX must be between 0 and 100.");r=s}},scroll:{enumerable:!0,get:function(){return a},set:function(s){var l=Ihe(s);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):a=l}}})}var Phe=Rhe,ys=Q,cu=_7.exports={WebVTT:khe,VTTCue:Ehe,VTTRegion:Phe};ys.vttjs=cu;ys.WebVTT=cu.WebVTT;var Lhe=cu.VTTCue,Ohe=cu.VTTRegion,Mhe=ys.VTTCue,Dhe=ys.VTTRegion;cu.shim=function(){ys.VTTCue=Lhe,ys.VTTRegion=Ohe};cu.restore=function(){ys.VTTCue=Mhe,ys.VTTRegion=Dhe};ys.VTTCue||cu.shim();var yP=_7.exports;function Bhe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lv(t,e,i){return Bhe()?lv=Reflect.construct:lv=function(r,o,a){var s=[null];s.push.apply(s,o);var l=Function.bind.apply(r,s),c=new l;return a&&Qh(c,a.prototype),c},lv.apply(null,arguments)}var C7={exports:{}};(function(t,e){(function(i){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,r=/^([^\/?#]*)([^]*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(l,c,d){if(d=d||{},l=l.trim(),c=c.trim(),!c){if(!d.alwaysNormalize)return l;var p=s.parseURL(l);if(!p)throw new Error("Error trying to parse base URL.");return p.path=s.normalizePath(p.path),s.buildURLFromParts(p)}var h=s.parseURL(c);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return d.alwaysNormalize?(h.path=s.normalizePath(h.path),s.buildURLFromParts(h)):c;var m=s.parseURL(l);if(!m)throw new Error("Error trying to parse base URL.");if(!m.netLoc&&m.path&&m.path[0]!=="/"){var y=r.exec(m.path);m.netLoc=y[1],m.path=y[2]}m.netLoc&&!m.path&&(m.path="/");var w={scheme:m.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(w.netLoc=m.netLoc,h.path[0]!=="/"))if(!h.path)w.path=m.path,h.params||(w.params=m.params,h.query||(w.query=m.query));else{var g=m.path,A=g.substring(0,g.lastIndexOf("/")+1)+h.path;w.path=s.normalizePath(A)}return w.path===null&&(w.path=d.alwaysNormalize?s.normalizePath(h.path):h.path),s.buildURLFromParts(w)},parseURL:function(l){var c=n.exec(l);return c?{scheme:c[1]||"",netLoc:c[2]||"",path:c[3]||"",params:c[4]||"",query:c[5]||"",fragment:c[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(o,"");l.length!==(l=l.replace(a,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=s})()})(C7);var wP=C7.exports,AP="http://example.com",mA=function(e,i){if(/^[a-z]+:/i.test(i))return i;/^data:/.test(e)&&(e=Q.location&&Q.location.href||"");var n=typeof Q.URL=="function",r=/^\/\//.test(e),o=!Q.location&&!/\/\//i.test(e);if(n?e=new Q.URL(e,Q.location||AP):/\/\//i.test(e)||(e=wP.buildAbsoluteURL(Q.location&&Q.location.href||"",e)),n){var a=new URL(i,e);return o?a.href.slice(AP.length):r?a.href.slice(a.protocol.length):a.href}return wP.buildAbsoluteURL(e,i)},QC=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(n,r){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(r)},e.off=function(n,r){if(!this.listeners[n])return!1;var o=this.listeners[n].indexOf(r);return this.listeners[n]=this.listeners[n].slice(0),this.listeners[n].splice(o,1),o>-1},e.trigger=function(n){var r=this.listeners[n];if(!!r)if(arguments.length===2)for(var o=r.length,a=0;a<o;++a)r[a].call(this,arguments[1]);else for(var s=Array.prototype.slice.call(arguments,1),l=r.length,c=0;c<l;++c)r[c].apply(this,s)},e.dispose=function(){this.listeners={}},e.pipe=function(n){this.on("data",function(r){n.push(r)})},t}(),Fhe=function(e){return Q.atob?Q.atob(e):Buffer.from(e,"base64").toString("binary")};function E7(t){for(var e=Fhe(t),i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}/*! @name m3u8-parser @version 4.7.0 @license Apache-2.0 */var Nhe=function(t){ye(e,t);function e(){var n;return n=t.call(this)||this,n.buffer="",n}var i=e.prototype;return i.push=function(r){var o;for(this.buffer+=r,o=this.buffer.indexOf(`
`);o>-1;o=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,o)),this.buffer=this.buffer.substring(o+1)},e}(QC),jhe=String.fromCharCode(9),sk=function(e){var i=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),n={};return i[1]&&(n.length=parseInt(i[1],10)),i[2]&&(n.offset=parseInt(i[2],10)),n},Uhe=function(){var e="[^=]*",i='"[^"]*"|[^,]*',n="(?:"+e+")=(?:"+i+")";return new RegExp("(?:^|,)("+n+")")},So=function(e){for(var i=e.split(Uhe()),n={},r=i.length,o;r--;)i[r]!==""&&(o=/([^=]*)=(.*)/.exec(i[r]).slice(1),o[0]=o[0].replace(/^\s+|\s+$/g,""),o[1]=o[1].replace(/^\s+|\s+$/g,""),o[1]=o[1].replace(/^['"](.*)['"]$/g,"$1"),n[o[0]]=o[1]);return n},Ghe=function(t){ye(e,t);function e(){var n;return n=t.call(this)||this,n.customParsers=[],n.tagMappers=[],n}var i=e.prototype;return i.push=function(r){var o=this,a,s;if(r=r.trim(),r.length!==0){if(r[0]!=="#"){this.trigger("data",{type:"uri",uri:r});return}var l=this.tagMappers.reduce(function(c,d){var p=d(r);return p===r?c:c.concat([p])},[r]);l.forEach(function(c){for(var d=0;d<o.customParsers.length;d++)if(o.customParsers[d].call(o,c))return;if(c.indexOf("#EXT")!==0){o.trigger("data",{type:"comment",text:c.slice(1)});return}if(c=c.replace("\r",""),a=/^#EXTM3U/.exec(c),a){o.trigger("data",{type:"tag",tagType:"m3u"});return}if(a=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(c),a){s={type:"tag",tagType:"inf"},a[1]&&(s.duration=parseFloat(a[1])),a[2]&&(s.title=a[2]),o.trigger("data",s);return}if(a=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(c),a){s={type:"tag",tagType:"targetduration"},a[1]&&(s.duration=parseInt(a[1],10)),o.trigger("data",s);return}if(a=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(c),a){s={type:"tag",tagType:"version"},a[1]&&(s.version=parseInt(a[1],10)),o.trigger("data",s);return}if(a=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(c),a){s={type:"tag",tagType:"media-sequence"},a[1]&&(s.number=parseInt(a[1],10)),o.trigger("data",s);return}if(a=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(c),a){s={type:"tag",tagType:"discontinuity-sequence"},a[1]&&(s.number=parseInt(a[1],10)),o.trigger("data",s);return}if(a=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(c),a){s={type:"tag",tagType:"playlist-type"},a[1]&&(s.playlistType=a[1]),o.trigger("data",s);return}if(a=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(c),a){s=Me(sk(a[1]),{type:"tag",tagType:"byterange"}),o.trigger("data",s);return}if(a=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(c),a){s={type:"tag",tagType:"allow-cache"},a[1]&&(s.allowed=!/NO/.test(a[1])),o.trigger("data",s);return}if(a=/^#EXT-X-MAP:?(.*)$/.exec(c),a){if(s={type:"tag",tagType:"map"},a[1]){var p=So(a[1]);p.URI&&(s.uri=p.URI),p.BYTERANGE&&(s.byterange=sk(p.BYTERANGE))}o.trigger("data",s);return}if(a=/^#EXT-X-STREAM-INF:?(.*)$/.exec(c),a){if(s={type:"tag",tagType:"stream-inf"},a[1]){if(s.attributes=So(a[1]),s.attributes.RESOLUTION){var h=s.attributes.RESOLUTION.split("x"),m={};h[0]&&(m.width=parseInt(h[0],10)),h[1]&&(m.height=parseInt(h[1],10)),s.attributes.RESOLUTION=m}s.attributes.BANDWIDTH&&(s.attributes.BANDWIDTH=parseInt(s.attributes.BANDWIDTH,10)),s.attributes["PROGRAM-ID"]&&(s.attributes["PROGRAM-ID"]=parseInt(s.attributes["PROGRAM-ID"],10))}o.trigger("data",s);return}if(a=/^#EXT-X-MEDIA:?(.*)$/.exec(c),a){s={type:"tag",tagType:"media"},a[1]&&(s.attributes=So(a[1])),o.trigger("data",s);return}if(a=/^#EXT-X-ENDLIST/.exec(c),a){o.trigger("data",{type:"tag",tagType:"endlist"});return}if(a=/^#EXT-X-DISCONTINUITY/.exec(c),a){o.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(a=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(c),a){s={type:"tag",tagType:"program-date-time"},a[1]&&(s.dateTimeString=a[1],s.dateTimeObject=new Date(a[1])),o.trigger("data",s);return}if(a=/^#EXT-X-KEY:?(.*)$/.exec(c),a){s={type:"tag",tagType:"key"},a[1]&&(s.attributes=So(a[1]),s.attributes.IV&&(s.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(s.attributes.IV=s.attributes.IV.substring(2)),s.attributes.IV=s.attributes.IV.match(/.{8}/g),s.attributes.IV[0]=parseInt(s.attributes.IV[0],16),s.attributes.IV[1]=parseInt(s.attributes.IV[1],16),s.attributes.IV[2]=parseInt(s.attributes.IV[2],16),s.attributes.IV[3]=parseInt(s.attributes.IV[3],16),s.attributes.IV=new Uint32Array(s.attributes.IV))),o.trigger("data",s);return}if(a=/^#EXT-X-START:?(.*)$/.exec(c),a){s={type:"tag",tagType:"start"},a[1]&&(s.attributes=So(a[1]),s.attributes["TIME-OFFSET"]=parseFloat(s.attributes["TIME-OFFSET"]),s.attributes.PRECISE=/YES/.test(s.attributes.PRECISE)),o.trigger("data",s);return}if(a=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(c),a){s={type:"tag",tagType:"cue-out-cont"},a[1]?s.data=a[1]:s.data="",o.trigger("data",s);return}if(a=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(c),a){s={type:"tag",tagType:"cue-out"},a[1]?s.data=a[1]:s.data="",o.trigger("data",s);return}if(a=/^#EXT-X-CUE-IN:?(.*)?$/.exec(c),a){s={type:"tag",tagType:"cue-in"},a[1]?s.data=a[1]:s.data="",o.trigger("data",s);return}if(a=/^#EXT-X-SKIP:(.*)$/.exec(c),a&&a[1]){s={type:"tag",tagType:"skip"},s.attributes=So(a[1]),s.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(s.attributes["SKIPPED-SEGMENTS"]=parseInt(s.attributes["SKIPPED-SEGMENTS"],10)),s.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(s.attributes["RECENTLY-REMOVED-DATERANGES"]=s.attributes["RECENTLY-REMOVED-DATERANGES"].split(jhe)),o.trigger("data",s);return}if(a=/^#EXT-X-PART:(.*)$/.exec(c),a&&a[1]){s={type:"tag",tagType:"part"},s.attributes=So(a[1]),["DURATION"].forEach(function(y){s.attributes.hasOwnProperty(y)&&(s.attributes[y]=parseFloat(s.attributes[y]))}),["INDEPENDENT","GAP"].forEach(function(y){s.attributes.hasOwnProperty(y)&&(s.attributes[y]=/YES/.test(s.attributes[y]))}),s.attributes.hasOwnProperty("BYTERANGE")&&(s.attributes.byterange=sk(s.attributes.BYTERANGE)),o.trigger("data",s);return}if(a=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(c),a&&a[1]){s={type:"tag",tagType:"server-control"},s.attributes=So(a[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(y){s.attributes.hasOwnProperty(y)&&(s.attributes[y]=parseFloat(s.attributes[y]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(y){s.attributes.hasOwnProperty(y)&&(s.attributes[y]=/YES/.test(s.attributes[y]))}),o.trigger("data",s);return}if(a=/^#EXT-X-PART-INF:(.*)$/.exec(c),a&&a[1]){s={type:"tag",tagType:"part-inf"},s.attributes=So(a[1]),["PART-TARGET"].forEach(function(y){s.attributes.hasOwnProperty(y)&&(s.attributes[y]=parseFloat(s.attributes[y]))}),o.trigger("data",s);return}if(a=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(c),a&&a[1]){s={type:"tag",tagType:"preload-hint"},s.attributes=So(a[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(y){if(s.attributes.hasOwnProperty(y)){s.attributes[y]=parseInt(s.attributes[y],10);var w=y==="BYTERANGE-LENGTH"?"length":"offset";s.attributes.byterange=s.attributes.byterange||{},s.attributes.byterange[w]=s.attributes[y],delete s.attributes[y]}}),o.trigger("data",s);return}if(a=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(c),a&&a[1]){s={type:"tag",tagType:"rendition-report"},s.attributes=So(a[1]),["LAST-MSN","LAST-PART"].forEach(function(y){s.attributes.hasOwnProperty(y)&&(s.attributes[y]=parseInt(s.attributes[y],10))}),o.trigger("data",s);return}o.trigger("data",{type:"tag",data:c.slice(4)})})}},i.addParser=function(r){var o=this,a=r.expression,s=r.customType,l=r.dataParser,c=r.segment;typeof l!="function"&&(l=function(p){return p}),this.customParsers.push(function(d){var p=a.exec(d);if(p)return o.trigger("data",{type:"custom",data:l(d),customType:s,segment:c}),!0})},i.addTagMapper=function(r){var o=r.expression,a=r.map,s=function(c){return o.test(c)?a(c):c};this.tagMappers.push(s)},e}(QC),Hhe=function(e){return e.toLowerCase().replace(/-(\w)/g,function(i){return i[1].toUpperCase()})},Hu=function(e){var i={};return Object.keys(e).forEach(function(n){i[Hhe(n)]=e[n]}),i},lk=function(e){var i=e.serverControl,n=e.targetDuration,r=e.partTargetDuration;if(!!i){var o="#EXT-X-SERVER-CONTROL",a="holdBack",s="partHoldBack",l=n&&n*3,c=r&&r*2;n&&!i.hasOwnProperty(a)&&(i[a]=l,this.trigger("info",{message:o+" defaulting HOLD-BACK to targetDuration * 3 ("+l+")."})),l&&i[a]<l&&(this.trigger("warn",{message:o+" clamping HOLD-BACK ("+i[a]+") to targetDuration * 3 ("+l+")"}),i[a]=l),r&&!i.hasOwnProperty(s)&&(i[s]=r*3,this.trigger("info",{message:o+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+i[s]+")."})),r&&i[s]<c&&(this.trigger("warn",{message:o+" clamping PART-HOLD-BACK ("+i[s]+") to partTargetDuration * 2 ("+c+")."}),i[s]=c)}},Yhe=function(t){ye(e,t);function e(){var n;n=t.call(this)||this,n.lineStream=new Nhe,n.parseStream=new Ghe,n.lineStream.pipe(n.parseStream);var r=re(n),o=[],a={},s,l,c=!1,d=function(){},p={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},h="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",m=0;n.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var y=0,w=0;return n.on("end",function(){a.uri||!a.parts&&!a.preloadHints||(!a.map&&s&&(a.map=s),!a.key&&l&&(a.key=l),!a.timeline&&typeof m=="number"&&(a.timeline=m),n.manifest.preloadSegment=a)}),n.parseStream.on("data",function(g){var A,x;({tag:function(){({version:function(){g.version&&(this.manifest.version=g.version)},"allow-cache":function(){this.manifest.allowCache=g.allowed,"allowed"in g||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var z={};"length"in g&&(a.byterange=z,z.length=g.length,"offset"in g||(g.offset=y)),"offset"in g&&(a.byterange=z,z.offset=g.offset),y=z.offset+z.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),g.duration>0&&(a.duration=g.duration),g.duration===0&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(!g.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(g.attributes.METHOD==="NONE"){l=null;return}if(!g.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(g.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:g.attributes};return}if(g.attributes.KEYFORMAT===h){var z=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(z.indexOf(g.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(g.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),g.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(g.attributes.KEYID&&g.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:g.attributes.KEYFORMAT,keyId:g.attributes.KEYID.substring(2)},pssh:E7(g.attributes.URI.split(",")[1])};return}g.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:g.attributes.METHOD||"AES-128",uri:g.attributes.URI},typeof g.attributes.IV!="undefined"&&(l.iv=g.attributes.IV)},"media-sequence":function(){if(!isFinite(g.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+g.number});return}this.manifest.mediaSequence=g.number},"discontinuity-sequence":function(){if(!isFinite(g.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+g.number});return}this.manifest.discontinuitySequence=g.number,m=g.number},"playlist-type":function(){if(!/VOD|EVENT/.test(g.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+g.playlist});return}this.manifest.playlistType=g.playlistType},map:function(){s={},g.uri&&(s.uri=g.uri),g.byterange&&(s.byterange=g.byterange),l&&(s.key=l)},"stream-inf":function(){if(this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||p,!g.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}a.attributes||(a.attributes={}),Me(a.attributes,g.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||p,!(g.attributes&&g.attributes.TYPE&&g.attributes["GROUP-ID"]&&g.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var z=this.manifest.mediaGroups[g.attributes.TYPE];z[g.attributes["GROUP-ID"]]=z[g.attributes["GROUP-ID"]]||{},A=z[g.attributes["GROUP-ID"]],x={default:/yes/i.test(g.attributes.DEFAULT)},x.default?x.autoselect=!0:x.autoselect=/yes/i.test(g.attributes.AUTOSELECT),g.attributes.LANGUAGE&&(x.language=g.attributes.LANGUAGE),g.attributes.URI&&(x.uri=g.attributes.URI),g.attributes["INSTREAM-ID"]&&(x.instreamId=g.attributes["INSTREAM-ID"]),g.attributes.CHARACTERISTICS&&(x.characteristics=g.attributes.CHARACTERISTICS),g.attributes.FORCED&&(x.forced=/yes/i.test(g.attributes.FORCED)),A[g.attributes.NAME]=x},discontinuity:function(){m+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){typeof this.manifest.dateTimeString=="undefined"&&(this.manifest.dateTimeString=g.dateTimeString,this.manifest.dateTimeObject=g.dateTimeObject),a.dateTimeString=g.dateTimeString,a.dateTimeObject=g.dateTimeObject},targetduration:function(){if(!isFinite(g.duration)||g.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+g.duration});return}this.manifest.targetDuration=g.duration,lk.call(this,this.manifest)},start:function(){if(!g.attributes||isNaN(g.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:g.attributes["TIME-OFFSET"],precise:g.attributes.PRECISE}},"cue-out":function(){a.cueOut=g.data},"cue-out-cont":function(){a.cueOutCont=g.data},"cue-in":function(){a.cueIn=g.data},skip:function(){this.manifest.skip=Hu(g.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",g.attributes,["SKIPPED-SEGMENTS"])},part:function(){var z=this;c=!0;var M=this.manifest.segments.length,B=Hu(g.attributes);a.parts=a.parts||[],a.parts.push(B),B.byterange&&(B.byterange.hasOwnProperty("offset")||(B.byterange.offset=w),w=B.byterange.offset+B.byterange.length);var L=a.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+L+" for segment #"+M,g.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(F,H){F.hasOwnProperty("lastPart")||z.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+H+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var z=this.manifest.serverControl=Hu(g.attributes);z.hasOwnProperty("canBlockReload")||(z.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),lk.call(this,this.manifest),z.canSkipDateranges&&!z.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var z=this.manifest.segments.length,M=Hu(g.attributes),B=M.type&&M.type==="PART";a.preloadHints=a.preloadHints||[],a.preloadHints.push(M),M.byterange&&(M.byterange.hasOwnProperty("offset")||(M.byterange.offset=B?w:0,B&&(w=M.byterange.offset+M.byterange.length)));var L=a.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+L+" for segment #"+z,g.attributes,["TYPE","URI"]),!!M.type)for(var F=0;F<a.preloadHints.length-1;F++){var H=a.preloadHints[F];!H.type||H.type===M.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+L+" for segment #"+z+" has the same TYPE "+M.type+" as preload hint #"+F})}},"rendition-report":function(){var z=Hu(g.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(z);var M=this.manifest.renditionReports.length-1,B=["LAST-MSN","URI"];c&&B.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+M,g.attributes,B)},"part-inf":function(){this.manifest.partInf=Hu(g.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",g.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),lk.call(this,this.manifest)}}[g.tagType]||d).call(r)},uri:function(){a.uri=g.uri,o.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),l&&(a.key=l),a.timeline=m,s&&(a.map=s),w=0,a={}},comment:function(){},custom:function(){g.segment?(a.custom=a.custom||{},a.custom[g.customType]=g.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[g.customType]=g.data)}})[g.type].call(r)}),n}var i=e.prototype;return i.warnOnMissingAttributes_=function(r,o,a){var s=[];a.forEach(function(l){o.hasOwnProperty(l)||s.push(l)}),s.length&&this.trigger("warn",{message:r+" lacks required attribute(s): "+s.join(", ")})},i.push=function(r){this.lineStream.push(r)},i.end=function(){this.lineStream.push(`
`),this.trigger("end")},i.addParser=function(r){this.parseStream.addParser(r)},i.addTagMapper=function(r){this.parseStream.addTagMapper(r)},e}(QC),Oc={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},Whe=["video","audio","text"],xP=["Video","Audio","Text"],z7=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(i,n,r){var o=("00"+Number(n).toString(16)).slice(-2),a=("00"+Number(r).toString(16)).slice(-2);return"avc1."+o+"00"+a})},qo=function(e){e===void 0&&(e="");var i=e.split(","),n=[];return i.forEach(function(r){r=r.trim();var o;Whe.forEach(function(a){var s=Oc[a].exec(r.toLowerCase());if(!(!s||s.length<=1)){o=a;var l=r.substring(0,s[1].length),c=r.replace(l,"");n.push({type:l,details:c,mediaType:a})}}),o||n.push({type:r,details:"",mediaType:"unknown"})}),n},Vhe=function(e,i){if(!e.mediaGroups.AUDIO||!i)return null;var n=e.mediaGroups.AUDIO[i];if(!n)return null;for(var r in n){var o=n[r];if(o.default&&o.playlists)return qo(o.playlists[0].attributes.CODECS)}return null},I7=function(e){return e===void 0&&(e=""),Oc.audio.test(e.trim().toLowerCase())},$he=function(e){return e===void 0&&(e=""),Oc.text.test(e.trim().toLowerCase())},Rm=function(e){if(!(!e||typeof e!="string")){var i=e.toLowerCase().split(",").map(function(o){return z7(o.trim())}),n="video";i.length===1&&I7(i[0])?n="audio":i.length===1&&$he(i[0])&&(n="application");var r="mp4";return i.every(function(o){return Oc.mp4.test(o)})?r="mp4":i.every(function(o){return Oc.webm.test(o)})?r="webm":i.every(function(o){return Oc.ogg.test(o)})&&(r="ogg"),n+"/"+r+';codecs="'+e+'"'}},cv=function(e){return e===void 0&&(e=""),Q.MediaSource&&Q.MediaSource.isTypeSupported&&Q.MediaSource.isTypeSupported(Rm(e))||!1},ck=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(i){i=i.trim();for(var n=0;n<xP.length;n++){var r=xP[n];if(Oc["muxer"+r].test(i))return!0}return!1})},kP="mp4a.40.2",Qhe="avc1.4d400d",qhe=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,Khe=/^application\/dash\+xml/i,R7=function(e){return qhe.test(e)?"hls":Khe.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},Bl={},uu={};function qC(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}var P7=qC({HTML:"text/html",isHTML:function(t){return t===P7.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),L7=qC({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===L7.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});uu.freeze=qC;uu.MIME_TYPE=P7;uu.NAMESPACE=L7;var Xhe=uu,Pm=Xhe.NAMESPACE;function Jhe(t){return t!==""}function Zhe(t){return t?t.split(/[\t\n\f\r ]+/).filter(Jhe):[]}function eme(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function _P(t){if(!t)return[];var e=Zhe(t);return Object.keys(e.reduce(eme,{}))}function tme(t){return function(e){return t&&t.indexOf(e)!==-1}}function Cg(t,e){for(var i in t)e[i]=t[i]}function Er(t,e){var i=t.prototype;if(!(i instanceof e)){let r=function(){};var n=r;r.prototype=e.prototype,r=new r,Cg(i,r),t.prototype=i=r}i.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),i.constructor=t)}var zr={},Po=zr.ELEMENT_NODE=1,of=zr.ATTRIBUTE_NODE=2,Sy=zr.TEXT_NODE=3,O7=zr.CDATA_SECTION_NODE=4,M7=zr.ENTITY_REFERENCE_NODE=5,ime=zr.ENTITY_NODE=6,D7=zr.PROCESSING_INSTRUCTION_NODE=7,B7=zr.COMMENT_NODE=8,F7=zr.DOCUMENT_NODE=9,N7=zr.DOCUMENT_TYPE_NODE=10,ws=zr.DOCUMENT_FRAGMENT_NODE=11,nme=zr.NOTATION_NODE=12,Bn={},nn={};Bn.INDEX_SIZE_ERR=(nn[1]="Index size error",1);Bn.DOMSTRING_SIZE_ERR=(nn[2]="DOMString size error",2);var rme=Bn.HIERARCHY_REQUEST_ERR=(nn[3]="Hierarchy request error",3);Bn.WRONG_DOCUMENT_ERR=(nn[4]="Wrong document",4);Bn.INVALID_CHARACTER_ERR=(nn[5]="Invalid character",5);Bn.NO_DATA_ALLOWED_ERR=(nn[6]="No data allowed",6);Bn.NO_MODIFICATION_ALLOWED_ERR=(nn[7]="No modification allowed",7);var ome=Bn.NOT_FOUND_ERR=(nn[8]="Not found",8);Bn.NOT_SUPPORTED_ERR=(nn[9]="Not supported",9);var TP=Bn.INUSE_ATTRIBUTE_ERR=(nn[10]="Attribute in use",10);Bn.INVALID_STATE_ERR=(nn[11]="Invalid state",11);Bn.SYNTAX_ERR=(nn[12]="Syntax error",12);Bn.INVALID_MODIFICATION_ERR=(nn[13]="Invalid modification",13);Bn.NAMESPACE_ERR=(nn[14]="Invalid namespace",14);Bn.INVALID_ACCESS_ERR=(nn[15]="Invalid access",15);function eu(t,e){if(e instanceof Error)var i=e;else i=this,Error.call(this,nn[t]),this.message=nn[t],Error.captureStackTrace&&Error.captureStackTrace(this,eu);return i.code=t,e&&(this.message=this.message+": "+e),i}eu.prototype=Error.prototype;Cg(Bn,eu);function cs(){}cs.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var i=[],n=0;n<this.length;n++)ud(this[n],i,t,e);return i.join("")}};function af(t,e){this._node=t,this._refresh=e,KC(this)}function KC(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var i=t._refresh(t._node);X7(t,"length",i.length),Cg(i,t),t._inc=e}}af.prototype.item=function(t){return KC(this),this[t]};Er(af,cs);function Cy(){}function j7(t,e){for(var i=t.length;i--;)if(t[i]===e)return i}function SP(t,e,i,n){if(n?e[j7(e,n)]=i:e[e.length++]=i,t){i.ownerElement=t;var r=t.ownerDocument;r&&(n&&H7(r,t,n),ame(r,t,i))}}function CP(t,e,i){var n=j7(e,i);if(n>=0){for(var r=e.length-1;n<r;)e[n]=e[++n];if(e.length=r,t){var o=t.ownerDocument;o&&(H7(o,t,i),i.ownerElement=null)}}else throw eu(ome,new Error(t.tagName+"@"+i))}Cy.prototype={length:0,item:cs.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var i=this[e];if(i.nodeName==t)return i}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new eu(TP);var i=this.getNamedItem(t.nodeName);return SP(this._ownerElement,this,t,i),i},setNamedItemNS:function(t){var e=t.ownerElement,i;if(e&&e!=this._ownerElement)throw new eu(TP);return i=this.getNamedItemNS(t.namespaceURI,t.localName),SP(this._ownerElement,this,t,i),i},removeNamedItem:function(t){var e=this.getNamedItem(t);return CP(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var i=this.getNamedItemNS(t,e);return CP(this._ownerElement,this,i),i},getNamedItemNS:function(t,e){for(var i=this.length;i--;){var n=this[i];if(n.localName==e&&n.namespaceURI==t)return n}return null}};function U7(){}U7.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,i){var n=new Eg;if(n.implementation=this,n.childNodes=new cs,n.doctype=i||null,i&&n.appendChild(i),e){var r=n.createElementNS(t,e);n.appendChild(r)}return n},createDocumentType:function(t,e,i){var n=new gA;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=i||"",n}};function Fn(){}Fn.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return W7(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return Y7(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return y2(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==Sy&&t.nodeType==Sy?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var i=e._nsMap;if(i){for(var n in i)if(i[n]==t)return n}e=e.nodeType==of?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var i=e._nsMap;if(i&&t in i)return i[t];e=e.nodeType==of?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function G7(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}Cg(zr,Fn);Cg(zr,Fn.prototype);function Lm(t,e){if(e(t))return!0;if(t=t.firstChild)do if(Lm(t,e))return!0;while(t=t.nextSibling)}function Eg(){}function ame(t,e,i){t&&t._inc++;var n=i.namespaceURI;n===Pm.XMLNS&&(e._nsMap[i.prefix?i.localName:""]=i.value)}function H7(t,e,i,n){t&&t._inc++;var r=i.namespaceURI;r===Pm.XMLNS&&delete e._nsMap[i.prefix?i.localName:""]}function XC(t,e,i){if(t&&t._inc){t._inc++;var n=e.childNodes;if(i)n[n.length++]=i;else{for(var r=e.firstChild,o=0;r;)n[o++]=r,r=r.nextSibling;n.length=o}}}function Y7(t,e){var i=e.previousSibling,n=e.nextSibling;return i?i.nextSibling=n:t.firstChild=n,n?n.previousSibling=i:t.lastChild=i,XC(t.ownerDocument,t),e}function W7(t,e,i){var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===ws){var r=e.firstChild;if(r==null)return e;var o=e.lastChild}else r=o=e;var a=i?i.previousSibling:t.lastChild;r.previousSibling=a,o.nextSibling=i,a?a.nextSibling=r:t.firstChild=r,i==null?t.lastChild=o:i.previousSibling=o;do r.parentNode=t;while(r!==o&&(r=r.nextSibling));return XC(t.ownerDocument||t,t),e.nodeType==ws&&(e.firstChild=e.lastChild=null),e}function sme(t,e){var i=e.parentNode;if(i){var n=t.lastChild;i.removeChild(e);var n=t.lastChild}var n=t.lastChild;return e.parentNode=t,e.previousSibling=n,e.nextSibling=null,n?n.nextSibling=e:t.firstChild=e,t.lastChild=e,XC(t.ownerDocument,t,e),e}Eg.prototype={nodeName:"#document",nodeType:F7,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==ws){for(var i=t.firstChild;i;){var n=i.nextSibling;this.insertBefore(i,e),i=n}return t}return this.documentElement==null&&t.nodeType==Po&&(this.documentElement=t),W7(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),Y7(this,t)},importNode:function(t,e){return K7(this,t,e)},getElementById:function(t){var e=null;return Lm(this.documentElement,function(i){if(i.nodeType==Po&&i.getAttribute("id")==t)return e=i,!0}),e},getElementsByClassName:function(t){var e=_P(t);return new af(this,function(i){var n=[];return e.length>0&&Lm(i.documentElement,function(r){if(r!==i&&r.nodeType===Po){var o=r.getAttribute("class");if(o){var a=t===o;if(!a){var s=_P(o);a=e.every(tme(s))}a&&n.push(r)}}}),n})},createElement:function(t){var e=new tu;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new cs;var i=e.attributes=new Cy;return i._ownerElement=e,e},createDocumentFragment:function(){var t=new bA;return t.ownerDocument=this,t.childNodes=new cs,t},createTextNode:function(t){var e=new JC;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new ZC;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new eE;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var i=new iE;return i.ownerDocument=this,i.tagName=i.target=t,i.nodeValue=i.data=e,i},createAttribute:function(t){var e=new Ey;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new tE;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var i=new tu,n=e.split(":"),r=i.attributes=new Cy;return i.childNodes=new cs,i.ownerDocument=this,i.nodeName=e,i.tagName=e,i.namespaceURI=t,n.length==2?(i.prefix=n[0],i.localName=n[1]):i.localName=e,r._ownerElement=i,i},createAttributeNS:function(t,e){var i=new Ey,n=e.split(":");return i.ownerDocument=this,i.nodeName=e,i.name=e,i.namespaceURI=t,i.specified=!0,n.length==2?(i.prefix=n[0],i.localName=n[1]):i.localName=e,i}};Er(Eg,Fn);function tu(){this._nsMap={}}tu.prototype={nodeType:Po,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var i=this.ownerDocument.createAttribute(t);i.value=i.nodeValue=""+e,this.setAttributeNode(i)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===ws?this.insertBefore(t,null):sme(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);i&&this.removeAttributeNode(i)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);return i&&i.value||""},setAttributeNS:function(t,e,i){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+i,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new af(this,function(e){var i=[];return Lm(e,function(n){n!==e&&n.nodeType==Po&&(t==="*"||n.tagName==t)&&i.push(n)}),i})},getElementsByTagNameNS:function(t,e){return new af(this,function(i){var n=[];return Lm(i,function(r){r!==i&&r.nodeType===Po&&(t==="*"||r.namespaceURI===t)&&(e==="*"||r.localName==e)&&n.push(r)}),n})}};Eg.prototype.getElementsByTagName=tu.prototype.getElementsByTagName;Eg.prototype.getElementsByTagNameNS=tu.prototype.getElementsByTagNameNS;Er(tu,Fn);function Ey(){}Ey.prototype.nodeType=of;Er(Ey,Fn);function zg(){}zg.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(nn[rme])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,i){var n=this.data.substring(0,t),r=this.data.substring(t+e);i=n+i+r,this.nodeValue=this.data=i,this.length=i.length}};Er(zg,Fn);function JC(){}JC.prototype={nodeName:"#text",nodeType:Sy,splitText:function(t){var e=this.data,i=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};Er(JC,zg);function ZC(){}ZC.prototype={nodeName:"#comment",nodeType:B7};Er(ZC,zg);function eE(){}eE.prototype={nodeName:"#cdata-section",nodeType:O7};Er(eE,zg);function gA(){}gA.prototype.nodeType=N7;Er(gA,Fn);function V7(){}V7.prototype.nodeType=nme;Er(V7,Fn);function $7(){}$7.prototype.nodeType=ime;Er($7,Fn);function tE(){}tE.prototype.nodeType=M7;Er(tE,Fn);function bA(){}bA.prototype.nodeName="#document-fragment";bA.prototype.nodeType=ws;Er(bA,Fn);function iE(){}iE.prototype.nodeType=D7;Er(iE,Fn);function Q7(){}Q7.prototype.serializeToString=function(t,e,i){return q7.call(t,e,i)};Fn.prototype.toString=q7;function q7(t,e){var i=[],n=this.nodeType==9&&this.documentElement||this,r=n.prefix,o=n.namespaceURI;if(o&&r==null){var r=n.lookupPrefix(o);if(r==null)var a=[{namespace:o,prefix:null}]}return ud(this,i,t,e,a),i.join("")}function EP(t,e,i){var n=t.prefix||"",r=t.namespaceURI;if(!r||n==="xml"&&r===Pm.XML||r===Pm.XMLNS)return!1;for(var o=i.length;o--;){var a=i[o];if(a.prefix===n)return a.namespace!==r}return!0}function uk(t,e,i){t.push(" ",e,'="',i.replace(/[<&"]/g,G7),'"')}function ud(t,e,i,n,r){if(r||(r=[]),n)if(t=n(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case Po:var o=t.attributes,a=o.length,A=t.firstChild,s=t.tagName;i=Pm.isHTML(t.namespaceURI)||i;var l=s;if(!i&&!t.prefix&&t.namespaceURI){for(var c,d=0;d<o.length;d++)if(o.item(d).name==="xmlns"){c=o.item(d).value;break}if(!c)for(var p=r.length-1;p>=0;p--){var h=r[p];if(h.prefix===""&&h.namespace===t.namespaceURI){c=h.namespace;break}}if(c!==t.namespaceURI)for(var p=r.length-1;p>=0;p--){var h=r[p];if(h.namespace===t.namespaceURI){h.prefix&&(l=h.prefix+":"+s);break}}}e.push("<",l);for(var m=0;m<a;m++){var y=o.item(m);y.prefix=="xmlns"?r.push({prefix:y.localName,namespace:y.value}):y.nodeName=="xmlns"&&r.push({prefix:"",namespace:y.value})}for(var m=0;m<a;m++){var y=o.item(m);if(EP(y,i,r)){var w=y.prefix||"",g=y.namespaceURI;uk(e,w?"xmlns:"+w:"xmlns",g),r.push({prefix:w,namespace:g})}ud(y,e,i,n,r)}if(s===l&&EP(t,i,r)){var w=t.prefix||"",g=t.namespaceURI;uk(e,w?"xmlns:"+w:"xmlns",g),r.push({prefix:w,namespace:g})}if(A||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(s)){if(e.push(">"),i&&/^script$/i.test(s))for(;A;)A.data?e.push(A.data):ud(A,e,i,n,r.slice()),A=A.nextSibling;else for(;A;)ud(A,e,i,n,r.slice()),A=A.nextSibling;e.push("</",l,">")}else e.push("/>");return;case F7:case ws:for(var A=t.firstChild;A;)ud(A,e,i,n,r.slice()),A=A.nextSibling;return;case of:return uk(e,t.name,t.value);case Sy:return e.push(t.data.replace(/[<&]/g,G7).replace(/]]>/g,"]]&gt;"));case O7:return e.push("<![CDATA[",t.data,"]]>");case B7:return e.push("<!--",t.data,"-->");case N7:var x=t.publicId,T=t.systemId;if(e.push("<!DOCTYPE ",t.name),x)e.push(" PUBLIC ",x),T&&T!="."&&e.push(" ",T),e.push(">");else if(T&&T!=".")e.push(" SYSTEM ",T,">");else{var E=t.internalSubset;E&&e.push(" [",E,"]"),e.push(">")}return;case D7:return e.push("<?",t.target," ",t.data,"?>");case M7:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function K7(t,e,i){var n;switch(e.nodeType){case Po:n=e.cloneNode(!1),n.ownerDocument=t;case ws:break;case of:i=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,i)for(var r=e.firstChild;r;)n.appendChild(K7(t,r,i)),r=r.nextSibling;return n}function y2(t,e,i){var n=new e.constructor;for(var r in e){var o=e[r];typeof o!="object"&&o!=n[r]&&(n[r]=o)}switch(e.childNodes&&(n.childNodes=new cs),n.ownerDocument=t,n.nodeType){case Po:var a=e.attributes,s=n.attributes=new Cy,l=a.length;s._ownerElement=n;for(var c=0;c<l;c++)n.setAttributeNode(y2(t,a.item(c),!0));break;case of:i=!0}if(i)for(var d=e.firstChild;d;)n.appendChild(y2(t,d,i)),d=d.nextSibling;return n}function X7(t,e,i){t[e]=i}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case Po:case ws:var i=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&i.push(t(e)),e=e.nextSibling;return i.join("");default:return e.nodeValue}};var getTextContent=t;Object.defineProperty(af.prototype,"length",{get:function(){return KC(this),this.$$length}}),Object.defineProperty(Fn.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case Po:case ws:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),X7=function(e,i,n){e["$$"+i]=n}}}catch{}Bl.DocumentType=gA;Bl.DOMException=eu;Bl.DOMImplementation=U7;Bl.Element=tu;Bl.Node=Fn;Bl.NodeList=cs;Bl.XMLSerializer=Q7;var Ig={},J7={};(function(t){var e=uu.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",times:"\xD7",divide:"\xF7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",euro:"\u20AC",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),t.entityMap=t.HTML_ENTITIES})(J7);var nE={},Om=uu.NAMESPACE,w2=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,zP=new RegExp("[\\-\\.0-9"+w2.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),IP=new RegExp("^"+w2.source+zP.source+"*(?::"+w2.source+zP.source+"*)?$"),Kp=0,Ws=1,Yu=2,Xp=3,Wu=4,Vu=5,Jp=6,T0=7;function sf(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,sf)}sf.prototype=new Error;sf.prototype.name=sf.name;function Z7(){}Z7.prototype={parse:function(t,e,i){var n=this.domBuilder;n.startDocument(),eN(e,e={}),lme(t,e,i,n,this.errorHandler),n.endDocument()}};function lme(t,e,i,n,r){function o(Be){if(Be>65535){Be-=65536;var De=55296+(Be>>10),We=56320+(Be&1023);return String.fromCharCode(De,We)}else return String.fromCharCode(Be)}function a(Be){var De=Be.slice(1,-1);return De in i?i[De]:De.charAt(0)==="#"?o(parseInt(De.substr(1).replace("x","0x"))):(r.error("entity not found:"+Be),Be)}function s(Be){if(Be>w){var De=t.substring(w,Be).replace(/&#?\w+;/g,a);h&&l(w),n.characters(De,0,Be-w),w=Be}}function l(Be,De){for(;Be>=d&&(De=p.exec(t));)c=De.index,d=c+De[0].length,h.lineNumber++;h.columnNumber=Be-c+1}for(var c=0,d=0,p=/.*(?:\r\n?|\n)|.*$/g,h=n.locator,m=[{currentNSMap:e}],y={},w=0;;){try{var g=t.indexOf("<",w);if(g<0){if(!t.substr(w).match(/^\s*$/)){var A=n.doc,x=A.createTextNode(t.substr(w));A.appendChild(x),n.currentElement=x}return}switch(g>w&&s(g),t.charAt(g+1)){case"/":var X=t.indexOf(">",g+3),T=t.substring(g+2,X).replace(/[ \t\n\r]+$/g,""),E=m.pop();X<0?(T=t.substring(g+2).replace(/[\s<].*/,""),r.error("end tag name: "+T+" is not complete:"+E.tagName),X=g+1+T.length):T.match(/\s</)&&(T=T.replace(/[\s<].*/,""),r.error("end tag name: "+T+" maybe not complete"),X=g+1+T.length);var z=E.localNSMap,M=E.tagName==T,B=M||E.tagName&&E.tagName.toLowerCase()==T.toLowerCase();if(B){if(n.endElement(E.uri,E.localName,T),z)for(var L in z)n.endPrefixMapping(L);M||r.fatalError("end tag name: "+T+" is not match the current start tagName:"+E.tagName)}else m.push(E);X++;break;case"?":h&&l(g),X=pme(t,g,n);break;case"!":h&&l(g),X=fme(t,g,n,r);break;default:h&&l(g);var F=new tN,H=m[m.length-1].currentNSMap,X=cme(t,g,F,H,a,r),de=F.length;if(!F.closed&&dme(t,X,F.tagName,y)&&(F.closed=!0,i.nbsp||r.warning("unclosed xml attribute")),h&&de){for(var we=RP(h,{}),Ee=0;Ee<de;Ee++){var ke=F[Ee];l(ke.offset),ke.locator=RP(h,{})}n.locator=we,PP(F,n,H)&&m.push(F),n.locator=h}else PP(F,n,H)&&m.push(F);Om.isHTML(F.uri)&&!F.closed?X=ume(t,X,F.tagName,a,n):X++}}catch(Be){if(Be instanceof sf)throw Be;r.error("element parse error: "+Be),X=-1}X>w?w=X:s(Math.max(g,w)+1)}}function RP(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function cme(t,e,i,n,r,o){function a(h,m,y){i.attributeNames.hasOwnProperty(h)&&o.fatalError("Attribute "+h+" redefined"),i.addValue(h,m,y)}for(var s,l,c=++e,d=Kp;;){var p=t.charAt(c);switch(p){case"=":if(d===Ws)s=t.slice(e,c),d=Xp;else if(d===Yu)d=Xp;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(d===Xp||d===Ws)if(d===Ws&&(o.warning('attribute value must after "="'),s=t.slice(e,c)),e=c+1,c=t.indexOf(p,e),c>0)l=t.slice(e,c).replace(/&#?\w+;/g,r),a(s,l,e-1),d=Vu;else throw new Error("attribute value no end '"+p+"' match");else if(d==Wu)l=t.slice(e,c).replace(/&#?\w+;/g,r),a(s,l,e),o.warning('attribute "'+s+'" missed start quot('+p+")!!"),e=c+1,d=Vu;else throw new Error('attribute value must after "="');break;case"/":switch(d){case Kp:i.setTagName(t.slice(e,c));case Vu:case Jp:case T0:d=T0,i.closed=!0;case Wu:case Ws:case Yu:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),d==Kp&&i.setTagName(t.slice(e,c)),c;case">":switch(d){case Kp:i.setTagName(t.slice(e,c));case Vu:case Jp:case T0:break;case Wu:case Ws:l=t.slice(e,c),l.slice(-1)==="/"&&(i.closed=!0,l=l.slice(0,-1));case Yu:d===Yu&&(l=s),d==Wu?(o.warning('attribute "'+l+'" missed quot(")!'),a(s,l.replace(/&#?\w+;/g,r),e)):((!Om.isHTML(n[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),a(l,l,e));break;case Xp:throw new Error("attribute value missed!!")}return c;case"\x80":p=" ";default:if(p<=" ")switch(d){case Kp:i.setTagName(t.slice(e,c)),d=Jp;break;case Ws:s=t.slice(e,c),d=Yu;break;case Wu:var l=t.slice(e,c).replace(/&#?\w+;/g,r);o.warning('attribute "'+l+'" missed quot(")!!'),a(s,l,e);case Vu:d=Jp;break}else switch(d){case Yu:i.tagName,(!Om.isHTML(n[""])||!s.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+s+'" missed value!! "'+s+'" instead2!!'),a(s,s,e),e=c,d=Ws;break;case Vu:o.warning('attribute space is required"'+s+'"!!');case Jp:d=Ws,e=c;break;case Xp:d=Wu,e=c;break;case T0:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function PP(t,e,i){for(var n=t.tagName,r=null,p=t.length;p--;){var o=t[p],a=o.qName,s=o.value,h=a.indexOf(":");if(h>0)var l=o.prefix=a.slice(0,h),c=a.slice(h+1),d=l==="xmlns"&&c;else c=a,l=null,d=a==="xmlns"&&"";o.localName=c,d!==!1&&(r==null&&(r={},eN(i,i={})),i[d]=r[d]=s,o.uri=Om.XMLNS,e.startPrefixMapping(d,s))}for(var p=t.length;p--;){o=t[p];var l=o.prefix;l&&(l==="xml"&&(o.uri=Om.XML),l!=="xmlns"&&(o.uri=i[l||""]))}var h=n.indexOf(":");h>0?(l=t.prefix=n.slice(0,h),c=t.localName=n.slice(h+1)):(l=null,c=t.localName=n);var m=t.uri=i[l||""];if(e.startElement(m,c,n,t),t.closed){if(e.endElement(m,c,n),r)for(l in r)e.endPrefixMapping(l)}else return t.currentNSMap=i,t.localNSMap=r,!0}function ume(t,e,i,n,r){if(/^(?:script|textarea)$/i.test(i)){var o=t.indexOf("</"+i+">",e),a=t.substring(e+1,o);if(/[&<]/.test(a))return/^script$/i.test(i)?(r.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,n),r.characters(a,0,a.length),o)}return e+1}function dme(t,e,i,n){var r=n[i];return r==null&&(r=t.lastIndexOf("</"+i+">"),r<e&&(r=t.lastIndexOf("</"+i)),n[i]=r),r<e}function eN(t,e){for(var i in t)e[i]=t[i]}function fme(t,e,i,n){var r=t.charAt(e+2);switch(r){case"-":if(t.charAt(e+3)==="-"){var o=t.indexOf("-->",e+4);return o>e?(i.comment(t,e+4,o-e-4),o+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var o=t.indexOf("]]>",e+9);return i.startCDATA(),i.characters(t,e+9,o-e-9),i.endCDATA(),o+3}var a=hme(t,e),s=a.length;if(s>1&&/!doctype/i.test(a[0][0])){var l=a[1][0],c=!1,d=!1;s>3&&(/^public$/i.test(a[2][0])?(c=a[3][0],d=s>4&&a[4][0]):/^system$/i.test(a[2][0])&&(d=a[3][0]));var p=a[s-1];return i.startDTD(l,c,d),i.endDTD(),p.index+p[0].length}}return-1}function pme(t,e,i){var n=t.indexOf("?>",e);if(n){var r=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,i.processingInstruction(r[1],r[2]),n+2):-1}return-1}function tN(){this.attributeNames={}}tN.prototype={setTagName:function(t){if(!IP.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,i){if(!IP.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:i}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function hme(t,e){var i,n=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(t);i=r.exec(t);)if(n.push(i),i[1])return n}nE.XMLReader=Z7;nE.ParseError=sf;var mme=uu,rE=Bl,LP=J7,iN=nE,gme=rE.DOMImplementation,OP=mme.NAMESPACE,bme=iN.ParseError,vme=iN.XMLReader;function nN(t){this.options=t||{locator:{}}}nN.prototype.parseFromString=function(t,e){var i=this.options,n=new vme,r=i.domBuilder||new Rg,o=i.errorHandler,a=i.locator,s=i.xmlns||{},l=/\/x?html?$/.test(e),c=l?LP.HTML_ENTITIES:LP.XML_ENTITIES;return a&&r.setDocumentLocator(a),n.errorHandler=yme(o,r,a),n.domBuilder=i.domBuilder||r,l&&(s[""]=OP.HTML),s.xml=s.xml||OP.XML,t&&typeof t=="string"?n.parse(t,s,c):n.errorHandler.error("invalid doc source"),r.doc};function yme(t,e,i){if(!t){if(e instanceof Rg)return e;t=e}var n={},r=t instanceof Function;i=i||{};function o(a){var s=t[a];!s&&r&&(s=t.length==2?function(l){t(a,l)}:t),n[a]=s&&function(l){s("[xmldom "+a+"]	"+l+A2(i))}||function(){}}return o("warning"),o("error"),o("fatalError"),n}function Rg(){this.cdata=!1}function $u(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}Rg.prototype={startDocument:function(){this.doc=new gme().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,i,n){var r=this.doc,o=r.createElementNS(t,i||e),a=n.length;S0(this,o),this.currentElement=o,this.locator&&$u(this.locator,o);for(var s=0;s<a;s++){var t=n.getURI(s),l=n.getValue(s),i=n.getQName(s),c=r.createAttributeNS(t,i);this.locator&&$u(n.getLocator(s),c),c.value=c.nodeValue=l,o.setAttributeNode(c)}},endElement:function(t,e,i){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var i=this.doc.createProcessingInstruction(t,e);this.locator&&$u(this.locator,i),S0(this,i)},ignorableWhitespace:function(t,e,i){},characters:function(t,e,i){if(t=MP.apply(this,arguments),t){if(this.cdata)var n=this.doc.createCDATASection(t);else var n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&$u(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,i){t=MP.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&$u(this.locator,n),S0(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,i){var n=this.doc.implementation;if(n&&n.createDocumentType){var r=n.createDocumentType(t,e,i);this.locator&&$u(this.locator,r),S0(this,r),this.doc.doctype=r}},warning:function(t){console.warn("[xmldom warning]	"+t,A2(this.locator))},error:function(t){console.error("[xmldom error]	"+t,A2(this.locator))},fatalError:function(t){throw new bme(t,this.locator)}};function A2(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function MP(t,e,i){return typeof t=="string"?t.substr(e,i):t.length>=e+i||e?new java.lang.String(t,e,i)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){Rg.prototype[t]=function(){return null}});function S0(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}Ig.__DOMHandler=Rg;Ig.DOMParser=nN;Ig.DOMImplementation=rE.DOMImplementation;Ig.XMLSerializer=rE.XMLSerializer;var wme=Ig.DOMParser;/*! @name mpd-parser @version 0.19.2 @license Apache-2.0 */var DP=function(e){return!!e&&typeof e=="object"},Kn=function t(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.reduce(function(r,o){return typeof o!="object"||Object.keys(o).forEach(function(a){Array.isArray(r[a])&&Array.isArray(o[a])?r[a]=r[a].concat(o[a]):DP(r[a])&&DP(o[a])?r[a]=t(r[a],o[a]):r[a]=o[a]}),r},{})},Ame=function(e){return Object.keys(e).map(function(i){return e[i]})},xme=function(e,i){for(var n=[],r=e;r<i;r++)n.push(r);return n},vA=function(e){return e.reduce(function(i,n){return i.concat(n)},[])},rN=function(e){if(!e.length)return[];for(var i=[],n=0;n<e.length;n++)i.push(e[n]);return i},kme=function(e,i){return e.reduce(function(n,r,o){return r[i]&&n.push(o),n},[])},lf={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},Mm=function(e){var i=e.baseUrl,n=i===void 0?"":i,r=e.source,o=r===void 0?"":r,a=e.range,s=a===void 0?"":a,l=e.indexRange,c=l===void 0?"":l,d={uri:o,resolvedUri:mA(n||"",o)};if(s||c){var p=s||c,h=p.split("-"),m=parseInt(h[0],10),y=parseInt(h[1],10);d.byterange={length:y-m+1,offset:m}}return d},_me=function(e){var i=e.offset+e.length-1;return e.offset+"-"+i},BP=function(e){return e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e},Tme={static:function(e){var i=e.duration,n=e.timescale,r=n===void 0?1:n,o=e.sourceDuration,a=e.periodDuration,s=BP(e.endNumber),l=i/r;return typeof s=="number"?{start:0,end:s}:typeof a=="number"?{start:0,end:a/l}:{start:0,end:o/l}},dynamic:function(e){var i=e.NOW,n=e.clientOffset,r=e.availabilityStartTime,o=e.timescale,a=o===void 0?1:o,s=e.duration,l=e.start,c=l===void 0?0:l,d=e.minimumUpdatePeriod,p=d===void 0?0:d,h=e.timeShiftBufferDepth,m=h===void 0?1/0:h,y=BP(e.endNumber),w=(i+n)/1e3,g=r+c,A=w+p,x=A-g,T=Math.ceil(x*a/s),E=Math.floor((w-g-m)*a/s),z=Math.floor((w-g)*a/s);return{start:Math.max(0,E),end:typeof y=="number"?y:Math.min(T,z)}}},Sme=function(e){return function(i,n){var r=e.duration,o=e.timescale,a=o===void 0?1:o,s=e.periodIndex,l=e.startNumber,c=l===void 0?1:l;return{number:c+i,duration:r/a,timeline:s,time:n*r}}},oE=function(e){var i=e.type,n=e.duration,r=e.timescale,o=r===void 0?1:r,a=e.periodDuration,s=e.sourceDuration,l=Tme[i](e),c=l.start,d=l.end,p=xme(c,d).map(Sme(e));if(i==="static"){var h=p.length-1,m=typeof a=="number"?a:s;p[h].duration=m-n/o*h}return p},oN=function(e){var i=e.baseUrl,n=e.initialization,r=n===void 0?{}:n,o=e.sourceDuration,a=e.indexRange,s=a===void 0?"":a,l=e.duration;if(!i)throw new Error(lf.NO_BASE_URL);var c=Mm({baseUrl:i,source:r.sourceURL,range:r.range}),d=Mm({baseUrl:i,source:i,indexRange:s});if(d.map=c,l){var p=oE(e);p.length&&(d.duration=p[0].duration,d.timeline=p[0].timeline)}else o&&(d.duration=o,d.timeline=0);return d.number=0,[d]},aE=function(e,i,n){for(var r=e.sidx.map?e.sidx.map:null,o=e.sidx.duration,a=e.timeline||0,s=e.sidx.byterange,l=s.offset+s.length,c=i.timescale,d=i.references.filter(function(M){return M.referenceType!==1}),p=[],h=e.endList?"static":"dynamic",m=l+i.firstOffset,y=0;y<d.length;y++){var w=i.references[y],g=w.referencedSize,A=w.subsegmentDuration,x=m+g-1,T=m+"-"+x,E={baseUrl:n,timescale:c,timeline:a,periodIndex:a,duration:A,sourceDuration:o,indexRange:T,type:h},z=oN(E)[0];r&&(z.map=r),p.push(z),m+=g}return e.segments=p,e},yA=function(e){return e&&e.uri+"-"+_me(e.byterange)},FP=function(e){var i=Ame(e.reduce(function(n,r){var o=r.attributes.id+(r.attributes.lang||"");if(n[o]){var a;r.segments[0]&&(r.segments[0].discontinuity=!0),(a=n[o].segments).push.apply(a,r.segments),r.attributes.contentProtection&&(n[o].attributes.contentProtection=r.attributes.contentProtection)}else n[o]=r;return n},{}));return i.map(function(n){return n.discontinuityStarts=kme(n.segments,"discontinuity"),n})},sE=function(e,i){var n=yA(e.sidx),r=n&&i[n]&&i[n].sidx;return r&&aE(e,r,e.sidx.resolvedUri),e},Cme=function(e,i){if(i===void 0&&(i={}),!Object.keys(i).length)return e;for(var n in e)e[n]=sE(e[n],i);return e},Eme=function(e,i){var n,r=e.attributes,o=e.segments,a=e.sidx,s={attributes:(n={NAME:r.id,BANDWIDTH:r.bandwidth,CODECS:r.codecs},n["PROGRAM-ID"]=1,n),uri:"",endList:r.type==="static",timeline:r.periodIndex,resolvedUri:"",targetDuration:r.duration,segments:o,mediaSequence:o.length?o[0].number:1};return r.contentProtection&&(s.contentProtection=r.contentProtection),a&&(s.sidx=a),i&&(s.attributes.AUDIO="audio",s.attributes.SUBTITLES="subs"),s},zme=function(e){var i,n=e.attributes,r=e.segments;typeof r=="undefined"&&(r=[{uri:n.baseUrl,timeline:n.periodIndex,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);var o=(i={NAME:n.id,BANDWIDTH:n.bandwidth},i["PROGRAM-ID"]=1,i);return n.codecs&&(o.CODECS=n.codecs),{attributes:o,uri:"",endList:n.type==="static",timeline:n.periodIndex,resolvedUri:n.baseUrl||"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1}},Ime=function(e,i,n){i===void 0&&(i={}),n===void 0&&(n=!1);var r,o=e.reduce(function(s,l){var c=l.attributes.role&&l.attributes.role.value||"",d=l.attributes.lang||"",p=l.attributes.label||"main";if(d&&!l.attributes.label){var h=c?" ("+c+")":"";p=""+l.attributes.lang+h}s[p]||(s[p]={language:d,autoselect:!0,default:c==="main",playlists:[],uri:""});var m=sE(Eme(l,n),i);return s[p].playlists.push(m),typeof r=="undefined"&&c==="main"&&(r=l,r.default=!0),s},{});if(!r){var a=Object.keys(o)[0];o[a].default=!0}return o},Rme=function(e,i){return i===void 0&&(i={}),e.reduce(function(n,r){var o=r.attributes.lang||"text";return n[o]||(n[o]={language:o,default:!1,autoselect:!1,playlists:[],uri:""}),n[o].playlists.push(sE(zme(r),i)),n},{})},Pme=function(e){return e.reduce(function(i,n){return n&&n.forEach(function(r){var o=r.channel,a=r.language;i[a]={autoselect:!1,default:!1,instreamId:o,language:a},r.hasOwnProperty("aspectRatio")&&(i[a].aspectRatio=r.aspectRatio),r.hasOwnProperty("easyReader")&&(i[a].easyReader=r.easyReader),r.hasOwnProperty("3D")&&(i[a]["3D"]=r["3D"])}),i},{})},Lme=function(e){var i,n=e.attributes,r=e.segments,o=e.sidx,a={attributes:(i={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},i["PROGRAM-ID"]=1,i),uri:"",endList:n.type==="static",timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1};return n.contentProtection&&(a.contentProtection=n.contentProtection),o&&(a.sidx=o),a},Ome=function(e){var i=e.attributes;return i.mimeType==="video/mp4"||i.mimeType==="video/webm"||i.contentType==="video"},Mme=function(e){var i=e.attributes;return i.mimeType==="audio/mp4"||i.mimeType==="audio/webm"||i.contentType==="audio"},Dme=function(e){var i=e.attributes;return i.mimeType==="text/vtt"||i.contentType==="text"},Bme=function(e,i,n){var r;if(n===void 0&&(n={}),!e.length)return{};var o=e[0].attributes,a=o.sourceDuration,s=o.type,l=o.suggestedPresentationDelay,c=o.minimumUpdatePeriod,d=FP(e.filter(Ome)).map(Lme),p=FP(e.filter(Mme)),h=e.filter(Dme),m=e.map(function(g){return g.attributes.captionServices}).filter(Boolean),y={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(r={AUDIO:{},VIDEO:{}},r["CLOSED-CAPTIONS"]={},r.SUBTITLES={},r),uri:"",duration:a,playlists:Cme(d,n)};c>=0&&(y.minimumUpdatePeriod=c*1e3),i&&(y.locations=i),s==="dynamic"&&(y.suggestedPresentationDelay=l);var w=y.playlists.length===0;return p.length&&(y.mediaGroups.AUDIO.audio=Ime(p,n,w)),h.length&&(y.mediaGroups.SUBTITLES.subs=Rme(h,n)),m.length&&(y.mediaGroups["CLOSED-CAPTIONS"].cc=Pme(m)),y},Fme=function(e,i,n){var r=e.NOW,o=e.clientOffset,a=e.availabilityStartTime,s=e.timescale,l=s===void 0?1:s,c=e.start,d=c===void 0?0:c,p=e.minimumUpdatePeriod,h=p===void 0?0:p,m=(r+o)/1e3,y=a+d,w=m+h,g=w-y;return Math.ceil((g*l-i)/n)},aN=function(e,i){for(var n=e.type,r=e.minimumUpdatePeriod,o=r===void 0?0:r,a=e.media,s=a===void 0?"":a,l=e.sourceDuration,c=e.timescale,d=c===void 0?1:c,p=e.startNumber,h=p===void 0?1:p,m=e.periodIndex,y=[],w=-1,g=0;g<i.length;g++){var A=i[g],x=A.d,T=A.r||0,E=A.t||0;w<0&&(w=E),E&&E>w&&(w=E);var z=void 0;if(T<0){var M=g+1;M===i.length?n==="dynamic"&&o>0&&s.indexOf("$Number$")>0?z=Fme(e,w,x):z=(l*d-w)/x:z=(i[M].t-w)/x}else z=T+1;for(var B=h+y.length+z,L=h+y.length;L<B;)y.push({number:L,duration:x/d,time:w,timeline:m}),w+=x,L++}return y},Nme=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,jme=function(e){return function(i,n,r,o){if(i==="$$")return"$";if(typeof e[n]=="undefined")return i;var a=""+e[n];return n==="RepresentationID"||(r?o=parseInt(o,10):o=1,a.length>=o)?a:""+new Array(o-a.length+1).join("0")+a}},NP=function(e,i){return e.replace(Nme,jme(i))},Ume=function(e,i){return!e.duration&&!i?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]:e.duration?oE(e):aN(e,i)},Gme=function(e,i){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},r=e.initialization,o=r===void 0?{sourceURL:"",range:""}:r,a=Mm({baseUrl:e.baseUrl,source:NP(o.sourceURL,n),range:o.range}),s=Ume(e,i);return s.map(function(l){n.Number=l.number,n.Time=l.time;var c=NP(e.media||"",n),d=e.timescale||1,p=e.presentationTimeOffset||0,h=e.periodStart+(l.time-p)/d,m={uri:c,timeline:l.timeline,duration:l.duration,resolvedUri:mA(e.baseUrl||"",c),map:a,number:l.number,presentationTime:h};return m})},Hme=function(e,i){var n=e.baseUrl,r=e.initialization,o=r===void 0?{}:r,a=Mm({baseUrl:n,source:o.sourceURL,range:o.range}),s=Mm({baseUrl:n,source:i.media,range:i.mediaRange});return s.map=a,s},Yme=function(e,i){var n=e.duration,r=e.segmentUrls,o=r===void 0?[]:r,a=e.periodStart;if(!n&&!i||n&&i)throw new Error(lf.SEGMENT_TIME_UNSPECIFIED);var s=o.map(function(d){return Hme(e,d)}),l;n&&(l=oE(e)),i&&(l=aN(e,i));var c=l.map(function(d,p){if(s[p]){var h=s[p],m=e.timescale||1,y=e.presentationTimeOffset||0;return h.timeline=d.timeline,h.duration=d.duration,h.number=d.number,h.presentationTime=a+(d.time-y)/m,h}}).filter(function(d){return d});return c},Wme=function(e){var i=e.attributes,n=e.segmentInfo,r,o;n.template?(o=Gme,r=Kn(i,n.template)):n.base?(o=oN,r=Kn(i,n.base)):n.list&&(o=Yme,r=Kn(i,n.list));var a={attributes:i};if(!o)return a;var s=o(r,n.segmentTimeline);if(r.duration){var l=r,c=l.duration,d=l.timescale,p=d===void 0?1:d;r.duration=c/p}else s.length?r.duration=s.reduce(function(h,m){return Math.max(h,Math.ceil(m.duration))},0):r.duration=0;return a.attributes=r,a.segments=s,n.base&&r.indexRange&&(a.sidx=s[0],a.segments=[]),a},Vme=function(e){return e.map(Wme)},Ti=function(e,i){return rN(e.childNodes).filter(function(n){var r=n.tagName;return r===i})},lE=function(e){return e.textContent.trim()},Qu=function(e){var i=31536e3,n=30*24*60*60,r=24*60*60,o=60*60,a=60,s=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,l=s.exec(e);if(!l)return 0;var c=l.slice(1),d=c[0],p=c[1],h=c[2],m=c[3],y=c[4],w=c[5];return parseFloat(d||0)*i+parseFloat(p||0)*n+parseFloat(h||0)*r+parseFloat(m||0)*o+parseFloat(y||0)*a+parseFloat(w||0)},$me=function(e){var i=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return i.test(e)&&(e+="Z"),Date.parse(e)},jP={mediaPresentationDuration:function(e){return Qu(e)},availabilityStartTime:function(e){return $me(e)/1e3},minimumUpdatePeriod:function(e){return Qu(e)},suggestedPresentationDelay:function(e){return Qu(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return Qu(e)},start:function(e){return Qu(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var i=parseInt(e,10);return isNaN(i)?Qu(e):i},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},zn=function(e){return e&&e.attributes?rN(e.attributes).reduce(function(i,n){var r=jP[n.name]||jP.DEFAULT;return i[n.name]=r(n.value),i},{}):{}},Qme={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},wA=function(e,i){return i.length?vA(e.map(function(n){return i.map(function(r){return mA(n,lE(r))})})):e},cE=function(e){var i=Ti(e,"SegmentTemplate")[0],n=Ti(e,"SegmentList")[0],r=n&&Ti(n,"SegmentURL").map(function(h){return Kn({tag:"SegmentURL"},zn(h))}),o=Ti(e,"SegmentBase")[0],a=n||i,s=a&&Ti(a,"SegmentTimeline")[0],l=n||o||i,c=l&&Ti(l,"Initialization")[0],d=i&&zn(i);d&&c?d.initialization=c&&zn(c):d&&d.initialization&&(d.initialization={sourceURL:d.initialization});var p={template:d,segmentTimeline:s&&Ti(s,"S").map(function(h){return zn(h)}),list:n&&Kn(zn(n),{segmentUrls:r,initialization:zn(c)}),base:o&&Kn(zn(o),{initialization:zn(c)})};return Object.keys(p).forEach(function(h){p[h]||delete p[h]}),p},qme=function(e,i,n){return function(r){var o=Ti(r,"BaseURL"),a=wA(i,o),s=Kn(e,zn(r)),l=cE(r);return a.map(function(c){return{segmentInfo:Kn(n,l),attributes:Kn(s,{baseUrl:c})}})}},Kme=function(e){return e.reduce(function(i,n){var r=zn(n),o=Qme[r.schemeIdUri];if(o){i[o]={attributes:r};var a=Ti(n,"cenc:pssh")[0];if(a){var s=lE(a),l=s&&E7(s);i[o].pssh=l}}return i},{})},Xme=function(e){if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var i=typeof e.value!="string"?[]:e.value.split(";");return i.map(function(r){var o,a;if(a=r,/^CC\d=/.test(r)){var s=r.split("=");o=s[0],a=s[1]}else/^CC\d$/.test(r)&&(o=r);return{channel:o,language:a}})}else if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var n=typeof e.value!="string"?[]:e.value.split(";");return n.map(function(r){var o={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(r)){var a=r.split("="),s=a[0],l=a[1],c=l===void 0?"":l;o.channel=s,o.language=r,c.split(",").forEach(function(d){var p=d.split(":"),h=p[0],m=p[1];h==="lang"?o.language=m:h==="er"?o.easyReader=Number(m):h==="war"?o.aspectRatio=Number(m):h==="3D"&&(o["3D"]=Number(m))})}else o.language=r;return o.channel&&(o.channel="SERVICE"+o.channel),o})}},Jme=function(e,i,n){return function(r){var o=zn(r),a=wA(i,Ti(r,"BaseURL")),s=Ti(r,"Role")[0],l={role:zn(s)},c=Kn(e,o,l),d=Ti(r,"Accessibility")[0],p=Xme(zn(d));p&&(c=Kn(c,{captionServices:p}));var h=Ti(r,"Label")[0];if(h&&h.childNodes.length){var m=h.childNodes[0].nodeValue.trim();c=Kn(c,{label:m})}var y=Kme(Ti(r,"ContentProtection"));Object.keys(y).length&&(c=Kn(c,{contentProtection:y}));var w=cE(r),g=Ti(r,"Representation"),A=Kn(n,w);return vA(g.map(qme(c,a,A)))}},Zme=function(e,i){return function(n,r){var o=wA(i,Ti(n.node,"BaseURL")),a=parseInt(n.attributes.id,10),s=Q.isNaN(a)?r:a,l=Kn(e,{periodIndex:s,periodStart:n.attributes.start});typeof n.attributes.duration=="number"&&(l.periodDuration=n.attributes.duration);var c=Ti(n.node,"AdaptationSet"),d=cE(n.node);return vA(c.map(Jme(l,o,d)))}},ege=function(e){var i=e.attributes,n=e.priorPeriodAttributes,r=e.mpdType;return typeof i.start=="number"?i.start:n&&typeof n.start=="number"&&typeof n.duration=="number"?n.start+n.duration:!n&&r==="static"?0:null},tge=function(e,i){i===void 0&&(i={});var n=i,r=n.manifestUri,o=r===void 0?"":r,a=n.NOW,s=a===void 0?Date.now():a,l=n.clientOffset,c=l===void 0?0:l,d=Ti(e,"Period");if(!d.length)throw new Error(lf.INVALID_NUMBER_OF_PERIOD);var p=Ti(e,"Location"),h=zn(e),m=wA([o],Ti(e,"BaseURL"));h.type=h.type||"static",h.sourceDuration=h.mediaPresentationDuration||0,h.NOW=s,h.clientOffset=c,p.length&&(h.locations=p.map(lE));var y=[];return d.forEach(function(w,g){var A=zn(w),x=y[g-1];A.start=ege({attributes:A,priorPeriodAttributes:x?x.attributes:null,mpdType:h.type}),y.push({node:w,attributes:A})}),{locations:h.locations,representationInfo:vA(y.map(Zme(h,m)))}},sN=function(e){if(e==="")throw new Error(lf.DASH_EMPTY_MANIFEST);var i=new wme,n,r;try{n=i.parseFromString(e,"application/xml"),r=n&&n.documentElement.tagName==="MPD"?n.documentElement:null}catch{}if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(lf.DASH_INVALID_XML);return r},ige=function(e){var i=Ti(e,"UTCTiming")[0];if(!i)return null;var n=zn(i);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(lf.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},nge=function(e,i){i===void 0&&(i={});var n=tge(sN(e),i),r=Vme(n.representationInfo);return Bme(r,n.locations,i.sidxMapping)},rge=function(e){return ige(sN(e))},UP=Math.pow(2,32),oge=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},n=12;i.version===0?(i.earliestPresentationTime=e.getUint32(n),i.firstOffset=e.getUint32(n+4),n+=8):(i.earliestPresentationTime=e.getUint32(n)*UP+e.getUint32(n+4),i.firstOffset=e.getUint32(n+8)*UP+e.getUint32(n+12),n+=16),n+=2;var r=e.getUint16(n);for(n+=2;r>0;n+=12,r--)i.references.push({referenceType:(t[n]&128)>>>7,referencedSize:e.getUint32(n)&2147483647,subsegmentDuration:e.getUint32(n+4),startsWithSap:!!(t[n+8]&128),sapType:(t[n+8]&112)>>>4,sapDeltaTime:e.getUint32(n+8)&268435455});return i},age=oge,sge=function(e){return e.toString(2).length},lge=function(e){return Math.ceil(sge(e)/8)},cge=function(e){return ArrayBuffer.isView(e)},tt=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!cge(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},cn=Q.BigInt||Number,x2=[cn("0x1"),cn("0x100"),cn("0x10000"),cn("0x1000000"),cn("0x100000000"),cn("0x10000000000"),cn("0x1000000000000"),cn("0x100000000000000"),cn("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var uge=function(e,i){var n=i===void 0?{}:i,r=n.signed,o=r===void 0?!1:r,a=n.le,s=a===void 0?!1:a;e=tt(e);var l=s?"reduce":"reduceRight",c=e[l]?e[l]:Array.prototype[l],d=c.call(e,function(h,m,y){var w=s?y:Math.abs(y+1-e.length);return h+cn(m)*x2[w]},cn(0));if(o){var p=x2[e.length]/cn(2)-cn(1);d=cn(d),d>p&&(d-=p,d-=p,d-=cn(2))}return Number(d)},dge=function(e,i){var n=i===void 0?{}:i,r=n.le,o=r===void 0?!1:r;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=cn(e);for(var a=lge(e),s=new Uint8Array(new ArrayBuffer(a)),l=0;l<a;l++){var c=o?l:Math.abs(l+1-s.length);s[c]=Number(e/x2[l]&cn(255)),e<0&&(s[c]=Math.abs(~s[c]),s[c]-=l===0?1:2)}return s},lN=function(e,i){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;i||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},fge=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];if(i=i.filter(function(s){return s&&(s.byteLength||s.length)&&typeof s!="string"}),i.length<=1)return tt(i[0]);var r=i.reduce(function(s,l,c){return s+(l.byteLength||l.length)},0),o=new Uint8Array(r),a=0;return i.forEach(function(s){s=tt(s),o.set(s,a),a+=s.byteLength}),o},li=function(e,i,n){var r=n===void 0?{}:n,o=r.offset,a=o===void 0?0:o,s=r.mask,l=s===void 0?[]:s;e=tt(e),i=tt(i);var c=i.every?i.every:Array.prototype.every;return i.length&&e.length-a>=i.length&&c.call(i,function(d,p){var h=l[p]?l[p]&e[a+p]:e[a+p];return d===h})},pge=tt([73,68,51]),hge=function(e,i){i===void 0&&(i=0),e=tt(e);var n=e[i+5],r=e[i+6]<<21|e[i+7]<<14|e[i+8]<<7|e[i+9],o=(n&16)>>4;return o?r+20:r+10},ph=function t(e,i){return i===void 0&&(i=0),e=tt(e),e.length-i<10||!li(e,pge,{offset:i})?i:(i+=hge(e,i),t(e,i))},GP=function(e){return typeof e=="string"?lN(e):e},mge=function(e){return Array.isArray(e)?e.map(function(i){return GP(i)}):[GP(e)]},gge=function t(e,i,n){n===void 0&&(n=!1),i=mge(i),e=tt(e);var r=[];if(!i.length)return r;for(var o=0;o<e.length;){var a=(e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3])>>>0,s=e.subarray(o+4,o+8);if(a===0)break;var l=o+a;if(l>e.length){if(n)break;l=e.length}var c=e.subarray(o+8,l);li(s,i[0])&&(i.length===1?r.push(c):r.push.apply(r,t(c,i.slice(1),n))),o=l}return r},C0={EBML:tt([26,69,223,163]),DocType:tt([66,130]),Segment:tt([24,83,128,103]),SegmentInfo:tt([21,73,169,102]),Tracks:tt([22,84,174,107]),Track:tt([174]),TrackNumber:tt([215]),DefaultDuration:tt([35,227,131]),TrackEntry:tt([174]),TrackType:tt([131]),FlagDefault:tt([136]),CodecID:tt([134]),CodecPrivate:tt([99,162]),VideoTrack:tt([224]),AudioTrack:tt([225]),Cluster:tt([31,67,182,117]),Timestamp:tt([231]),TimestampScale:tt([42,215,177]),BlockGroup:tt([160]),BlockDuration:tt([155]),Block:tt([161]),SimpleBlock:tt([163])},k2=[128,64,32,16,8,4,2,1],bge=function(e){for(var i=1,n=0;n<k2.length&&!(e&k2[n]);n++)i++;return i},zy=function(e,i,n,r){n===void 0&&(n=!0),r===void 0&&(r=!1);var o=bge(e[i]),a=e.subarray(i,i+o);return n&&(a=Array.prototype.slice.call(e,i,i+o),a[0]^=k2[o-1]),{length:o,value:uge(a,{signed:r}),bytes:a}},HP=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(i){return t(i)}):typeof e=="number"?dge(e):e},vge=function(e){return Array.isArray(e)?e.map(function(i){return HP(i)}):[HP(e)]},yge=function t(e,i,n){if(n>=i.length)return i.length;var r=zy(i,n,!1);if(li(e.bytes,r.bytes))return n;var o=zy(i,n+r.length);return t(e,i,n+o.length+o.value+r.length)},YP=function t(e,i){i=vge(i),e=tt(e);var n=[];if(!i.length)return n;for(var r=0;r<e.length;){var o=zy(e,r,!1),a=zy(e,r+o.length),s=r+o.length+a.length;a.value===127&&(a.value=yge(o,e,s),a.value!==e.length&&(a.value-=s));var l=s+a.value>e.length?e.length:s+a.value,c=e.subarray(s,l);li(i[0],o.bytes)&&(i.length===1?n.push(c):n=n.concat(t(c,i.slice(1))));var d=o.length+a.length+c.length;r+=d}return n},wge=tt([0,0,0,1]),Age=tt([0,0,1]),xge=tt([0,0,3]),kge=function(e){for(var i=[],n=1;n<e.length-2;)li(e.subarray(n,n+3),xge)&&(i.push(n+2),n++),n++;if(i.length===0)return e;var r=e.length-i.length,o=new Uint8Array(r),a=0;for(n=0;n<r;a++,n++)a===i[0]&&(a++,i.shift()),o[n]=e[a];return o},cN=function(e,i,n,r){r===void 0&&(r=1/0),e=tt(e),n=[].concat(n);for(var o=0,a,s=0;o<e.length&&(s<r||a);){var l=void 0;if(li(e.subarray(o),wge)?l=4:li(e.subarray(o),Age)&&(l=3),!l){o++;continue}if(s++,a)return kge(e.subarray(a,o));var c=void 0;i==="h264"?c=e[o+l]&31:i==="h265"&&(c=e[o+l]>>1&63),n.indexOf(c)!==-1&&(a=o+l),o+=l+(i==="h264"?1:2)}return e.subarray(0,0)},_ge=function(e,i,n){return cN(e,"h264",i,n)},Tge=function(e,i,n){return cN(e,"h265",i,n)},Yn={webm:tt([119,101,98,109]),matroska:tt([109,97,116,114,111,115,107,97]),flac:tt([102,76,97,67]),ogg:tt([79,103,103,83]),ac3:tt([11,119]),riff:tt([82,73,70,70]),avi:tt([65,86,73]),wav:tt([87,65,86,69]),"3gp":tt([102,116,121,112,51,103]),mp4:tt([102,116,121,112]),fmp4:tt([115,116,121,112]),mov:tt([102,116,121,112,113,116]),moov:tt([109,111,111,118]),moof:tt([109,111,111,102])},cf={aac:function(e){var i=ph(e);return li(e,[255,16],{offset:i,mask:[255,22]})},mp3:function(e){var i=ph(e);return li(e,[255,2],{offset:i,mask:[255,6]})},webm:function(e){var i=YP(e,[C0.EBML,C0.DocType])[0];return li(i,Yn.webm)},mkv:function(e){var i=YP(e,[C0.EBML,C0.DocType])[0];return li(i,Yn.matroska)},mp4:function(e){if(cf["3gp"](e)||cf.mov(e))return!1;if(li(e,Yn.mp4,{offset:4})||li(e,Yn.fmp4,{offset:4})||li(e,Yn.moof,{offset:4})||li(e,Yn.moov,{offset:4}))return!0},mov:function(e){return li(e,Yn.mov,{offset:4})},"3gp":function(e){return li(e,Yn["3gp"],{offset:4})},ac3:function(e){var i=ph(e);return li(e,Yn.ac3,{offset:i})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var i=0;i+188<e.length&&i<188;){if(e[i]===71&&e[i+188]===71)return!0;i+=1}return!1},flac:function(e){var i=ph(e);return li(e,Yn.flac,{offset:i})},ogg:function(e){return li(e,Yn.ogg)},avi:function(e){return li(e,Yn.riff)&&li(e,Yn.avi,{offset:8})},wav:function(e){return li(e,Yn.riff)&&li(e,Yn.wav,{offset:8})},h264:function(e){return _ge(e,7,3).length},h265:function(e){return Tge(e,[32,33],3).length}},_2=Object.keys(cf).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);_2.forEach(function(t){var e=cf[t];cf[t]=function(i){return e(tt(i))}});var Sge=cf,uE=function(e){e=tt(e);for(var i=0;i<_2.length;i++){var n=_2[i];if(Sge[n](e))return n}return""},Cge=function(e){return gge(e,["moof"]).length>0},dE=9e4,fE,pE,AA,hE,uN,dN,fN;fE=function(t){return t*dE};pE=function(t,e){return t*e};AA=function(t){return t/dE};hE=function(t,e){return t/e};uN=function(t,e){return fE(hE(t,e))};dN=function(t,e){return pE(AA(t),e)};fN=function(t,e,i){return AA(i?t:t-e)};var Iy={ONE_SECOND_IN_TS:dE,secondsToVideoTs:fE,secondsToAudioTs:pE,videoTsToSeconds:AA,audioTsToSeconds:hE,audioTsToVideoTs:uN,videoTsToAudioTs:dN,metadataTsToSeconds:fN};/**
 * @license
 * Video.js 7.17.0 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var pN="7.17.0",Za={},El=function(e,i){return Za[e]=Za[e]||[],i&&(Za[e]=Za[e].concat(i)),Za[e]},Ege=function(e,i){El(e,i)},hN=function(e,i){var n=El(e).indexOf(i);return n<=-1?!1:(Za[e]=Za[e].slice(),Za[e].splice(n,1),!0)},zge=function(e,i){El(e,[].concat(i).map(function(n){var r=function o(){return hN(e,o),n.apply(void 0,arguments)};return r}))},Ry={prefixed:!0},uv=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],WP=uv[0],hh;for(var E0=0;E0<uv.length;E0++)if(uv[E0][1]in Le){hh=uv[E0];break}if(hh){for(var z0=0;z0<hh.length;z0++)Ry[WP[z0]]=hh[z0];Ry.prefixed=hh[0]!==WP[0]}var pr=[],Ige=function(e,i){return function(n,r,o){var a=i.levels[r],s=new RegExp("^("+a+")$");if(n!=="log"&&o.unshift(n.toUpperCase()+":"),o.unshift(e+":"),pr){pr.push([].concat(o));var l=pr.length-1e3;pr.splice(0,l>0?l:0)}if(!!Q.console){var c=Q.console[n];!c&&n==="debug"&&(c=Q.console.info||Q.console.log),!(!c||!a||!s.test(n))&&c[Array.isArray(o)?"apply":"call"](Q.console,o)}}};function mN(t){var e="info",i,n=function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];i("log",e,a)};return i=Ige(t,n),n.createLogger=function(r){return mN(t+": "+r)},n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},n.level=function(r){if(typeof r=="string"){if(!n.levels.hasOwnProperty(r))throw new Error('"'+r+'" in not a valid log level');e=r}return e},n.history=function(){return pr?[].concat(pr):[]},n.history.filter=function(r){return(pr||[]).filter(function(o){return new RegExp(".*"+r+".*").test(o[0])})},n.history.clear=function(){pr&&(pr.length=0)},n.history.disable=function(){pr!==null&&(pr.length=0,pr=null)},n.history.enable=function(){pr===null&&(pr=[])},n.error=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return i("error",e,o)},n.warn=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return i("warn",e,o)},n.debug=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return i("debug",e,o)},n}var wt=mN("VIDEOJS"),gN=wt.createLogger,Rge=Object.prototype.toString,bN=function(e){return As(e)?Object.keys(e):[]};function Sd(t,e){bN(t).forEach(function(i){return e(t[i],i)})}function Pge(t,e,i){return i===void 0&&(i=0),bN(t).reduce(function(n,r){return e(n,t[r],r)},i)}function yi(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return Object.assign?Me.apply(void 0,[t].concat(i)):(i.forEach(function(r){!r||Sd(r,function(o,a){t[a]=o})}),t)}function As(t){return!!t&&typeof t=="object"}function Dm(t){return As(t)&&Rge.call(t)==="[object Object]"&&t.constructor===Object}function Bm(t,e){if(!t||!e)return"";if(typeof Q.getComputedStyle=="function"){var i;try{i=Q.getComputedStyle(t)}catch{return""}return i?i.getPropertyValue(e)||i[e]:""}return""}var Zi=Q.navigator&&Q.navigator.userAgent||"",VP=/AppleWebKit\/([\d.]+)/i.exec(Zi),Lge=VP?parseFloat(VP.pop()):null,vN=/iPod/i.test(Zi),Oge=function(){var t=Zi.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),Es=/Android/i.test(Zi),mE=function(){var t=Zi.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),i=t[2]&&parseFloat(t[2]);return e&&i?parseFloat(t[1]+"."+t[2]):e||null}(),yN=Es&&mE<5&&Lge<537,wN=/Firefox/i.test(Zi),Pg=/Edg/i.test(Zi),zs=!Pg&&(/Chrome/i.test(Zi)||/CriOS/i.test(Zi)),AN=function(){var t=Zi.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),Lg=function(){var t=/MSIE\s(\d+)\.\d/.exec(Zi),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(Zi)&&/rv:11.0/.test(Zi)&&(e=11),e}(),gE=/Safari/i.test(Zi)&&!zs&&!Es&&!Pg,xN=/Windows/i.test(Zi),uf=Boolean(Bf()&&("ontouchstart"in Q||Q.navigator.maxTouchPoints||Q.DocumentTouch&&Q.document instanceof Q.DocumentTouch)),bE=/iPad/i.test(Zi)||gE&&uf&&!/iPhone/i.test(Zi),vE=/iPhone/i.test(Zi)&&!bE,xr=vE||bE||vN,xA=(gE||xr)&&!zs,Mge=Object.freeze({__proto__:null,IS_IPOD:vN,IOS_VERSION:Oge,IS_ANDROID:Es,ANDROID_VERSION:mE,IS_NATIVE_ANDROID:yN,IS_FIREFOX:wN,IS_EDGE:Pg,IS_CHROME:zs,CHROME_VERSION:AN,IE_VERSION:Lg,IS_SAFARI:gE,IS_WINDOWS:xN,TOUCH_ENABLED:uf,IS_IPAD:bE,IS_IPHONE:vE,IS_IOS:xr,IS_ANY_SAFARI:xA});function $P(t){return typeof t=="string"&&Boolean(t.trim())}function kN(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Dge(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function Bf(){return Le===Q.document}function Ff(t){return As(t)&&t.nodeType===1}function _N(){try{return Q.parent!==Q.self}catch{return!0}}function TN(t){return function(e,i){if(!$P(e))return Le[t](null);$P(i)&&(i=Le.querySelector(i));var n=Ff(i)?i:Le;return n[t]&&n[t](e)}}function Mt(t,e,i,n){t===void 0&&(t="div"),e===void 0&&(e={}),i===void 0&&(i={});var r=Le.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(o){var a=e[o];o.indexOf("aria-")!==-1||o==="role"||o==="type"?(wt.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+o+" to "+a+".")),r.setAttribute(o,a)):o==="textContent"?du(r,a):(r[o]!==a||o==="tabIndex")&&(r[o]=a)}),Object.getOwnPropertyNames(i).forEach(function(o){r.setAttribute(o,i[o])}),n&&wE(r,n),r}function du(t,e){return typeof t.textContent=="undefined"?t.innerText=e:t.textContent=e,t}function T2(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function Mc(t,e){return kN(e),t.classList?t.classList.contains(e):Dge(e).test(t.className)}function us(t,e){return t.classList?t.classList.add(e):Mc(t,e)||(t.className=(t.className+" "+e).trim()),t}function Og(t,e){return t?(t.classList?t.classList.remove(e):(kN(e),t.className=t.className.split(/\s+/).filter(function(i){return i!==e}).join(" ")),t):(wt.warn("removeClass was called with an element that doesn't exist"),null)}function SN(t,e,i){var n=Mc(t,e);if(typeof i=="function"&&(i=i(t,e)),typeof i!="boolean"&&(i=!n),i!==n)return i?us(t,e):Og(t,e),t}function CN(t,e){Object.getOwnPropertyNames(e).forEach(function(i){var n=e[i];n===null||typeof n=="undefined"||n===!1?t.removeAttribute(i):t.setAttribute(i,n===!0?"":n)})}function Qa(t){var e={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var n=t.attributes,r=n.length-1;r>=0;r--){var o=n[r].name,a=n[r].value;(typeof t[o]=="boolean"||i.indexOf(","+o+",")!==-1)&&(a=a!==null),e[o]=a}return e}function EN(t,e){return t.getAttribute(e)}function df(t,e,i){t.setAttribute(e,i)}function kA(t,e){t.removeAttribute(e)}function zN(){Le.body.focus(),Le.onselectstart=function(){return!1}}function IN(){Le.onselectstart=function(){return!0}}function ff(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(function(n){e[n]!==void 0&&(i[n]=e[n])}),i.height||(i.height=parseFloat(Bm(t,"height"))),i.width||(i.width=parseFloat(Bm(t,"width"))),i}}function Fm(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};for(var e=t.offsetWidth,i=t.offsetHeight,n=0,r=0;t.offsetParent&&t!==Le[Ry.fullscreenElement];)n+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent;return{left:n,top:r,width:e,height:i}}function _A(t,e){var i={x:0,y:0};if(xr)for(var n=t;n&&n.nodeName.toLowerCase()!=="html";){var r=Bm(n,"transform");if(/^matrix/.test(r)){var o=r.slice(7,-1).split(/,\s/).map(Number);i.x+=o[4],i.y+=o[5]}else if(/^matrix3d/.test(r)){var a=r.slice(9,-1).split(/,\s/).map(Number);i.x+=a[12],i.y+=a[13]}n=n.parentNode}var s={},l=Fm(e.target),c=Fm(t),d=c.width,p=c.height,h=e.offsetY-(c.top-l.top),m=e.offsetX-(c.left-l.left);return e.changedTouches&&(m=e.changedTouches[0].pageX-c.left,h=e.changedTouches[0].pageY+c.top,xr&&(m-=i.x,h-=i.y)),s.y=1-Math.max(0,Math.min(1,h/p)),s.x=Math.max(0,Math.min(1,m/d)),s}function RN(t){return As(t)&&t.nodeType===3}function yE(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function PN(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(function(e){if(typeof e=="function"&&(e=e()),Ff(e)||RN(e))return e;if(typeof e=="string"&&/\S/.test(e))return Le.createTextNode(e)}).filter(function(e){return e})}function wE(t,e){return PN(e).forEach(function(i){return t.appendChild(i)}),t}function LN(t,e){return wE(yE(t),e)}function Nm(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}var zl=TN("querySelector"),ON=TN("querySelectorAll"),MN=Object.freeze({__proto__:null,isReal:Bf,isEl:Ff,isInFrame:_N,createEl:Mt,textContent:du,prependTo:T2,hasClass:Mc,addClass:us,removeClass:Og,toggleClass:SN,setAttributes:CN,getAttributes:Qa,getAttribute:EN,setAttribute:df,removeAttribute:kA,blockTextSelection:zN,unblockTextSelection:IN,getBoundingClientRect:ff,findPosition:Fm,getPointerPosition:_A,isTextNode:RN,emptyEl:yE,normalizeContent:PN,appendContent:wE,insertContent:LN,isSingleLeftClick:Nm,$:zl,$$:ON}),DN=!1,S2,Bge=function(){if(S2.options.autoSetup!==!1){var e=Array.prototype.slice.call(Le.getElementsByTagName("video")),i=Array.prototype.slice.call(Le.getElementsByTagName("audio")),n=Array.prototype.slice.call(Le.getElementsByTagName("video-js")),r=e.concat(i,n);if(r&&r.length>0)for(var o=0,a=r.length;o<a;o++){var s=r[o];if(s&&s.getAttribute){if(s.player===void 0){var l=s.getAttribute("data-setup");l!==null&&S2(s)}}else{C2(1);break}}else DN||C2(1)}};function C2(t,e){!Bf()||(e&&(S2=e),Q.setTimeout(Bge,t))}function E2(){DN=!0,Q.removeEventListener("load",E2)}Bf()&&(Le.readyState==="complete"?E2():Q.addEventListener("load",E2));var BN=function(e){var i=Le.createElement("style");return i.className=e,i},FN=function(e,i){e.styleSheet?e.styleSheet.cssText=i:e.textContent=i},Fge=3,Nge=Fge;function Fl(){return Nge++}var NN;Q.WeakMap||(NN=function(){function t(){this.vdata="vdata"+Math.floor(Q.performance&&Q.performance.now()||Date.now()),this.data={}}var e=t.prototype;return e.set=function(n,r){var o=n[this.vdata]||Fl();return n[this.vdata]||(n[this.vdata]=o),this.data[o]=r,this},e.get=function(n){var r=n[this.vdata];if(r)return this.data[r];wt("We have no data for this element",n)},e.has=function(n){var r=n[this.vdata];return r in this.data},e.delete=function(n){var r=n[this.vdata];r&&(delete this.data[r],delete n[this.vdata])},t}());var Xn=Q.WeakMap?new WeakMap:new NN;function QP(t,e){if(!!Xn.has(t)){var i=Xn.get(t);i.handlers[e].length===0&&(delete i.handlers[e],t.removeEventListener?t.removeEventListener(e,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),Object.getOwnPropertyNames(i).length===0&&Xn.delete(t)}}function AE(t,e,i,n){i.forEach(function(r){t(e,r,n)})}function TA(t){if(t.fixed_)return t;function e(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var n=t||Q.event;t={};for(var r in n)r!=="layerX"&&r!=="layerY"&&r!=="keyLocation"&&r!=="webkitMovementX"&&r!=="webkitMovementY"&&(r==="returnValue"&&n.preventDefault||(t[r]=n[r]));if(t.target||(t.target=t.srcElement||Le),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=!1,n.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=!0,n.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=i,t.clientX!==null&&t.clientX!==void 0){var o=Le.documentElement,a=Le.body;t.pageX=t.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}var I0,jge=function(){if(typeof I0!="boolean"){I0=!1;try{var e=Object.defineProperty({},"passive",{get:function(){I0=!0}});Q.addEventListener("test",null,e),Q.removeEventListener("test",null,e)}catch{}}return I0},Uge=["touchstart","touchmove"];function qr(t,e,i){if(Array.isArray(e))return AE(qr,t,e,i);Xn.has(t)||Xn.set(t,{});var n=Xn.get(t);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),i.guid||(i.guid=Fl()),n.handlers[e].push(i),n.dispatcher||(n.disabled=!1,n.dispatcher=function(o,a){if(!n.disabled){o=TA(o);var s=n.handlers[o.type];if(s)for(var l=s.slice(0),c=0,d=l.length;c<d&&!o.isImmediatePropagationStopped();c++)try{l[c].call(t,o,a)}catch(p){wt.error(p)}}}),n.handlers[e].length===1)if(t.addEventListener){var r=!1;jge()&&Uge.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,n.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,n.dispatcher)}function Ln(t,e,i){if(!!Xn.has(t)){var n=Xn.get(t);if(!!n.handlers){if(Array.isArray(e))return AE(Ln,t,e,i);var r=function(c,d){n.handlers[d]=[],QP(c,d)};if(e===void 0){for(var o in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},o)&&r(t,o);return}var a=n.handlers[e];if(!!a){if(!i){r(t,e);return}if(i.guid)for(var s=0;s<a.length;s++)a[s].guid===i.guid&&a.splice(s--,1);QP(t,e)}}}}function Nf(t,e,i){var n=Xn.has(t)?Xn.get(t):{},r=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=TA(e),n.dispatcher&&n.dispatcher.call(t,e,i),r&&!e.isPropagationStopped()&&e.bubbles===!0)Nf.call(null,r,e,i);else if(!r&&!e.defaultPrevented&&e.target&&e.target[e.type]){Xn.has(e.target)||Xn.set(e.target,{});var o=Xn.get(e.target);e.target[e.type]&&(o.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),o.disabled=!1)}return!e.defaultPrevented}function SA(t,e,i){if(Array.isArray(e))return AE(SA,t,e,i);var n=function r(){Ln(t,e,r),i.apply(this,arguments)};n.guid=i.guid=i.guid||Fl(),qr(t,e,n)}function jN(t,e,i){var n=function r(){Ln(t,e,r),i.apply(this,arguments)};n.guid=i.guid=i.guid||Fl(),qr(t,e,n)}var Gge=Object.freeze({__proto__:null,fixEvent:TA,on:qr,off:Ln,trigger:Nf,one:SA,any:jN}),Fo=30,ti=function(e,i,n){i.guid||(i.guid=Fl());var r=i.bind(e);return r.guid=n?n+"_"+i.guid:i.guid,r},xs=function(e,i){var n=Q.performance.now(),r=function(){var a=Q.performance.now();a-n>=i&&(e.apply(void 0,arguments),n=a)};return r},Hge=function(e,i,n,r){r===void 0&&(r=Q);var o,a=function(){r.clearTimeout(o),o=null},s=function(){var c=this,d=arguments,p=function(){o=null,p=null,n||e.apply(c,d)};!o&&n&&e.apply(c,d),r.clearTimeout(o),o=r.setTimeout(p,i)};return s.cancel=a,s},rn=function(){};rn.prototype.allowedEvents_={};rn.prototype.on=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},qr(this,t,e),this.addEventListener=i};rn.prototype.addEventListener=rn.prototype.on;rn.prototype.off=function(t,e){Ln(this,t,e)};rn.prototype.removeEventListener=rn.prototype.off;rn.prototype.one=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},SA(this,t,e),this.addEventListener=i};rn.prototype.any=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},jN(this,t,e),this.addEventListener=i};rn.prototype.trigger=function(t){var e=t.type||t;typeof t=="string"&&(t={type:e}),t=TA(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),Nf(this,t)};rn.prototype.dispatchEvent=rn.prototype.trigger;var Zp;rn.prototype.queueTrigger=function(t){var e=this;Zp||(Zp=new Map);var i=t.type||t,n=Zp.get(this);n||(n=new Map,Zp.set(this,n));var r=n.get(i);n.delete(i),Q.clearTimeout(r);var o=Q.setTimeout(function(){n.size===0&&(n=null,Zp.delete(e)),e.trigger(t)},0);n.set(i,o)};var CA=function(e){return typeof e.name=="function"?e.name():typeof e.name=="string"?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},ds=function(e){return e instanceof rn||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(i){return typeof e[i]=="function"})},Yge=function(e,i){ds(e)?i():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(i))},z2=function(e){return typeof e=="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length},Py=function(e,i,n){if(!e||!e.nodeName&&!ds(e))throw new Error("Invalid target for "+CA(i)+"#"+n+"; must be a DOM node or evented object.")},UN=function(e,i,n){if(!z2(e))throw new Error("Invalid event type for "+CA(i)+"#"+n+"; must be a non-empty string or array.")},GN=function(e,i,n){if(typeof e!="function")throw new Error("Invalid listener for "+CA(i)+"#"+n+"; must be a function.")},dk=function(e,i,n){var r=i.length<3||i[0]===e||i[0]===e.eventBusEl_,o,a,s;return r?(o=e.eventBusEl_,i.length>=3&&i.shift(),a=i[0],s=i[1]):(o=i[0],a=i[1],s=i[2]),Py(o,e,n),UN(a,e,n),GN(s,e,n),s=ti(e,s),{isTargetingSelf:r,target:o,type:a,listener:s}},nc=function(e,i,n,r){Py(e,e,i),e.nodeName?Gge[i](e,n,r):e[i](n,r)},Wge={on:function(){for(var e=this,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var o=dk(this,n,"on"),a=o.isTargetingSelf,s=o.target,l=o.type,c=o.listener;if(nc(s,"on",l,c),!a){var d=function(){return e.off(s,l,c)};d.guid=c.guid;var p=function(){return e.off("dispose",d)};p.guid=c.guid,nc(this,"on","dispose",d),nc(s,"on","dispose",p)}},one:function(){for(var e=this,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var o=dk(this,n,"one"),a=o.isTargetingSelf,s=o.target,l=o.type,c=o.listener;if(a)nc(s,"one",l,c);else{var d=function p(){e.off(s,l,p);for(var h=arguments.length,m=new Array(h),y=0;y<h;y++)m[y]=arguments[y];c.apply(null,m)};d.guid=c.guid,nc(s,"one",l,d)}},any:function(){for(var e=this,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var o=dk(this,n,"any"),a=o.isTargetingSelf,s=o.target,l=o.type,c=o.listener;if(a)nc(s,"any",l,c);else{var d=function p(){e.off(s,l,p);for(var h=arguments.length,m=new Array(h),y=0;y<h;y++)m[y]=arguments[y];c.apply(null,m)};d.guid=c.guid,nc(s,"any",l,d)}},off:function(e,i,n){if(!e||z2(e))Ln(this.eventBusEl_,e,i);else{var r=e,o=i;Py(r,this,"off"),UN(o,this,"off"),GN(n,this,"off"),n=ti(this,n),this.off("dispose",n),r.nodeName?(Ln(r,o,n),Ln(r,"dispose",n)):ds(r)&&(r.off(o,n),r.off("dispose",n))}},trigger:function(e,i){Py(this.eventBusEl_,this,"trigger");var n=e&&typeof e!="string"?e.type:e;if(!z2(n)){var r="Invalid event type for "+CA(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(e)(this.log||wt).error(r);else throw new Error(r)}return Nf(this.eventBusEl_,e,i)}};function xE(t,e){e===void 0&&(e={});var i=e,n=i.eventBusKey;if(n){if(!t[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');t.eventBusEl_=t[n]}else t.eventBusEl_=Mt("span",{className:"vjs-event-bus"});return yi(t,Wge),t.eventedCallbacks&&t.eventedCallbacks.forEach(function(r){r()}),t.on("dispose",function(){t.off(),[t,t.el_,t.eventBusEl_].forEach(function(r){r&&Xn.has(r)&&Xn.delete(r)}),Q.setTimeout(function(){t.eventBusEl_=null},0)}),t}var Vge={state:{},setState:function(e){var i=this;typeof e=="function"&&(e=e());var n;return Sd(e,function(r,o){i.state[o]!==r&&(n=n||{},n[o]={from:i.state[o],to:r}),i.state[o]=r}),n&&ds(this)&&this.trigger({changes:n,type:"statechanged"}),n}};function HN(t,e){return yi(t,Vge),t.state=yi({},t.state,e),typeof t.handleStateChanged=="function"&&ds(t)&&t.on("statechanged",t.handleStateChanged),t}var dv=function(e){return typeof e!="string"?e:e.replace(/./,function(i){return i.toLowerCase()})},Si=function(e){return typeof e!="string"?e:e.replace(/./,function(i){return i.toUpperCase()})},$ge=function(e,i){return Si(e)===Si(i)};function ai(){for(var t={},e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.forEach(function(r){!r||Sd(r,function(o,a){if(!Dm(o)){t[a]=o;return}Dm(t[a])||(t[a]={}),t[a]=ai(t[a],o)})}),t}var Qge=function(){function t(){this.map_={}}var e=t.prototype;return e.has=function(n){return n in this.map_},e.delete=function(n){var r=this.has(n);return delete this.map_[n],r},e.set=function(n,r){return this.map_[n]=r,this},e.forEach=function(n,r){for(var o in this.map_)n.call(r,this.map_[o],o,this)},t}(),qge=Q.Map?Q.Map:Qge,Kge=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(n){return n in this.set_},e.delete=function(n){var r=this.has(n);return delete this.set_[n],r},e.add=function(n){return this.set_[n]=1,this},e.forEach=function(n,r){for(var o in this.set_)n.call(r,o,o,this)},t}(),fk=Q.Set?Q.Set:Kge,Ae=function(){function t(i,n,r){if(!i&&this.play?this.player_=i=this:this.player_=i,this.isDisposed_=!1,this.parentComponent_=null,this.options_=ai({},this.options_),n=this.options_=ai(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var o=i&&i.id&&i.id()||"no_player";this.id_=o+"_component_"+Fl()}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),n.evented!==!1&&(xE(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),HN(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new fk,this.setIntervalIds_=new fk,this.rafIds_=new fk,this.namedRafs_=new qge,this.clearingTimersOnDispose_=!1,n.initChildren!==!1&&this.initChildren(),this.ready(r),n.reportTouchActivity!==!1&&this.enableTouchActivity()}var e=t.prototype;return e.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(n){return n?(this.options_=ai(this.options_,n),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(n,r,o){return Mt(n,r,o)},e.localize=function(n,r,o){o===void 0&&(o=n);var a=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),l=s&&s[a],c=a&&a.split("-")[0],d=s&&s[c],p=o;return l&&l[n]?p=l[n]:d&&d[n]&&(p=d[n]),r&&(p=p.replace(/\{(\d+)\}/g,function(h,m){var y=r[m-1],w=y;return typeof y=="undefined"&&(w=h),w})),p},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(n){return this.childIndex_[n]},e.getChild=function(n){if(!!n)return this.childNameIndex_[n]},e.getDescendant=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];r=r.reduce(function(l,c){return l.concat(c)},[]);for(var a=this,s=0;s<r.length;s++)if(a=a.getChild(r[s]),!a||!a.getChild)return;return a},e.addChild=function(n,r,o){r===void 0&&(r={}),o===void 0&&(o=this.children_.length);var a,s;if(typeof n=="string"){s=Si(n);var l=r.componentClass||s;r.name=s;var c=t.getComponent(l);if(!c)throw new Error("Component "+l+" does not exist");if(typeof c!="function")return null;a=new c(this.player_||this,r)}else a=n;if(a.parentComponent_&&a.parentComponent_.removeChild(a),this.children_.splice(o,0,a),a.parentComponent_=this,typeof a.id=="function"&&(this.childIndex_[a.id()]=a),s=s||a.name&&Si(a.name()),s&&(this.childNameIndex_[s]=a,this.childNameIndex_[dv(s)]=a),typeof a.el=="function"&&a.el()){var d=null;this.children_[o+1]&&(this.children_[o+1].el_?d=this.children_[o+1].el_:Ff(this.children_[o+1])&&(d=this.children_[o+1])),this.contentEl().insertBefore(a.el(),d)}return a},e.removeChild=function(n){if(typeof n=="string"&&(n=this.getChild(n)),!(!n||!this.children_)){for(var r=!1,o=this.children_.length-1;o>=0;o--)if(this.children_[o]===n){r=!0,this.children_.splice(o,1);break}if(!!r){n.parentComponent_=null,this.childIndex_[n.id()]=null,this.childNameIndex_[Si(n.name())]=null,this.childNameIndex_[dv(n.name())]=null;var a=n.el();a&&a.parentNode===this.contentEl()&&this.contentEl().removeChild(n.el())}}},e.initChildren=function(){var n=this,r=this.options_.children;if(r){var o=this.options_,a=function(d){var p=d.name,h=d.opts;if(o[p]!==void 0&&(h=o[p]),h!==!1){h===!0&&(h={}),h.playerOptions=n.options_.playerOptions;var m=n.addChild(p,h);m&&(n[p]=m)}},s,l=t.getComponent("Tech");Array.isArray(r)?s=r:s=Object.keys(r),s.concat(Object.keys(this.options_).filter(function(c){return!s.some(function(d){return typeof d=="string"?c===d:c===d.name})})).map(function(c){var d,p;return typeof c=="string"?(d=c,p=r[d]||n.options_[d]||{}):(d=c.name,p=c),{name:d,opts:p}}).filter(function(c){var d=t.getComponent(c.opts.componentClass||Si(c.name));return d&&!l.isTech(d)}).forEach(a)}},e.buildCSSClass=function(){return""},e.ready=function(n,r){if(r===void 0&&(r=!1),!!n){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(n);return}r?n.call(this):this.setTimeout(n,1)}},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var n=this.readyQueue_;this.readyQueue_=[],n&&n.length>0&&n.forEach(function(r){r.call(this)},this),this.trigger("ready")},1)},e.$=function(n,r){return zl(n,r||this.contentEl())},e.$$=function(n,r){return ON(n,r||this.contentEl())},e.hasClass=function(n){return Mc(this.el_,n)},e.addClass=function(n){us(this.el_,n)},e.removeClass=function(n){Og(this.el_,n)},e.toggleClass=function(n,r){SN(this.el_,n,r)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(n){return EN(this.el_,n)},e.setAttribute=function(n,r){df(this.el_,n,r)},e.removeAttribute=function(n){kA(this.el_,n)},e.width=function(n,r){return this.dimension("width",n,r)},e.height=function(n,r){return this.dimension("height",n,r)},e.dimensions=function(n,r){this.width(n,!0),this.height(r)},e.dimension=function(n,r,o){if(r!==void 0){(r===null||r!==r)&&(r=0),(""+r).indexOf("%")!==-1||(""+r).indexOf("px")!==-1?this.el_.style[n]=r:r==="auto"?this.el_.style[n]="":this.el_.style[n]=r+"px",o||this.trigger("componentresize");return}if(!this.el_)return 0;var a=this.el_.style[n],s=a.indexOf("px");return parseInt(s!==-1?a.slice(0,s):this.el_["offset"+Si(n)],10)},e.currentDimension=function(n){var r=0;if(n!=="width"&&n!=="height")throw new Error("currentDimension only accepts width or height value");if(r=Bm(this.el_,n),r=parseFloat(r),r===0||isNaN(r)){var o="offset"+Si(n);r=this.el_[o]}return r},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(n){this.player_&&(n.stopPropagation(),this.player_.handleKeyDown(n))},e.handleKeyPress=function(n){this.handleKeyDown(n)},e.emitTapEvents=function(){var n=0,r=null,o=10,a=200,s;this.on("touchstart",function(c){c.touches.length===1&&(r={pageX:c.touches[0].pageX,pageY:c.touches[0].pageY},n=Q.performance.now(),s=!0)}),this.on("touchmove",function(c){if(c.touches.length>1)s=!1;else if(r){var d=c.touches[0].pageX-r.pageX,p=c.touches[0].pageY-r.pageY,h=Math.sqrt(d*d+p*p);h>o&&(s=!1)}});var l=function(){s=!1};this.on("touchleave",l),this.on("touchcancel",l),this.on("touchend",function(c){if(r=null,s===!0){var d=Q.performance.now()-n;d<a&&(c.preventDefault(),this.trigger("tap"))}})},e.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var n=ti(this.player(),this.player().reportUserActivity),r;this.on("touchstart",function(){n(),this.clearInterval(r),r=this.setInterval(n,250)});var o=function(s){n(),this.clearInterval(r)};this.on("touchmove",n),this.on("touchend",o),this.on("touchcancel",o)}},e.setTimeout=function(n,r){var o=this,a;return n=ti(this,n),this.clearTimersOnDispose_(),a=Q.setTimeout(function(){o.setTimeoutIds_.has(a)&&o.setTimeoutIds_.delete(a),n()},r),this.setTimeoutIds_.add(a),a},e.clearTimeout=function(n){return this.setTimeoutIds_.has(n)&&(this.setTimeoutIds_.delete(n),Q.clearTimeout(n)),n},e.setInterval=function(n,r){n=ti(this,n),this.clearTimersOnDispose_();var o=Q.setInterval(n,r);return this.setIntervalIds_.add(o),o},e.clearInterval=function(n){return this.setIntervalIds_.has(n)&&(this.setIntervalIds_.delete(n),Q.clearInterval(n)),n},e.requestAnimationFrame=function(n){var r=this;if(!this.supportsRaf_)return this.setTimeout(n,1e3/60);this.clearTimersOnDispose_();var o;return n=ti(this,n),o=Q.requestAnimationFrame(function(){r.rafIds_.has(o)&&r.rafIds_.delete(o),n()}),this.rafIds_.add(o),o},e.requestNamedAnimationFrame=function(n,r){var o=this;if(!this.namedRafs_.has(n)){this.clearTimersOnDispose_(),r=ti(this,r);var a=this.requestAnimationFrame(function(){r(),o.namedRafs_.has(n)&&o.namedRafs_.delete(n)});return this.namedRafs_.set(n,a),n}},e.cancelNamedAnimationFrame=function(n){!this.namedRafs_.has(n)||(this.cancelAnimationFrame(this.namedRafs_.get(n)),this.namedRafs_.delete(n))},e.cancelAnimationFrame=function(n){return this.supportsRaf_?(this.rafIds_.has(n)&&(this.rafIds_.delete(n),Q.cancelAnimationFrame(n)),n):this.clearTimeout(n)},e.clearTimersOnDispose_=function(){var n=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(r){var o=r[0],a=r[1];n[o].forEach(function(s,l){return n[a](l)})}),n.clearingTimersOnDispose_=!1}))},t.registerComponent=function(n,r){if(typeof n!="string"||!n)throw new Error('Illegal component name, "'+n+'"; must be a non-empty string.');var o=t.getComponent("Tech"),a=o&&o.isTech(r),s=t===r||t.prototype.isPrototypeOf(r.prototype);if(a||!s){var l;throw a?l="techs must be registered using Tech.registerTech()":l="must be a Component subclass",new Error('Illegal component, "'+n+'"; '+l+".")}n=Si(n),t.components_||(t.components_={});var c=t.getComponent("Player");if(n==="Player"&&c&&c.players){var d=c.players,p=Object.keys(d);if(d&&p.length>0&&p.map(function(h){return d[h]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[n]=r,t.components_[dv(n)]=r,r},t.getComponent=function(n){if(!(!n||!t.components_))return t.components_[n]},t}();Ae.prototype.supportsRaf_=typeof Q.requestAnimationFrame=="function"&&typeof Q.cancelAnimationFrame=="function";Ae.registerComponent("Component",Ae);function Xge(t,e,i){if(typeof e!="number"||e<0||e>i)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+i+").")}function qP(t,e,i,n){return Xge(t,n,i.length-1),i[n][e]}function pk(t){var e;return t===void 0||t.length===0?e={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:qP.bind(null,"start",0,t),end:qP.bind(null,"end",1,t)},Q.Symbol&&Q.Symbol.iterator&&(e[Q.Symbol.iterator]=function(){return(t||[]).values()}),e}function Dc(t,e){return Array.isArray(t)?pk(t):t===void 0||e===void 0?pk():pk([[t,e]])}function YN(t,e){var i=0,n,r;if(!e)return 0;(!t||!t.length)&&(t=Dc(0,0));for(var o=0;o<t.length;o++)n=t.start(o),r=t.end(o),r>e&&(r=e),i+=r-n;return i/e}function Jn(t){if(t instanceof Jn)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:As(t)&&(typeof t.code=="number"&&(this.code=t.code),yi(this,t)),this.message||(this.message=Jn.defaultMessages[this.code]||"")}Jn.prototype.code=0;Jn.prototype.message="";Jn.prototype.status=null;Jn.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Jn.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var qu=0;qu<Jn.errorTypes.length;qu++)Jn[Jn.errorTypes[qu]]=qu,Jn.prototype[Jn.errorTypes[qu]]=qu;function Mh(t){return t!=null&&typeof t.then=="function"}function na(t){Mh(t)&&t.then(null,function(e){})}var I2=function(e){var i=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(n,r,o){return e[r]&&(n[r]=e[r]),n},{cues:e.cues&&Array.prototype.map.call(e.cues,function(n){return{startTime:n.startTime,endTime:n.endTime,text:n.text,id:n.id}})});return i},Jge=function(e){var i=e.$$("track"),n=Array.prototype.map.call(i,function(o){return o.track}),r=Array.prototype.map.call(i,function(o){var a=I2(o.track);return o.src&&(a.src=o.src),a});return r.concat(Array.prototype.filter.call(e.textTracks(),function(o){return n.indexOf(o)===-1}).map(I2))},Zge=function(e,i){return e.forEach(function(n){var r=i.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(function(o){return r.addCue(o)})}),i.textTracks()},KP={textTracksToJson:Jge,jsonToTextTracks:Zge,trackToJson_:I2},hk="vjs-modal-dialog",jf=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.handleKeyDown_=function(a){return o.handleKeyDown(a)},o.close_=function(a){return o.close(a)},o.opened_=o.hasBeenOpened_=o.hasBeenFilled_=!1,o.closeable(!o.options_.uncloseable),o.content(o.options_.content),o.contentEl_=Mt("div",{className:hk+"-content"},{role:"document"}),o.descEl_=Mt("p",{className:hk+"-description vjs-control-text",id:o.el().getAttribute("aria-describedby")}),du(o.descEl_,o.description()),o.el_.appendChild(o.descEl_),o.el_.appendChild(o.contentEl_),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},i.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=function(){return hk+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},i.label=function(){return this.localize(this.options_.label||"Modal Window")},i.description=function(){var r=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(r+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),r},i.open=function(){if(!this.opened_){var r=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!r.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&r.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=r.controls(),r.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},i.opened=function(r){return typeof r=="boolean"&&this[r?"open":"close"](),this.opened_},i.close=function(){if(!!this.opened_){var r=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&r.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&r.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},i.closeable=function(r){if(typeof r=="boolean"){var o=this.closeable_=!!r,a=this.getChild("closeButton");if(o&&!a){var s=this.contentEl_;this.contentEl_=this.el_,a=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=s,this.on(a,"close",this.close_)}!o&&a&&(this.off(a,"close",this.close_),this.removeChild(a),a.dispose())}return this.closeable_},i.fill=function(){this.fillWith(this.content())},i.fillWith=function(r){var o=this.contentEl(),a=o.parentNode,s=o.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,a.removeChild(o),this.empty(),LN(o,r),this.trigger("modalfill"),s?a.insertBefore(o,s):a.appendChild(o);var l=this.getChild("closeButton");l&&a.appendChild(l.el_)},i.empty=function(){this.trigger("beforemodalempty"),yE(this.contentEl()),this.trigger("modalempty")},i.content=function(r){return typeof r!="undefined"&&(this.content_=r),this.content_},i.conditionalFocus_=function(){var r=Le.activeElement,o=this.player_.el_;this.previouslyActiveEl_=null,(o.contains(r)||o===r)&&(this.previouslyActiveEl_=r,this.focus())},i.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},i.handleKeyDown=function(r){if(r.stopPropagation(),ft.isEventKey(r,"Escape")&&this.closeable()){r.preventDefault(),this.close();return}if(!!ft.isEventKey(r,"Tab")){for(var o=this.focusableEls_(),a=this.el_.querySelector(":focus"),s,l=0;l<o.length;l++)if(a===o[l]){s=l;break}Le.activeElement===this.el_&&(s=0),r.shiftKey&&s===0?(o[o.length-1].focus(),r.preventDefault()):!r.shiftKey&&s===o.length-1&&(o[0].focus(),r.preventDefault())}},i.focusableEls_=function(){var r=this.el_.querySelectorAll("*");return Array.prototype.filter.call(r,function(o){return(o instanceof Q.HTMLAnchorElement||o instanceof Q.HTMLAreaElement)&&o.hasAttribute("href")||(o instanceof Q.HTMLInputElement||o instanceof Q.HTMLSelectElement||o instanceof Q.HTMLTextAreaElement||o instanceof Q.HTMLButtonElement)&&!o.hasAttribute("disabled")||o instanceof Q.HTMLIFrameElement||o instanceof Q.HTMLObjectElement||o instanceof Q.HTMLEmbedElement||o.hasAttribute("tabindex")&&o.getAttribute("tabindex")!==-1||o.hasAttribute("contenteditable")})},e}(Ae);jf.prototype.options_={pauseOnOpen:!0,temporary:!0};Ae.registerComponent("ModalDialog",jf);var pf=function(t){ye(e,t);function e(n){var r;n===void 0&&(n=[]),r=t.call(this)||this,r.tracks_=[],Object.defineProperty(re(r),"length",{get:function(){return this.tracks_.length}});for(var o=0;o<n.length;o++)r.addTrack(n[o]);return r}var i=e.prototype;return i.addTrack=function(r){var o=this,a=this.tracks_.length;""+a in this||Object.defineProperty(this,a,{get:function(){return this.tracks_[a]}}),this.tracks_.indexOf(r)===-1&&(this.tracks_.push(r),this.trigger({track:r,type:"addtrack",target:this})),r.labelchange_=function(){o.trigger({track:r,type:"labelchange",target:o})},ds(r)&&r.addEventListener("labelchange",r.labelchange_)},i.removeTrack=function(r){for(var o,a=0,s=this.length;a<s;a++)if(this[a]===r){o=this[a],o.off&&o.off(),this.tracks_.splice(a,1);break}!o||this.trigger({track:o,type:"removetrack",target:this})},i.getTrackById=function(r){for(var o=null,a=0,s=this.length;a<s;a++){var l=this[a];if(l.id===r){o=l;break}}return o},e}(rn);pf.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var ebe in pf.prototype.allowedEvents_)pf.prototype["on"+ebe]=null;var mk=function(e,i){for(var n=0;n<e.length;n++)!Object.keys(e[n]).length||i.id===e[n].id||(e[n].enabled=!1)},tbe=function(t){ye(e,t);function e(n){var r;n===void 0&&(n=[]);for(var o=n.length-1;o>=0;o--)if(n[o].enabled){mk(n,n[o]);break}return r=t.call(this,n)||this,r.changing_=!1,r}var i=e.prototype;return i.addTrack=function(r){var o=this;r.enabled&&mk(this,r),t.prototype.addTrack.call(this,r),r.addEventListener&&(r.enabledChange_=function(){o.changing_||(o.changing_=!0,mk(o,r),o.changing_=!1,o.trigger("change"))},r.addEventListener("enabledchange",r.enabledChange_))},i.removeTrack=function(r){t.prototype.removeTrack.call(this,r),r.removeEventListener&&r.enabledChange_&&(r.removeEventListener("enabledchange",r.enabledChange_),r.enabledChange_=null)},e}(pf),gk=function(e,i){for(var n=0;n<e.length;n++)!Object.keys(e[n]).length||i.id===e[n].id||(e[n].selected=!1)},ibe=function(t){ye(e,t);function e(n){var r;n===void 0&&(n=[]);for(var o=n.length-1;o>=0;o--)if(n[o].selected){gk(n,n[o]);break}return r=t.call(this,n)||this,r.changing_=!1,Object.defineProperty(re(r),"selectedIndex",{get:function(){for(var s=0;s<this.length;s++)if(this[s].selected)return s;return-1},set:function(){}}),r}var i=e.prototype;return i.addTrack=function(r){var o=this;r.selected&&gk(this,r),t.prototype.addTrack.call(this,r),r.addEventListener&&(r.selectedChange_=function(){o.changing_||(o.changing_=!0,gk(o,r),o.changing_=!1,o.trigger("change"))},r.addEventListener("selectedchange",r.selectedChange_))},i.removeTrack=function(r){t.prototype.removeTrack.call(this,r),r.removeEventListener&&r.selectedChange_&&(r.removeEventListener("selectedchange",r.selectedChange_),r.selectedChange_=null)},e}(pf),WN=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.addTrack=function(r){var o=this;t.prototype.addTrack.call(this,r),this.queueChange_||(this.queueChange_=function(){return o.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return o.trigger("selectedlanguagechange")}),r.addEventListener("modechange",this.queueChange_);var a=["metadata","chapters"];a.indexOf(r.kind)===-1&&r.addEventListener("modechange",this.triggerSelectedlanguagechange_)},i.removeTrack=function(r){t.prototype.removeTrack.call(this,r),r.removeEventListener&&(this.queueChange_&&r.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&r.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(pf),nbe=function(){function t(i){i===void 0&&(i=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var n=0,r=i.length;n<r;n++)this.addTrackElement_(i[n])}var e=t.prototype;return e.addTrackElement_=function(n){var r=this.trackElements_.length;""+r in this||Object.defineProperty(this,r,{get:function(){return this.trackElements_[r]}}),this.trackElements_.indexOf(n)===-1&&this.trackElements_.push(n)},e.getTrackElementByTrack_=function(n){for(var r,o=0,a=this.trackElements_.length;o<a;o++)if(n===this.trackElements_[o].track){r=this.trackElements_[o];break}return r},e.removeTrackElement_=function(n){for(var r=0,o=this.trackElements_.length;r<o;r++)if(n===this.trackElements_[r]){this.trackElements_[r].track&&typeof this.trackElements_[r].track.off=="function"&&this.trackElements_[r].track.off(),typeof this.trackElements_[r].off=="function"&&this.trackElements_[r].off(),this.trackElements_.splice(r,1);break}},t}(),XP=function(){function t(i){t.prototype.setCues_.call(this,i),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(n){var r=this.length||0,o=0,a=n.length;this.cues_=n,this.length_=n.length;var s=function(c){""+c in this||Object.defineProperty(this,""+c,{get:function(){return this.cues_[c]}})};if(r<a)for(o=r;o<a;o++)s.call(this,o)},e.getCueById=function(n){for(var r=null,o=0,a=this.length;o<a;o++){var s=this[o];if(s.id===n){r=s;break}}return r},t}(),rbe={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},obe={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},abe={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},JP={disabled:"disabled",hidden:"hidden",showing:"showing"},kE=function(t){ye(e,t);function e(i){var n;i===void 0&&(i={}),n=t.call(this)||this;var r={id:i.id||"vjs_track_"+Fl(),kind:i.kind||"",language:i.language||""},o=i.label||"",a=function(c){Object.defineProperty(re(n),c,{get:function(){return r[c]},set:function(){}})};for(var s in r)a(s);return Object.defineProperty(re(n),"label",{get:function(){return o},set:function(c){c!==o&&(o=c,this.trigger("labelchange"))}}),n}return e}(rn),_E=function(e){var i=["protocol","hostname","port","pathname","search","hash","host"],n=Le.createElement("a");n.href=e;for(var r={},o=0;o<i.length;o++)r[i[o]]=n[i[o]];return r.protocol==="http:"&&(r.host=r.host.replace(/:80$/,"")),r.protocol==="https:"&&(r.host=r.host.replace(/:443$/,"")),r.protocol||(r.protocol=Q.location.protocol),r.host||(r.host=Q.location.host),r},VN=function(e){if(!e.match(/^https?:\/\//)){var i=Le.createElement("a");i.href=e,e=i.href}return e},TE=function(e){if(typeof e=="string"){var i=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,n=i.exec(e);if(n)return n.pop().toLowerCase()}return""},EA=function(e,i){i===void 0&&(i=Q.location);var n=_E(e),r=n.protocol===":"?i.protocol:n.protocol,o=r+n.host!==i.protocol+i.host;return o},sbe=Object.freeze({__proto__:null,parseUrl:_E,getAbsoluteURL:VN,getFileExtension:TE,isCrossOrigin:EA}),ZP=function(e,i){var n=new Q.WebVTT.Parser(Q,Q.vttjs,Q.WebVTT.StringDecoder()),r=[];n.oncue=function(o){i.addCue(o)},n.onparsingerror=function(o){r.push(o)},n.onflush=function(){i.trigger({type:"loadeddata",target:i})},n.parse(e),r.length>0&&(Q.console&&Q.console.groupCollapsed&&Q.console.groupCollapsed("Text Track parsing errors for "+i.src),r.forEach(function(o){return wt.error(o)}),Q.console&&Q.console.groupEnd&&Q.console.groupEnd()),n.flush()},eL=function(e,i){var n={uri:e},r=EA(e);r&&(n.cors=r);var o=i.tech_.crossOrigin()==="use-credentials";o&&(n.withCredentials=o),k7(n,ti(this,function(a,s,l){if(a)return wt.error(a,s);i.loaded_=!0,typeof Q.WebVTT!="function"?i.tech_&&i.tech_.any(["vttjsloaded","vttjserror"],function(c){if(c.type==="vttjserror"){wt.error("vttjs failed to load, stopping trying to process "+i.src);return}return ZP(l,i)}):ZP(l,i)}))},Mg=function(t){ye(e,t);function e(n){var r;if(n===void 0&&(n={}),!n.tech)throw new Error("A tech was not provided.");var o=ai(n,{kind:abe[n.kind]||"subtitles",language:n.language||n.srclang||""}),a=JP[o.mode]||"disabled",s=o.default;(o.kind==="metadata"||o.kind==="chapters")&&(a="hidden"),r=t.call(this,o)||this,r.tech_=o.tech,r.cues_=[],r.activeCues_=[],r.preload_=r.tech_.preloadTextTracks!==!1;var l=new XP(r.cues_),c=new XP(r.activeCues_),d=!1,p=ti(re(r),function(){!this.tech_.isReady_||this.tech_.isDisposed()||(this.activeCues=this.activeCues,d&&(this.trigger("cuechange"),d=!1))}),h=function(){r.tech_.off("timeupdate",p)};return r.tech_.one("dispose",h),a!=="disabled"&&r.tech_.on("timeupdate",p),Object.defineProperties(re(r),{default:{get:function(){return s},set:function(){}},mode:{get:function(){return a},set:function(y){!JP[y]||a!==y&&(a=y,!this.preload_&&a!=="disabled"&&this.cues.length===0&&eL(this.src,this),this.tech_.off("timeupdate",p),a!=="disabled"&&this.tech_.on("timeupdate",p),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?l:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return c;for(var y=this.tech_.currentTime(),w=[],g=0,A=this.cues.length;g<A;g++){var x=this.cues[g];(x.startTime<=y&&x.endTime>=y||x.startTime===x.endTime&&x.startTime<=y&&x.startTime+.5>=y)&&w.push(x)}if(d=!1,w.length!==this.activeCues_.length)d=!0;else for(var T=0;T<w.length;T++)this.activeCues_.indexOf(w[T])===-1&&(d=!0);return this.activeCues_=w,c.setCues_(this.activeCues_),c},set:function(){}}}),o.src?(r.src=o.src,r.preload_||(r.loaded_=!0),(r.preload_||o.kind!=="subtitles"&&o.kind!=="captions")&&eL(r.src,re(r))):r.loaded_=!0,r}var i=e.prototype;return i.addCue=function(r){var o=r;if(Q.vttjs&&!(r instanceof Q.vttjs.VTTCue)){o=new Q.vttjs.VTTCue(r.startTime,r.endTime,r.text);for(var a in r)a in o||(o[a]=r[a]);o.id=r.id,o.originalCue_=r}for(var s=this.tech_.textTracks(),l=0;l<s.length;l++)s[l]!==this&&s[l].removeCue(o);this.cues_.push(o),this.cues.setCues_(this.cues_)},i.removeCue=function(r){for(var o=this.cues_.length;o--;){var a=this.cues_[o];if(a===r||a.originalCue_&&a.originalCue_===r){this.cues_.splice(o,1),this.cues.setCues_(this.cues_);break}}},e}(kE);Mg.prototype.allowedEvents_={cuechange:"cuechange"};var $N=function(t){ye(e,t);function e(i){var n;i===void 0&&(i={});var r=ai(i,{kind:obe[i.kind]||""});n=t.call(this,r)||this;var o=!1;return Object.defineProperty(re(n),"enabled",{get:function(){return o},set:function(s){typeof s!="boolean"||s===o||(o=s,this.trigger("enabledchange"))}}),r.enabled&&(n.enabled=r.enabled),n.loaded_=!0,n}return e}(kE),QN=function(t){ye(e,t);function e(i){var n;i===void 0&&(i={});var r=ai(i,{kind:rbe[i.kind]||""});n=t.call(this,r)||this;var o=!1;return Object.defineProperty(re(n),"selected",{get:function(){return o},set:function(s){typeof s!="boolean"||s===o||(o=s,this.trigger("selectedchange"))}}),r.selected&&(n.selected=r.selected),n}return e}(kE),qN=0,lbe=1,KN=2,cbe=3,Uf=function(t){ye(e,t);function e(i){var n;i===void 0&&(i={}),n=t.call(this)||this;var r,o=new Mg(i);return n.kind=o.kind,n.src=o.src,n.srclang=o.language,n.label=o.label,n.default=o.default,Object.defineProperties(re(n),{readyState:{get:function(){return r}},track:{get:function(){return o}}}),r=qN,o.addEventListener("loadeddata",function(){r=KN,n.trigger({type:"load",target:re(n)})}),n}return e}(rn);Uf.prototype.allowedEvents_={load:"load"};Uf.NONE=qN;Uf.LOADING=lbe;Uf.LOADED=KN;Uf.ERROR=cbe;var ho={audio:{ListClass:tbe,TrackClass:$N,capitalName:"Audio"},video:{ListClass:ibe,TrackClass:QN,capitalName:"Video"},text:{ListClass:WN,TrackClass:Mg,capitalName:"Text"}};Object.keys(ho).forEach(function(t){ho[t].getterName=t+"Tracks",ho[t].privateName=t+"Tracks_"});var hf={remoteText:{ListClass:WN,TrackClass:Mg,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:nbe,TrackClass:Uf,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Qn=Me({},ho,hf);hf.names=Object.keys(hf);ho.names=Object.keys(ho);Qn.names=[].concat(hf.names).concat(ho.names);function ube(t,e,i,n,r){r===void 0&&(r={});var o=t.textTracks();r.kind=e,i&&(r.label=i),n&&(r.language=n),r.tech=t;var a=new Qn.text.TrackClass(r);return o.addTrack(a),a}var ii=function(t){ye(e,t);function e(n,r){var o;return n===void 0&&(n={}),r===void 0&&(r=function(){}),n.reportTouchActivity=!1,o=t.call(this,null,n,r)||this,o.onDurationChange_=function(a){return o.onDurationChange(a)},o.trackProgress_=function(a){return o.trackProgress(a)},o.trackCurrentTime_=function(a){return o.trackCurrentTime(a)},o.stopTrackingCurrentTime_=function(a){return o.stopTrackingCurrentTime(a)},o.disposeSourceHandler_=function(a){return o.disposeSourceHandler(a)},o.hasStarted_=!1,o.on("playing",function(){this.hasStarted_=!0}),o.on("loadstart",function(){this.hasStarted_=!1}),Qn.names.forEach(function(a){var s=Qn[a];n&&n[s.getterName]&&(o[s.privateName]=n[s.getterName])}),o.featuresProgressEvents||o.manualProgressOn(),o.featuresTimeupdateEvents||o.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(a){n["native"+a+"Tracks"]===!1&&(o["featuresNative"+a+"Tracks"]=!1)}),n.nativeCaptions===!1||n.nativeTextTracks===!1?o.featuresNativeTextTracks=!1:(n.nativeCaptions===!0||n.nativeTextTracks===!0)&&(o.featuresNativeTextTracks=!0),o.featuresNativeTextTracks||o.emulateTextTracks(),o.preloadTextTracks=n.preloadTextTracks!==!1,o.autoRemoteTextTracks_=new Qn.text.ListClass,o.initTrackListeners(),n.nativeControlsForTouch||o.emitTapEvents(),o.constructor&&(o.name_=o.constructor.name||"Unknown Tech"),o}var i=e.prototype;return i.triggerSourceset=function(r){var o=this;this.isReady_||this.one("ready",function(){return o.setTimeout(function(){return o.triggerSourceset(r)},1)}),this.trigger({src:r,type:"sourceset"})},i.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},i.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},i.trackProgress=function(r){this.stopTrackingProgress(),this.progressInterval=this.setInterval(ti(this,function(){var o=this.bufferedPercent();this.bufferedPercent_!==o&&this.trigger("progress"),this.bufferedPercent_=o,o===1&&this.stopTrackingProgress()}),500)},i.onDurationChange=function(r){this.duration_=this.duration()},i.buffered=function(){return Dc(0,0)},i.bufferedPercent=function(){return YN(this.buffered(),this.duration_)},i.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},i.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},i.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},i.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},i.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.dispose=function(){this.clearTracks(ho.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},i.clearTracks=function(r){var o=this;r=[].concat(r),r.forEach(function(a){for(var s=o[a+"Tracks"]()||[],l=s.length;l--;){var c=s[l];a==="text"&&o.removeRemoteTextTrack(c),s.removeTrack(c)}})},i.cleanupAutoTextTracks=function(){for(var r=this.autoRemoteTextTracks_||[],o=r.length;o--;){var a=r[o];this.removeRemoteTextTrack(a)}},i.reset=function(){},i.crossOrigin=function(){},i.setCrossOrigin=function(){},i.error=function(r){return r!==void 0&&(this.error_=new Jn(r),this.trigger("error")),this.error_},i.played=function(){return this.hasStarted_?Dc(0,0):Dc()},i.play=function(){},i.setScrubbing=function(){},i.scrubbing=function(){},i.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.initTrackListeners=function(){var r=this;ho.names.forEach(function(o){var a=ho[o],s=function(){r.trigger(o+"trackchange")},l=r[a.getterName]();l.addEventListener("removetrack",s),l.addEventListener("addtrack",s),r.on("dispose",function(){l.removeEventListener("removetrack",s),l.removeEventListener("addtrack",s)})})},i.addWebVttScript_=function(){var r=this;if(!Q.WebVTT)if(Le.body.contains(this.el())){if(!this.options_["vtt.js"]&&Dm(yP)&&Object.keys(yP).length>0){this.trigger("vttjsloaded");return}var o=Le.createElement("script");o.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",o.onload=function(){r.trigger("vttjsloaded")},o.onerror=function(){r.trigger("vttjserror")},this.on("dispose",function(){o.onload=null,o.onerror=null}),Q.WebVTT=!0,this.el().parentNode.appendChild(o)}else this.ready(this.addWebVttScript_)},i.emulateTextTracks=function(){var r=this,o=this.textTracks(),a=this.remoteTextTracks(),s=function(h){return o.addTrack(h.track)},l=function(h){return o.removeTrack(h.track)};a.on("addtrack",s),a.on("removetrack",l),this.addWebVttScript_();var c=function(){return r.trigger("texttrackchange")},d=function(){c();for(var h=0;h<o.length;h++){var m=o[h];m.removeEventListener("cuechange",c),m.mode==="showing"&&m.addEventListener("cuechange",c)}};d(),o.addEventListener("change",d),o.addEventListener("addtrack",d),o.addEventListener("removetrack",d),this.on("dispose",function(){a.off("addtrack",s),a.off("removetrack",l),o.removeEventListener("change",d),o.removeEventListener("addtrack",d),o.removeEventListener("removetrack",d);for(var p=0;p<o.length;p++){var h=o[p];h.removeEventListener("cuechange",c)}})},i.addTextTrack=function(r,o,a){if(!r)throw new Error("TextTrack kind is required but was not provided");return ube(this,r,o,a)},i.createRemoteTextTrack=function(r){var o=ai(r,{tech:this});return new hf.remoteTextEl.TrackClass(o)},i.addRemoteTextTrack=function(r,o){var a=this;r===void 0&&(r={});var s=this.createRemoteTextTrack(r);return o!==!0&&o!==!1&&(wt.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),o=!0),this.remoteTextTrackEls().addTrackElement_(s),this.remoteTextTracks().addTrack(s.track),o!==!0&&this.ready(function(){return a.autoRemoteTextTracks_.addTrack(s.track)}),s},i.removeRemoteTextTrack=function(r){var o=this.remoteTextTrackEls().getTrackElementByTrack_(r);this.remoteTextTrackEls().removeTrackElement_(o),this.remoteTextTracks().removeTrack(r),this.autoRemoteTextTracks_.removeTrack(r)},i.getVideoPlaybackQuality=function(){return{}},i.requestPictureInPicture=function(){var r=this.options_.Promise||Q.Promise;if(r)return r.reject()},i.disablePictureInPicture=function(){return!0},i.setDisablePictureInPicture=function(){},i.setPoster=function(){},i.playsinline=function(){},i.setPlaysinline=function(){},i.overrideNativeAudioTracks=function(){},i.overrideNativeVideoTracks=function(){},i.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(r,o){return e.canPlayType(r.type)},e.isTech=function(r){return r.prototype instanceof e||r instanceof e||r===e},e.registerTech=function(r,o){if(e.techs_||(e.techs_={}),!e.isTech(o))throw new Error("Tech "+r+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return r=Si(r),e.techs_[r]=o,e.techs_[dv(r)]=o,r!=="Tech"&&e.defaultTechOrder_.push(r),o},e.getTech=function(r){if(!!r){if(e.techs_&&e.techs_[r])return e.techs_[r];if(r=Si(r),Q&&Q.videojs&&Q.videojs[r])return wt.warn("The "+r+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),Q.videojs[r]}},e}(Ae);Qn.names.forEach(function(t){var e=Qn[t];ii.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});ii.prototype.featuresVolumeControl=!0;ii.prototype.featuresMuteControl=!0;ii.prototype.featuresFullscreenResize=!1;ii.prototype.featuresPlaybackRate=!1;ii.prototype.featuresProgressEvents=!1;ii.prototype.featuresSourceset=!1;ii.prototype.featuresTimeupdateEvents=!1;ii.prototype.featuresNativeTextTracks=!1;ii.withSourceHandlers=function(t){t.registerSourceHandler=function(i,n){var r=t.sourceHandlers;r||(r=t.sourceHandlers=[]),n===void 0&&(n=r.length),r.splice(n,0,i)},t.canPlayType=function(i){for(var n=t.sourceHandlers||[],r,o=0;o<n.length;o++)if(r=n[o].canPlayType(i),r)return r;return""},t.selectSourceHandler=function(i,n){for(var r=t.sourceHandlers||[],o,a=0;a<r.length;a++)if(o=r[a].canHandleSource(i,n),o)return r[a];return null},t.canPlaySource=function(i,n){var r=t.selectSourceHandler(i,n);return r?r.canHandleSource(i,n):""};var e=["seekable","seeking","duration"];e.forEach(function(i){var n=this[i];typeof n=="function"&&(this[i]=function(){return this.sourceHandler_&&this.sourceHandler_[i]?this.sourceHandler_[i].apply(this.sourceHandler_,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(i){var n=t.selectSourceHandler(i,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:wt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==t.nativeSourceHandler&&(this.currentSource_=i),this.sourceHandler_=n.handleSource(i,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};Ae.registerComponent("Tech",ii);ii.registerTech("Tech",ii);ii.defaultTechOrder_=[];var Bc={},R2={},Ly={};function dbe(t,e){Bc[t]=Bc[t]||[],Bc[t].push(e)}function fbe(t,e,i){t.setTimeout(function(){return lc(e,Bc[e.type],i,t)},1)}function pbe(t,e){t.forEach(function(i){return i.setTech&&i.setTech(e)})}function hbe(t,e,i){return t.reduceRight(SE(i),e[i]())}function mbe(t,e,i,n){return e[i](t.reduce(SE(i),n))}function tL(t,e,i,n){n===void 0&&(n=null);var r="call"+Si(i),o=t.reduce(SE(r),n),a=o===Ly,s=a?null:e[i](o);return vbe(t,i,s,a),s}var gbe={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},bbe={setCurrentTime:1,setMuted:1,setVolume:1},iL={play:1,pause:1};function SE(t){return function(e,i){return e===Ly?Ly:i[t]?i[t](e):e}}function vbe(t,e,i,n){for(var r=t.length-1;r>=0;r--){var o=t[r];o[e]&&o[e](n,i)}}function ybe(t){R2[t.id()]=null}function wbe(t,e){var i=R2[t.id()],n=null;if(i==null)return n=e(t),R2[t.id()]=[[e,n]],n;for(var r=0;r<i.length;r++){var o=i[r],a=o[0],s=o[1];a===e&&(n=s)}return n===null&&(n=e(t),i.push([e,n])),n}function lc(t,e,i,n,r,o){t===void 0&&(t={}),e===void 0&&(e=[]),r===void 0&&(r=[]),o===void 0&&(o=!1);var a=e,s=a[0],l=a.slice(1);if(typeof s=="string")lc(t,Bc[s],i,n,r,o);else if(s){var c=wbe(n,s);if(!c.setSource)return r.push(c),lc(t,l,i,n,r,o);c.setSource(yi({},t),function(d,p){if(d)return lc(t,l,i,n,r,o);r.push(c),lc(p,t.type===p.type?l:Bc[p.type],i,n,r,o)})}else l.length?lc(t,l,i,n,r,o):o?i(t,r):lc(t,Bc["*"],i,n,r,!0)}var Abe={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Oy=function(e){e===void 0&&(e="");var i=TE(e),n=Abe[i.toLowerCase()];return n||""},xbe=function(e,i){if(!i)return"";if(e.cache_.source.src===i&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter(function(s){return s.src===i});if(n.length)return n[0].type;for(var r=e.$$("source"),o=0;o<r.length;o++){var a=r[o];if(a.type&&a.src&&a.src===i)return a.type}return Oy(i)},kbe=function t(e){if(Array.isArray(e)){var i=[];e.forEach(function(n){n=t(n),Array.isArray(n)?i=i.concat(n):As(n)&&i.push(n)}),e=i}else typeof e=="string"&&e.trim()?e=[nL({src:e})]:As(e)&&typeof e.src=="string"&&e.src&&e.src.trim()?e=[nL(e)]:e=[];return e};function nL(t){if(!t.type){var e=Oy(t.src);e&&(t.type=e)}return t}var _be=function(t){ye(e,t);function e(i,n,r){var o,a=ai({createEl:!1},n);if(o=t.call(this,i,a,r)||this,!n.playerOptions.sources||n.playerOptions.sources.length===0)for(var s=0,l=n.playerOptions.techOrder;s<l.length;s++){var c=Si(l[s]),d=ii.getTech(c);if(c||(d=Ae.getComponent(c)),d&&d.isSupported()){i.loadTech_(c);break}}else i.src(n.playerOptions.sources);return o}return e}(Ae);Ae.registerComponent("MediaLoader",_be);var zA=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.handleMouseOver_=function(a){return o.handleMouseOver(a)},o.handleMouseOut_=function(a){return o.handleMouseOut(a)},o.handleClick_=function(a){return o.handleClick(a)},o.handleKeyDown_=function(a){return o.handleKeyDown(a)},o.emitTapEvents(),o.enable(),o}var i=e.prototype;return i.createEl=function(r,o,a){r===void 0&&(r="div"),o===void 0&&(o={}),a===void 0&&(a={}),o=yi({className:this.buildCSSClass(),tabIndex:0},o),r==="button"&&wt.error("Creating a ClickableComponent with an HTML element of "+r+" is not supported; use a Button instead."),a=yi({role:"button"},a),this.tabIndex_=o.tabIndex;var s=Mt(r,o,a);return s.appendChild(Mt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(s),s},i.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},i.createControlTextEl=function(r){return this.controlTextEl_=Mt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),r&&r.appendChild(this.controlTextEl_),this.controlText(this.controlText_,r),this.controlTextEl_},i.controlText=function(r,o){if(o===void 0&&(o=this.el()),r===void 0)return this.controlText_||"Need Text";var a=this.localize(r);this.controlText_=r,du(this.controlTextEl_,a),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&o.setAttribute("title",a)},i.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},i.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_!="undefined"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},i.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_!="undefined"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},i.handleLanguagechange=function(){this.controlText(this.controlText_)},i.handleClick=function(r){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},i.handleKeyDown=function(r){ft.isEventKey(r,"Space")||ft.isEventKey(r,"Enter")?(r.preventDefault(),r.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,r)},e}(Ae);Ae.registerComponent("ClickableComponent",zA);var Tbe=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.update(),o.update_=function(a){return o.update(a)},n.on("posterchange",o.update_),o}var i=e.prototype;return i.dispose=function(){this.player().off("posterchange",this.update_),t.prototype.dispose.call(this)},i.createEl=function(){var r=Mt("div",{className:"vjs-poster",tabIndex:-1});return r},i.update=function(r){var o=this.player().poster();this.setSrc(o),o?this.show():this.hide()},i.setSrc=function(r){var o="";r&&(o='url("'+r+'")'),this.el_.style.backgroundImage=o},i.handleClick=function(r){if(!!this.player_.controls()){var o=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((Lg||Pg)&&o)&&this.player_.tech(!0).focus(),this.player_.paused()?na(this.player_.play()):this.player_.pause()}},e}(zA);Ae.registerComponent("PosterImage",Tbe);var so="#222",rL="#ccc",Sbe={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function bk(t,e){var i;if(t.length===4)i=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)i=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+e+")"}function vk(t,e,i){try{t.style[e]=i}catch{return}}var Cbe=function(t){ye(e,t);function e(n,r,o){var a;a=t.call(this,n,r,o)||this;var s=function(c){return a.updateDisplay(c)};return n.on("loadstart",function(l){return a.toggleDisplay(l)}),n.on("texttrackchange",s),n.on("loadedmetadata",function(l){return a.preselectTrack(l)}),n.ready(ti(re(a),function(){if(n.tech_&&n.tech_.featuresNativeTextTracks){this.hide();return}n.on("fullscreenchange",s),n.on("playerresize",s),Q.addEventListener("orientationchange",s),n.on("dispose",function(){return Q.removeEventListener("orientationchange",s)});for(var l=this.options_.playerOptions.tracks||[],c=0;c<l.length;c++)this.player_.addRemoteTextTrack(l[c],!0);this.preselectTrack()})),a}var i=e.prototype;return i.preselectTrack=function(){for(var r={captions:1,subtitles:1},o=this.player_.textTracks(),a=this.player_.cache_.selectedLanguage,s,l,c,d=0;d<o.length;d++){var p=o[d];a&&a.enabled&&a.language&&a.language===p.language&&p.kind in r?p.kind===a.kind?c=p:c||(c=p):a&&!a.enabled?(c=null,s=null,l=null):p.default&&(p.kind==="descriptions"&&!s?s=p:p.kind in r&&!l&&(l=p))}c?c.mode="showing":l?l.mode="showing":s&&(s.mode="showing")},i.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){typeof Q.WebVTT=="function"&&Q.WebVTT.processCues(Q,[],this.el_)},i.updateDisplay=function(){var r=this.player_.textTracks(),o=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),o){for(var a=[],s=0;s<r.length;++s){var l=r[s];l.mode==="showing"&&a.push(l)}this.updateForTrack(a);return}for(var c=null,d=null,p=r.length;p--;){var h=r[p];h.mode==="showing"&&(h.kind==="descriptions"?c=h:d=h)}d?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(d)):c&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(c))},i.updateDisplayState=function(r){for(var o=this.player_.textTrackSettings.getValues(),a=r.activeCues,s=a.length;s--;){var l=a[s];if(!!l){var c=l.displayState;if(o.color&&(c.firstChild.style.color=o.color),o.textOpacity&&vk(c.firstChild,"color",bk(o.color||"#fff",o.textOpacity)),o.backgroundColor&&(c.firstChild.style.backgroundColor=o.backgroundColor),o.backgroundOpacity&&vk(c.firstChild,"backgroundColor",bk(o.backgroundColor||"#000",o.backgroundOpacity)),o.windowColor&&(o.windowOpacity?vk(c,"backgroundColor",bk(o.windowColor,o.windowOpacity)):c.style.backgroundColor=o.windowColor),o.edgeStyle&&(o.edgeStyle==="dropshadow"?c.firstChild.style.textShadow="2px 2px 3px "+so+", 2px 2px 4px "+so+", 2px 2px 5px "+so:o.edgeStyle==="raised"?c.firstChild.style.textShadow="1px 1px "+so+", 2px 2px "+so+", 3px 3px "+so:o.edgeStyle==="depressed"?c.firstChild.style.textShadow="1px 1px "+rL+", 0 1px "+rL+", -1px -1px "+so+", 0 -1px "+so:o.edgeStyle==="uniform"&&(c.firstChild.style.textShadow="0 0 4px "+so+", 0 0 4px "+so+", 0 0 4px "+so+", 0 0 4px "+so)),o.fontPercent&&o.fontPercent!==1){var d=Q.parseFloat(c.style.fontSize);c.style.fontSize=d*o.fontPercent+"px",c.style.height="auto",c.style.top="auto"}o.fontFamily&&o.fontFamily!=="default"&&(o.fontFamily==="small-caps"?c.firstChild.style.fontVariant="small-caps":c.firstChild.style.fontFamily=Sbe[o.fontFamily])}}},i.updateForTrack=function(r){if(Array.isArray(r)||(r=[r]),!(typeof Q.WebVTT!="function"||r.every(function(m){return!m.activeCues}))){for(var o=[],a=0;a<r.length;++a)for(var s=r[a],l=0;l<s.activeCues.length;++l)o.push(s.activeCues[l]);Q.WebVTT.processCues(Q,o,this.el_);for(var c=0;c<r.length;++c){for(var d=r[c],p=0;p<d.activeCues.length;++p){var h=d.activeCues[p].displayState;us(h,"vjs-text-track-cue"),us(h,"vjs-text-track-cue-"+(d.language?d.language:c)),d.language&&df(h,"lang",d.language)}this.player_.textTrackSettings&&this.updateDisplayState(d)}}},e}(Ae);Ae.registerComponent("TextTrackDisplay",Cbe);var Ebe=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){var r=this.player_.isAudio(),o=this.localize(r?"Audio Player":"Video Player"),a=Mt("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[o])}),s=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return s.appendChild(a),s},e}(Ae);Ae.registerComponent("LoadingSpinner",Ebe);var Lo=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(r,o,a){o===void 0&&(o={}),a===void 0&&(a={}),r="button",o=yi({className:this.buildCSSClass()},o),a=yi({type:"button"},a);var s=Mt(r,o,a);return s.appendChild(Mt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(s),s},i.addChild=function(r,o){o===void 0&&(o={});var a=this.constructor.name;return wt.warn("Adding an actionable (user controllable) child to a Button ("+a+") is not supported; use a ClickableComponent instead."),Ae.prototype.addChild.call(this,r,o)},i.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},i.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},i.handleKeyDown=function(r){if(ft.isEventKey(r,"Space")||ft.isEventKey(r,"Enter")){r.stopPropagation();return}t.prototype.handleKeyDown.call(this,r)},e}(zA);Ae.registerComponent("Button",Lo);var XN=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.mouseused_=!1,o.on("mousedown",function(a){return o.handleMouseDown(a)}),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-big-play-button"},i.handleClick=function(r){var o=this.player_.play();if(this.mouseused_&&r.clientX&&r.clientY){var a=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;na(o),this.player_.tech(!0)&&!((Lg||Pg)&&a)&&this.player_.tech(!0).focus();return}var s=this.player_.getChild("controlBar"),l=s&&s.getChild("playToggle");if(!l){this.player_.tech(!0).focus();return}var c=function(){return l.focus()};Mh(o)?o.then(c,function(){}):this.setTimeout(c,1)},i.handleKeyDown=function(r){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,r)},i.handleMouseDown=function(r){this.mouseused_=!0},e}(Lo);XN.prototype.controlText_="Play Video";Ae.registerComponent("BigPlayButton",XN);var zbe=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.controlText(r&&r.controlText||o.localize("Close")),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(r){this.trigger({type:"close",bubbles:!1})},i.handleKeyDown=function(r){ft.isEventKey(r,"Esc")?(r.preventDefault(),r.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,r)},e}(Lo);Ae.registerComponent("CloseButton",zbe);var JN=function(t){ye(e,t);function e(n,r){var o;return r===void 0&&(r={}),o=t.call(this,n,r)||this,r.replay=r.replay===void 0||r.replay,o.on(n,"play",function(a){return o.handlePlay(a)}),o.on(n,"pause",function(a){return o.handlePause(a)}),r.replay&&o.on(n,"ended",function(a){return o.handleEnded(a)}),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(r){this.player_.paused()?na(this.player_.play()):this.player_.pause()},i.handleSeeked=function(r){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(r):this.handlePlay(r)},i.handlePlay=function(r){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},i.handlePause=function(r){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},i.handleEnded=function(r){var o=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(a){return o.handleSeeked(a)})},e}(Lo);JN.prototype.controlText_="Play";Ae.registerComponent("PlayToggle",JN);var ZN=function(e,i){e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),o=Math.floor(e/3600),a=Math.floor(i/60%60),s=Math.floor(i/3600);return(isNaN(e)||e===1/0)&&(o=r=n="-"),o=o>0||s>0?o+":":"",r=((o||a>=10)&&r<10?"0"+r:r)+":",n=n<10?"0"+n:n,o+r+n},CE=ZN;function Ibe(t){CE=t}function Rbe(){CE=ZN}function mf(t,e){return e===void 0&&(e=t),CE(t,e)}var Gf=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.on(n,["timeupdate","ended"],function(a){return o.updateContent(a)}),o.updateTextNode_(),o}var i=e.prototype;return i.createEl=function(){var r=this.buildCSSClass(),o=t.prototype.createEl.call(this,"div",{className:r+" vjs-time-control vjs-control"}),a=Mt("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xA0"},{role:"presentation"});return o.appendChild(a),this.contentEl_=Mt("span",{className:r+"-display"},{"aria-live":"off",role:"presentation"}),o.appendChild(this.contentEl_),o},i.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},i.updateTextNode_=function(r){var o=this;r===void 0&&(r=0),r=mf(r),this.formattedTime_!==r&&(this.formattedTime_=r,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(!!o.contentEl_){var a=o.textNode_;a&&o.contentEl_.firstChild!==a&&(a=null,wt.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),o.textNode_=Le.createTextNode(o.formattedTime_),o.textNode_&&(a?o.contentEl_.replaceChild(o.textNode_,a):o.contentEl_.appendChild(o.textNode_))}}))},i.updateContent=function(r){},e}(Ae);Gf.prototype.labelText_="Time";Gf.prototype.controlText_="Time";Ae.registerComponent("TimeDisplay",Gf);var EE=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-current-time"},i.updateContent=function(r){var o;this.player_.ended()?o=this.player_.duration():o=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(o)},e}(Gf);EE.prototype.labelText_="Current Time";EE.prototype.controlText_="Current Time";Ae.registerComponent("CurrentTimeDisplay",EE);var zE=function(t){ye(e,t);function e(n,r){var o;o=t.call(this,n,r)||this;var a=function(l){return o.updateContent(l)};return o.on(n,"durationchange",a),o.on(n,"loadstart",a),o.on(n,"loadedmetadata",a),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-duration"},i.updateContent=function(r){var o=this.player_.duration();this.updateTextNode_(o)},e}(Gf);zE.prototype.labelText_="Duration";zE.prototype.controlText_="Duration";Ae.registerComponent("DurationDisplay",zE);var Pbe=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),o=t.prototype.createEl.call(this,"div"),a=t.prototype.createEl.call(this,"span",{textContent:"/"});return o.appendChild(a),r.appendChild(o),r},e}(Ae);Ae.registerComponent("TimeDivider",Pbe);var IE=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.on(n,"durationchange",function(a){return o.updateContent(a)}),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-remaining-time"},i.createEl=function(){var r=t.prototype.createEl.call(this);return r.insertBefore(Mt("span",{},{"aria-hidden":!0},"-"),this.contentEl_),r},i.updateContent=function(r){if(typeof this.player_.duration()=="number"){var o;this.player_.ended()?o=0:this.player_.remainingTimeDisplay?o=this.player_.remainingTimeDisplay():o=this.player_.remainingTime(),this.updateTextNode_(o)}},e}(Gf);IE.prototype.labelText_="Remaining Time";IE.prototype.controlText_="Remaining Time";Ae.registerComponent("RemainingTimeDisplay",IE);var Lbe=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.updateShowing(),o.on(o.player(),"durationchange",function(a){return o.updateShowing(a)}),o}var i=e.prototype;return i.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Mt("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(Mt("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xA0"})),this.contentEl_.appendChild(Le.createTextNode(this.localize("LIVE"))),r.appendChild(this.contentEl_),r},i.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},i.updateShowing=function(r){this.player().duration()===1/0?this.show():this.hide()},e}(Ae);Ae.registerComponent("LiveDisplay",Lbe);var ej=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.updateLiveEdgeStatus(),o.player_.liveTracker&&(o.updateLiveEdgeStatusHandler_=function(a){return o.updateLiveEdgeStatus(a)},o.on(o.player_.liveTracker,"liveedgechange",o.updateLiveEdgeStatusHandler_)),o}var i=e.prototype;return i.createEl=function(){var r=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=Mt("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),r.appendChild(this.textEl_),r},i.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},i.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},i.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,t.prototype.dispose.call(this)},e}(Lo);ej.prototype.controlText_="Seek to live, currently playing live";Ae.registerComponent("SeekToLive",ej);var IA=function(e,i,n){return e=Number(e),Math.min(n,Math.max(i,isNaN(e)?i:e))},RE=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.handleMouseDown_=function(a){return o.handleMouseDown(a)},o.handleMouseUp_=function(a){return o.handleMouseUp(a)},o.handleKeyDown_=function(a){return o.handleKeyDown(a)},o.handleClick_=function(a){return o.handleClick(a)},o.handleMouseMove_=function(a){return o.handleMouseMove(a)},o.update_=function(a){return o.update(a)},o.bar=o.getChild(o.options_.barName),o.vertical(!!o.options_.vertical),o.enable(),o}var i=e.prototype;return i.enabled=function(){return this.enabled_},i.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},i.disable=function(){if(!!this.enabled()){var r=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},i.createEl=function(r,o,a){return o===void 0&&(o={}),a===void 0&&(a={}),o.className=o.className+" vjs-slider",o=yi({tabIndex:0},o),a=yi({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},a),t.prototype.createEl.call(this,r,o,a)},i.handleMouseDown=function(r){var o=this.bar.el_.ownerDocument;r.type==="mousedown"&&r.preventDefault(),r.type==="touchstart"&&!zs&&r.preventDefault(),zN(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(o,"mousemove",this.handleMouseMove_),this.on(o,"mouseup",this.handleMouseUp_),this.on(o,"touchmove",this.handleMouseMove_),this.on(o,"touchend",this.handleMouseUp_),this.handleMouseMove(r)},i.handleMouseMove=function(r){},i.handleMouseUp=function(){var r=this.bar.el_.ownerDocument;IN(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.update()},i.update=function(){var r=this;if(!(!this.el_||!this.bar)){var o=this.getProgress();return o===this.progress_||(this.progress_=o,this.requestNamedAnimationFrame("Slider#update",function(){var a=r.vertical()?"height":"width";r.bar.el().style[a]=(o*100).toFixed(2)+"%"})),o}},i.getProgress=function(){return Number(IA(this.getPercent(),0,1).toFixed(4))},i.calculateDistance=function(r){var o=_A(this.el_,r);return this.vertical()?o.y:o.x},i.handleKeyDown=function(r){ft.isEventKey(r,"Left")||ft.isEventKey(r,"Down")?(r.preventDefault(),r.stopPropagation(),this.stepBack()):ft.isEventKey(r,"Right")||ft.isEventKey(r,"Up")?(r.preventDefault(),r.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,r)},i.handleClick=function(r){r.stopPropagation(),r.preventDefault()},i.vertical=function(r){if(r===void 0)return this.vertical_||!1;this.vertical_=!!r,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(Ae);Ae.registerComponent("Slider",RE);var yk=function(e,i){return IA(e/i*100,0,100).toFixed(2)+"%"},Obe=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.partEls_=[],o.on(n,"progress",function(a){return o.update(a)}),o}var i=e.prototype;return i.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),o=Mt("span",{className:"vjs-control-text"}),a=Mt("span",{textContent:this.localize("Loaded")}),s=Le.createTextNode(": ");return this.percentageEl_=Mt("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),r.appendChild(o),o.appendChild(a),o.appendChild(s),o.appendChild(this.percentageEl_),r},i.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},i.update=function(r){var o=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var a=o.player_.liveTracker,s=o.player_.buffered(),l=a&&a.isLive()?a.seekableEnd():o.player_.duration(),c=o.player_.bufferedEnd(),d=o.partEls_,p=yk(c,l);o.percent_!==p&&(o.el_.style.width=p,du(o.percentageEl_,p),o.percent_=p);for(var h=0;h<s.length;h++){var m=s.start(h),y=s.end(h),w=d[h];w||(w=o.el_.appendChild(Mt()),d[h]=w),!(w.dataset.start===m&&w.dataset.end===y)&&(w.dataset.start=m,w.dataset.end=y,w.style.left=yk(m,c),w.style.width=yk(y-m,c))}for(var g=d.length;g>s.length;g--)o.el_.removeChild(d[g-1]);d.length=s.length})},e}(Ae);Ae.registerComponent("LoadProgressBar",Obe);var Mbe=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.update=xs(ti(re(o),o.update),Fo),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},i.update=function(r,o,a){var s=Fm(this.el_),l=ff(this.player_.el()),c=r.width*o;if(!(!l||!s)){var d=r.left-l.left+c,p=r.width-c+(l.right-r.right),h=s.width/2;d<h?h+=h-d:p<h&&(h=p),h<0?h=0:h>s.width&&(h=s.width),h=Math.round(h),this.el_.style.right="-"+h+"px",this.write(a)}},i.write=function(r){du(this.el_,r)},i.updateTime=function(r,o,a,s){var l=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var c,d=l.player_.duration();if(l.player_.liveTracker&&l.player_.liveTracker.isLive()){var p=l.player_.liveTracker.liveWindow(),h=p-o*p;c=(h<1?"":"-")+mf(h,p)}else c=mf(a,d);l.update(r,o,c),s&&s()})},e}(Ae);Ae.registerComponent("TimeTooltip",Mbe);var PE=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.update=xs(ti(re(o),o.update),Fo),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},i.update=function(r,o){var a=this.getChild("timeTooltip");if(!!a){var s=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();a.updateTime(r,o,s)}},e}(Ae);PE.prototype.options_={children:[]};!xr&&!Es&&PE.prototype.options_.children.push("timeTooltip");Ae.registerComponent("PlayProgressBar",PE);var tj=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.update=xs(ti(re(o),o.update),Fo),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(r,o){var a=this,s=o*this.player_.duration();this.getChild("timeTooltip").updateTime(r,o,s,function(){a.el_.style.left=r.width*o+"px"})},e}(Ae);tj.prototype.options_={children:["timeTooltip"]};Ae.registerComponent("MouseTimeDisplay",tj);var R0=5,oL=12,LE=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.setEventHandlers_(),o}var i=e.prototype;return i.setEventHandlers_=function(){var r=this;this.update_=ti(this,this.update),this.update=xs(this.update_,Fo),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(o){return r.enableInterval_(o)},this.disableIntervalHandler_=function(o){return r.disableInterval_(o)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Le&&"visibilityState"in Le&&this.on(Le,"visibilitychange",this.toggleVisibility_)},i.toggleVisibility_=function(r){Le.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(r)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},i.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Fo))},i.disableInterval_=function(r){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&r&&r.type!=="ended"||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},i.update=function(r){var o=this;if(Le.visibilityState!=="hidden"){var a=t.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var s=o.player_.ended()?o.player_.duration():o.getCurrentTime_(),l=o.player_.liveTracker,c=o.player_.duration();l&&l.isLive()&&(c=o.player_.liveTracker.liveCurrentTime()),o.percent_!==a&&(o.el_.setAttribute("aria-valuenow",(a*100).toFixed(2)),o.percent_=a),(o.currentTime_!==s||o.duration_!==c)&&(o.el_.setAttribute("aria-valuetext",o.localize("progress bar timing: currentTime={1} duration={2}",[mf(s,c),mf(c,c)],"{1} of {2}")),o.currentTime_=s,o.duration_=c),o.bar&&o.bar.update(ff(o.el()),o.getProgress())}),a}},i.userSeek_=function(r){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(r)},i.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},i.getPercent=function(){var r=this.getCurrentTime_(),o,a=this.player_.liveTracker;return a&&a.isLive()?(o=(r-a.seekableStart())/a.liveWindow(),a.atLiveEdge()&&(o=1)):o=r/this.player_.duration(),o},i.handleMouseDown=function(r){!Nm(r)||(r.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,r))},i.handleMouseMove=function(r){if(!!Nm(r)){var o,a=this.calculateDistance(r),s=this.player_.liveTracker;if(!s||!s.isLive())o=a*this.player_.duration(),o===this.player_.duration()&&(o=o-.1);else{if(a>=.99){s.seekToLiveEdge();return}var l=s.seekableStart(),c=s.liveCurrentTime();if(o=l+a*s.liveWindow(),o>=c&&(o=c),o<=l&&(o=l+.1),o===1/0)return}this.userSeek_(o)}},i.enable=function(){t.prototype.enable.call(this);var r=this.getChild("mouseTimeDisplay");!r||r.show()},i.disable=function(){t.prototype.disable.call(this);var r=this.getChild("mouseTimeDisplay");!r||r.hide()},i.handleMouseUp=function(r){t.prototype.handleMouseUp.call(this,r),r&&r.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?na(this.player_.play()):this.update_()},i.stepForward=function(){this.userSeek_(this.player_.currentTime()+R0)},i.stepBack=function(){this.userSeek_(this.player_.currentTime()-R0)},i.handleAction=function(r){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleKeyDown=function(r){var o=this.player_.liveTracker;if(ft.isEventKey(r,"Space")||ft.isEventKey(r,"Enter"))r.preventDefault(),r.stopPropagation(),this.handleAction(r);else if(ft.isEventKey(r,"Home"))r.preventDefault(),r.stopPropagation(),this.userSeek_(0);else if(ft.isEventKey(r,"End"))r.preventDefault(),r.stopPropagation(),o&&o.isLive()?this.userSeek_(o.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(ft(r))){r.preventDefault(),r.stopPropagation();var a=(ft.codes[ft(r)]-ft.codes[0])*10/100;o&&o.isLive()?this.userSeek_(o.seekableStart()+o.liveWindow()*a):this.userSeek_(this.player_.duration()*a)}else ft.isEventKey(r,"PgDn")?(r.preventDefault(),r.stopPropagation(),this.userSeek_(this.player_.currentTime()-R0*oL)):ft.isEventKey(r,"PgUp")?(r.preventDefault(),r.stopPropagation(),this.userSeek_(this.player_.currentTime()+R0*oL)):t.prototype.handleKeyDown.call(this,r)},i.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Le&&"visibilityState"in Le&&this.off(Le,"visibilitychange",this.toggleVisibility_),t.prototype.dispose.call(this)},e}(RE);LE.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!xr&&!Es&&LE.prototype.options_.children.splice(1,0,"mouseTimeDisplay");Ae.registerComponent("SeekBar",LE);var ij=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.handleMouseMove=xs(ti(re(o),o.handleMouseMove),Fo),o.throttledHandleMouseSeek=xs(ti(re(o),o.handleMouseSeek),Fo),o.handleMouseUpHandler_=function(a){return o.handleMouseUp(a)},o.handleMouseDownHandler_=function(a){return o.handleMouseDown(a)},o.enable(),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.handleMouseMove=function(r){var o=this.getChild("seekBar");if(!!o){var a=o.getChild("playProgressBar"),s=o.getChild("mouseTimeDisplay");if(!(!a&&!s)){var l=o.el(),c=Fm(l),d=_A(l,r).x;d=IA(d,0,1),s&&s.update(c,d),a&&a.update(c,o.getProgress())}}},i.handleMouseSeek=function(r){var o=this.getChild("seekBar");o&&o.handleMouseMove(r)},i.enabled=function(){return this.enabled_},i.disable=function(){if(this.children().forEach(function(o){return o.disable&&o.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var r=this.getChild("seekBar");this.player_.scrubbing(!1),r.videoWasPlaying&&na(this.player_.play())}},i.enable=function(){this.children().forEach(function(r){return r.enable&&r.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},i.removeListenersAddedOnMousedownAndTouchstart=function(){var r=this.el_.ownerDocument;this.off(r,"mousemove",this.throttledHandleMouseSeek),this.off(r,"touchmove",this.throttledHandleMouseSeek),this.off(r,"mouseup",this.handleMouseUpHandler_),this.off(r,"touchend",this.handleMouseUpHandler_)},i.handleMouseDown=function(r){var o=this.el_.ownerDocument,a=this.getChild("seekBar");a&&a.handleMouseDown(r),this.on(o,"mousemove",this.throttledHandleMouseSeek),this.on(o,"touchmove",this.throttledHandleMouseSeek),this.on(o,"mouseup",this.handleMouseUpHandler_),this.on(o,"touchend",this.handleMouseUpHandler_)},i.handleMouseUp=function(r){var o=this.getChild("seekBar");o&&o.handleMouseUp(r),this.removeListenersAddedOnMousedownAndTouchstart()},e}(Ae);ij.prototype.options_={children:["seekBar"]};Ae.registerComponent("ProgressControl",ij);var nj=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.on(n,["enterpictureinpicture","leavepictureinpicture"],function(a){return o.handlePictureInPictureChange(a)}),o.on(n,["disablepictureinpicturechanged","loadedmetadata"],function(a){return o.handlePictureInPictureEnabledChange(a)}),o.disable(),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},i.handlePictureInPictureEnabledChange=function(){Le.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},i.handlePictureInPictureChange=function(r){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},i.handleClick=function(r){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(Lo);nj.prototype.controlText_="Picture-in-Picture";Ae.registerComponent("PictureInPictureToggle",nj);var rj=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.on(n,"fullscreenchange",function(a){return o.handleFullscreenChange(a)}),Le[n.fsApi_.fullscreenEnabled]===!1&&o.disable(),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=function(r){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},i.handleClick=function(r){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(Lo);rj.prototype.controlText_="Fullscreen";Ae.registerComponent("FullscreenToggle",rj);var Dbe=function(e,i){i.tech_&&!i.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(i,"loadstart",function(){i.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},Bbe=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return r.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),r},e}(Ae);Ae.registerComponent("VolumeLevel",Bbe);var Fbe=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.update=xs(ti(re(o),o.update),Fo),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},i.update=function(r,o,a,s){if(!a){var l=ff(this.el_),c=ff(this.player_.el()),d=r.width*o;if(!c||!l)return;var p=r.left-c.left+d,h=r.width-d+(c.right-r.right),m=l.width/2;p<m?m+=m-p:h<m&&(m=h),m<0?m=0:m>l.width&&(m=l.width),this.el_.style.right="-"+m+"px"}this.write(s+"%")},i.write=function(r){du(this.el_,r)},i.updateVolume=function(r,o,a,s,l){var c=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){c.update(r,o,a,s.toFixed(0)),l&&l()})},e}(Ae);Ae.registerComponent("VolumeLevelTooltip",Fbe);var oj=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.update=xs(ti(re(o),o.update),Fo),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(r,o,a){var s=this,l=100*o;this.getChild("volumeLevelTooltip").updateVolume(r,o,a,l,function(){a?s.el_.style.bottom=r.height*o+"px":s.el_.style.left=r.width*o+"px"})},e}(Ae);oj.prototype.options_={children:["volumeLevelTooltip"]};Ae.registerComponent("MouseVolumeLevelDisplay",oj);var RA=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.on("slideractive",function(a){return o.updateLastVolume_(a)}),o.on(n,"volumechange",function(a){return o.updateARIAAttributes(a)}),n.ready(function(){return o.updateARIAAttributes()}),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},i.handleMouseDown=function(r){!Nm(r)||t.prototype.handleMouseDown.call(this,r)},i.handleMouseMove=function(r){var o=this.getChild("mouseVolumeLevelDisplay");if(o){var a=this.el(),s=ff(a),l=this.vertical(),c=_A(a,r);c=l?c.y:c.x,c=IA(c,0,1),o.update(s,c,l)}!Nm(r)||(this.checkMuted(),this.player_.volume(this.calculateDistance(r)))},i.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},i.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},i.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},i.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},i.updateARIAAttributes=function(r){var o=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",o),this.el_.setAttribute("aria-valuetext",o+"%")},i.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},i.updateLastVolume_=function(){var r=this,o=this.player_.volume();this.one("sliderinactive",function(){r.player_.volume()===0&&r.player_.lastVolume_(o)})},e}(RE);RA.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!xr&&!Es&&RA.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");RA.prototype.playerEvent="volumechange";Ae.registerComponent("VolumeBar",RA);var aj=function(t){ye(e,t);function e(n,r){var o;return r===void 0&&(r={}),r.vertical=r.vertical||!1,(typeof r.volumeBar=="undefined"||Dm(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),o=t.call(this,n,r)||this,Dbe(re(o),n),o.throttledHandleMouseMove=xs(ti(re(o),o.handleMouseMove),Fo),o.handleMouseUpHandler_=function(a){return o.handleMouseUp(a)},o.on("mousedown",function(a){return o.handleMouseDown(a)}),o.on("touchstart",function(a){return o.handleMouseDown(a)}),o.on("mousemove",function(a){return o.handleMouseMove(a)}),o.on(o.volumeBar,["focus","slideractive"],function(){o.volumeBar.addClass("vjs-slider-active"),o.addClass("vjs-slider-active"),o.trigger("slideractive")}),o.on(o.volumeBar,["blur","sliderinactive"],function(){o.volumeBar.removeClass("vjs-slider-active"),o.removeClass("vjs-slider-active"),o.trigger("sliderinactive")}),o}var i=e.prototype;return i.createEl=function(){var r="vjs-volume-horizontal";return this.options_.vertical&&(r="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+r})},i.handleMouseDown=function(r){var o=this.el_.ownerDocument;this.on(o,"mousemove",this.throttledHandleMouseMove),this.on(o,"touchmove",this.throttledHandleMouseMove),this.on(o,"mouseup",this.handleMouseUpHandler_),this.on(o,"touchend",this.handleMouseUpHandler_)},i.handleMouseUp=function(r){var o=this.el_.ownerDocument;this.off(o,"mousemove",this.throttledHandleMouseMove),this.off(o,"touchmove",this.throttledHandleMouseMove),this.off(o,"mouseup",this.handleMouseUpHandler_),this.off(o,"touchend",this.handleMouseUpHandler_)},i.handleMouseMove=function(r){this.volumeBar.handleMouseMove(r)},e}(Ae);aj.prototype.options_={children:["volumeBar"]};Ae.registerComponent("VolumeControl",aj);var Nbe=function(e,i){i.tech_&&!i.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(i,"loadstart",function(){i.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},sj=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,Nbe(re(o),n),o.on(n,["loadstart","volumechange"],function(a){return o.update(a)}),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(r){var o=this.player_.volume(),a=this.player_.lastVolume_();if(o===0){var s=a<.1?.1:a;this.player_.volume(s),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},i.update=function(r){this.updateIcon_(),this.updateControlText_()},i.updateIcon_=function(){var r=this.player_.volume(),o=3;xr&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),r===0||this.player_.muted()?o=0:r<.33?o=1:r<.67&&(o=2);for(var a=0;a<4;a++)Og(this.el_,"vjs-vol-"+a);us(this.el_,"vjs-vol-"+o)},i.updateControlText_=function(){var r=this.player_.muted()||this.player_.volume()===0,o=r?"Unmute":"Mute";this.controlText()!==o&&this.controlText(o)},e}(Lo);sj.prototype.controlText_="Mute";Ae.registerComponent("MuteToggle",sj);var lj=function(t){ye(e,t);function e(n,r){var o;return r===void 0&&(r={}),typeof r.inline!="undefined"?r.inline=r.inline:r.inline=!0,(typeof r.volumeControl=="undefined"||Dm(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),o=t.call(this,n,r)||this,o.handleKeyPressHandler_=function(a){return o.handleKeyPress(a)},o.on(n,["loadstart"],function(a){return o.volumePanelState_(a)}),o.on(o.muteToggle,"keyup",function(a){return o.handleKeyPress(a)}),o.on(o.volumeControl,"keyup",function(a){return o.handleVolumeControlKeyUp(a)}),o.on("keydown",function(a){return o.handleKeyPress(a)}),o.on("mouseover",function(a){return o.handleMouseOver(a)}),o.on("mouseout",function(a){return o.handleMouseOut(a)}),o.on(o.volumeControl,["slideractive"],o.sliderActive_),o.on(o.volumeControl,["sliderinactive"],o.sliderInactive_),o}var i=e.prototype;return i.sliderActive_=function(){this.addClass("vjs-slider-active")},i.sliderInactive_=function(){this.removeClass("vjs-slider-active")},i.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},i.createEl=function(){var r="vjs-volume-panel-horizontal";return this.options_.inline||(r="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+r})},i.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},i.handleVolumeControlKeyUp=function(r){ft.isEventKey(r,"Esc")&&this.muteToggle.focus()},i.handleMouseOver=function(r){this.addClass("vjs-hover"),qr(Le,"keyup",this.handleKeyPressHandler_)},i.handleMouseOut=function(r){this.removeClass("vjs-hover"),Ln(Le,"keyup",this.handleKeyPressHandler_)},i.handleKeyPress=function(r){ft.isEventKey(r,"Esc")&&this.handleMouseOut()},e}(Ae);lj.prototype.options_={children:["muteToggle","volumeControl"]};Ae.registerComponent("VolumePanel",lj);var cj=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,r&&(o.menuButton_=r.menuButton),o.focusedChild_=-1,o.on("keydown",function(a){return o.handleKeyDown(a)}),o.boundHandleBlur_=function(a){return o.handleBlur(a)},o.boundHandleTapClick_=function(a){return o.handleTapClick(a)},o}var i=e.prototype;return i.addEventListenerForItem=function(r){r instanceof Ae&&(this.on(r,"blur",this.boundHandleBlur_),this.on(r,["tap","click"],this.boundHandleTapClick_))},i.removeEventListenerForItem=function(r){r instanceof Ae&&(this.off(r,"blur",this.boundHandleBlur_),this.off(r,["tap","click"],this.boundHandleTapClick_))},i.removeChild=function(r){typeof r=="string"&&(r=this.getChild(r)),this.removeEventListenerForItem(r),t.prototype.removeChild.call(this,r)},i.addItem=function(r){var o=this.addChild(r);o&&this.addEventListenerForItem(o)},i.createEl=function(){var r=this.options_.contentElType||"ul";this.contentEl_=Mt(r,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var o=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return o.appendChild(this.contentEl_),qr(o,"click",function(a){a.preventDefault(),a.stopImmediatePropagation()}),o},i.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},i.handleBlur=function(r){var o=r.relatedTarget||Le.activeElement;if(!this.children().some(function(s){return s.el()===o})){var a=this.menuButton_;a&&a.buttonPressed_&&o!==a.el().firstChild&&a.unpressButton()}},i.handleTapClick=function(r){if(this.menuButton_){this.menuButton_.unpressButton();var o=this.children();if(!Array.isArray(o))return;var a=o.filter(function(s){return s.el()===r.target})[0];if(!a)return;a.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},i.handleKeyDown=function(r){ft.isEventKey(r,"Left")||ft.isEventKey(r,"Down")?(r.preventDefault(),r.stopPropagation(),this.stepForward()):(ft.isEventKey(r,"Right")||ft.isEventKey(r,"Up"))&&(r.preventDefault(),r.stopPropagation(),this.stepBack())},i.stepForward=function(){var r=0;this.focusedChild_!==void 0&&(r=this.focusedChild_+1),this.focus(r)},i.stepBack=function(){var r=0;this.focusedChild_!==void 0&&(r=this.focusedChild_-1),this.focus(r)},i.focus=function(r){r===void 0&&(r=0);var o=this.children().slice(),a=o.length&&o[0].hasClass("vjs-menu-title");a&&o.shift(),o.length>0&&(r<0?r=0:r>=o.length&&(r=o.length-1),this.focusedChild_=r,o[r].el_.focus())},e}(Ae);Ae.registerComponent("Menu",cj);var OE=function(t){ye(e,t);function e(n,r){var o;r===void 0&&(r={}),o=t.call(this,n,r)||this,o.menuButton_=new Lo(n,r),o.menuButton_.controlText(o.controlText_),o.menuButton_.el_.setAttribute("aria-haspopup","true");var a=Lo.prototype.buildCSSClass();o.menuButton_.el_.className=o.buildCSSClass()+" "+a,o.menuButton_.removeClass("vjs-control"),o.addChild(o.menuButton_),o.update(),o.enabled_=!0;var s=function(c){return o.handleClick(c)};return o.handleMenuKeyUp_=function(l){return o.handleMenuKeyUp(l)},o.on(o.menuButton_,"tap",s),o.on(o.menuButton_,"click",s),o.on(o.menuButton_,"keydown",function(l){return o.handleKeyDown(l)}),o.on(o.menuButton_,"mouseenter",function(){o.addClass("vjs-hover"),o.menu.show(),qr(Le,"keyup",o.handleMenuKeyUp_)}),o.on("mouseleave",function(l){return o.handleMouseLeave(l)}),o.on("keydown",function(l){return o.handleSubmenuKeyDown(l)}),o}var i=e.prototype;return i.update=function(){var r=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=r,this.addChild(r),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},i.createMenu=function(){var r=new cj(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var o=Mt("li",{className:"vjs-menu-title",textContent:Si(this.options_.title),tabIndex:-1}),a=new Ae(this.player_,{el:o});r.addItem(a)}if(this.items=this.createItems(),this.items)for(var s=0;s<this.items.length;s++)r.addItem(this.items[s]);return r},i.createItems=function(){},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},i.buildWrapperCSSClass=function(){var r="vjs-menu-button";this.options_.inline===!0?r+="-inline":r+="-popup";var o=Lo.prototype.buildCSSClass();return"vjs-menu-button "+r+" "+o+" "+t.prototype.buildCSSClass.call(this)},i.buildCSSClass=function(){var r="vjs-menu-button";return this.options_.inline===!0?r+="-inline":r+="-popup","vjs-menu-button "+r+" "+t.prototype.buildCSSClass.call(this)},i.controlText=function(r,o){return o===void 0&&(o=this.menuButton_.el()),this.menuButton_.controlText(r,o)},i.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},i.handleClick=function(r){this.buttonPressed_?this.unpressButton():this.pressButton()},i.handleMouseLeave=function(r){this.removeClass("vjs-hover"),Ln(Le,"keyup",this.handleMenuKeyUp_)},i.focus=function(){this.menuButton_.focus()},i.blur=function(){this.menuButton_.blur()},i.handleKeyDown=function(r){ft.isEventKey(r,"Esc")||ft.isEventKey(r,"Tab")?(this.buttonPressed_&&this.unpressButton(),ft.isEventKey(r,"Tab")||(r.preventDefault(),this.menuButton_.focus())):(ft.isEventKey(r,"Up")||ft.isEventKey(r,"Down"))&&(this.buttonPressed_||(r.preventDefault(),this.pressButton()))},i.handleMenuKeyUp=function(r){(ft.isEventKey(r,"Esc")||ft.isEventKey(r,"Tab"))&&this.removeClass("vjs-hover")},i.handleSubmenuKeyPress=function(r){this.handleSubmenuKeyDown(r)},i.handleSubmenuKeyDown=function(r){(ft.isEventKey(r,"Esc")||ft.isEventKey(r,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),ft.isEventKey(r,"Tab")||(r.preventDefault(),this.menuButton_.focus()))},i.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),xr&&_N())return;this.menu.focus()}},i.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},i.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},i.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(Ae);Ae.registerComponent("MenuButton",OE);var ME=function(t){ye(e,t);function e(i,n){var r,o=n.tracks;if(r=t.call(this,i,n)||this,r.items.length<=1&&r.hide(),!o)return re(r);var a=ti(re(r),r.update);return o.addEventListener("removetrack",a),o.addEventListener("addtrack",a),o.addEventListener("labelchange",a),r.player_.on("ready",a),r.player_.on("dispose",function(){o.removeEventListener("removetrack",a),o.removeEventListener("addtrack",a),o.removeEventListener("labelchange",a)}),r}return e}(OE);Ae.registerComponent("TrackButton",ME);var jbe=["Tab","Esc","Up","Down","Right","Left"],Dg=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.selectable=r.selectable,o.isSelected_=r.selected||!1,o.multiSelectable=r.multiSelectable,o.selected(o.isSelected_),o.selectable?o.multiSelectable?o.el_.setAttribute("role","menuitemcheckbox"):o.el_.setAttribute("role","menuitemradio"):o.el_.setAttribute("role","menuitem"),o}var i=e.prototype;return i.createEl=function(r,o,a){this.nonIconControl=!0;var s=t.prototype.createEl.call(this,"li",yi({className:"vjs-menu-item",tabIndex:-1},o),a);return s.replaceChild(Mt("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),s.querySelector(".vjs-icon-placeholder")),s},i.handleKeyDown=function(r){jbe.some(function(o){return ft.isEventKey(r,o)})||t.prototype.handleKeyDown.call(this,r)},i.handleClick=function(r){this.selected(!0)},i.selected=function(r){this.selectable&&(r?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(zA);Ae.registerComponent("MenuItem",Dg);var Bg=function(t){ye(e,t);function e(n,r){var o,a=r.track,s=n.textTracks();r.label=a.label||a.language||"Unknown",r.selected=a.mode==="showing",o=t.call(this,n,r)||this,o.track=a,o.kinds=(r.kinds||[r.kind||o.track.kind]).filter(Boolean);var l=function(){for(var h=arguments.length,m=new Array(h),y=0;y<h;y++)m[y]=arguments[y];o.handleTracksChange.apply(re(o),m)},c=function(){for(var h=arguments.length,m=new Array(h),y=0;y<h;y++)m[y]=arguments[y];o.handleSelectedLanguageChange.apply(re(o),m)};if(n.on(["loadstart","texttrackchange"],l),s.addEventListener("change",l),s.addEventListener("selectedlanguagechange",c),o.on("dispose",function(){n.off(["loadstart","texttrackchange"],l),s.removeEventListener("change",l),s.removeEventListener("selectedlanguagechange",c)}),s.onchange===void 0){var d;o.on(["tap","click"],function(){if(typeof Q.Event!="object")try{d=new Q.Event("change")}catch{}d||(d=Le.createEvent("Event"),d.initEvent("change",!0,!0)),s.dispatchEvent(d)})}return o.handleTracksChange(),o}var i=e.prototype;return i.handleClick=function(r){var o=this.track,a=this.player_.textTracks();if(t.prototype.handleClick.call(this,r),!!a)for(var s=0;s<a.length;s++){var l=a[s];this.kinds.indexOf(l.kind)!==-1&&(l===o?l.mode!=="showing"&&(l.mode="showing"):l.mode!=="disabled"&&(l.mode="disabled"))}},i.handleTracksChange=function(r){var o=this.track.mode==="showing";o!==this.isSelected_&&this.selected(o)},i.handleSelectedLanguageChange=function(r){if(this.track.mode==="showing"){var o=this.player_.cache_.selectedLanguage;if(o&&o.enabled&&o.language===this.track.language&&o.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},i.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(Dg);Ae.registerComponent("TextTrackMenuItem",Bg);var uj=function(t){ye(e,t);function e(n,r){return r.track={player:n,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,t.call(this,n,r)||this}var i=e.prototype;return i.handleTracksChange=function(r){for(var o=this.player().textTracks(),a=!0,s=0,l=o.length;s<l;s++){var c=o[s];if(this.options_.kinds.indexOf(c.kind)>-1&&c.mode==="showing"){a=!1;break}}a!==this.isSelected_&&this.selected(a)},i.handleSelectedLanguageChange=function(r){for(var o=this.player().textTracks(),a=!0,s=0,l=o.length;s<l;s++){var c=o[s];if(["captions","descriptions","subtitles"].indexOf(c.kind)>-1&&c.mode==="showing"){a=!1;break}}a&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Bg);Ae.registerComponent("OffTextTrackMenuItem",uj);var Hf=function(t){ye(e,t);function e(n,r){return r===void 0&&(r={}),r.tracks=n.textTracks(),t.call(this,n,r)||this}var i=e.prototype;return i.createItems=function(r,o){r===void 0&&(r=[]),o===void 0&&(o=Bg);var a;this.label_&&(a=this.label_+" off"),r.push(new uj(this.player_,{kinds:this.kinds_,kind:this.kind_,label:a})),this.hideThreshold_+=1;var s=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var l=0;l<s.length;l++){var c=s[l];if(this.kinds_.indexOf(c.kind)>-1){var d=new o(this.player_,{track:c,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});d.addClass("vjs-"+c.kind+"-menu-item"),r.push(d)}}return r},e}(ME);Ae.registerComponent("TextTrackButton",Hf);var dj=function(t){ye(e,t);function e(n,r){var o,a=r.track,s=r.cue,l=n.currentTime();return r.selectable=!0,r.multiSelectable=!1,r.label=s.text,r.selected=s.startTime<=l&&l<s.endTime,o=t.call(this,n,r)||this,o.track=a,o.cue=s,a.addEventListener("cuechange",ti(re(o),o.update)),o}var i=e.prototype;return i.handleClick=function(r){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},i.update=function(r){var o=this.cue,a=this.player_.currentTime();this.selected(o.startTime<=a&&a<o.endTime)},e}(Dg);Ae.registerComponent("ChaptersTrackMenuItem",dj);var DE=function(t){ye(e,t);function e(n,r,o){return t.call(this,n,r,o)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},i.update=function(r){(!this.track_||r&&(r.type==="addtrack"||r.type==="removetrack"))&&this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},i.setTrack=function(r){if(this.track_!==r){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var o=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);o&&o.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=r,this.track_){this.track_.mode="hidden";var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.addEventListener("load",this.updateHandler_)}}},i.findChaptersTrack=function(){for(var r=this.player_.textTracks()||[],o=r.length-1;o>=0;o--){var a=r[o];if(a.kind===this.kind_)return a}},i.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Si(this.kind_))},i.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},i.createItems=function(){var r=[];if(!this.track_)return r;var o=this.track_.cues;if(!o)return r;for(var a=0,s=o.length;a<s;a++){var l=o[a],c=new dj(this.player_,{track:this.track_,cue:l});r.push(c)}return r},e}(Hf);DE.prototype.kind_="chapters";DE.prototype.controlText_="Chapters";Ae.registerComponent("ChaptersButton",DE);var BE=function(t){ye(e,t);function e(n,r,o){var a;a=t.call(this,n,r,o)||this;var s=n.textTracks(),l=ti(re(a),a.handleTracksChange);return s.addEventListener("change",l),a.on("dispose",function(){s.removeEventListener("change",l)}),a}var i=e.prototype;return i.handleTracksChange=function(r){for(var o=this.player().textTracks(),a=!1,s=0,l=o.length;s<l;s++){var c=o[s];if(c.kind!==this.kind_&&c.mode==="showing"){a=!0;break}}a?this.disable():this.enable()},i.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Hf);BE.prototype.kind_="descriptions";BE.prototype.controlText_="Descriptions";Ae.registerComponent("DescriptionsButton",BE);var FE=function(t){ye(e,t);function e(n,r,o){return t.call(this,n,r,o)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Hf);FE.prototype.kind_="subtitles";FE.prototype.controlText_="Subtitles";Ae.registerComponent("SubtitlesButton",FE);var NE=function(t){ye(e,t);function e(n,r){var o;return r.track={player:n,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem",o=t.call(this,n,r)||this,o.addClass("vjs-texttrack-settings"),o.controlText(", opens "+r.kind+" settings dialog"),o}var i=e.prototype;return i.handleClick=function(r){this.player().getChild("textTrackSettings").open()},e}(Bg);Ae.registerComponent("CaptionSettingsMenuItem",NE);var jE=function(t){ye(e,t);function e(n,r,o){return t.call(this,n,r,o)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var r=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(r.push(new NE(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,r)},e}(Hf);jE.prototype.kind_="captions";jE.prototype.controlText_="Captions";Ae.registerComponent("CaptionsButton",jE);var fj=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(r,o,a){var s=t.prototype.createEl.call(this,r,o,a),l=s.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(l.appendChild(Mt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(Mt("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),s},e}(Bg);Ae.registerComponent("SubsCapsMenuItem",fj);var UE=function(t){ye(e,t);function e(n,r){var o;return r===void 0&&(r={}),o=t.call(this,n,r)||this,o.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(o.player_.language_)>-1&&(o.label_="captions"),o.menuButton_.controlText(Si(o.label_)),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var r=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(r.push(new NE(this.player_,{kind:this.label_})),this.hideThreshold_+=1),r=t.prototype.createItems.call(this,r,fj),r},e}(Hf);UE.prototype.kinds_=["captions","subtitles"];UE.prototype.controlText_="Subtitles";Ae.registerComponent("SubsCapsButton",UE);var pj=function(t){ye(e,t);function e(n,r){var o,a=r.track,s=n.audioTracks();r.label=a.label||a.language||"Unknown",r.selected=a.enabled,o=t.call(this,n,r)||this,o.track=a,o.addClass("vjs-"+a.kind+"-menu-item");var l=function(){for(var d=arguments.length,p=new Array(d),h=0;h<d;h++)p[h]=arguments[h];o.handleTracksChange.apply(re(o),p)};return s.addEventListener("change",l),o.on("dispose",function(){s.removeEventListener("change",l)}),o}var i=e.prototype;return i.createEl=function(r,o,a){var s=t.prototype.createEl.call(this,r,o,a),l=s.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(l.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-control-text",textContent:this.localize("Descriptions")}))),s},i.handleClick=function(r){t.prototype.handleClick.call(this,r),this.track.enabled=!0},i.handleTracksChange=function(r){this.selected(this.track.enabled)},e}(Dg);Ae.registerComponent("AudioTrackMenuItem",pj);var hj=function(t){ye(e,t);function e(n,r){return r===void 0&&(r={}),r.tracks=n.audioTracks(),t.call(this,n,r)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(r){r===void 0&&(r=[]),this.hideThreshold_=1;for(var o=this.player_.audioTracks(),a=0;a<o.length;a++){var s=o[a];r.push(new pj(this.player_,{track:s,selectable:!0,multiSelectable:!1}))}return r},e}(ME);hj.prototype.controlText_="Audio Track";Ae.registerComponent("AudioTrackButton",hj);var GE=function(t){ye(e,t);function e(n,r){var o,a=r.rate,s=parseFloat(a,10);return r.label=a,r.selected=s===n.playbackRate(),r.selectable=!0,r.multiSelectable=!1,o=t.call(this,n,r)||this,o.label=a,o.rate=s,o.on(n,"ratechange",function(l){return o.update(l)}),o}var i=e.prototype;return i.handleClick=function(r){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},i.update=function(r){this.selected(this.player().playbackRate()===this.rate)},e}(Dg);GE.prototype.contentElType="button";Ae.registerComponent("PlaybackRateMenuItem",GE);var mj=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.menuButton_.el_.setAttribute("aria-describedby",o.labelElId_),o.updateVisibility(),o.updateLabel(),o.on(n,"loadstart",function(a){return o.updateVisibility(a)}),o.on(n,"ratechange",function(a){return o.updateLabel(a)}),o.on(n,"playbackrateschange",function(a){return o.handlePlaybackRateschange(a)}),o}var i=e.prototype;return i.createEl=function(){var r=t.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=Mt("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),r.appendChild(this.labelEl_),r},i.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){for(var r=this.playbackRates(),o=[],a=r.length-1;a>=0;a--)o.push(new GE(this.player(),{rate:r[a]+"x"}));return o},i.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},i.handleClick=function(r){for(var o=this.player().playbackRate(),a=this.playbackRates(),s=a[0],l=0;l<a.length;l++)if(a[l]>o){s=a[l];break}this.player().playbackRate(s)},i.handlePlaybackRateschange=function(r){this.update()},i.playbackRates=function(){var r=this.player();return r.playbackRates&&r.playbackRates()||[]},i.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},i.updateVisibility=function(r){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},i.updateLabel=function(r){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},e}(OE);mj.prototype.controlText_="Playback Rate";Ae.registerComponent("PlaybackRateMenuButton",mj);var gj=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(r,o,a){return r===void 0&&(r="div"),o===void 0&&(o={}),a===void 0&&(a={}),o.className||(o.className=this.buildCSSClass()),t.prototype.createEl.call(this,r,o,a)},e}(Ae);Ae.registerComponent("Spacer",gj);var Ube=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xA0"})},e}(gj);Ae.registerComponent("CustomControlSpacer",Ube);var My=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(Ae);My.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in Le&&My.prototype.options_.children.splice(My.prototype.options_.children.length-1,0,"pictureInPictureToggle");Ae.registerComponent("ControlBar",My);var bj=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.on(n,"error",function(a){return o.open(a)}),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},i.content=function(){var r=this.player().error();return r?this.localize(r.message):""},e}(jf);bj.prototype.options_=Me({},jf.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});Ae.registerComponent("ErrorDisplay",bj);var wk="vjs-text-track-settings",aL=["#000","Black"],sL=["#00F","Blue"],lL=["#0FF","Cyan"],cL=["#0F0","Green"],uL=["#F0F","Magenta"],dL=["#F00","Red"],fL=["#FFF","White"],pL=["#FF0","Yellow"],Ak=["1","Opaque"],xk=["0.5","Semi-Transparent"],hL=["0","Transparent"],fc={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[aL,fL,dL,cL,sL,pL,uL,lL]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Ak,xk,hL]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[fL,aL,dL,cL,sL,pL,uL,lL]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return e==="1.00"?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Ak,xk]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[hL,xk,Ak]}};fc.windowColor.options=fc.backgroundColor.options;function vj(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function Gbe(t,e){var i=t.options[t.options.selectedIndex].value;return vj(i,e)}function Hbe(t,e,i){if(!!e){for(var n=0;n<t.options.length;n++)if(vj(t.options[n].value,i)===e){t.selectedIndex=n;break}}}var Ybe=function(t){ye(e,t);function e(n,r){var o;return r.temporary=!1,o=t.call(this,n,r)||this,o.updateDisplay=o.updateDisplay.bind(re(o)),o.fill(),o.hasBeenOpened_=o.hasBeenFilled_=!0,o.endDialog=Mt("p",{className:"vjs-control-text",textContent:o.localize("End of dialog window.")}),o.el().appendChild(o.endDialog),o.setDefaults(),r.persistTextTrackSettings===void 0&&(o.options_.persistTextTrackSettings=o.options_.playerOptions.persistTextTrackSettings),o.on(o.$(".vjs-done-button"),"click",function(){o.saveSettings(),o.close()}),o.on(o.$(".vjs-default-button"),"click",function(){o.setDefaults(),o.updateDisplay()}),Sd(fc,function(a){o.on(o.$(a.selector),"change",o.updateDisplay)}),o.options_.persistTextTrackSettings&&o.restoreSettings(),o}var i=e.prototype;return i.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},i.createElSelect_=function(r,o,a){var s=this;o===void 0&&(o=""),a===void 0&&(a="label");var l=fc[r],c=l.id.replace("%s",this.id_),d=[o,c].join(" ").trim();return["<"+a+' id="'+c+'" class="'+(a==="label"?"vjs-label":"")+'">',this.localize(l.label),"</"+a+">",'<select aria-labelledby="'+d+'">'].concat(l.options.map(function(p){var h=c+"-"+p[1].replace(/\W+/g,"");return['<option id="'+h+'" value="'+p[0]+'" ','aria-labelledby="'+d+" "+h+'">',s.localize(p[1]),"</option>"].join("")})).concat("</select>").join("")},i.createElFgColor_=function(){var r="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",r),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",r),"</span>","</fieldset>"].join("")},i.createElBgColor_=function(){var r="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",r),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",r),"</span>","</fieldset>"].join("")},i.createElWinColor_=function(){var r="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",r),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",r),"</span>","</fieldset>"].join("")},i.createElColors_=function(){return Mt("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},i.createElFont_=function(){return Mt("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},i.createElControls_=function(){var r=this.localize("restore all settings to the default values");return Mt("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+r+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+r+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},i.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},i.label=function(){return this.localize("Caption Settings Dialog")},i.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},i.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},i.getValues=function(){var r=this;return Pge(fc,function(o,a,s){var l=Gbe(r.$(a.selector),a.parser);return l!==void 0&&(o[s]=l),o},{})},i.setValues=function(r){var o=this;Sd(fc,function(a,s){Hbe(o.$(a.selector),r[s],a.parser)})},i.setDefaults=function(){var r=this;Sd(fc,function(o){var a=o.hasOwnProperty("default")?o.default:0;r.$(o.selector).selectedIndex=a})},i.restoreSettings=function(){var r;try{r=JSON.parse(Q.localStorage.getItem(wk))}catch(o){wt.warn(o)}r&&this.setValues(r)},i.saveSettings=function(){if(!!this.options_.persistTextTrackSettings){var r=this.getValues();try{Object.keys(r).length?Q.localStorage.setItem(wk,JSON.stringify(r)):Q.localStorage.removeItem(wk)}catch(o){wt.warn(o)}}},i.updateDisplay=function(){var r=this.player_.getChild("textTrackDisplay");r&&r.updateDisplay()},i.conditionalBlur_=function(){this.previouslyActiveEl_=null;var r=this.player_.controlBar,o=r&&r.subsCapsButton,a=r&&r.captionsButton;o?o.focus():a&&a.focus()},e}(jf);Ae.registerComponent("TextTrackSettings",Ybe);var Wbe=function(t){ye(e,t);function e(n,r){var o,a=r.ResizeObserver||Q.ResizeObserver;r.ResizeObserver===null&&(a=!1);var s=ai({createEl:!a,reportTouchActivity:!1},r);return o=t.call(this,n,s)||this,o.ResizeObserver=r.ResizeObserver||Q.ResizeObserver,o.loadListener_=null,o.resizeObserver_=null,o.debouncedHandler_=Hge(function(){o.resizeHandler()},100,!1,re(o)),a?(o.resizeObserver_=new o.ResizeObserver(o.debouncedHandler_),o.resizeObserver_.observe(n.el())):(o.loadListener_=function(){if(!(!o.el_||!o.el_.contentWindow)){var l=o.debouncedHandler_,c=o.unloadListener_=function(){Ln(this,"resize",l),Ln(this,"unload",c),c=null};qr(o.el_.contentWindow,"unload",c),qr(o.el_.contentWindow,"resize",l)}},o.one("load",o.loadListener_)),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},i.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},i.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,t.prototype.dispose.call(this)},e}(Ae);Ae.registerComponent("ResizeManager",Wbe);var Vbe={trackingThreshold:20,liveTolerance:15},$be=function(t){ye(e,t);function e(n,r){var o,a=ai(Vbe,r,{createEl:!1});return o=t.call(this,n,a)||this,o.handleVisibilityChange_=function(s){return o.handleVisibilityChange(s)},o.trackLiveHandler_=function(){return o.trackLive_()},o.handlePlay_=function(s){return o.handlePlay(s)},o.handleFirstTimeupdate_=function(s){return o.handleFirstTimeupdate(s)},o.handleSeeked_=function(s){return o.handleSeeked(s)},o.seekToLiveEdge_=function(s){return o.seekToLiveEdge(s)},o.reset_(),o.on(o.player_,"durationchange",function(s){return o.handleDurationchange(s)}),o.one(o.player_,"canplay",function(){return o.toggleTracking()}),Lg&&"hidden"in Le&&"visibilityState"in Le&&o.on(Le,"visibilitychange",o.handleVisibilityChange_),o}var i=e.prototype;return i.handleVisibilityChange=function(){this.player_.duration()===1/0&&(Le.hidden?this.stopTracking():this.startTracking())},i.trackLive_=function(){var r=this.player_.seekable();if(!(!r||!r.length)){var o=Number(Q.performance.now().toFixed(4)),a=this.lastTime_===-1?0:(o-this.lastTime_)/1e3;this.lastTime_=o,this.pastSeekEnd_=this.pastSeekEnd()+a;var s=this.liveCurrentTime(),l=this.player_.currentTime(),c=this.player_.paused()||this.seekedBehindLive_||Math.abs(s-l)>this.options_.liveTolerance;(!this.timeupdateSeen_||s===1/0)&&(c=!1),c!==this.behindLiveEdge_&&(this.behindLiveEdge_=c,this.trigger("liveedgechange"))}},i.handleDurationchange=function(){this.toggleTracking()},i.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},i.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Fo),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},i.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},i.handleSeeked=function(){var r=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&r>2,this.nextSeekedFromUser_=!1,this.trackLive_()},i.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},i.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},i.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},i.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},i.seekableEnd=function(){for(var r=this.player_.seekable(),o=[],a=r?r.length:0;a--;)o.push(r.end(a));return o.length?o.sort()[o.length-1]:1/0},i.seekableStart=function(){for(var r=this.player_.seekable(),o=[],a=r?r.length:0;a--;)o.push(r.start(a));return o.length?o.sort()[0]:0},i.liveWindow=function(){var r=this.liveCurrentTime();return r===1/0?0:r-this.seekableStart()},i.isLive=function(){return this.isTracking()},i.atLiveEdge=function(){return!this.behindLiveEdge()},i.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},i.pastSeekEnd=function(){var r=this.seekableEnd();return this.lastSeekEnd_!==-1&&r!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=r,this.pastSeekEnd_},i.behindLiveEdge=function(){return this.behindLiveEdge_},i.isTracking=function(){return typeof this.trackingInterval_=="number"},i.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},i.dispose=function(){this.off(Le,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),t.prototype.dispose.call(this)},e}(Ae);Ae.registerComponent("LiveTracker",$be);var P2=function(e){var i=e.el();if(i.hasAttribute("src"))return e.triggerSourceset(i.src),!0;var n=e.$$("source"),r=[],o="";if(!n.length)return!1;for(var a=0;a<n.length;a++){var s=n[a].src;s&&r.indexOf(s)===-1&&r.push(s)}return r.length?(r.length===1&&(o=r[0]),e.triggerSourceset(o),!0):!1},Qbe=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var i=Le.createElement(this.nodeName.toLowerCase());i.innerHTML=e;for(var n=Le.createDocumentFragment();i.childNodes.length;)n.appendChild(i.childNodes[0]);return this.innerText="",Q.Element.prototype.appendChild.call(this,n),this.innerHTML}}),yj=function(e,i){for(var n={},r=0;r<e.length&&(n=Object.getOwnPropertyDescriptor(e[r],i),!(n&&n.set&&n.get));r++);return n.enumerable=!0,n.configurable=!0,n},qbe=function(e){return yj([e.el(),Q.HTMLMediaElement.prototype,Q.Element.prototype,Qbe],"innerHTML")},mL=function(e){var i=e.el();if(!i.resetSourceWatch_){var n={},r=qbe(e),o=function(s){return function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var p=s.apply(i,c);return P2(e),p}};["append","appendChild","insertAdjacentHTML"].forEach(function(a){!i[a]||(n[a]=i[a],i[a]=o(n[a]))}),Object.defineProperty(i,"innerHTML",ai(r,{set:o(r.set)})),i.resetSourceWatch_=function(){i.resetSourceWatch_=null,Object.keys(n).forEach(function(a){i[a]=n[a]}),Object.defineProperty(i,"innerHTML",r)},e.one("sourceset",i.resetSourceWatch_)}},Kbe=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?VN(Q.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return Q.Element.prototype.setAttribute.call(this,"src",e),e}}),Xbe=function(e){return yj([e.el(),Q.HTMLMediaElement.prototype,Kbe],"src")},Jbe=function(e){if(!!e.featuresSourceset){var i=e.el();if(!i.resetSourceset_){var n=Xbe(e),r=i.setAttribute,o=i.load;Object.defineProperty(i,"src",ai(n,{set:function(s){var l=n.set.call(i,s);return e.triggerSourceset(i.src),l}})),i.setAttribute=function(a,s){var l=r.call(i,a,s);return/src/i.test(a)&&e.triggerSourceset(i.src),l},i.load=function(){var a=o.call(i);return P2(e)||(e.triggerSourceset(""),mL(e)),a},i.currentSrc?e.triggerSourceset(i.currentSrc):P2(e)||mL(e),i.resetSourceset_=function(){i.resetSourceset_=null,i.load=o,i.setAttribute=r,Object.defineProperty(i,"src",n),i.resetSourceWatch_&&i.resetSourceWatch_()}}}},HE=function(e,i,n,r){r===void 0&&(r=!0);var o=function(l){return Object.defineProperty(e,i,{value:l,enumerable:!0,writable:!0})},a={configurable:!0,enumerable:!0,get:function(){var l=n();return o(l),l}};return r&&(a.set=o),Object.defineProperty(e,i,a)},qe=function(t){ye(e,t);function e(n,r){var o;o=t.call(this,n,r)||this;var a=n.source,s=!1;if(a&&(o.el_.currentSrc!==a.src||n.tag&&n.tag.initNetworkState_===3)?o.setSource(a):o.handleLateInit_(o.el_),n.enableSourceset&&o.setupSourcesetHandling_(),o.isScrubbing_=!1,o.el_.hasChildNodes()){for(var l=o.el_.childNodes,c=l.length,d=[];c--;){var p=l[c],h=p.nodeName.toLowerCase();h==="track"&&(o.featuresNativeTextTracks?(o.remoteTextTrackEls().addTrackElement_(p),o.remoteTextTracks().addTrack(p.track),o.textTracks().addTrack(p.track),!s&&!o.el_.hasAttribute("crossorigin")&&EA(p.src)&&(s=!0)):d.push(p))}for(var m=0;m<d.length;m++)o.el_.removeChild(d[m])}return o.proxyNativeTracks_(),o.featuresNativeTextTracks&&s&&wt.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),o.restoreMetadataTracksInIOSNativePlayer_(),(uf||vE||yN)&&n.nativeControlsForTouch===!0&&o.setControls(!0),o.proxyWebkitFullscreen_(),o.triggerReady(),o}var i=e.prototype;return i.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},i.setupSourcesetHandling_=function(){Jbe(this)},i.restoreMetadataTracksInIOSNativePlayer_=function(){var r=this.textTracks(),o,a=function(){o=[];for(var c=0;c<r.length;c++){var d=r[c];d.kind==="metadata"&&o.push({track:d,storedMode:d.mode})}};a(),r.addEventListener("change",a),this.on("dispose",function(){return r.removeEventListener("change",a)});var s=function l(){for(var c=0;c<o.length;c++){var d=o[c];d.track.mode==="disabled"&&d.track.mode!==d.storedMode&&(d.track.mode=d.storedMode)}r.removeEventListener("change",l)};this.on("webkitbeginfullscreen",function(){r.removeEventListener("change",a),r.removeEventListener("change",s),r.addEventListener("change",s)}),this.on("webkitendfullscreen",function(){r.removeEventListener("change",a),r.addEventListener("change",a),r.removeEventListener("change",s)})},i.overrideNative_=function(r,o){var a=this;if(o===this["featuresNative"+r+"Tracks"]){var s=r.toLowerCase();this[s+"TracksListeners_"]&&Object.keys(this[s+"TracksListeners_"]).forEach(function(l){var c=a.el()[s+"Tracks"];c.removeEventListener(l,a[s+"TracksListeners_"][l])}),this["featuresNative"+r+"Tracks"]=!o,this[s+"TracksListeners_"]=null,this.proxyNativeTracksForType_(s)}},i.overrideNativeAudioTracks=function(r){this.overrideNative_("Audio",r)},i.overrideNativeVideoTracks=function(r){this.overrideNative_("Video",r)},i.proxyNativeTracksForType_=function(r){var o=this,a=ho[r],s=this.el()[a.getterName],l=this[a.getterName]();if(!(!this["featuresNative"+a.capitalName+"Tracks"]||!s||!s.addEventListener)){var c={change:function(h){var m={type:"change",target:l,currentTarget:l,srcElement:l};l.trigger(m),r==="text"&&o[hf.remoteText.getterName]().trigger(m)},addtrack:function(h){l.addTrack(h.track)},removetrack:function(h){l.removeTrack(h.track)}},d=function(){for(var h=[],m=0;m<l.length;m++){for(var y=!1,w=0;w<s.length;w++)if(s[w]===l[m]){y=!0;break}y||h.push(l[m])}for(;h.length;)l.removeTrack(h.shift())};this[a.getterName+"Listeners_"]=c,Object.keys(c).forEach(function(p){var h=c[p];s.addEventListener(p,h),o.on("dispose",function(m){return s.removeEventListener(p,h)})}),this.on("loadstart",d),this.on("dispose",function(p){return o.off("loadstart",d)})}},i.proxyNativeTracks_=function(){var r=this;ho.names.forEach(function(o){r.proxyNativeTracksForType_(o)})},i.createEl=function(){var r=this.options_.tag;if(!r||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(r){var o=r.cloneNode(!0);r.parentNode&&r.parentNode.insertBefore(o,r),e.disposeMediaElement(r),r=o}else{r=Le.createElement("video");var a=this.options_.tag&&Qa(this.options_.tag),s=ai({},a);(!uf||this.options_.nativeControlsForTouch!==!0)&&delete s.controls,CN(r,yi(s,{id:this.options_.techId,class:"vjs-tech"}))}r.playerId=this.options_.playerId}typeof this.options_.preload!="undefined"&&df(r,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(r.disablePictureInPicture=this.options_.disablePictureInPicture);for(var l=["loop","muted","playsinline","autoplay"],c=0;c<l.length;c++){var d=l[c],p=this.options_[d];typeof p!="undefined"&&(p?df(r,d,d):kA(r,d),r[d]=p)}return r},i.handleLateInit_=function(r){if(!(r.networkState===0||r.networkState===3)){if(r.readyState===0){var o=!1,a=function(){o=!0};this.on("loadstart",a);var s=function(){o||this.trigger("loadstart")};this.on("loadedmetadata",s),this.ready(function(){this.off("loadstart",a),this.off("loadedmetadata",s),o||this.trigger("loadstart")});return}var l=["loadstart"];l.push("loadedmetadata"),r.readyState>=2&&l.push("loadeddata"),r.readyState>=3&&l.push("canplay"),r.readyState>=4&&l.push("canplaythrough"),this.ready(function(){l.forEach(function(c){this.trigger(c)},this)})}},i.setScrubbing=function(r){this.isScrubbing_=r},i.scrubbing=function(){return this.isScrubbing_},i.setCurrentTime=function(r){try{this.isScrubbing_&&this.el_.fastSeek&&xA?this.el_.fastSeek(r):this.el_.currentTime=r}catch(o){wt(o,"Video is not ready. (Video.js)")}},i.duration=function(){var r=this;if(this.el_.duration===1/0&&Es&&zs&&this.el_.currentTime===0){var o=function a(){r.el_.currentTime>0&&(r.el_.duration===1/0&&r.trigger("durationchange"),r.off("timeupdate",a))};return this.on("timeupdate",o),NaN}return this.el_.duration||NaN},i.width=function(){return this.el_.offsetWidth},i.height=function(){return this.el_.offsetHeight},i.proxyWebkitFullscreen_=function(){var r=this;if("webkitDisplayingFullscreen"in this.el_){var o=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},a=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",o),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",a),this.on("dispose",function(){r.off("webkitbeginfullscreen",a),r.off("webkitendfullscreen",o)})}},i.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var r=Q.navigator&&Q.navigator.userAgent||"";if(/Android/.test(r)||!/Chrome|Mac OS X 10.5/.test(r))return!0}return!1},i.enterFullScreen=function(){var r=this.el_;if(r.paused&&r.networkState<=r.HAVE_METADATA)na(this.el_.play()),this.setTimeout(function(){r.pause();try{r.webkitEnterFullScreen()}catch(o){this.trigger("fullscreenerror",o)}},0);else try{r.webkitEnterFullScreen()}catch(o){this.trigger("fullscreenerror",o)}},i.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},i.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},i.src=function(r){if(r===void 0)return this.el_.src;this.setSrc(r)},i.reset=function(){e.resetMediaElement(this.el_)},i.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},i.setControls=function(r){this.el_.controls=!!r},i.addTextTrack=function(r,o,a){return this.featuresNativeTextTracks?this.el_.addTextTrack(r,o,a):t.prototype.addTextTrack.call(this,r,o,a)},i.createRemoteTextTrack=function(r){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,r);var o=Le.createElement("track");return r.kind&&(o.kind=r.kind),r.label&&(o.label=r.label),(r.language||r.srclang)&&(o.srclang=r.language||r.srclang),r.default&&(o.default=r.default),r.id&&(o.id=r.id),r.src&&(o.src=r.src),o},i.addRemoteTextTrack=function(r,o){var a=t.prototype.addRemoteTextTrack.call(this,r,o);return this.featuresNativeTextTracks&&this.el().appendChild(a),a},i.removeRemoteTextTrack=function(r){if(t.prototype.removeRemoteTextTrack.call(this,r),this.featuresNativeTextTracks)for(var o=this.$$("track"),a=o.length;a--;)(r===o[a]||r===o[a].track)&&this.el().removeChild(o[a])},i.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var r={};return typeof this.el().webkitDroppedFrameCount!="undefined"&&typeof this.el().webkitDecodedFrameCount!="undefined"&&(r.droppedVideoFrames=this.el().webkitDroppedFrameCount,r.totalVideoFrames=this.el().webkitDecodedFrameCount),Q.performance&&typeof Q.performance.now=="function"?r.creationTime=Q.performance.now():Q.performance&&Q.performance.timing&&typeof Q.performance.timing.navigationStart=="number"&&(r.creationTime=Q.Date.now()-Q.performance.timing.navigationStart),r},e}(ii);HE(qe,"TEST_VID",function(){if(!!Bf()){var t=Le.createElement("video"),e=Le.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}});qe.isSupported=function(){try{qe.TEST_VID.volume=.5}catch{return!1}return!!(qe.TEST_VID&&qe.TEST_VID.canPlayType)};qe.canPlayType=function(t){return qe.TEST_VID.canPlayType(t)};qe.canPlaySource=function(t,e){return qe.canPlayType(t.type)};qe.canControlVolume=function(){try{var t=qe.TEST_VID.volume;return qe.TEST_VID.volume=t/2+.1,t!==qe.TEST_VID.volume}catch{return!1}};qe.canMuteVolume=function(){try{var t=qe.TEST_VID.muted;return qe.TEST_VID.muted=!t,qe.TEST_VID.muted?df(qe.TEST_VID,"muted","muted"):kA(qe.TEST_VID,"muted","muted"),t!==qe.TEST_VID.muted}catch{return!1}};qe.canControlPlaybackRate=function(){if(Es&&zs&&AN<58)return!1;try{var t=qe.TEST_VID.playbackRate;return qe.TEST_VID.playbackRate=t/2+.1,t!==qe.TEST_VID.playbackRate}catch{return!1}};qe.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(Le.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(Le.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(Le.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(Le.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};qe.supportsNativeTextTracks=function(){return xA||xr&&zs};qe.supportsNativeVideoTracks=function(){return!!(qe.TEST_VID&&qe.TEST_VID.videoTracks)};qe.supportsNativeAudioTracks=function(){return!!(qe.TEST_VID&&qe.TEST_VID.audioTracks)};qe.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(t){var e=t[0],i=t[1];HE(qe.prototype,e,function(){return qe[i]()},!0)});qe.prototype.movingMediaElementInDOM=!xr;qe.prototype.featuresFullscreenResize=!0;qe.prototype.featuresProgressEvents=!0;qe.prototype.featuresTimeupdateEvents=!0;var Dy;qe.patchCanPlayType=function(){mE>=4&&!wN&&!zs&&(Dy=qe.TEST_VID&&qe.TEST_VID.constructor.prototype.canPlayType,qe.TEST_VID.constructor.prototype.canPlayType=function(t){var e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return t&&e.test(t)?"maybe":Dy.call(this,t)})};qe.unpatchCanPlayType=function(){var t=qe.TEST_VID.constructor.prototype.canPlayType;return Dy&&(qe.TEST_VID.constructor.prototype.canPlayType=Dy),t};qe.patchCanPlayType();qe.disposeMediaElement=function(t){if(!!t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};qe.resetMediaElement=function(t){if(!!t){for(var e=t.querySelectorAll("source"),i=e.length;i--;)t.removeChild(e[i]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){qe.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){qe.prototype["set"+Si(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){qe.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){qe.prototype["set"+Si(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){qe.prototype[t]=function(){return this.el_[t]()}});ii.withSourceHandlers(qe);qe.nativeSourceHandler={};qe.nativeSourceHandler.canPlayType=function(t){try{return qe.TEST_VID.canPlayType(t)}catch{return""}};qe.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return qe.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=TE(t.src);return qe.nativeSourceHandler.canPlayType("video/"+i)}return""};qe.nativeSourceHandler.handleSource=function(t,e,i){e.setSrc(t.src)};qe.nativeSourceHandler.dispose=function(){};qe.registerSourceHandler(qe.nativeSourceHandler);ii.registerTech("Html5",qe);var wj=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],kk={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},L2=["tiny","xsmall","small","medium","large","xlarge","huge"],fv={};L2.forEach(function(t){var e=t.charAt(0)==="x"?"x-"+t.substring(1):t;fv[t]="vjs-layout-"+e});var Zbe={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Mi=function(t){ye(e,t);function e(n,r,o){var a;if(n.id=n.id||r.id||"vjs_video_"+Fl(),r=yi(e.getTagSettings(n),r),r.initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if(typeof n.closest=="function"){var s=n.closest("[lang]");s&&s.getAttribute&&(r.language=s.getAttribute("lang"))}else for(var l=n;l&&l.nodeType===1;){if(Qa(l).hasOwnProperty("lang")){r.language=l.getAttribute("lang");break}l=l.parentNode}if(a=t.call(this,null,r,o)||this,a.boundDocumentFullscreenChange_=function(h){return a.documentFullscreenChange_(h)},a.boundFullWindowOnEscKey_=function(h){return a.fullWindowOnEscKey(h)},a.boundUpdateStyleEl_=function(h){return a.updateStyleEl_(h)},a.boundApplyInitTime_=function(h){return a.applyInitTime_(h)},a.boundUpdateCurrentBreakpoint_=function(h){return a.updateCurrentBreakpoint_(h)},a.boundHandleTechClick_=function(h){return a.handleTechClick_(h)},a.boundHandleTechDoubleClick_=function(h){return a.handleTechDoubleClick_(h)},a.boundHandleTechTouchStart_=function(h){return a.handleTechTouchStart_(h)},a.boundHandleTechTouchMove_=function(h){return a.handleTechTouchMove_(h)},a.boundHandleTechTouchEnd_=function(h){return a.handleTechTouchEnd_(h)},a.boundHandleTechTap_=function(h){return a.handleTechTap_(h)},a.isFullscreen_=!1,a.log=gN(a.id_),a.fsApi_=Ry,a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,a.debugEnabled_=!1,!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=n,a.tagAttributes=n&&Qa(n),a.language(a.options_.language),r.languages){var c={};Object.getOwnPropertyNames(r.languages).forEach(function(h){c[h.toLowerCase()]=r.languages[h]}),a.languages_=c}else a.languages_=e.prototype.options_.languages;a.resetCache_(),a.poster_=r.poster||"",a.controls_=!!r.controls,n.controls=!1,n.removeAttribute("controls"),a.changingSrc_=!1,a.playCallbacks_=[],a.playTerminatedQueue_=[],n.hasAttribute("autoplay")?a.autoplay(!0):a.autoplay(a.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(function(h){if(typeof a[h]!="function")throw new Error('plugin "'+h+'" does not exist')}),a.scrubbing_=!1,a.el_=a.createEl(),xE(re(a),{eventBusKey:"el_"}),a.fsApi_.requestFullscreen&&(qr(Le,a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_),a.on(a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_)),a.fluid_&&a.on(["playerreset","resize"],a.boundUpdateStyleEl_);var d=ai(a.options_);r.plugins&&Object.keys(r.plugins).forEach(function(h){a[h](r.plugins[h])}),r.debug&&a.debug(!0),a.options_.playerOptions=d,a.middleware_=[],a.playbackRates(r.playbackRates),a.initChildren(),a.isAudio(n.nodeName.toLowerCase()==="audio"),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),uf&&a.addClass("vjs-touch-enabled"),xr||a.addClass("vjs-workinghover"),e.players[a.id_]=re(a);var p=pN.split(".")[0];return a.addClass("vjs-v"+p),a.userActive(!0),a.reportUserActivity(),a.one("play",function(h){return a.listenForUserActivity_(h)}),a.on("stageclick",function(h){return a.handleStageClick_(h)}),a.on("keydown",function(h){return a.handleKeyDown(h)}),a.on("languagechange",function(h){return a.handleLanguagechange(h)}),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a}var i=e.prototype;return i.dispose=function(){var r=this;this.trigger("dispose"),this.off("dispose"),Ln(Le,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Ln(Le,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),ybe(this),Qn.names.forEach(function(o){var a=Qn[o],s=r[a.getterName]();s&&s.off&&s.off()}),t.prototype.dispose.call(this)},i.createEl=function(){var r=this.tag,o,a=this.playerElIngest_=r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player"),s=this.tag.tagName.toLowerCase()==="video-js";a?o=this.el_=r.parentNode:s||(o=this.el_=t.prototype.createEl.call(this,"div"));var l=Qa(r);if(s){for(o=this.el_=r,r=this.tag=Le.createElement("video");o.children.length;)r.appendChild(o.firstChild);Mc(o,"video-js")||us(o,"video-js"),o.appendChild(r),a=this.playerElIngest_=o,Object.keys(o).forEach(function(y){try{r[y]=o[y]}catch{}})}if(r.setAttribute("tabindex","-1"),l.tabindex="-1",(Lg||zs&&xN)&&(r.setAttribute("role","application"),l.role="application"),r.removeAttribute("width"),r.removeAttribute("height"),"width"in l&&delete l.width,"height"in l&&delete l.height,Object.getOwnPropertyNames(l).forEach(function(y){s&&y==="class"||o.setAttribute(y,l[y]),s&&r.setAttribute(y,l[y])}),r.playerId=r.id,r.id+="_html5_api",r.className="vjs-tech",r.player=o.player=this,this.addClass("vjs-paused"),Q.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=BN("vjs-styles-dimensions");var c=zl(".vjs-styles-defaults"),d=zl("head");d.insertBefore(this.styleEl_,c?c.nextSibling:d.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var p=r.getElementsByTagName("a"),h=0;h<p.length;h++){var m=p.item(h);us(m,"vjs-hidden"),m.setAttribute("hidden","hidden")}return r.initNetworkState_=r.networkState,r.parentNode&&!a&&r.parentNode.insertBefore(o,r),T2(r,o),this.children_.unshift(r),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=o,o},i.crossOrigin=function(r){if(!r)return this.techGet_("crossOrigin");if(r!=="anonymous"&&r!=="use-credentials"){wt.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+r+'"');return}this.techCall_("setCrossOrigin",r)},i.width=function(r){return this.dimension("width",r)},i.height=function(r){return this.dimension("height",r)},i.dimension=function(r,o){var a=r+"_";if(o===void 0)return this[a]||0;if(o===""||o==="auto"){this[a]=void 0,this.updateStyleEl_();return}var s=parseFloat(o);if(isNaN(s)){wt.error('Improper value "'+o+'" supplied for for '+r);return}this[a]=s,this.updateStyleEl_()},i.fluid=function(r){var o=this;if(r===void 0)return!!this.fluid_;this.fluid_=!!r,ds(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),r?(this.addClass("vjs-fluid"),this.fill(!1),Yge(this,function(){o.on(["playerreset","resize"],o.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},i.fill=function(r){if(r===void 0)return!!this.fill_;this.fill_=!!r,r?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},i.aspectRatio=function(r){if(r===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(r))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=r,this.fluid(!0),this.updateStyleEl_()},i.updateStyleEl_=function(){if(Q.VIDEOJS_NO_DYNAMIC_STYLE===!0){var r=typeof this.width_=="number"?this.width_:this.options_.width,o=typeof this.height_=="number"?this.height_:this.options_.height,a=this.tech_&&this.tech_.el();a&&(r>=0&&(a.width=r),o>=0&&(a.height=o));return}var s,l,c,d;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?c=this.aspectRatio_:this.videoWidth()>0?c=this.videoWidth()+":"+this.videoHeight():c="16:9";var p=c.split(":"),h=p[1]/p[0];this.width_!==void 0?s=this.width_:this.height_!==void 0?s=this.height_/h:s=this.videoWidth()||300,this.height_!==void 0?l=this.height_:l=s*h,/^[^a-zA-Z]/.test(this.id())?d="dimensions-"+this.id():d=this.id()+"-dimensions",this.addClass(d),FN(this.styleEl_,`
      .`+d+` {
        width: `+s+`px;
        height: `+l+`px;
      }

      .`+d+`.vjs-fluid {
        padding-top: `+h*100+`%;
      }
    `)},i.loadTech_=function(r,o){var a=this;this.tech_&&this.unloadTech_();var s=Si(r),l=r.charAt(0).toLowerCase()+r.slice(1);s!=="Html5"&&this.tag&&(ii.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=s,this.isReady_=!1;var c=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(c=!1);var d={source:o,autoplay:c,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+l+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Qn.names.forEach(function(h){var m=Qn[h];d[m.getterName]=a[m.privateName]}),yi(d,this.options_[s]),yi(d,this.options_[l]),yi(d,this.options_[r.toLowerCase()]),this.tag&&(d.tag=this.tag),o&&o.src===this.cache_.src&&this.cache_.currentTime>0&&(d.startTime=this.cache_.currentTime);var p=ii.getTech(r);if(!p)throw new Error("No Tech named '"+s+"' exists! '"+s+"' should be registered using videojs.registerTech()'");this.tech_=new p(d),this.tech_.ready(ti(this,this.handleTechReady_),!0),KP.jsonToTextTracks(this.textTracksJson_||[],this.tech_),wj.forEach(function(h){a.on(a.tech_,h,function(m){return a["handleTech"+Si(h)+"_"](m)})}),Object.keys(kk).forEach(function(h){a.on(a.tech_,h,function(m){if(a.tech_.playbackRate()===0&&a.tech_.seeking()){a.queuedCallbacks_.push({callback:a["handleTech"+kk[h]+"_"].bind(a),event:m});return}a["handleTech"+kk[h]+"_"](m)})}),this.on(this.tech_,"loadstart",function(h){return a.handleTechLoadStart_(h)}),this.on(this.tech_,"sourceset",function(h){return a.handleTechSourceset_(h)}),this.on(this.tech_,"waiting",function(h){return a.handleTechWaiting_(h)}),this.on(this.tech_,"ended",function(h){return a.handleTechEnded_(h)}),this.on(this.tech_,"seeking",function(h){return a.handleTechSeeking_(h)}),this.on(this.tech_,"play",function(h){return a.handleTechPlay_(h)}),this.on(this.tech_,"firstplay",function(h){return a.handleTechFirstPlay_(h)}),this.on(this.tech_,"pause",function(h){return a.handleTechPause_(h)}),this.on(this.tech_,"durationchange",function(h){return a.handleTechDurationChange_(h)}),this.on(this.tech_,"fullscreenchange",function(h,m){return a.handleTechFullscreenChange_(h,m)}),this.on(this.tech_,"fullscreenerror",function(h,m){return a.handleTechFullscreenError_(h,m)}),this.on(this.tech_,"enterpictureinpicture",function(h){return a.handleTechEnterPictureInPicture_(h)}),this.on(this.tech_,"leavepictureinpicture",function(h){return a.handleTechLeavePictureInPicture_(h)}),this.on(this.tech_,"error",function(h){return a.handleTechError_(h)}),this.on(this.tech_,"posterchange",function(h){return a.handleTechPosterChange_(h)}),this.on(this.tech_,"textdata",function(h){return a.handleTechTextData_(h)}),this.on(this.tech_,"ratechange",function(h){return a.handleTechRateChange_(h)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(s!=="Html5"||!this.tag)&&T2(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},i.unloadTech_=function(){var r=this;Qn.names.forEach(function(o){var a=Qn[o];r[a.privateName]=r[a.getterName]()}),this.textTracksJson_=KP.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},i.tech=function(r){return r===void 0&&wt.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},i.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},i.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},i.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},i.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},i.manualAutoplay_=function(r){var o=this;if(!(!this.tech_||typeof r!="string")){var a=function(){var c=o.muted();o.muted(!0);var d=function(){o.muted(c)};o.playTerminatedQueue_.push(d);var p=o.play();if(!!Mh(p))return p.catch(function(h){throw d(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(h||""))})},s;if(r==="any"&&!this.muted()?(s=this.play(),Mh(s)&&(s=s.catch(a))):r==="muted"&&!this.muted()?s=a():s=this.play(),!!Mh(s))return s.then(function(){o.trigger({type:"autoplay-success",autoplay:r})}).catch(function(){o.trigger({type:"autoplay-failure",autoplay:r})})}},i.updateSourceCaches_=function(r){r===void 0&&(r="");var o=r,a="";typeof o!="string"&&(o=r.src,a=r.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],o&&!a&&(a=xbe(this,o)),this.cache_.source=ai({},r,{src:o,type:a});for(var s=this.cache_.sources.filter(function(m){return m.src&&m.src===o}),l=[],c=this.$$("source"),d=[],p=0;p<c.length;p++){var h=Qa(c[p]);l.push(h),h.src&&h.src===o&&d.push(h.src)}d.length&&!s.length?this.cache_.sources=l:s.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=o},i.handleTechSourceset_=function(r){var o=this;if(!this.changingSrc_){var a=function(d){return o.updateSourceCaches_(d)},s=this.currentSource().src,l=r.src;s&&!/^blob:/.test(s)&&/^blob:/.test(l)&&(!this.lastSource_||this.lastSource_.tech!==l&&this.lastSource_.player!==s)&&(a=function(){}),a(l),r.src||this.tech_.any(["sourceset","loadstart"],function(c){if(c.type!=="sourceset"){var d=o.techGet("currentSrc");o.lastSource_.tech=d,o.updateSourceCaches_(d)}})}this.lastSource_={player:this.currentSource().src,tech:r.src},this.trigger({src:r.src,type:"sourceset"})},i.hasStarted=function(r){if(r===void 0)return this.hasStarted_;r!==this.hasStarted_&&(this.hasStarted_=r,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},i.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},i.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(r){return r.callback(r.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},i.handleTechWaiting_=function(){var r=this;this.addClass("vjs-waiting"),this.trigger("waiting");var o=this.currentTime(),a=function s(){o!==r.currentTime()&&(r.removeClass("vjs-waiting"),r.off("timeupdate",s))};this.on("timeupdate",a)},i.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},i.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},i.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},i.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},i.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},i.handleTechFirstPlay_=function(){this.options_.starttime&&(wt.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},i.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},i.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},i.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},i.handleTechClick_=function(r){!this.controls_||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,r):this.paused()?na(this.play()):this.pause())},i.handleTechDoubleClick_=function(r){if(!!this.controls_){var o=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(a){return a.contains(r.target)});o||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,r):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},i.handleTechTap_=function(){this.userActive(!this.userActive())},i.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},i.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},i.handleTechTouchEnd_=function(r){r.cancelable&&r.preventDefault()},i.handleStageClick_=function(){this.reportUserActivity()},i.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},i.documentFullscreenChange_=function(r){var o=r.target.player;if(!(o&&o!==this)){var a=this.el(),s=Le[this.fsApi_.fullscreenElement]===a;!s&&a.matches?s=a.matches(":"+this.fsApi_.fullscreen):!s&&a.msMatchesSelector&&(s=a.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(s)}},i.handleTechFullscreenChange_=function(r,o){o&&(o.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(o.isFullscreen))},i.handleTechFullscreenError_=function(r,o){this.trigger("fullscreenerror",o)},i.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},i.handleTechEnterPictureInPicture_=function(r){this.isInPictureInPicture(!0)},i.handleTechLeavePictureInPicture_=function(r){this.isInPictureInPicture(!1)},i.handleTechError_=function(){var r=this.tech_.error();this.error(r)},i.handleTechTextData_=function(){var r=null;arguments.length>1&&(r=arguments[1]),this.trigger("textdata",r)},i.getCache=function(){return this.cache_},i.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},i.techCall_=function(r,o){this.ready(function(){if(r in bbe)return mbe(this.middleware_,this.tech_,r,o);if(r in iL)return tL(this.middleware_,this.tech_,r,o);try{this.tech_&&this.tech_[r](o)}catch(a){throw wt(a),a}},!0)},i.techGet_=function(r){if(!(!this.tech_||!this.tech_.isReady_)){if(r in gbe)return hbe(this.middleware_,this.tech_,r);if(r in iL)return tL(this.middleware_,this.tech_,r);try{return this.tech_[r]()}catch(o){throw this.tech_[r]===void 0?(wt("Video.js: "+r+" method not defined for "+this.techName_+" playback technology.",o),o):o.name==="TypeError"?(wt("Video.js: "+r+" unavailable on "+this.techName_+" playback technology element.",o),this.tech_.isReady_=!1,o):(wt(o),o)}}},i.play=function(){var r=this,o=this.options_.Promise||Q.Promise;return o?new o(function(a){r.play_(a)}):this.play_()},i.play_=function(r){var o=this;r===void 0&&(r=na),this.playCallbacks_.push(r);var a=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!a){this.waitToPlay_=function(l){o.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!a&&(xA||xr)&&this.load();return}var s=this.techGet_("play");s===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(s)},i.runPlayTerminatedQueue_=function(){var r=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],r.forEach(function(o){o()})},i.runPlayCallbacks_=function(r){var o=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],o.forEach(function(a){a(r)})},i.pause=function(){this.techCall_("pause")},i.paused=function(){return this.techGet_("paused")!==!1},i.played=function(){return this.techGet_("played")||Dc(0,0)},i.scrubbing=function(r){if(typeof r=="undefined")return this.scrubbing_;this.scrubbing_=!!r,this.techCall_("setScrubbing",this.scrubbing_),r?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},i.currentTime=function(r){if(typeof r!="undefined"){if(r<0&&(r=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=r,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",r),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},i.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},i.duration=function(r){if(r===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;r=parseFloat(r),r<0&&(r=1/0),r!==this.cache_.duration&&(this.cache_.duration=r,r===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(r)||this.trigger("durationchange"))},i.remainingTime=function(){return this.duration()-this.currentTime()},i.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},i.buffered=function(){var r=this.techGet_("buffered");return(!r||!r.length)&&(r=Dc(0,0)),r},i.bufferedPercent=function(){return YN(this.buffered(),this.duration())},i.bufferedEnd=function(){var r=this.buffered(),o=this.duration(),a=r.end(r.length-1);return a>o&&(a=o),a},i.volume=function(r){var o;if(r!==void 0){o=Math.max(0,Math.min(1,parseFloat(r))),this.cache_.volume=o,this.techCall_("setVolume",o),o>0&&this.lastVolume_(o);return}return o=parseFloat(this.techGet_("volume")),isNaN(o)?1:o},i.muted=function(r){if(r!==void 0){this.techCall_("setMuted",r);return}return this.techGet_("muted")||!1},i.defaultMuted=function(r){return r!==void 0?this.techCall_("setDefaultMuted",r):this.techGet_("defaultMuted")||!1},i.lastVolume_=function(r){if(r!==void 0&&r!==0){this.cache_.lastVolume=r;return}return this.cache_.lastVolume},i.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},i.isFullscreen=function(r){if(r!==void 0){var o=this.isFullscreen_;this.isFullscreen_=Boolean(r),this.isFullscreen_!==o&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},i.requestFullscreen=function(r){var o=this.options_.Promise||Q.Promise;if(o){var a=this;return new o(function(s,l){function c(){a.off("fullscreenerror",p),a.off("fullscreenchange",d)}function d(){c(),s()}function p(m,y){c(),l(y)}a.one("fullscreenchange",d),a.one("fullscreenerror",p);var h=a.requestFullscreenHelper_(r);h&&(h.then(c,c),h.then(s,l))})}return this.requestFullscreenHelper_()},i.requestFullscreenHelper_=function(r){var o=this,a;if(this.fsApi_.prefixed||(a=this.options_.fullscreen&&this.options_.fullscreen.options||{},r!==void 0&&(a=r)),this.fsApi_.requestFullscreen){var s=this.el_[this.fsApi_.requestFullscreen](a);return s&&s.then(function(){return o.isFullscreen(!0)},function(){return o.isFullscreen(!1)}),s}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},i.exitFullscreen=function(){var r=this.options_.Promise||Q.Promise;if(r){var o=this;return new r(function(a,s){function l(){o.off("fullscreenerror",d),o.off("fullscreenchange",c)}function c(){l(),a()}function d(h,m){l(),s(m)}o.one("fullscreenchange",c),o.one("fullscreenerror",d);var p=o.exitFullscreenHelper_();p&&(p.then(l,l),p.then(a,s))})}return this.exitFullscreenHelper_()},i.exitFullscreenHelper_=function(){var r=this;if(this.fsApi_.requestFullscreen){var o=Le[this.fsApi_.exitFullscreen]();return o&&na(o.then(function(){return r.isFullscreen(!1)})),o}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},i.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Le.documentElement.style.overflow,qr(Le,"keydown",this.boundFullWindowOnEscKey_),Le.documentElement.style.overflow="hidden",us(Le.body,"vjs-full-window"),this.trigger("enterFullWindow")},i.fullWindowOnEscKey=function(r){ft.isEventKey(r,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},i.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Ln(Le,"keydown",this.boundFullWindowOnEscKey_),Le.documentElement.style.overflow=this.docOrigOverflow,Og(Le.body,"vjs-full-window"),this.trigger("exitFullWindow")},i.disablePictureInPicture=function(r){if(r===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",r),this.options_.disablePictureInPicture=r,this.trigger("disablepictureinpicturechanged")},i.isInPictureInPicture=function(r){if(r!==void 0){this.isInPictureInPicture_=!!r,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},i.requestPictureInPicture=function(){if("pictureInPictureEnabled"in Le&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},i.exitPictureInPicture=function(){if("pictureInPictureEnabled"in Le)return Le.exitPictureInPicture()},i.handleKeyDown=function(r){var o=this.options_.userActions;if(!(!o||!o.hotkeys)){var a=function(l){var c=l.tagName.toLowerCase();if(l.isContentEditable)return!0;var d=["button","checkbox","hidden","radio","reset","submit"];if(c==="input")return d.indexOf(l.type)===-1;var p=["textarea"];return p.indexOf(c)!==-1};a(this.el_.ownerDocument.activeElement)||(typeof o.hotkeys=="function"?o.hotkeys.call(this,r):this.handleHotkeys(r))}},i.handleHotkeys=function(r){var o=this.options_.userActions?this.options_.userActions.hotkeys:{},a=o.fullscreenKey,s=a===void 0?function(w){return ft.isEventKey(w,"f")}:a,l=o.muteKey,c=l===void 0?function(w){return ft.isEventKey(w,"m")}:l,d=o.playPauseKey,p=d===void 0?function(w){return ft.isEventKey(w,"k")||ft.isEventKey(w,"Space")}:d;if(s.call(this,r)){r.preventDefault(),r.stopPropagation();var h=Ae.getComponent("FullscreenToggle");Le[this.fsApi_.fullscreenEnabled]!==!1&&h.prototype.handleClick.call(this,r)}else if(c.call(this,r)){r.preventDefault(),r.stopPropagation();var m=Ae.getComponent("MuteToggle");m.prototype.handleClick.call(this,r)}else if(p.call(this,r)){r.preventDefault(),r.stopPropagation();var y=Ae.getComponent("PlayToggle");y.prototype.handleClick.call(this,r)}},i.canPlayType=function(r){for(var o,a=0,s=this.options_.techOrder;a<s.length;a++){var l=s[a],c=ii.getTech(l);if(c||(c=Ae.getComponent(l)),!c){wt.error('The "'+l+'" tech is undefined. Skipped browser support check for that tech.');continue}if(c.isSupported()&&(o=c.canPlayType(r),o))return o}return""},i.selectSource=function(r){var o=this,a=this.options_.techOrder.map(function(p){return[p,ii.getTech(p)]}).filter(function(p){var h=p[0],m=p[1];return m?m.isSupported():(wt.error('The "'+h+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),s=function(h,m,y){var w;return h.some(function(g){return m.some(function(A){if(w=y(g,A),w)return!0})}),w},l,c=function(h){return function(m,y){return h(y,m)}},d=function(h,m){var y=h[0],w=h[1];if(w.canPlaySource(m,o.options_[y.toLowerCase()]))return{source:m,tech:y}};return this.options_.sourceOrder?l=s(r,a,c(d)):l=s(a,r,d),l||!1},i.handleSrc_=function(r,o){var a=this;if(typeof r=="undefined")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var s=kbe(r);if(!s.length){this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);return}if(this.changingSrc_=!0,o||(this.cache_.sources=s),this.updateSourceCaches_(s[0]),fbe(this,s[0],function(d,p){a.middleware_=p,o||(a.cache_.sources=s),a.updateSourceCaches_(d);var h=a.src_(d);if(h){if(s.length>1)return a.handleSrc_(s.slice(1));a.changingSrc_=!1,a.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),a.triggerReady();return}pbe(p,a.tech_)}),this.options_.retryOnError&&s.length>1){var l=function(){a.error(null),a.handleSrc_(s.slice(1),!0)},c=function(){a.off("error",l)};this.one("error",l),this.one("playing",c),this.resetRetryOnError_=function(){a.off("error",l),a.off("playing",c)}}},i.src=function(r){return this.handleSrc_(r,!1)},i.src_=function(r){var o=this,a=this.selectSource([r]);return a?$ge(a.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",r):this.techCall_("src",r.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(a.tech,a.source),this.tech_.ready(function(){o.changingSrc_=!1}),!1):!0},i.load=function(){this.techCall_("load")},i.reset=function(){var r=this,o=this.options_.Promise||Q.Promise;if(this.paused()||!o)this.doReset_();else{var a=this.play();na(a.then(function(){return r.doReset_()}))}},i.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),ds(this)&&this.trigger("playerreset")},i.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},i.resetProgressBar_=function(){this.currentTime(0);var r=this.controlBar,o=r.durationDisplay,a=r.remainingTimeDisplay;o&&o.updateContent(),a&&a.updateContent()},i.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},i.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},i.currentSources=function(){var r=this.currentSource(),o=[];return Object.keys(r).length!==0&&o.push(r),this.cache_.sources||o},i.currentSource=function(){return this.cache_.source||{}},i.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},i.currentType=function(){return this.currentSource()&&this.currentSource().type||""},i.preload=function(r){if(r!==void 0){this.techCall_("setPreload",r),this.options_.preload=r;return}return this.techGet_("preload")},i.autoplay=function(r){if(r===void 0)return this.options_.autoplay||!1;var o;typeof r=="string"&&/(any|play|muted)/.test(r)||r===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=r,this.manualAutoplay_(typeof r=="string"?r:"play"),o=!1):r?this.options_.autoplay=!0:this.options_.autoplay=!1,o=typeof o=="undefined"?this.options_.autoplay:o,this.tech_&&this.techCall_("setAutoplay",o)},i.playsinline=function(r){return r!==void 0?(this.techCall_("setPlaysinline",r),this.options_.playsinline=r,this):this.techGet_("playsinline")},i.loop=function(r){if(r!==void 0){this.techCall_("setLoop",r),this.options_.loop=r;return}return this.techGet_("loop")},i.poster=function(r){if(r===void 0)return this.poster_;r||(r=""),r!==this.poster_&&(this.poster_=r,this.techCall_("setPoster",r),this.isPosterFromTech_=!1,this.trigger("posterchange"))},i.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var r=this.tech_.poster()||"";r!==this.poster_&&(this.poster_=r,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},i.controls=function(r){if(r===void 0)return!!this.controls_;r=!!r,this.controls_!==r&&(this.controls_=r,this.usingNativeControls()&&this.techCall_("setControls",r),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},i.usingNativeControls=function(r){if(r===void 0)return!!this.usingNativeControls_;r=!!r,this.usingNativeControls_!==r&&(this.usingNativeControls_=r,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},i.error=function(r){var o=this;if(r===void 0)return this.error_||null;if(El("beforeerror").forEach(function(s){var l=s(o,r);if(!(As(l)&&!Array.isArray(l)||typeof l=="string"||typeof l=="number"||l===null)){o.log.error("please return a value that MediaError expects in beforeerror hooks");return}r=l}),this.options_.suppressNotSupportedError&&r&&r.code===4){var a=function(){this.error(r)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],a),this.one("loadstart",function(){this.off(["click","touchstart"],a)});return}if(r===null){this.error_=r,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Jn(r),this.addClass("vjs-error"),wt.error("(CODE:"+this.error_.code+" "+Jn.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),El("error").forEach(function(s){return s(o,o.error_)})},i.reportUserActivity=function(r){this.userActivity_=!0},i.userActive=function(r){if(r===void 0)return this.userActive_;if(r=!!r,r!==this.userActive_){if(this.userActive_=r,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(o){o.stopPropagation(),o.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},i.listenForUserActivity_=function(){var r,o,a,s=ti(this,this.reportUserActivity),l=function(y){(y.screenX!==o||y.screenY!==a)&&(o=y.screenX,a=y.screenY,s())},c=function(){s(),this.clearInterval(r),r=this.setInterval(s,250)},d=function(y){s(),this.clearInterval(r)};this.on("mousedown",c),this.on("mousemove",l),this.on("mouseup",d),this.on("mouseleave",d);var p=this.getChild("controlBar");p&&!xr&&!Es&&(p.on("mouseenter",function(m){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),p.on("mouseleave",function(m){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",s),this.on("keyup",s);var h;this.setInterval(function(){if(!!this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(h);var m=this.options_.inactivityTimeout;m<=0||(h=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},m))}},250)},i.playbackRate=function(r){if(r!==void 0){this.techCall_("setPlaybackRate",r);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},i.defaultPlaybackRate=function(r){return r!==void 0?this.techCall_("setDefaultPlaybackRate",r):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},i.isAudio=function(r){if(r!==void 0){this.isAudio_=!!r;return}return!!this.isAudio_},i.addTextTrack=function(r,o,a){if(this.tech_)return this.tech_.addTextTrack(r,o,a)},i.addRemoteTextTrack=function(r,o){if(this.tech_)return this.tech_.addRemoteTextTrack(r,o)},i.removeRemoteTextTrack=function(r){r===void 0&&(r={});var o=r,a=o.track;if(a||(a=r),this.tech_)return this.tech_.removeRemoteTextTrack(a)},i.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},i.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},i.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},i.language=function(r){if(r===void 0)return this.language_;this.language_!==String(r).toLowerCase()&&(this.language_=String(r).toLowerCase(),ds(this)&&this.trigger("languagechange"))},i.languages=function(){return ai(e.prototype.options_.languages,this.languages_)},i.toJSON=function(){var r=ai(this.options_),o=r.tracks;r.tracks=[];for(var a=0;a<o.length;a++){var s=o[a];s=ai(s),s.player=void 0,r.tracks[a]=s}return r},i.createModal=function(r,o){var a=this;o=o||{},o.content=r||"";var s=new jf(this,o);return this.addChild(s),s.on("dispose",function(){a.removeChild(s)}),s.open(),s},i.updateCurrentBreakpoint_=function(){if(!!this.responsive())for(var r=this.currentBreakpoint(),o=this.currentWidth(),a=0;a<L2.length;a++){var s=L2[a],l=this.breakpoints_[s];if(o<=l){if(r===s)return;r&&this.removeClass(fv[r]),this.addClass(fv[s]),this.breakpoint_=s;break}}},i.removeCurrentBreakpoint_=function(){var r=this.currentBreakpointClass();this.breakpoint_="",r&&this.removeClass(r)},i.breakpoints=function(r){return r===void 0?yi(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=yi({},Zbe,r),this.updateCurrentBreakpoint_(),yi(this.breakpoints_))},i.responsive=function(r){if(r===void 0)return this.responsive_;r=Boolean(r);var o=this.responsive_;if(r!==o)return this.responsive_=r,r?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),r},i.currentBreakpoint=function(){return this.breakpoint_},i.currentBreakpointClass=function(){return fv[this.breakpoint_]||""},i.loadMedia=function(r,o){var a=this;if(!(!r||typeof r!="object")){this.reset(),this.cache_.media=ai(r);var s=this.cache_.media,l=s.artwork,c=s.poster,d=s.src,p=s.textTracks;!l&&c&&(this.cache_.media.artwork=[{src:c,type:Oy(c)}]),d&&this.src(d),c&&this.poster(c),Array.isArray(p)&&p.forEach(function(h){return a.addRemoteTextTrack(h,!1)}),this.ready(o)}},i.getMedia=function(){if(!this.cache_.media){var r=this.poster(),o=this.currentSources(),a=Array.prototype.map.call(this.remoteTextTracks(),function(l){return{kind:l.kind,label:l.label,language:l.language,src:l.src}}),s={src:o,textTracks:a};return r&&(s.poster=r,s.artwork=[{src:s.poster,type:Oy(s.poster)}]),s}return ai(this.cache_.media)},e.getTagSettings=function(r){var o={sources:[],tracks:[]},a=Qa(r),s=a["data-setup"];if(Mc(r,"vjs-fill")&&(a.fill=!0),Mc(r,"vjs-fluid")&&(a.fluid=!0),s!==null){var l=Kpe(s||"{}"),c=l[0],d=l[1];c&&wt.error(c),yi(a,d)}if(yi(o,a),r.hasChildNodes())for(var p=r.childNodes,h=0,m=p.length;h<m;h++){var y=p[h],w=y.nodeName.toLowerCase();w==="source"?o.sources.push(Qa(y)):w==="track"&&o.tracks.push(Qa(y))}return o},i.flexNotSupported_=function(){var r=Le.createElement("i");return!("flexBasis"in r.style||"webkitFlexBasis"in r.style||"mozFlexBasis"in r.style||"msFlexBasis"in r.style||"msFlexOrder"in r.style)},i.debug=function(r){if(r===void 0)return this.debugEnabled_;r?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},i.playbackRates=function(r){if(r===void 0)return this.cache_.playbackRates;!Array.isArray(r)||!r.every(function(o){return typeof o=="number"})||(this.cache_.playbackRates=r,this.trigger("playbackrateschange"))},e}(Ae);Qn.names.forEach(function(t){var e=Qn[t];Mi.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Mi.prototype.crossorigin=Mi.prototype.crossOrigin;Mi.players={};var eh=Q.navigator;Mi.prototype.options_={techOrder:ii.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:eh&&(eh.languages&&eh.languages[0]||eh.userLanguage||eh.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(t){Mi.prototype[t]=function(){return this.techGet_(t)}});wj.forEach(function(t){Mi.prototype["handleTech"+Si(t)+"_"]=function(){return this.trigger(t)}});Ae.registerComponent("Player",Mi);var By="plugin",Cd="activePlugins_",dd={},Fy=function(e){return dd.hasOwnProperty(e)},pv=function(e){return Fy(e)?dd[e]:void 0},Aj=function(e,i){e[Cd]=e[Cd]||{},e[Cd][i]=!0},Ny=function(e,i,n){var r=(n?"before":"")+"pluginsetup";e.trigger(r,i),e.trigger(r+":"+i.name,i)},e0e=function(e,i){var n=function(){Ny(this,{name:e,plugin:i,instance:null},!0);var o=i.apply(this,arguments);return Aj(this,e),Ny(this,{name:e,plugin:i,instance:o}),o};return Object.keys(i).forEach(function(r){n[r]=i[r]}),n},gL=function(e,i){return i.prototype.name=e,function(){Ny(this,{name:e,plugin:i,instance:null},!0);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=lv(i,[this].concat(r));return this[e]=function(){return a},Ny(this,a.getEventHash()),a}},Aa=function(){function t(i){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=i,this.log||(this.log=this.player.log.createLogger(this.name)),xE(this),delete this.trigger,HN(this,this.constructor.defaultState),Aj(i,this.name),this.dispose=this.dispose.bind(this),i.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(n){return n===void 0&&(n={}),n.name=this.name,n.plugin=this.constructor,n.instance=this,n},e.trigger=function(n,r){return r===void 0&&(r={}),Nf(this.eventBusEl_,n,this.getEventHash(r))},e.handleStateChanged=function(n){},e.dispose=function(){var n=this.name,r=this.player;this.trigger("dispose"),this.off(),r.off("dispose",this.dispose),r[Cd][n]=!1,this.player=this.state=null,r[n]=gL(n,dd[n])},t.isBasic=function(n){var r=typeof n=="string"?pv(n):n;return typeof r=="function"&&!t.prototype.isPrototypeOf(r.prototype)},t.registerPlugin=function(n,r){if(typeof n!="string")throw new Error('Illegal plugin name, "'+n+'", must be a string, was '+typeof n+".");if(Fy(n))wt.warn('A plugin named "'+n+'" already exists. You may want to avoid re-registering plugins!');else if(Mi.prototype.hasOwnProperty(n))throw new Error('Illegal plugin name, "'+n+'", cannot share a name with an existing player method!');if(typeof r!="function")throw new Error('Illegal plugin for "'+n+'", must be a function, was '+typeof r+".");return dd[n]=r,n!==By&&(t.isBasic(r)?Mi.prototype[n]=e0e(n,r):Mi.prototype[n]=gL(n,r)),r},t.deregisterPlugin=function(n){if(n===By)throw new Error("Cannot de-register base plugin.");Fy(n)&&(delete dd[n],delete Mi.prototype[n])},t.getPlugins=function(n){n===void 0&&(n=Object.keys(dd));var r;return n.forEach(function(o){var a=pv(o);a&&(r=r||{},r[o]=a)}),r},t.getPluginVersion=function(n){var r=pv(n);return r&&r.VERSION||""},t}();Aa.getPlugin=pv;Aa.BASE_PLUGIN_NAME=By;Aa.registerPlugin(By,Aa);Mi.prototype.usingPlugin=function(t){return!!this[Cd]&&this[Cd][t]===!0};Mi.prototype.hasPlugin=function(t){return!!Fy(t)};var t0e=function(e,i){i===void 0&&(i={});var n=function(){e.apply(this,arguments)},r={};typeof i=="object"?(i.constructor!==Object.prototype.constructor&&(n=i.constructor),r=i):typeof i=="function"&&(n=i),Cr(n,e),e&&(n.super_=e);for(var o in r)r.hasOwnProperty(o)&&(n.prototype[o]=r[o]);return n},xj=function(e){return e.indexOf("#")===0?e.slice(1):e};function ee(t,e,i){var n=ee.getPlayer(t);if(n)return e&&wt.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&n.ready(i),n;var r=typeof t=="string"?zl("#"+xj(t)):t;if(!Ff(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!r.ownerDocument.defaultView||!r.ownerDocument.body.contains(r))&&wt.warn("The element supplied is not included in the DOM"),e=e||{},El("beforesetup").forEach(function(a){var s=a(r,ai(e));if(!As(s)||Array.isArray(s)){wt.error("please return an object in beforesetup hooks");return}e=ai(e,s)});var o=Ae.getComponent("Player");return n=new o(r,e,i),El("setup").forEach(function(a){return a(n)}),n}ee.hooks_=Za;ee.hooks=El;ee.hook=Ege;ee.hookOnce=zge;ee.removeHook=hN;if(Q.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Bf()){var P0=zl(".vjs-styles-defaults");if(!P0){P0=BN("vjs-styles-defaults");var _k=zl("head");_k&&_k.insertBefore(P0,_k.firstChild),FN(P0,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid {
        padding-top: 56.25%
      }
    `)}}C2(1,ee);ee.VERSION=pN;ee.options=Mi.prototype.options_;ee.getPlayers=function(){return Mi.players};ee.getPlayer=function(t){var e=Mi.players,i;if(typeof t=="string"){var n=xj(t),r=e[n];if(r)return r;i=zl("#"+n)}else i=t;if(Ff(i)){var o=i,a=o.player,s=o.playerId;if(a||e[s])return a||e[s]}};ee.getAllPlayers=function(){return Object.keys(Mi.players).map(function(t){return Mi.players[t]}).filter(Boolean)};ee.players=Mi.players;ee.getComponent=Ae.getComponent;ee.registerComponent=function(t,e){ii.isTech(e)&&wt.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Ae.registerComponent.call(Ae,t,e)};ee.getTech=ii.getTech;ee.registerTech=ii.registerTech;ee.use=dbe;Object.defineProperty(ee,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(ee.middleware,"TERMINATOR",{value:Ly,writeable:!1,enumerable:!0});ee.browser=Mge;ee.TOUCH_ENABLED=uf;ee.extend=t0e;ee.mergeOptions=ai;ee.bind=ti;ee.registerPlugin=Aa.registerPlugin;ee.deregisterPlugin=Aa.deregisterPlugin;ee.plugin=function(t,e){return wt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Aa.registerPlugin(t,e)};ee.getPlugins=Aa.getPlugins;ee.getPlugin=Aa.getPlugin;ee.getPluginVersion=Aa.getPluginVersion;ee.addLanguage=function(t,e){var i;return t=(""+t).toLowerCase(),ee.options.languages=ai(ee.options.languages,(i={},i[t]=e,i)),ee.options.languages[t]};ee.log=wt;ee.createLogger=gN;ee.createTimeRange=ee.createTimeRanges=Dc;ee.formatTime=mf;ee.setFormatTime=Ibe;ee.resetFormatTime=Rbe;ee.parseUrl=_E;ee.isCrossOrigin=EA;ee.EventTarget=rn;ee.on=qr;ee.one=SA;ee.off=Ln;ee.trigger=Nf;ee.xhr=k7;ee.TextTrack=Mg;ee.AudioTrack=$N;ee.VideoTrack=QN;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){ee[t]=function(){return wt.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),MN[t].apply(null,arguments)}});ee.computedStyle=Bm;ee.dom=MN;ee.url=sbe;ee.defineLazyProperty=HE;ee.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.12.0 @license Apache-2.0 */var Eo=mA,jy=function(e,i,n){return e&&n&&n.responseURL&&i!==n.responseURL?n.responseURL:i},Go=function(e){return ee.log.debug?ee.log.debug.bind(ee,"VHS:",e+" >"):function(){}},Il=1/30,ra=Il*3,kj=function(e,i){var n=[],r;if(e&&e.length)for(r=0;r<e.length;r++)i(e.start(r),e.end(r))&&n.push([e.start(r),e.end(r)]);return ee.createTimeRanges(n)},fd=function(e,i){return kj(e,function(n,r){return n-ra<=i&&r+ra>=i})},L0=function(e,i){return kj(e,function(n){return n-Il>=i})},i0e=function(e){if(e.length<2)return ee.createTimeRanges();for(var i=[],n=1;n<e.length;n++){var r=e.end(n-1),o=e.start(n);i.push([r,o])}return ee.createTimeRanges(i)},n0e=function(e,i){var n=null,r=null,o=0,a=[],s=[];if(!e||!e.length||!i||!i.length)return ee.createTimeRange();for(var l=e.length;l--;)a.push({time:e.start(l),type:"start"}),a.push({time:e.end(l),type:"end"});for(l=i.length;l--;)a.push({time:i.start(l),type:"start"}),a.push({time:i.end(l),type:"end"});for(a.sort(function(c,d){return c.time-d.time}),l=0;l<a.length;l++)a[l].type==="start"?(o++,o===2&&(n=a[l].time)):a[l].type==="end"&&(o--,o===1&&(r=a[l].time)),n!==null&&r!==null&&(s.push([n,r]),n=null,r=null);return ee.createTimeRanges(s)},_j=function(e){var i=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)i.push(e.start(n)+" => "+e.end(n));return i.join(", ")},r0e=function(e,i,n){n===void 0&&(n=1);var r=e.length?e.end(e.length-1):0;return(r-i)/n},wc=function(e){for(var i=[],n=0;n<e.length;n++)i.push({start:e.start(n),end:e.end(n)});return i},o0e=function(e,i){if(e===i)return!1;if(!e&&i||!i&&e||e.length!==i.length)return!0;for(var n=0;n<e.length;n++)if(e.start(n)!==i.start(n)||e.end(n)!==i.end(n))return!0;return!1},bL=function(e){if(!(!e||!e.length||!e.end))return e.end(e.length-1)},YE=function(e,i){var n=0;if(!e||!e.length)return n;for(var r=0;r<e.length;r++){var o=e.start(r),a=e.end(r);if(!(i>a)){if(i>o&&i<=a){n+=a-i;continue}n+=a-o}}return n},vL=ee.createTimeRange,WE=function(e,i){if(!i.preload)return i.duration;var n=0;return(i.parts||[]).forEach(function(r){n+=r.duration}),(i.preloadHints||[]).forEach(function(r){r.type==="PART"&&(n+=e.partTargetDuration)}),n},O2=function(e){return(e.segments||[]).reduce(function(i,n,r){return n.parts?n.parts.forEach(function(o,a){i.push({duration:o.duration,segmentIndex:r,partIndex:a,part:o,segment:n})}):i.push({duration:n.duration,segmentIndex:r,partIndex:null,segment:n,part:null}),i},[])},Tj=function(e){var i=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return i&&i.parts||[]},Sj=function(e){var i=e.preloadSegment;if(!!i){var n=i.parts,r=i.preloadHints,o=(r||[]).reduce(function(a,s){return a+(s.type==="PART"?1:0)},0);return o+=n&&n.length?n.length:0,o}},Cj=function(e,i){if(i.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var n=Tj(i).length>0;return n&&i.serverControl&&i.serverControl.partHoldBack?i.serverControl.partHoldBack:n&&i.partTargetDuration?i.partTargetDuration*3:i.serverControl&&i.serverControl.holdBack?i.serverControl.holdBack:i.targetDuration?i.targetDuration*3:0},a0e=function(e,i){var n=0,r=i-e.mediaSequence,o=e.segments[r];if(o){if(typeof o.start!="undefined")return{result:o.start,precise:!0};if(typeof o.end!="undefined")return{result:o.end-o.duration,precise:!0}}for(;r--;){if(o=e.segments[r],typeof o.end!="undefined")return{result:n+o.end,precise:!0};if(n+=WE(e,o),typeof o.start!="undefined")return{result:n+o.start,precise:!0}}return{result:n,precise:!1}},s0e=function(e,i){for(var n=0,r,o=i-e.mediaSequence;o<e.segments.length;o++){if(r=e.segments[o],typeof r.start!="undefined")return{result:r.start-n,precise:!0};if(n+=WE(e,r),typeof r.end!="undefined")return{result:r.end-n,precise:!0}}return{result:-1,precise:!1}},Ej=function(e,i,n){if(typeof i=="undefined"&&(i=e.mediaSequence+e.segments.length),i<e.mediaSequence)return 0;var r=a0e(e,i);if(r.precise)return r.result;var o=s0e(e,i);return o.precise?o.result:r.result+n},zj=function(e,i,n){if(!e)return 0;if(typeof n!="number"&&(n=0),typeof i=="undefined"){if(e.totalDuration)return e.totalDuration;if(!e.endList)return Q.Infinity}return Ej(e,i,n)},Dh=function(e){var i=e.defaultDuration,n=e.durationList,r=e.startIndex,o=e.endIndex,a=0;if(r>o){var s=[o,r];r=s[0],o=s[1]}if(r<0){for(var l=r;l<Math.min(0,o);l++)a+=i;r=0}for(var c=r;c<o;c++)a+=n[c].duration;return a},Ij=function(e,i,n,r){if(!e||!e.segments)return null;if(e.endList)return zj(e);if(i===null)return null;i=i||0;var o=Ej(e,e.mediaSequence+e.segments.length,i);return n&&(r=typeof r=="number"?r:Cj(null,e),o-=r),Math.max(0,o)},l0e=function(e,i,n){var r=!0,o=i||0,a=Ij(e,i,r,n);return a===null?vL():vL(o,a)},c0e=function(e){for(var i=e.playlist,n=e.currentTime,r=e.startingSegmentIndex,o=e.startingPartIndex,a=e.startTime,s=e.experimentalExactManifestTimings,l=n-a,c=O2(i),d=0,p=0;p<c.length;p++){var h=c[p];if(r===h.segmentIndex&&!(typeof o=="number"&&typeof h.partIndex=="number"&&o!==h.partIndex)){d=p;break}}if(l<0){if(d>0)for(var m=d-1;m>=0;m--){var y=c[m];if(l+=y.duration,s){if(l<0)continue}else if(l+Il<=0)continue;return{partIndex:y.partIndex,segmentIndex:y.segmentIndex,startTime:a-Dh({defaultDuration:i.targetDuration,durationList:c,startIndex:d,endIndex:m})}}return{partIndex:c[0]&&c[0].partIndex||null,segmentIndex:c[0]&&c[0].segmentIndex||0,startTime:n}}if(d<0){for(var w=d;w<0;w++)if(l-=i.targetDuration,l<0)return{partIndex:c[0]&&c[0].partIndex||null,segmentIndex:c[0]&&c[0].segmentIndex||0,startTime:n};d=0}for(var g=d;g<c.length;g++){var A=c[g];if(l-=A.duration,s){if(l>0)continue}else if(l-Il>=0)continue;return{partIndex:A.partIndex,segmentIndex:A.segmentIndex,startTime:a+Dh({defaultDuration:i.targetDuration,durationList:c,startIndex:d,endIndex:g})}}return{segmentIndex:c[c.length-1].segmentIndex,partIndex:c[c.length-1].partIndex,startTime:n}},Rj=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},VE=function(e){return e.excludeUntil&&e.excludeUntil===1/0},PA=function(e){var i=Rj(e);return!e.disabled&&!i},u0e=function(e){return e.disabled},d0e=function(e){for(var i=0;i<e.segments.length;i++)if(e.segments[i].key)return!0;return!1},Pj=function(e,i){return i.attributes&&i.attributes[e]},f0e=function(e,i,n,r){if(r===void 0&&(r=0),!Pj("BANDWIDTH",n))return NaN;var o=e*n.attributes.BANDWIDTH;return(o-r*8)/i},M2=function(e,i){if(e.playlists.length===1)return!0;var n=i.attributes.BANDWIDTH||Number.MAX_VALUE;return e.playlists.filter(function(r){return PA(r)?(r.attributes.BANDWIDTH||0)<n:!1}).length===0},$E=function(e,i){return!e&&!i||!e&&i||e&&!i?!1:!!(e===i||e.id&&i.id&&e.id===i.id||e.resolvedUri&&i.resolvedUri&&e.resolvedUri===i.resolvedUri||e.uri&&i.uri&&e.uri===i.uri)},yL=function(e,i){var n=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},r=!1;for(var o in n){for(var a in n[o])if(r=i(n[o][a]),r)break;if(r)break}return!!r},Fg=function(e){if(!e||!e.playlists||!e.playlists.length){var i=yL(e,function(a){return a.playlists&&a.playlists.length||a.uri});return i}for(var n=function(s){var l=e.playlists[s],c=l.attributes&&l.attributes.CODECS;if(c&&c.split(",").every(function(p){return I7(p)}))return"continue";var d=yL(e,function(p){return $E(l,p)});return d?"continue":{v:!1}},r=0;r<e.playlists.length;r++){var o=n(r);if(o!=="continue"&&typeof o=="object")return o.v}return!0},br={liveEdgeDelay:Cj,duration:zj,seekable:l0e,getMediaInfoForTime:c0e,isEnabled:PA,isDisabled:u0e,isBlacklisted:Rj,isIncompatible:VE,playlistEnd:Ij,isAes:d0e,hasAttribute:Pj,estimateSegmentRequestTime:f0e,isLowestEnabledRendition:M2,isAudioOnly:Fg,playlistMatch:$E,segmentDurationWithParts:WE},Lj=ee.log,QE=function(e,i){return e+"-"+i},p0e=function(e){var i=e.onwarn,n=e.oninfo,r=e.manifestString,o=e.customTagParsers,a=o===void 0?[]:o,s=e.customTagMappers,l=s===void 0?[]:s,c=e.experimentalLLHLS,d=new Yhe;i&&d.on("warn",i),n&&d.on("info",n),a.forEach(function(w){return d.addParser(w)}),l.forEach(function(w){return d.addTagMapper(w)}),d.push(r),d.end();var p=d.manifest;if(c||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(w){p.hasOwnProperty(w)&&delete p[w]}),p.segments&&p.segments.forEach(function(w){["parts","preloadHints"].forEach(function(g){w.hasOwnProperty(g)&&delete w[g]})})),!p.targetDuration){var h=10;p.segments&&p.segments.length&&(h=p.segments.reduce(function(w,g){return Math.max(w,g.duration)},0)),i&&i("manifest has no targetDuration defaulting to "+h),p.targetDuration=h}var m=Tj(p);if(m.length&&!p.partTargetDuration){var y=m.reduce(function(w,g){return Math.max(w,g.duration)},0);i&&(i("manifest has no partTargetDuration defaulting to "+y),Lj.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),p.partTargetDuration=y}return p},Ng=function(e,i){!e.mediaGroups||["AUDIO","SUBTITLES"].forEach(function(n){if(!!e.mediaGroups[n])for(var r in e.mediaGroups[n])for(var o in e.mediaGroups[n][r]){var a=e.mediaGroups[n][r][o];i(a,n,r,o)}})},Oj=function(e){var i=e.playlist,n=e.uri,r=e.id;i.id=r,i.playlistErrors_=0,n&&(i.uri=n),i.attributes=i.attributes||{}},h0e=function(e){for(var i=e.playlists.length;i--;){var n=e.playlists[i];Oj({playlist:n,id:QE(i,n.uri)}),n.resolvedUri=Eo(e.uri,n.uri),e.playlists[n.id]=n,e.playlists[n.uri]=n,n.attributes.BANDWIDTH||Lj.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},m0e=function(e){Ng(e,function(i){i.uri&&(i.resolvedUri=Eo(e.uri,i.uri))})},g0e=function(e,i){var n=QE(0,i),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:Q.location.href,resolvedUri:Q.location.href,playlists:[{uri:i,id:n,resolvedUri:i,attributes:{}}]};return r.playlists[n]=r.playlists[0],r.playlists[i]=r.playlists[0],r},Mj=function(e,i){e.uri=i;for(var n=0;n<e.playlists.length;n++)if(!e.playlists[n].uri){var r="placeholder-uri-"+n;e.playlists[n].uri=r}var o=Fg(e);Ng(e,function(a,s,l,c){var d="placeholder-uri-"+s+"-"+l+"-"+c;if(!a.playlists||!a.playlists.length){if(o&&s==="AUDIO"&&!a.uri)for(var p=0;p<e.playlists.length;p++){var h=e.playlists[p];if(h.attributes&&h.attributes.AUDIO&&h.attributes.AUDIO===l)return}a.playlists=[Me({},a)]}a.playlists.forEach(function(m,y){var w=QE(y,d);m.uri?m.resolvedUri=m.resolvedUri||Eo(e.uri,m.uri):(m.uri=y===0?d:w,m.resolvedUri=m.uri),m.id=m.id||w,m.attributes=m.attributes||{},e.playlists[m.id]=m,e.playlists[m.uri]=m})}),h0e(e),m0e(e)},Uy=ee.mergeOptions,b0e=ee.EventTarget,v0e=function(e,i){if(i.endList||!i.serverControl)return e;var n={};if(i.serverControl.canBlockReload){var r=i.preloadSegment,o=i.mediaSequence+i.segments.length;if(r){var a=r.parts||[],s=Sj(i)-1;s>-1&&s!==a.length-1&&(n._HLS_part=s),(s>-1||a.length)&&o--}n._HLS_msn=o}if(i.serverControl&&i.serverControl.canSkipUntil&&(n._HLS_skip=i.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){var l=new Q.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(c){!n.hasOwnProperty(c)||l.searchParams.set(c,n[c])}),e=l.toString()}return e},y0e=function(e,i){if(!e)return i;var n=Uy(e,i);if(e.preloadHints&&!i.preloadHints&&delete n.preloadHints,e.parts&&!i.parts)delete n.parts;else if(e.parts&&i.parts)for(var r=0;r<i.parts.length;r++)e.parts&&e.parts[r]&&(n.parts[r]=Uy(e.parts[r],i.parts[r]));return!e.skipped&&i.skipped&&(n.skipped=!1),e.preload&&!i.preload&&(n.preload=!1),n},w0e=function(e,i,n){var r=e.slice(),o=i.slice();n=n||0;for(var a=[],s,l=0;l<o.length;l++){var c=r[l+n],d=o[l];c?(s=c.map||s,a.push(y0e(c,d))):(s&&!d.map&&(d.map=s),a.push(d))}return a},Dj=function(e,i){!e.resolvedUri&&e.uri&&(e.resolvedUri=Eo(i,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=Eo(i,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=Eo(i,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=Eo(i,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(n){n.resolvedUri||(n.resolvedUri=Eo(i,n.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(n){n.resolvedUri||(n.resolvedUri=Eo(i,n.uri))})},Bj=function(e){var i=e.segments||[],n=e.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints){for(var r=0;r<n.preloadHints.length;r++)if(n.preloadHints[r].type==="MAP")return i}n.duration=e.targetDuration,n.preload=!0,i.push(n)}return i},Fj=function(e,i){return e===i||e.segments&&i.segments&&e.segments.length===i.segments.length&&e.endList===i.endList&&e.mediaSequence===i.mediaSequence&&e.preloadSegment===i.preloadSegment},D2=function(e,i,n){n===void 0&&(n=Fj);var r=Uy(e,{}),o=r.playlists[i.id];if(!o||n(o,i))return null;i.segments=Bj(i);var a=Uy(o,i);if(a.preloadSegment&&!i.preloadSegment&&delete a.preloadSegment,o.segments){if(i.skip){i.segments=i.segments||[];for(var s=0;s<i.skip.skippedSegments;s++)i.segments.unshift({skipped:!0})}a.segments=w0e(o.segments,i.segments,i.mediaSequence-o.mediaSequence)}a.segments.forEach(function(c){Dj(c,a.resolvedUri)});for(var l=0;l<r.playlists.length;l++)r.playlists[l].id===i.id&&(r.playlists[l]=a);return r.playlists[i.id]=a,r.playlists[i.uri]=a,Ng(e,function(c,d,p,h){if(!!c.playlists)for(var m=0;m<c.playlists.length;m++)i.id===c.playlists[m].id&&(c.playlists[m]=i)}),r},B2=function(e,i){var n=e.segments||[],r=n[n.length-1],o=r&&r.parts&&r.parts[r.parts.length-1],a=o&&o.duration||r&&r.duration;return i&&a?a*1e3:(e.partTargetDuration||e.targetDuration||10)*500},pd=function(t){ye(e,t);function e(n,r,o){var a;if(o===void 0&&(o={}),a=t.call(this)||this,!n)throw new Error("A non-empty playlist URL or object is required");a.logger_=Go("PlaylistLoader");var s=o,l=s.withCredentials,c=l===void 0?!1:l,d=s.handleManifestRedirects,p=d===void 0?!1:d;a.src=n,a.vhs_=r,a.withCredentials=c,a.handleManifestRedirects=p;var h=r.options_;return a.customTagParsers=h&&h.customTagParsers||[],a.customTagMappers=h&&h.customTagMappers||[],a.experimentalLLHLS=h&&h.experimentalLLHLS||!1,ee.browser.IE_VERSION&&(a.experimentalLLHLS=!1),a.state="HAVE_NOTHING",a.handleMediaupdatetimeout_=a.handleMediaupdatetimeout_.bind(re(a)),a.on("mediaupdatetimeout",a.handleMediaupdatetimeout_),a}var i=e.prototype;return i.handleMediaupdatetimeout_=function(){var r=this;if(this.state==="HAVE_METADATA"){var o=this.media(),a=Eo(this.master.uri,o.uri);this.experimentalLLHLS&&(a=v0e(a,o)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:a,withCredentials:this.withCredentials},function(s,l){if(!!r.request){if(s)return r.playlistRequestError(r.request,r.media(),"HAVE_METADATA");r.haveMetadata({playlistString:r.request.responseText,url:r.media().uri,id:r.media().id})}})}},i.playlistRequestError=function(r,o,a){var s=o.uri,l=o.id;this.request=null,a&&(this.state=a),this.error={playlist:this.master.playlists[l],status:r.status,message:"HLS playlist request error at URL: "+s+".",responseText:r.responseText,code:r.status>=500?4:2},this.trigger("error")},i.parseManifest_=function(r){var o=this,a=r.url,s=r.manifestString;return p0e({onwarn:function(c){var d=c.message;return o.logger_("m3u8-parser warn for "+a+": "+d)},oninfo:function(c){var d=c.message;return o.logger_("m3u8-parser info for "+a+": "+d)},manifestString:s,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},i.haveMetadata=function(r){var o=r.playlistString,a=r.playlistObject,s=r.url,l=r.id;this.request=null,this.state="HAVE_METADATA";var c=a||this.parseManifest_({url:s,manifestString:o});c.lastRequest=Date.now(),Oj({playlist:c,uri:s,id:l});var d=D2(this.master,c);this.targetDuration=c.partTargetDuration||c.targetDuration,this.pendingMedia_=null,d?(this.master=d,this.media_=this.master.playlists[l]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(B2(this.media(),!!d)),this.trigger("loadedplaylist")},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),Q.clearTimeout(this.mediaUpdateTimeout),Q.clearTimeout(this.finalRenditionTimeout),this.off()},i.stopRequest=function(){if(this.request){var r=this.request;this.request=null,r.onreadystatechange=null,r.abort()}},i.media=function(r,o){var a=this;if(!r)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof r=="string"){if(!this.master.playlists[r])throw new Error("Unknown playlist URI: "+r);r=this.master.playlists[r]}if(Q.clearTimeout(this.finalRenditionTimeout),o){var s=(r.partTargetDuration||r.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=Q.setTimeout(this.media.bind(this,r,!1),s);return}var l=this.state,c=!this.media_||r.id!==this.media_.id,d=this.master.playlists[r.id];if(d&&d.endList||r.endList&&r.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=r,c&&(this.trigger("mediachanging"),l==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(B2(r,!0)),!!c){if(this.state="SWITCHING_MEDIA",this.request){if(r.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=r,this.request=this.vhs_.xhr({uri:r.resolvedUri,withCredentials:this.withCredentials},function(p,h){if(!!a.request){if(r.lastRequest=Date.now(),r.resolvedUri=jy(a.handleManifestRedirects,r.resolvedUri,h),p)return a.playlistRequestError(a.request,r,l);a.haveMetadata({playlistString:h.responseText,url:r.uri,id:r.id}),l==="HAVE_MASTER"?a.trigger("loadedmetadata"):a.trigger("mediachange")}})}},i.pause=function(){this.mediaUpdateTimeout&&(Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},i.load=function(r){var o=this;this.mediaUpdateTimeout&&(Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var a=this.media();if(r){var s=a?(a.partTargetDuration||a.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=Q.setTimeout(function(){o.mediaUpdateTimeout=null,o.load()},s);return}if(!this.started){this.start();return}a&&!a.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},i.updateMediaUpdateTimeout_=function(r){var o=this;this.mediaUpdateTimeout&&(Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=Q.setTimeout(function(){o.mediaUpdateTimeout=null,o.trigger("mediaupdatetimeout"),o.updateMediaUpdateTimeout_(r)},r))},i.start=function(){var r=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=Q.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){r.setupInitialPlaylist(r.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(o,a){if(!!r.request){if(r.request=null,o)return r.error={status:a.status,message:"HLS playlist request error at URL: "+r.src+".",responseText:a.responseText,code:2},r.state==="HAVE_NOTHING"&&(r.started=!1),r.trigger("error");r.src=jy(r.handleManifestRedirects,r.src,a);var s=r.parseManifest_({manifestString:a.responseText,url:r.src});r.setupInitialPlaylist(s)}})},i.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},i.setupInitialPlaylist=function(r){if(this.state="HAVE_MASTER",r.playlists){this.master=r,Mj(this.master,this.srcUri()),r.playlists.forEach(function(a){a.segments=Bj(a),a.segments.forEach(function(s){Dj(s,a.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var o=this.srcUri()||Q.location.href;this.master=g0e(r,o),this.haveMetadata({playlistObject:r,url:o,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},e}(b0e),A0e=ee.xhr,x0e=ee.mergeOptions,F2=function(e,i,n,r){var o=e.responseType==="arraybuffer"?e.response:e.responseText;!i&&o&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=o.byteLength||o.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),n.headers&&(e.responseHeaders=n.headers),i&&i.code==="ETIMEDOUT"&&(e.timedout=!0),!i&&!e.aborted&&n.statusCode!==200&&n.statusCode!==206&&n.statusCode!==0&&(i=new Error("XHR Failed with a response of: "+(e&&(o||e.responseText)))),r(i,e)},Nj=function(){var e=function i(n,r){n=x0e({timeout:45e3},n);var o=i.beforeRequest||ee.Vhs.xhr.beforeRequest;if(o&&typeof o=="function"){var a=o(n);a&&(n=a)}var s=ee.Vhs.xhr.original===!0?A0e:ee.Vhs.xhr,l=s(n,function(d,p){return F2(l,d,p,r)}),c=l.abort;return l.abort=function(){return l.aborted=!0,c.apply(l,arguments)},l.uri=n.uri,l.requestTime=Date.now(),l};return e.original=!0,e},k0e=function(e){var i=e.offset+e.length-1,n=e.offset;return"bytes="+n+"-"+i},N2=function(e){var i={};return e.byterange&&(i.Range=k0e(e.byterange)),i},_0e=function(e,i){return e.start(i)+"-"+e.end(i)},T0e=function(e,i){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(i%2?" ":"")},S0e=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},jj=function(e){var i={};return Object.keys(e).forEach(function(n){var r=e[n];ArrayBuffer.isView(r)?i[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:i[n]=r}),i},Gy=function(e){var i=e.byterange||{length:1/0,offset:0};return[i.length,i.offset,e.resolvedUri].join(",")},Uj=function(e){return e.resolvedUri},Gj=function(e){for(var i=Array.prototype.slice.call(e),n=16,r="",o,a,s=0;s<i.length/n;s++)o=i.slice(s*n,s*n+n).map(T0e).join(""),a=i.slice(s*n,s*n+n).map(S0e).join(""),r+=o+" "+a+`
`;return r},C0e=function(e){var i=e.bytes;return Gj(i)},E0e=function(e){var i="",n;for(n=0;n<e.length;n++)i+=_0e(e,n)+" ";return i},z0e=Object.freeze({__proto__:null,createTransferableMessage:jj,initSegmentId:Gy,segmentKeyId:Uj,hexDump:Gj,tagDump:C0e,textRanges:E0e}),Hj=.25,I0e=function(e,i){if(!i.dateTimeObject)return null;var n=i.videoTimingInfo.transmuxerPrependedSeconds,r=i.videoTimingInfo.transmuxedPresentationStart,o=r+n,a=e-o;return new Date(i.dateTimeObject.getTime()+a*1e3)},R0e=function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},P0e=function(e,i){var n;try{n=new Date(e)}catch{return null}if(!i||!i.segments||i.segments.length===0)return null;var r=i.segments[0];if(n<r.dateTimeObject)return null;for(var o=0;o<i.segments.length-1;o++){r=i.segments[o];var a=i.segments[o+1].dateTimeObject;if(n<a)break}var s=i.segments[i.segments.length-1],l=s.dateTimeObject,c=s.videoTimingInfo?R0e(s.videoTimingInfo):s.duration+s.duration*Hj,d=new Date(l.getTime()+c*1e3);return n>d?null:(n>l&&(r=s),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:br.duration(i,i.mediaSequence+i.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})},L0e=function(e,i){if(!i||!i.segments||i.segments.length===0)return null;for(var n=0,r,o=0;o<i.segments.length&&(r=i.segments[o],n=r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:n+r.duration,!(e<=n));o++);var a=i.segments[i.segments.length-1];if(a.videoTimingInfo&&a.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>n){if(e>n+a.duration*Hj)return null;r=a}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:n-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}},O0e=function(e,i){var n,r;try{n=new Date(e),r=new Date(i)}catch{}var o=n.getTime(),a=r.getTime();return(a-o)/1e3},M0e=function(e){if(!e.segments||e.segments.length===0)return!1;for(var i=0;i<e.segments.length;i++){var n=e.segments[i];if(!n.dateTimeObject)return!1}return!0},D0e=function(e){var i=e.playlist,n=e.time,r=n===void 0?void 0:n,o=e.callback;if(!o)throw new Error("getProgramTime: callback must be provided");if(!i||r===void 0)return o({message:"getProgramTime: playlist and time must be provided"});var a=L0e(r,i);if(!a)return o({message:"valid programTime was not found"});if(a.type==="estimate")return o({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:a.estimatedStart});var s={mediaSeconds:r},l=I0e(r,a.segment);return l&&(s.programDateTime=l.toISOString()),o(null,s)},B0e=function t(e){var i=e.programTime,n=e.playlist,r=e.retryCount,o=r===void 0?2:r,a=e.seekTo,s=e.pauseAfterSeek,l=s===void 0?!0:s,c=e.tech,d=e.callback;if(!d)throw new Error("seekToProgramTime: callback must be provided");if(typeof i=="undefined"||!n||!a)return d({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!n.endList&&!c.hasStarted_)return d({message:"player must be playing a live stream to start buffering"});if(!M0e(n))return d({message:"programDateTime tags must be provided in the manifest "+n.resolvedUri});var p=P0e(i,n);if(!p)return d({message:i+" was not found in the stream"});var h=p.segment,m=O0e(h.dateTimeObject,i);if(p.type==="estimate"){if(o===0)return d({message:i+" is not buffered yet. Try again"});a(p.estimatedStart+m),c.one("seeked",function(){t({programTime:i,playlist:n,retryCount:o-1,seekTo:a,pauseAfterSeek:l,tech:c,callback:d})});return}var y=h.start+m,w=function(){return d(null,c.currentTime())};c.one("seeked",w),l&&c.pause(),a(y)},Tk=function(e,i){if(e.readyState===4)return i()},F0e=function(e,i,n){var r=[],o,a=!1,s=function(h,m,y,w){return m.abort(),a=!0,n(h,m,y,w)},l=function(h,m){if(!a){if(h)return s(h,m,"",r);var y=m.responseText.substring(r&&r.byteLength||0,m.responseText.length);if(r=fge(r,lN(y,!0)),o=o||ph(r),r.length<10||o&&r.length<o+2)return Tk(m,function(){return s(h,m,"",r)});var w=uE(r);return w==="ts"&&r.length<188?Tk(m,function(){return s(h,m,"",r)}):!w&&r.length<376?Tk(m,function(){return s(h,m,"",r)}):s(null,m,w,r)}},c={uri:e,beforeSend:function(h){h.overrideMimeType("text/plain; charset=x-user-defined"),h.addEventListener("progress",function(m){return m.total,m.loaded,F2(h,null,{statusCode:h.status},l)})}},d=i(c,function(p,h){return F2(d,p,h,l)});return d},N0e=ee.EventTarget,Yj=ee.mergeOptions,wL=function(e,i){if(!Fj(e,i)||e.sidx&&i.sidx&&(e.sidx.offset!==i.sidx.offset||e.sidx.length!==i.sidx.length))return!1;if(!e.sidx&&i.sidx||e.sidx&&!i.sidx||e.segments&&!i.segments||!e.segments&&i.segments)return!1;if(!e.segments&&!i.segments)return!0;for(var n=0;n<e.segments.length;n++){var r=e.segments[n],o=i.segments[n];if(r.uri!==o.uri)return!1;if(!(!r.byterange&&!o.byterange)){var a=r.byterange,s=o.byterange;if(a&&!s||!a&&s||a.offset!==s.offset||a.length!==s.length)return!1}}return!0},j0e=function(e){var i=e.masterXml,n=e.srcUrl,r=e.clientOffset,o=e.sidxMapping,a=nge(i,{manifestUri:n,clientOffset:r,sidxMapping:o});return Mj(a,n),a},U0e=function(e,i,n){for(var r=!0,o=Yj(e,{duration:i.duration,minimumUpdatePeriod:i.minimumUpdatePeriod}),a=0;a<i.playlists.length;a++){var s=i.playlists[a];if(s.sidx){var l=yA(s.sidx);n&&n[l]&&n[l].sidx&&aE(s,n[l].sidx,s.sidx.resolvedUri)}var c=D2(o,s,wL);c&&(o=c,r=!1)}return Ng(i,function(d,p,h,m){if(d.playlists&&d.playlists.length){var y=d.playlists[0].id,w=D2(o,d.playlists[0],wL);w&&(o=w,o.mediaGroups[p][h][m].playlists[0]=o.playlists[y],r=!1)}}),i.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(r=!1),r?null:o},G0e=function(e,i){var n=Boolean(!e.map&&!i.map),r=n||Boolean(e.map&&i.map&&e.map.byterange.offset===i.map.byterange.offset&&e.map.byterange.length===i.map.byterange.length);return r&&e.uri===i.uri&&e.byterange.offset===i.byterange.offset&&e.byterange.length===i.byterange.length},AL=function(e,i){var n={};for(var r in e){var o=e[r],a=o.sidx;if(a){var s=yA(a);if(!i[s])break;var l=i[s].sidxInfo;G0e(l,a)&&(n[s]=i[s])}}return n},H0e=function(e,i){var n=AL(e.playlists,i),r=n;return Ng(e,function(o,a,s,l){if(o.playlists&&o.playlists.length){var c=o.playlists;r=Yj(r,AL(c,i))}}),r},j2=function(t){ye(e,t);function e(n,r,o,a){var s;o===void 0&&(o={}),s=t.call(this)||this,s.masterPlaylistLoader_=a||re(s),a||(s.isMaster_=!0);var l=o,c=l.withCredentials,d=c===void 0?!1:c,p=l.handleManifestRedirects,h=p===void 0?!1:p;if(s.vhs_=r,s.withCredentials=d,s.handleManifestRedirects=h,!n)throw new Error("A non-empty playlist URL or object is required");return s.on("minimumUpdatePeriod",function(){s.refreshXml_()}),s.on("mediaupdatetimeout",function(){s.refreshMedia_(s.media().id)}),s.state="HAVE_NOTHING",s.loadedPlaylists_={},s.logger_=Go("DashPlaylistLoader"),s.isMaster_?(s.masterPlaylistLoader_.srcUrl=n,s.masterPlaylistLoader_.sidxMapping_={}):s.childPlaylist_=n,s}var i=e.prototype;return i.requestErrored_=function(r,o,a){if(!this.request)return!0;if(this.request=null,r)return this.error=typeof r=="object"&&!(r instanceof Error)?r:{status:o.status,message:"DASH request error at URL: "+o.uri,response:o.response,code:2},a&&(this.state=a),this.trigger("error"),!0},i.addSidxSegments_=function(r,o,a){var s=this,l=r.sidx&&yA(r.sidx);if(!r.sidx||!l||this.masterPlaylistLoader_.sidxMapping_[l]){this.mediaRequest_=Q.setTimeout(function(){return a(!1)},0);return}var c=jy(this.handleManifestRedirects,r.sidx.resolvedUri),d=function(h,m){if(!s.requestErrored_(h,m,o)){var y=s.masterPlaylistLoader_.sidxMapping_,w;try{w=age(tt(m.response).subarray(8))}catch(g){s.requestErrored_(g,m,o);return}return y[l]={sidxInfo:r.sidx,sidx:w},aE(r,w,r.sidx.resolvedUri),a(!0)}};this.request=F0e(c,this.vhs_.xhr,function(p,h,m,y){if(p)return d(p,h);if(!m||m!=="mp4")return d({status:h.status,message:"Unsupported "+(m||"unknown")+" container type for sidx segment at URL: "+c,response:"",playlist:r,internal:!0,blacklistDuration:1/0,code:2},h);var w=r.sidx.byterange,g=w.offset,A=w.length;if(y.length>=A+g)return d(p,{response:y.subarray(g,g+A),status:h.status,uri:h.uri});s.request=s.vhs_.xhr({uri:c,responseType:"arraybuffer",headers:N2({byterange:r.sidx.byterange})},d)})},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},Q.clearTimeout(this.minimumUpdatePeriodTimeout_),Q.clearTimeout(this.mediaRequest_),Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},i.hasPendingRequest=function(){return this.request||this.mediaRequest_},i.stopRequest=function(){if(this.request){var r=this.request;this.request=null,r.onreadystatechange=null,r.abort()}},i.media=function(r){var o=this;if(!r)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var a=this.state;if(typeof r=="string"){if(!this.masterPlaylistLoader_.master.playlists[r])throw new Error("Unknown playlist URI: "+r);r=this.masterPlaylistLoader_.master.playlists[r]}var s=!this.media_||r.id!==this.media_.id;if(s&&this.loadedPlaylists_[r.id]&&this.loadedPlaylists_[r.id].endList){this.state="HAVE_METADATA",this.media_=r,s&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}!s||(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(r,a,function(l){o.haveMetadata({startingState:a,playlist:r})}))},i.haveMetadata=function(r){var o=r.startingState,a=r.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[a.id]=a,this.mediaRequest_=null,this.refreshMedia_(a.id),o==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},i.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(Q.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},i.load=function(r){var o=this;Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var a=this.media();if(r){var s=a?a.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=Q.setTimeout(function(){return o.load()},s);return}if(!this.started){this.start();return}a&&!a.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},i.start=function(){var r=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=Q.setTimeout(function(){return r.haveMaster_()},0);return}this.requestMaster_(function(o,a){r.haveMaster_(),!r.hasPendingRequest()&&!r.media_&&r.media(r.masterPlaylistLoader_.master.playlists[0])})},i.requestMaster_=function(r){var o=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(a,s){if(o.requestErrored_(a,s)){o.state==="HAVE_NOTHING"&&(o.started=!1);return}var l=s.responseText!==o.masterPlaylistLoader_.masterXml_;if(o.masterPlaylistLoader_.masterXml_=s.responseText,s.responseHeaders&&s.responseHeaders.date?o.masterLoaded_=Date.parse(s.responseHeaders.date):o.masterLoaded_=Date.now(),o.masterPlaylistLoader_.srcUrl=jy(o.handleManifestRedirects,o.masterPlaylistLoader_.srcUrl,s),l){o.handleMaster_(),o.syncClientServerClock_(function(){return r(s,l)});return}return r(s,l)})},i.syncClientServerClock_=function(r){var o=this,a=rge(this.masterPlaylistLoader_.masterXml_);if(a===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),r();if(a.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=a.value-Date.now(),r();this.request=this.vhs_.xhr({uri:Eo(this.masterPlaylistLoader_.srcUrl,a.value),method:a.method,withCredentials:this.withCredentials},function(s,l){if(!!o.request){if(s)return o.masterPlaylistLoader_.clientOffset_=o.masterLoaded_-Date.now(),r();var c;a.method==="HEAD"?!l.responseHeaders||!l.responseHeaders.date?c=o.masterLoaded_:c=Date.parse(l.responseHeaders.date):c=Date.parse(l.responseText),o.masterPlaylistLoader_.clientOffset_=c-Date.now(),r()}})},i.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},i.handleMaster_=function(){this.mediaRequest_=null;var r=j0e({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_}),o=this.masterPlaylistLoader_.master;o&&(r=U0e(o,r,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=r||o;var a=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return a&&a!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=a),(!o||r&&r.minimumUpdatePeriod!==o.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(r)},i.updateMinimumUpdatePeriodTimeout_=function(){var r=this.masterPlaylistLoader_;r.createMupOnMedia_&&(r.off("loadedmetadata",r.createMupOnMedia_),r.createMupOnMedia_=null),r.minimumUpdatePeriodTimeout_&&(Q.clearTimeout(r.minimumUpdatePeriodTimeout_),r.minimumUpdatePeriodTimeout_=null);var o=r.master&&r.master.minimumUpdatePeriod;if(o===0&&(r.media()?o=r.media().targetDuration*1e3:(r.createMupOnMedia_=r.updateMinimumUpdatePeriodTimeout_,r.one("loadedmetadata",r.createMupOnMedia_))),typeof o!="number"||o<=0){o<0&&this.logger_("found invalid minimumUpdatePeriod of "+o+", not setting a timeout");return}this.createMUPTimeout_(o)},i.createMUPTimeout_=function(r){var o=this.masterPlaylistLoader_;o.minimumUpdatePeriodTimeout_=Q.setTimeout(function(){o.minimumUpdatePeriodTimeout_=null,o.trigger("minimumUpdatePeriod"),o.createMUPTimeout_(r)},r)},i.refreshXml_=function(){var r=this;this.requestMaster_(function(o,a){!a||(r.media_&&(r.media_=r.masterPlaylistLoader_.master.playlists[r.media_.id]),r.masterPlaylistLoader_.sidxMapping_=H0e(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.sidxMapping_),r.addSidxSegments_(r.media(),r.state,function(s){r.refreshMedia_(r.media().id)}))})},i.refreshMedia_=function(r){var o=this;if(!r)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var a=this.masterPlaylistLoader_.master.playlists,s=!this.media_||this.media_!==a[r];if(s?this.media_=a[r]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var l=function c(){o.media().endList||(o.mediaUpdateTimeout=Q.setTimeout(function(){o.trigger("mediaupdatetimeout"),c()},B2(o.media(),Boolean(s))))};l()}this.trigger("loadedplaylist")},e}(N0e),Qi={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},Y0e=function(e){for(var i=new Uint8Array(new ArrayBuffer(e.length)),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i.buffer},Wj=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},W0e=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch{var i=new BlobBuilder;return i.append(e),URL.createObjectURL(i.getBlob())}},Vj=function(e){return function(){var i=W0e(e),n=Wj(new Worker(i));n.objURL=i;var r=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(i),r.call(this)},n}},$j=function(e){return"var browserWorkerPolyFill = "+Wj.toString()+`;
browserWorkerPolyFill(self);
`+e},Qj=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},V0e=$j(Qj(function(){var t=function(){this.init=function(){var v={};this.on=function(_,k){v[_]||(v[_]=[]),v[_]=v[_].concat(k)},this.off=function(_,k){var S;return v[_]?(S=v[_].indexOf(k),v[_]=v[_].slice(),v[_].splice(S,1),S>-1):!1},this.trigger=function(_){var k,S,I,R;if(k=v[_],!!k)if(arguments.length===2)for(I=k.length,S=0;S<I;++S)k[S].call(this,arguments[1]);else{for(R=[],S=arguments.length,S=1;S<arguments.length;++S)R.push(arguments[S]);for(I=k.length,S=0;S<I;++S)k[S].apply(this,R)}},this.dispose=function(){v={}}}};t.prototype.pipe=function(D){return this.on("data",function(v){D.push(v)}),this.on("done",function(v){D.flush(v)}),this.on("partialdone",function(v){D.partialFlush(v)}),this.on("endedtimeline",function(v){D.endTimeline(v)}),this.on("reset",function(v){D.reset(v)}),D},t.prototype.push=function(D){this.trigger("data",D)},t.prototype.flush=function(D){this.trigger("done",D)},t.prototype.partialFlush=function(D){this.trigger("partialdone",D)},t.prototype.endTimeline=function(D){this.trigger("endedtimeline",D)},t.prototype.reset=function(D){this.trigger("reset",D)};var e=t,i=Math.pow(2,32)-1,n,r,o,a,s,l,c,d,p,h,m,y,w,g,A,x,T,E,z,M,B,L,F,H,X,de,we,Ee,ke,Be,De,We,Pe,Oe,se,Z;(function(){var D;if(F={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},typeof Uint8Array!="undefined"){for(D in F)F.hasOwnProperty(D)&&(F[D]=[D.charCodeAt(0),D.charCodeAt(1),D.charCodeAt(2),D.charCodeAt(3)]);H=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),de=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),X=new Uint8Array([0,0,0,1]),we=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Ee=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),ke={video:we,audio:Ee},We=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),De=new Uint8Array([0,0,0,0,0,0,0,0]),Pe=new Uint8Array([0,0,0,0,0,0,0,0]),Oe=Pe,se=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Z=Pe,Be=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),n=function(v){var _=[],k=0,S,I,R;for(S=1;S<arguments.length;S++)_.push(arguments[S]);for(S=_.length;S--;)k+=_[S].byteLength;for(I=new Uint8Array(k+8),R=new DataView(I.buffer,I.byteOffset,I.byteLength),R.setUint32(0,I.byteLength),I.set(v,4),S=0,k=8;S<_.length;S++)I.set(_[S],k),k+=_[S].byteLength;return I},r=function(){return n(F.dinf,n(F.dref,We))},o=function(v){return n(F.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,v.audioobjecttype<<3|v.samplingfrequencyindex>>>1,v.samplingfrequencyindex<<7|v.channelcount<<3,6,1,2]))},a=function(){return n(F.ftyp,H,X,H,de)},x=function(v){return n(F.hdlr,ke[v])},s=function(v){return n(F.mdat,v)},A=function(v){var _=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,v.duration>>>24&255,v.duration>>>16&255,v.duration>>>8&255,v.duration&255,85,196,0,0]);return v.samplerate&&(_[12]=v.samplerate>>>24&255,_[13]=v.samplerate>>>16&255,_[14]=v.samplerate>>>8&255,_[15]=v.samplerate&255),n(F.mdhd,_)},g=function(v){return n(F.mdia,A(v),x(v.type),c(v))},l=function(v){return n(F.mfhd,new Uint8Array([0,0,0,0,(v&4278190080)>>24,(v&16711680)>>16,(v&65280)>>8,v&255]))},c=function(v){return n(F.minf,v.type==="video"?n(F.vmhd,Be):n(F.smhd,De),r(),E(v))},d=function(v,_){for(var k=[],S=_.length;S--;)k[S]=M(_[S]);return n.apply(null,[F.moof,l(v)].concat(k))},p=function(v){for(var _=v.length,k=[];_--;)k[_]=y(v[_]);return n.apply(null,[F.moov,m(4294967295)].concat(k).concat(h(v)))},h=function(v){for(var _=v.length,k=[];_--;)k[_]=B(v[_]);return n.apply(null,[F.mvex].concat(k))},m=function(v){var _=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(v&4278190080)>>24,(v&16711680)>>16,(v&65280)>>8,v&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return n(F.mvhd,_)},T=function(v){var _=v.samples||[],k=new Uint8Array(4+_.length),S,I;for(I=0;I<_.length;I++)S=_[I].flags,k[I+4]=S.dependsOn<<4|S.isDependedOn<<2|S.hasRedundancy;return n(F.sdtp,k)},E=function(v){return n(F.stbl,z(v),n(F.stts,Z),n(F.stsc,Oe),n(F.stsz,se),n(F.stco,Pe))},function(){var D,v;z=function(k){return n(F.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),k.type==="video"?D(k):v(k))},D=function(k){var S=k.sps||[],I=k.pps||[],R=[],U=[],G,q;for(G=0;G<S.length;G++)R.push((S[G].byteLength&65280)>>>8),R.push(S[G].byteLength&255),R=R.concat(Array.prototype.slice.call(S[G]));for(G=0;G<I.length;G++)U.push((I[G].byteLength&65280)>>>8),U.push(I[G].byteLength&255),U=U.concat(Array.prototype.slice.call(I[G]));if(q=[F.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(k.width&65280)>>8,k.width&255,(k.height&65280)>>8,k.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),n(F.avcC,new Uint8Array([1,k.profileIdc,k.profileCompatibility,k.levelIdc,255].concat([S.length],R,[I.length],U))),n(F.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],k.sarRatio){var V=k.sarRatio[0],J=k.sarRatio[1];q.push(n(F.pasp,new Uint8Array([(V&4278190080)>>24,(V&16711680)>>16,(V&65280)>>8,V&255,(J&4278190080)>>24,(J&16711680)>>16,(J&65280)>>8,J&255])))}return n.apply(null,q)},v=function(k){return n(F.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(k.channelcount&65280)>>8,k.channelcount&255,(k.samplesize&65280)>>8,k.samplesize&255,0,0,0,0,(k.samplerate&65280)>>8,k.samplerate&255,0,0]),o(k))}}(),w=function(v){var _=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(v.id&4278190080)>>24,(v.id&16711680)>>16,(v.id&65280)>>8,v.id&255,0,0,0,0,(v.duration&4278190080)>>24,(v.duration&16711680)>>16,(v.duration&65280)>>8,v.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(v.width&65280)>>8,v.width&255,0,0,(v.height&65280)>>8,v.height&255,0,0]);return n(F.tkhd,_)},M=function(v){var _,k,S,I,R,U,G;return _=n(F.tfhd,new Uint8Array([0,0,0,58,(v.id&4278190080)>>24,(v.id&16711680)>>16,(v.id&65280)>>8,v.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),U=Math.floor(v.baseMediaDecodeTime/(i+1)),G=Math.floor(v.baseMediaDecodeTime%(i+1)),k=n(F.tfdt,new Uint8Array([1,0,0,0,U>>>24&255,U>>>16&255,U>>>8&255,U&255,G>>>24&255,G>>>16&255,G>>>8&255,G&255])),R=32+20+8+16+8+8,v.type==="audio"?(S=L(v,R),n(F.traf,_,k,S)):(I=T(v),S=L(v,I.length+R),n(F.traf,_,k,S,I))},y=function(v){return v.duration=v.duration||4294967295,n(F.trak,w(v),g(v))},B=function(v){var _=new Uint8Array([0,0,0,0,(v.id&4278190080)>>24,(v.id&16711680)>>16,(v.id&65280)>>8,v.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return v.type!=="video"&&(_[_.length-1]=0),n(F.trex,_)},function(){var D,v,_;_=function(S,I){var R=0,U=0,G=0,q=0;return S.length&&(S[0].duration!==void 0&&(R=1),S[0].size!==void 0&&(U=2),S[0].flags!==void 0&&(G=4),S[0].compositionTimeOffset!==void 0&&(q=8)),[0,0,R|U|G|q,1,(S.length&4278190080)>>>24,(S.length&16711680)>>>16,(S.length&65280)>>>8,S.length&255,(I&4278190080)>>>24,(I&16711680)>>>16,(I&65280)>>>8,I&255]},v=function(S,I){var R,U,G,q,V,J;for(q=S.samples||[],I+=8+12+16*q.length,G=_(q,I),U=new Uint8Array(G.length+q.length*16),U.set(G),R=G.length,J=0;J<q.length;J++)V=q[J],U[R++]=(V.duration&4278190080)>>>24,U[R++]=(V.duration&16711680)>>>16,U[R++]=(V.duration&65280)>>>8,U[R++]=V.duration&255,U[R++]=(V.size&4278190080)>>>24,U[R++]=(V.size&16711680)>>>16,U[R++]=(V.size&65280)>>>8,U[R++]=V.size&255,U[R++]=V.flags.isLeading<<2|V.flags.dependsOn,U[R++]=V.flags.isDependedOn<<6|V.flags.hasRedundancy<<4|V.flags.paddingValue<<1|V.flags.isNonSyncSample,U[R++]=V.flags.degradationPriority&240<<8,U[R++]=V.flags.degradationPriority&15,U[R++]=(V.compositionTimeOffset&4278190080)>>>24,U[R++]=(V.compositionTimeOffset&16711680)>>>16,U[R++]=(V.compositionTimeOffset&65280)>>>8,U[R++]=V.compositionTimeOffset&255;return n(F.trun,U)},D=function(S,I){var R,U,G,q,V,J;for(q=S.samples||[],I+=8+12+8*q.length,G=_(q,I),R=new Uint8Array(G.length+q.length*8),R.set(G),U=G.length,J=0;J<q.length;J++)V=q[J],R[U++]=(V.duration&4278190080)>>>24,R[U++]=(V.duration&16711680)>>>16,R[U++]=(V.duration&65280)>>>8,R[U++]=V.duration&255,R[U++]=(V.size&4278190080)>>>24,R[U++]=(V.size&16711680)>>>16,R[U++]=(V.size&65280)>>>8,R[U++]=V.size&255;return n(F.trun,R)},L=function(S,I){return S.type==="audio"?D(S,I):v(S,I)}}();var ce={ftyp:a,mdat:s,moof:d,moov:p,initSegment:function(v){var _=a(),k=p(v),S;return S=new Uint8Array(_.byteLength+k.byteLength),S.set(_),S.set(k,_.byteLength),S}},te=function(v){var _,k,S=[],I=[];for(I.byteLength=0,I.nalCount=0,I.duration=0,S.byteLength=0,_=0;_<v.length;_++)k=v[_],k.nalUnitType==="access_unit_delimiter_rbsp"?(S.length&&(S.duration=k.dts-S.dts,I.byteLength+=S.byteLength,I.nalCount+=S.length,I.duration+=S.duration,I.push(S)),S=[k],S.byteLength=k.data.byteLength,S.pts=k.pts,S.dts=k.dts):(k.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(S.keyFrame=!0),S.duration=k.dts-S.dts,S.byteLength+=k.data.byteLength,S.push(k));return I.length&&(!S.duration||S.duration<=0)&&(S.duration=I[I.length-1].duration),I.byteLength+=S.byteLength,I.nalCount+=S.length,I.duration+=S.duration,I.push(S),I},ae=function(v){var _,k,S=[],I=[];for(S.byteLength=0,S.nalCount=0,S.duration=0,S.pts=v[0].pts,S.dts=v[0].dts,I.byteLength=0,I.nalCount=0,I.duration=0,I.pts=v[0].pts,I.dts=v[0].dts,_=0;_<v.length;_++)k=v[_],k.keyFrame?(S.length&&(I.push(S),I.byteLength+=S.byteLength,I.nalCount+=S.nalCount,I.duration+=S.duration),S=[k],S.nalCount=k.length,S.byteLength=k.byteLength,S.pts=k.pts,S.dts=k.dts,S.duration=k.duration):(S.duration+=k.duration,S.nalCount+=k.length,S.byteLength+=k.byteLength,S.push(k));return I.length&&S.duration<=0&&(S.duration=I[I.length-1].duration),I.byteLength+=S.byteLength,I.nalCount+=S.nalCount,I.duration+=S.duration,I.push(S),I},fe=function(v){var _;return!v[0][0].keyFrame&&v.length>1&&(_=v.shift(),v.byteLength-=_.byteLength,v.nalCount-=_.nalCount,v[0][0].dts=_.dts,v[0][0].pts=_.pts,v[0][0].duration+=_.duration),v},ve=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},be=function(v,_){var k=ve();return k.dataOffset=_,k.compositionTimeOffset=v.pts-v.dts,k.duration=v.duration,k.size=4*v.length,k.size+=v.byteLength,v.keyFrame&&(k.flags.dependsOn=2,k.flags.isNonSyncSample=0),k},Ie=function(v,_){var k,S,I,R,U,G=_||0,q=[];for(k=0;k<v.length;k++)for(R=v[k],S=0;S<R.length;S++)U=R[S],I=be(U,G),G+=I.size,q.push(I);return q},He=function(v){var _,k,S,I,R,U,G=0,q=v.byteLength,V=v.nalCount,J=q+4*V,he=new Uint8Array(J),je=new DataView(he.buffer);for(_=0;_<v.length;_++)for(I=v[_],k=0;k<I.length;k++)for(R=I[k],S=0;S<R.length;S++)U=R[S],je.setUint32(G,U.data.byteLength),G+=4,he.set(U.data,G),G+=U.data.byteLength;return he},Ve=function(v,_){var k,S=_||0,I=[];return k=be(v,S),I.push(k),I},et=function(v){var _,k,S=0,I=v.byteLength,R=v.length,U=I+4*R,G=new Uint8Array(U),q=new DataView(G.buffer);for(_=0;_<v.length;_++)k=v[_],q.setUint32(S,k.data.byteLength),S+=4,G.set(k.data,S),S+=k.data.byteLength;return G},Jt={groupNalsIntoFrames:te,groupFramesIntoGops:ae,extendFirstKeyFrame:fe,generateSampleTable:Ie,concatenateNalData:He,generateSampleTableForFrame:Ve,concatenateNalDataForFrame:et},Lt=[33,16,5,32,164,27],Ir=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],_t=function(v){for(var _=[];v--;)_.push(0);return _},sn=function(v){return Object.keys(v).reduce(function(_,k){return _[k]=new Uint8Array(v[k].reduce(function(S,I){return S.concat(I)},[])),_},{})},Xe,Sa=function(){if(!Xe){var v={96e3:[Lt,[227,64],_t(154),[56]],88200:[Lt,[231],_t(170),[56]],64e3:[Lt,[248,192],_t(240),[56]],48e3:[Lt,[255,192],_t(268),[55,148,128],_t(54),[112]],44100:[Lt,[255,192],_t(268),[55,163,128],_t(84),[112]],32e3:[Lt,[255,192],_t(268),[55,234],_t(226),[112]],24e3:[Lt,[255,192],_t(268),[55,255,128],_t(268),[111,112],_t(126),[224]],16e3:[Lt,[255,192],_t(268),[55,255,128],_t(268),[111,255],_t(269),[223,108],_t(195),[1,192]],12e3:[Ir,_t(268),[3,127,248],_t(268),[6,255,240],_t(268),[13,255,224],_t(268),[27,253,128],_t(259),[56]],11025:[Ir,_t(268),[3,127,248],_t(268),[6,255,240],_t(268),[13,255,224],_t(268),[27,255,192],_t(268),[55,175,128],_t(108),[112]],8e3:[Ir,_t(268),[3,121,16],_t(47),[7]]};Xe=sn(v)}return Xe},gi=9e4,fi,Zr,eo,Ca,wo,Nl,Ao;fi=function(v){return v*gi},Zr=function(v,_){return v*_},eo=function(v){return v/gi},Ca=function(v,_){return v/_},wo=function(v,_){return fi(Ca(v,_))},Nl=function(v,_){return Zr(eo(v),_)},Ao=function(v,_,k){return eo(k?v:v-_)};var ht={ONE_SECOND_IN_TS:gi,secondsToVideoTs:fi,secondsToAudioTs:Zr,videoTsToSeconds:eo,audioTsToSeconds:Ca,audioTsToVideoTs:wo,videoTsToAudioTs:Nl,metadataTsToSeconds:Ao},Yf=function(v){var _,k,S=0;for(_=0;_<v.length;_++)k=v[_],S+=k.data.byteLength;return S},Wf=function(v,_,k,S){var I,R=0,U=0,G=0,q=0,V,J,he;if(!!_.length&&(I=ht.audioTsToVideoTs(v.baseMediaDecodeTime,v.samplerate),R=Math.ceil(ht.ONE_SECOND_IN_TS/(v.samplerate/1024)),k&&S&&(U=I-Math.max(k,S),G=Math.floor(U/R),q=G*R),!(G<1||q>ht.ONE_SECOND_IN_TS/2))){for(V=Sa()[v.samplerate],V||(V=_[0].data),J=0;J<G;J++)he=_[0],_.splice(0,0,{data:V,dts:he.dts-R,pts:he.pts-R});return v.baseMediaDecodeTime-=Math.floor(ht.videoTsToAudioTs(q,v.samplerate)),q}},Vf=function(v,_,k){return _.minSegmentDts>=k?v:(_.minSegmentDts=1/0,v.filter(function(S){return S.dts>=k?(_.minSegmentDts=Math.min(_.minSegmentDts,S.dts),_.minSegmentPts=_.minSegmentDts,!0):!1}))},$f=function(v){var _,k,S=[];for(_=0;_<v.length;_++)k=v[_],S.push({size:k.data.byteLength,duration:1024});return S},Qf=function(v){var _,k,S=0,I=new Uint8Array(Yf(v));for(_=0;_<v.length;_++)k=v[_],I.set(k.data,S),S+=k.data.byteLength;return I},Is={prefixWithSilence:Wf,trimAdtsFramesByEarliestDts:Vf,generateSampleTable:$f,concatenateFrameData:Qf},qf=ht.ONE_SECOND_IN_TS,Kf=function(v,_){typeof _.pts=="number"&&(v.timelineStartInfo.pts===void 0&&(v.timelineStartInfo.pts=_.pts),v.minSegmentPts===void 0?v.minSegmentPts=_.pts:v.minSegmentPts=Math.min(v.minSegmentPts,_.pts),v.maxSegmentPts===void 0?v.maxSegmentPts=_.pts:v.maxSegmentPts=Math.max(v.maxSegmentPts,_.pts)),typeof _.dts=="number"&&(v.timelineStartInfo.dts===void 0&&(v.timelineStartInfo.dts=_.dts),v.minSegmentDts===void 0?v.minSegmentDts=_.dts:v.minSegmentDts=Math.min(v.minSegmentDts,_.dts),v.maxSegmentDts===void 0?v.maxSegmentDts=_.dts:v.maxSegmentDts=Math.max(v.maxSegmentDts,_.dts))},Xf=function(v){delete v.minSegmentDts,delete v.maxSegmentDts,delete v.minSegmentPts,delete v.maxSegmentPts},MA=function(v,_){var k,S,I=v.minSegmentDts;return _||(I-=v.timelineStartInfo.dts),k=v.timelineStartInfo.baseMediaDecodeTime,k+=I,k=Math.max(0,k),v.type==="audio"&&(S=v.samplerate/qf,k*=S,k=Math.floor(k)),k},Rr={clearDtsInfo:Xf,calculateTrackBaseMediaDecodeTime:MA,collectDtsInfo:Kf},jg=4,Ug=128,Gg=function(v){for(var _=0,k={payloadType:-1,payloadSize:0},S=0,I=0;_<v.byteLength&&v[_]!==Ug;){for(;v[_]===255;)S+=255,_++;for(S+=v[_++];v[_]===255;)I+=255,_++;if(I+=v[_++],!k.payload&&S===jg){var R=String.fromCharCode(v[_+3],v[_+4],v[_+5],v[_+6]);if(R==="GA94"){k.payloadType=S,k.payloadSize=I,k.payload=v.subarray(_,_+I);break}else k.payload=void 0}_+=I,S=0,I=0}return k},DA=function(v){return v.payload[0]!==181||(v.payload[1]<<8|v.payload[2])!==49||String.fromCharCode(v.payload[3],v.payload[4],v.payload[5],v.payload[6])!=="GA94"||v.payload[7]!==3?null:v.payload.subarray(8,v.payload.length-1)},BA=function(v,_){var k=[],S,I,R,U;if(!(_[0]&64))return k;for(I=_[0]&31,S=0;S<I;S++)R=S*3,U={type:_[R+2]&3,pts:v},_[R+2]&4&&(U.ccData=_[R+3]<<8|_[R+4],k.push(U));return k},FA=function(v){for(var _=v.byteLength,k=[],S=1,I,R;S<_-2;)v[S]===0&&v[S+1]===0&&v[S+2]===3?(k.push(S+2),S+=2):S++;if(k.length===0)return v;I=_-k.length,R=new Uint8Array(I);var U=0;for(S=0;S<I;U++,S++)U===k[0]&&(U++,k.shift()),R[S]=v[U];return R},jl={parseSei:Gg,parseUserData:DA,parseCaptionPackets:BA,discardEmulationPreventionBytes:FA,USER_DATA_REGISTERED_ITU_T_T35:jg},An=function D(v){v=v||{},D.prototype.init.call(this),this.parse708captions_=typeof v.parse708captions=="boolean"?v.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new ni(0,0),new ni(0,1),new ni(1,0),new ni(1,1)],this.parse708captions_&&(this.cc708Stream_=new jt({captionServices:v.captionServices})),this.reset(),this.ccStreams_.forEach(function(_){_.on("data",this.trigger.bind(this,"data")),_.on("partialdone",this.trigger.bind(this,"partialdone")),_.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};An.prototype=new e,An.prototype.push=function(D){var v,_,k;if(D.nalUnitType==="sei_rbsp"&&(v=jl.parseSei(D.escapedRBSP),!!v.payload&&v.payloadType===jl.USER_DATA_REGISTERED_ITU_T_T35&&(_=jl.parseUserData(v),!!_))){if(D.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(D.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}k=jl.parseCaptionPackets(D.pts,_),this.captionPackets_=this.captionPackets_.concat(k),this.latestDts_!==D.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=D.dts}},An.prototype.flushCCStreams=function(D){this.ccStreams_.forEach(function(v){return D==="flush"?v.flush():v.partialFlush()},this)},An.prototype.flushStream=function(D){if(!this.captionPackets_.length){this.flushCCStreams(D);return}this.captionPackets_.forEach(function(v,_){v.presortIndex=_}),this.captionPackets_.sort(function(v,_){return v.pts===_.pts?v.presortIndex-_.presortIndex:v.pts-_.pts}),this.captionPackets_.forEach(function(v){v.type<2?this.dispatchCea608Packet(v):this.dispatchCea708Packet(v)},this),this.captionPackets_.length=0,this.flushCCStreams(D)},An.prototype.flush=function(){return this.flushStream("flush")},An.prototype.partialFlush=function(){return this.flushStream("partialFlush")},An.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(D){D.reset()})},An.prototype.dispatchCea608Packet=function(D){this.setsTextOrXDSActive(D)?this.activeCea608Channel_[D.type]=null:this.setsChannel1Active(D)?this.activeCea608Channel_[D.type]=0:this.setsChannel2Active(D)&&(this.activeCea608Channel_[D.type]=1),this.activeCea608Channel_[D.type]!==null&&this.ccStreams_[(D.type<<1)+this.activeCea608Channel_[D.type]].push(D)},An.prototype.setsChannel1Active=function(D){return(D.ccData&30720)===4096},An.prototype.setsChannel2Active=function(D){return(D.ccData&30720)===6144},An.prototype.setsTextOrXDSActive=function(D){return(D.ccData&28928)===256||(D.ccData&30974)===4138||(D.ccData&30974)===6186},An.prototype.dispatchCea708Packet=function(D){this.parse708captions_&&this.cc708Stream_.push(D)};var NA={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},jA=function(v){var _=NA[v]||v;return v&4096&&v===_?"":String.fromCharCode(_)},pu=function(v){return 32<=v&&v<=127||160<=v&&v<=255},Pr=function(v){this.windowNum=v,this.reset()};Pr.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Pr.prototype.getText=function(){return this.rows.join(`
`)},Pr.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Pr.prototype.newLine=function(D){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(D),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Pr.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Pr.prototype.addText=function(D){this.rows[this.rowIdx]+=D},Pr.prototype.backspace=function(){if(!this.isEmpty()){var D=this.rows[this.rowIdx];this.rows[this.rowIdx]=D.substr(0,D.length-1)}};var hu=function(v,_,k){this.serviceNum=v,this.text="",this.currentWindow=new Pr(-1),this.windows=[],this.stream=k,typeof _=="string"&&this.createTextDecoder(_)};hu.prototype.init=function(D,v){this.startPts=D;for(var _=0;_<8;_++)this.windows[_]=new Pr(_),typeof v=="function"&&(this.windows[_].beforeRowOverflow=v)},hu.prototype.setCurrentWindow=function(D){this.currentWindow=this.windows[D]},hu.prototype.createTextDecoder=function(D){if(typeof TextDecoder=="undefined")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(D)}catch(v){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+D+" encoding. "+v})}};var jt=function D(v){v=v||{},D.prototype.init.call(this);var _=this,k=v.captionServices||{},S={},I;Object.keys(k).forEach(function(R){I=k[R],/^SERVICE/.test(R)&&(S[R]=I.encoding)}),this.serviceEncodings=S,this.current708Packet=null,this.services={},this.push=function(R){R.type===3?(_.new708Packet(),_.add708Bytes(R)):(_.current708Packet===null&&_.new708Packet(),_.add708Bytes(R))}};jt.prototype=new e,jt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},jt.prototype.add708Bytes=function(D){var v=D.ccData,_=v>>>8,k=v&255;this.current708Packet.ptsVals.push(D.pts),this.current708Packet.data.push(_),this.current708Packet.data.push(k)},jt.prototype.push708Packet=function(){var D=this.current708Packet,v=D.data,_=null,k=null,S=0,I=v[S++];for(D.seq=I>>6,D.sizeCode=I&63;S<v.length;S++)I=v[S++],_=I>>5,k=I&31,_===7&&k>0&&(I=v[S++],_=I),this.pushServiceBlock(_,S,k),k>0&&(S+=k-1)},jt.prototype.pushServiceBlock=function(D,v,_){var k,S=v,I=this.current708Packet.data,R=this.services[D];for(R||(R=this.initService(D,S));S<v+_&&S<I.length;S++)k=I[S],pu(k)?S=this.handleText(S,R):k===24?S=this.multiByteCharacter(S,R):k===16?S=this.extendedCommands(S,R):128<=k&&k<=135?S=this.setCurrentWindow(S,R):152<=k&&k<=159?S=this.defineWindow(S,R):k===136?S=this.clearWindows(S,R):k===140?S=this.deleteWindows(S,R):k===137?S=this.displayWindows(S,R):k===138?S=this.hideWindows(S,R):k===139?S=this.toggleWindows(S,R):k===151?S=this.setWindowAttributes(S,R):k===144?S=this.setPenAttributes(S,R):k===145?S=this.setPenColor(S,R):k===146?S=this.setPenLocation(S,R):k===143?R=this.reset(S,R):k===8?R.currentWindow.backspace():k===12?R.currentWindow.clearText():k===13?R.currentWindow.pendingNewLine=!0:k===14?R.currentWindow.clearText():k===141&&S++},jt.prototype.extendedCommands=function(D,v){var _=this.current708Packet.data,k=_[++D];return pu(k)&&(D=this.handleText(D,v,{isExtended:!0})),D},jt.prototype.getPts=function(D){return this.current708Packet.ptsVals[Math.floor(D/2)]},jt.prototype.initService=function(D,v){var k="SERVICE"+D,_=this,k,S;return k in this.serviceEncodings&&(S=this.serviceEncodings[k]),this.services[D]=new hu(D,S,_),this.services[D].init(this.getPts(v),function(I){_.flushDisplayed(I,_.services[D])}),this.services[D]},jt.prototype.handleText=function(D,v,_){var k=_&&_.isExtended,S=_&&_.isMultiByte,I=this.current708Packet.data,R=k?4096:0,U=I[D],G=I[D+1],q=v.currentWindow,V,J;return v.textDecoder_&&!k?(S?(J=[U,G],D++):J=[U],V=v.textDecoder_.decode(new Uint8Array(J))):V=jA(R|U),q.pendingNewLine&&!q.isEmpty()&&q.newLine(this.getPts(D)),q.pendingNewLine=!1,q.addText(V),D},jt.prototype.multiByteCharacter=function(D,v){var _=this.current708Packet.data,k=_[D+1],S=_[D+2];return pu(k)&&pu(S)&&(D=this.handleText(++D,v,{isMultiByte:!0})),D},jt.prototype.setCurrentWindow=function(D,v){var _=this.current708Packet.data,k=_[D],S=k&7;return v.setCurrentWindow(S),D},jt.prototype.defineWindow=function(D,v){var _=this.current708Packet.data,k=_[D],S=k&7;v.setCurrentWindow(S);var I=v.currentWindow;return k=_[++D],I.visible=(k&32)>>5,I.rowLock=(k&16)>>4,I.columnLock=(k&8)>>3,I.priority=k&7,k=_[++D],I.relativePositioning=(k&128)>>7,I.anchorVertical=k&127,k=_[++D],I.anchorHorizontal=k,k=_[++D],I.anchorPoint=(k&240)>>4,I.rowCount=k&15,k=_[++D],I.columnCount=k&63,k=_[++D],I.windowStyle=(k&56)>>3,I.penStyle=k&7,I.virtualRowCount=I.rowCount+1,D},jt.prototype.setWindowAttributes=function(D,v){var _=this.current708Packet.data,k=_[D],S=v.currentWindow.winAttr;return k=_[++D],S.fillOpacity=(k&192)>>6,S.fillRed=(k&48)>>4,S.fillGreen=(k&12)>>2,S.fillBlue=k&3,k=_[++D],S.borderType=(k&192)>>6,S.borderRed=(k&48)>>4,S.borderGreen=(k&12)>>2,S.borderBlue=k&3,k=_[++D],S.borderType+=(k&128)>>5,S.wordWrap=(k&64)>>6,S.printDirection=(k&48)>>4,S.scrollDirection=(k&12)>>2,S.justify=k&3,k=_[++D],S.effectSpeed=(k&240)>>4,S.effectDirection=(k&12)>>2,S.displayEffect=k&3,D},jt.prototype.flushDisplayed=function(D,v){for(var _=[],k=0;k<8;k++)v.windows[k].visible&&!v.windows[k].isEmpty()&&_.push(v.windows[k].getText());v.endPts=D,v.text=_.join(`

`),this.pushCaption(v),v.startPts=D},jt.prototype.pushCaption=function(D){D.text!==""&&(this.trigger("data",{startPts:D.startPts,endPts:D.endPts,text:D.text,stream:"cc708_"+D.serviceNum}),D.text="",D.startPts=D.endPts)},jt.prototype.displayWindows=function(D,v){var _=this.current708Packet.data,k=_[++D],S=this.getPts(D);this.flushDisplayed(S,v);for(var I=0;I<8;I++)k&1<<I&&(v.windows[I].visible=1);return D},jt.prototype.hideWindows=function(D,v){var _=this.current708Packet.data,k=_[++D],S=this.getPts(D);this.flushDisplayed(S,v);for(var I=0;I<8;I++)k&1<<I&&(v.windows[I].visible=0);return D},jt.prototype.toggleWindows=function(D,v){var _=this.current708Packet.data,k=_[++D],S=this.getPts(D);this.flushDisplayed(S,v);for(var I=0;I<8;I++)k&1<<I&&(v.windows[I].visible^=1);return D},jt.prototype.clearWindows=function(D,v){var _=this.current708Packet.data,k=_[++D],S=this.getPts(D);this.flushDisplayed(S,v);for(var I=0;I<8;I++)k&1<<I&&v.windows[I].clearText();return D},jt.prototype.deleteWindows=function(D,v){var _=this.current708Packet.data,k=_[++D],S=this.getPts(D);this.flushDisplayed(S,v);for(var I=0;I<8;I++)k&1<<I&&v.windows[I].reset();return D},jt.prototype.setPenAttributes=function(D,v){var _=this.current708Packet.data,k=_[D],S=v.currentWindow.penAttr;return k=_[++D],S.textTag=(k&240)>>4,S.offset=(k&12)>>2,S.penSize=k&3,k=_[++D],S.italics=(k&128)>>7,S.underline=(k&64)>>6,S.edgeType=(k&56)>>3,S.fontStyle=k&7,D},jt.prototype.setPenColor=function(D,v){var _=this.current708Packet.data,k=_[D],S=v.currentWindow.penColor;return k=_[++D],S.fgOpacity=(k&192)>>6,S.fgRed=(k&48)>>4,S.fgGreen=(k&12)>>2,S.fgBlue=k&3,k=_[++D],S.bgOpacity=(k&192)>>6,S.bgRed=(k&48)>>4,S.bgGreen=(k&12)>>2,S.bgBlue=k&3,k=_[++D],S.edgeRed=(k&48)>>4,S.edgeGreen=(k&12)>>2,S.edgeBlue=k&3,D},jt.prototype.setPenLocation=function(D,v){var _=this.current708Packet.data,k=_[D],S=v.currentWindow.penLoc;return v.currentWindow.pendingNewLine=!0,k=_[++D],S.row=k&15,k=_[++D],S.column=k&63,D},jt.prototype.reset=function(D,v){var _=this.getPts(D);return this.flushDisplayed(_,v),this.initService(v.serviceNum,D)};var UA={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},mu=function(v){return v===null?"":(v=UA[v]||v,String.fromCharCode(v))},gu=14,GA=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ea=function(){for(var v=[],_=gu+1;_--;)v.push("");return v},ni=function D(v,_){D.prototype.init.call(this),this.field_=v||0,this.dataChannel_=_||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(k){var S,I,R,U,G;if(S=k.ccData&32639,S===this.lastControlCode_){this.lastControlCode_=null;return}if((S&61440)===4096?this.lastControlCode_=S:S!==this.PADDING_&&(this.lastControlCode_=null),R=S>>>8,U=S&255,S!==this.PADDING_)if(S===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(S===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(k.pts),this.flushDisplayed(k.pts),I=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=I,this.startPts_=k.pts;else if(S===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(k.pts);else if(S===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(k.pts);else if(S===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(k.pts);else if(S===this.CARRIAGE_RETURN_)this.clearFormatting(k.pts),this.flushDisplayed(k.pts),this.shiftRowsUp_(),this.startPts_=k.pts;else if(S===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(S===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(k.pts),this.displayed_=Ea();else if(S===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ea();else if(S===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(k.pts),this.displayed_=Ea()),this.mode_="paintOn",this.startPts_=k.pts;else if(this.isSpecialCharacter(R,U))R=(R&3)<<8,G=mu(R|U),this[this.mode_](k.pts,G),this.column_++;else if(this.isExtCharacter(R,U))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),R=(R&3)<<8,G=mu(R|U),this[this.mode_](k.pts,G),this.column_++;else if(this.isMidRowCode(R,U))this.clearFormatting(k.pts),this[this.mode_](k.pts," "),this.column_++,(U&14)===14&&this.addFormatting(k.pts,["i"]),(U&1)===1&&this.addFormatting(k.pts,["u"]);else if(this.isOffsetControlCode(R,U))this.column_+=U&3;else if(this.isPAC(R,U)){var q=GA.indexOf(S&7968);this.mode_==="rollUp"&&(q-this.rollUpRows_+1<0&&(q=this.rollUpRows_-1),this.setRollUp(k.pts,q)),q!==this.row_&&(this.clearFormatting(k.pts),this.row_=q),U&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(k.pts,["u"]),(S&16)===16&&(this.column_=((S&14)>>1)*4),this.isColorPAC(U)&&(U&14)===14&&this.addFormatting(k.pts,["i"])}else this.isNormalChar(R)&&(U===0&&(U=null),G=mu(R),G+=mu(U),this[this.mode_](k.pts,G),this.column_+=G.length)}};ni.prototype=new e,ni.prototype.flushDisplayed=function(D){var v=this.displayed_.map(function(_,k){try{return _.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+k+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");v.length&&this.trigger("data",{startPts:this.startPts_,endPts:D,text:v,stream:this.name_})},ni.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ea(),this.nonDisplayed_=Ea(),this.lastControlCode_=null,this.column_=0,this.row_=gu,this.rollUpRows_=2,this.formatting_=[]},ni.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},ni.prototype.isSpecialCharacter=function(D,v){return D===this.EXT_&&v>=48&&v<=63},ni.prototype.isExtCharacter=function(D,v){return(D===this.EXT_+1||D===this.EXT_+2)&&v>=32&&v<=63},ni.prototype.isMidRowCode=function(D,v){return D===this.EXT_&&v>=32&&v<=47},ni.prototype.isOffsetControlCode=function(D,v){return D===this.OFFSET_&&v>=33&&v<=35},ni.prototype.isPAC=function(D,v){return D>=this.BASE_&&D<this.BASE_+8&&v>=64&&v<=127},ni.prototype.isColorPAC=function(D){return D>=64&&D<=79||D>=96&&D<=127},ni.prototype.isNormalChar=function(D){return D>=32&&D<=127},ni.prototype.setRollUp=function(D,v){if(this.mode_!=="rollUp"&&(this.row_=gu,this.mode_="rollUp",this.flushDisplayed(D),this.nonDisplayed_=Ea(),this.displayed_=Ea()),v!==void 0&&v!==this.row_)for(var _=0;_<this.rollUpRows_;_++)this.displayed_[v-_]=this.displayed_[this.row_-_],this.displayed_[this.row_-_]="";v===void 0&&(v=this.row_),this.topRow_=v-this.rollUpRows_+1},ni.prototype.addFormatting=function(D,v){this.formatting_=this.formatting_.concat(v);var _=v.reduce(function(k,S){return k+"<"+S+">"},"");this[this.mode_](D,_)},ni.prototype.clearFormatting=function(D){if(!!this.formatting_.length){var v=this.formatting_.reverse().reduce(function(_,k){return _+"</"+k+">"},"");this.formatting_=[],this[this.mode_](D,v)}},ni.prototype.popOn=function(D,v){var _=this.nonDisplayed_[this.row_];_+=v,this.nonDisplayed_[this.row_]=_},ni.prototype.rollUp=function(D,v){var _=this.displayed_[this.row_];_+=v,this.displayed_[this.row_]=_},ni.prototype.shiftRowsUp_=function(){var D;for(D=0;D<this.topRow_;D++)this.displayed_[D]="";for(D=this.row_+1;D<gu+1;D++)this.displayed_[D]="";for(D=this.topRow_;D<this.row_;D++)this.displayed_[D]=this.displayed_[D+1];this.displayed_[this.row_]=""},ni.prototype.paintOn=function(D,v){var _=this.displayed_[this.row_];_+=v,this.displayed_[this.row_]=_};var bu={CaptionStream:An,Cea608Stream:ni,Cea708Stream:jt},ji={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Hg=8589934592,HA=4294967296,Yg="shared",Jf=function(v,_){var k=1;for(v>_&&(k=-1);Math.abs(_-v)>HA;)v+=k*Hg;return v},Wg=function D(v){var _,k;D.prototype.init.call(this),this.type_=v||Yg,this.push=function(S){this.type_!==Yg&&S.type!==this.type_||(k===void 0&&(k=S.dts),S.dts=Jf(S.dts,k),S.pts=Jf(S.pts,k),_=S.dts,this.trigger("data",S))},this.flush=function(){k=_,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){k=void 0,_=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Wg.prototype=new e;var Vg={TimestampRolloverStream:Wg,handleRollover:Jf},$g=function(v,_,k){var S,I="";for(S=_;S<k;S++)I+="%"+("00"+v[S].toString(16)).slice(-2);return I},za=function(v,_,k){return decodeURIComponent($g(v,_,k))},YA=function(v,_,k){return unescape($g(v,_,k))},Ia=function(v){return v[0]<<21|v[1]<<14|v[2]<<7|v[3]},Qg={TXXX:function(v){var _;if(v.data[0]===3){for(_=1;_<v.data.length;_++)if(v.data[_]===0){v.description=za(v.data,1,_),v.value=za(v.data,_+1,v.data.length).replace(/\0*$/,"");break}v.data=v.value}},WXXX:function(v){var _;if(v.data[0]===3){for(_=1;_<v.data.length;_++)if(v.data[_]===0){v.description=za(v.data,1,_),v.url=za(v.data,_+1,v.data.length);break}}},PRIV:function(v){var _;for(_=0;_<v.data.length;_++)if(v.data[_]===0){v.owner=YA(v.data,0,_);break}v.privateData=v.data.subarray(_+1),v.data=v.privateData}},vu;vu=function(v){var _={descriptor:v&&v.descriptor},k=0,S=[],I=0,R;if(vu.prototype.init.call(this),this.dispatchType=ji.METADATA_STREAM_TYPE.toString(16),_.descriptor)for(R=0;R<_.descriptor.length;R++)this.dispatchType+=("00"+_.descriptor[R].toString(16)).slice(-2);this.push=function(U){var G,q,V,J,he,je;if(U.type==="timed-metadata"){if(U.dataAlignmentIndicator&&(I=0,S.length=0),S.length===0&&(U.data.length<10||U.data[0]!=="I".charCodeAt(0)||U.data[1]!=="D".charCodeAt(0)||U.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(S.push(U),I+=U.data.byteLength,S.length===1&&(k=Ia(U.data.subarray(6,10)),k+=10),!(I<k)){for(G={data:new Uint8Array(k),frames:[],pts:S[0].pts,dts:S[0].dts},he=0;he<k;)G.data.set(S[0].data.subarray(0,k-he),he),he+=S[0].data.byteLength,I-=S[0].data.byteLength,S.shift();q=10,G.data[5]&64&&(q+=4,q+=Ia(G.data.subarray(10,14)),k-=Ia(G.data.subarray(16,20)));do{if(V=Ia(G.data.subarray(q+4,q+8)),V<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(je=String.fromCharCode(G.data[q],G.data[q+1],G.data[q+2],G.data[q+3]),J={id:je,data:G.data.subarray(q+10,q+V+10)},J.key=J.id,Qg[J.id]&&(Qg[J.id](J),J.owner==="com.apple.streaming.transportStreamTimestamp")){var Qe=J.data,Te=(Qe[3]&1)<<30|Qe[4]<<22|Qe[5]<<14|Qe[6]<<6|Qe[7]>>>2;Te*=4,Te+=Qe[7]&3,J.timeStamp=Te,G.pts===void 0&&G.dts===void 0&&(G.pts=J.timeStamp,G.dts=J.timeStamp),this.trigger("timestamp",J)}G.frames.push(J),q+=10,q+=V}while(q<k);this.trigger("data",G)}}}},vu.prototype=new e;var WA=vu,qg=Vg.TimestampRolloverStream,Ul,Rs,yu,Ps=188,Zf=71;Ul=function(){var v=new Uint8Array(Ps),_=0;Ul.prototype.init.call(this),this.push=function(k){var S=0,I=Ps,R;for(_?(R=new Uint8Array(k.byteLength+_),R.set(v.subarray(0,_)),R.set(k,_),_=0):R=k;I<R.byteLength;){if(R[S]===Zf&&R[I]===Zf){this.trigger("data",R.subarray(S,I)),S+=Ps,I+=Ps;continue}S++,I++}S<R.byteLength&&(v.set(R.subarray(S),0),_=R.byteLength-S)},this.flush=function(){_===Ps&&v[0]===Zf&&(this.trigger("data",v),_=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){_=0,this.trigger("reset")}},Ul.prototype=new e,Rs=function(){var v,_,k,S;Rs.prototype.init.call(this),S=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,v=function(R,U){var G=0;U.payloadUnitStartIndicator&&(G+=R[G]+1),U.type==="pat"?_(R.subarray(G),U):k(R.subarray(G),U)},_=function(R,U){U.section_number=R[7],U.last_section_number=R[8],S.pmtPid=(R[10]&31)<<8|R[11],U.pmtPid=S.pmtPid},k=function(R,U){var G,q,V,J;if(!!(R[5]&1)){for(S.programMapTable={video:null,audio:null,"timed-metadata":{}},G=(R[1]&15)<<8|R[2],q=3+G-4,V=(R[10]&15)<<8|R[11],J=12+V;J<q;){var he=R[J],je=(R[J+1]&31)<<8|R[J+2];he===ji.H264_STREAM_TYPE&&S.programMapTable.video===null?S.programMapTable.video=je:he===ji.ADTS_STREAM_TYPE&&S.programMapTable.audio===null?S.programMapTable.audio=je:he===ji.METADATA_STREAM_TYPE&&(S.programMapTable["timed-metadata"][je]=he),J+=((R[J+3]&15)<<8|R[J+4])+5}U.programMapTable=S.programMapTable}},this.push=function(I){var R={},U=4;if(R.payloadUnitStartIndicator=!!(I[1]&64),R.pid=I[1]&31,R.pid<<=8,R.pid|=I[2],(I[3]&48)>>>4>1&&(U+=I[U]+1),R.pid===0)R.type="pat",v(I.subarray(U),R),this.trigger("data",R);else if(R.pid===this.pmtPid)for(R.type="pmt",v(I.subarray(U),R),this.trigger("data",R);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([I,U,R]):this.processPes_(I,U,R)},this.processPes_=function(I,R,U){U.pid===this.programMapTable.video?U.streamType=ji.H264_STREAM_TYPE:U.pid===this.programMapTable.audio?U.streamType=ji.ADTS_STREAM_TYPE:U.streamType=this.programMapTable["timed-metadata"][U.pid],U.type="pes",U.data=I.subarray(R),this.trigger("data",U)}},Rs.prototype=new e,Rs.STREAM_TYPES={h264:27,adts:15},yu=function(){var v=this,_=!1,k={data:[],size:0},S={data:[],size:0},I={data:[],size:0},R,U=function(V,J){var he,je=V[0]<<16|V[1]<<8|V[2];J.data=new Uint8Array,je===1&&(J.packetLength=6+(V[4]<<8|V[5]),J.dataAlignmentIndicator=(V[6]&4)!==0,he=V[7],he&192&&(J.pts=(V[9]&14)<<27|(V[10]&255)<<20|(V[11]&254)<<12|(V[12]&255)<<5|(V[13]&254)>>>3,J.pts*=4,J.pts+=(V[13]&6)>>>1,J.dts=J.pts,he&64&&(J.dts=(V[14]&14)<<27|(V[15]&255)<<20|(V[16]&254)<<12|(V[17]&255)<<5|(V[18]&254)>>>3,J.dts*=4,J.dts+=(V[18]&6)>>>1)),J.data=V.subarray(9+V[8]))},G=function(V,J,he){var je=new Uint8Array(V.size),Qe={type:J},Te=0,W=0,le=!1,oe;if(!(!V.data.length||V.size<9)){for(Qe.trackId=V.data[0].pid,Te=0;Te<V.data.length;Te++)oe=V.data[Te],je.set(oe.data,W),W+=oe.data.byteLength;U(je,Qe),le=J==="video"||Qe.packetLength<=V.size,(he||le)&&(V.size=0,V.data.length=0),le&&v.trigger("data",Qe)}};yu.prototype.init.call(this),this.push=function(q){({pat:function(){},pes:function(){var J,he;switch(q.streamType){case ji.H264_STREAM_TYPE:J=k,he="video";break;case ji.ADTS_STREAM_TYPE:J=S,he="audio";break;case ji.METADATA_STREAM_TYPE:J=I,he="timed-metadata";break;default:return}q.payloadUnitStartIndicator&&G(J,he,!0),J.data.push(q),J.size+=q.data.byteLength},pmt:function(){var J={type:"metadata",tracks:[]};R=q.programMapTable,R.video!==null&&J.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+R.video,codec:"avc",type:"video"}),R.audio!==null&&J.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+R.audio,codec:"adts",type:"audio"}),_=!0,v.trigger("data",J)}})[q.type]()},this.reset=function(){k.size=0,k.data.length=0,S.size=0,S.data.length=0,this.trigger("reset")},this.flushStreams_=function(){G(k,"video"),G(S,"audio"),G(I,"timed-metadata")},this.flush=function(){if(!_&&R){var q={type:"metadata",tracks:[]};R.video!==null&&q.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+R.video,codec:"avc",type:"video"}),R.audio!==null&&q.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+R.audio,codec:"adts",type:"audio"}),v.trigger("data",q)}_=!1,this.flushStreams_(),this.trigger("done")}},yu.prototype=new e;var Kg={PAT_PID:0,MP2T_PACKET_LENGTH:Ps,TransportPacketStream:Ul,TransportParseStream:Rs,ElementaryStream:yu,TimestampRolloverStream:qg,CaptionStream:bu.CaptionStream,Cea608Stream:bu.Cea608Stream,Cea708Stream:bu.Cea708Stream,MetadataStream:WA};for(var wu in ji)ji.hasOwnProperty(wu)&&(Kg[wu]=ji[wu]);var to=Kg,Xg=ht.ONE_SECOND_IN_TS,Ls,Jg=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Ls=function(v){var _,k=0;Ls.prototype.init.call(this),this.skipWarn_=function(S,I){this.trigger("log",{level:"warn",message:"adts skiping bytes "+S+" to "+I+" in frame "+k+" outside syncword"})},this.push=function(S){var I=0,R,U,G,q,V;if(v||(k=0),S.type==="audio"){_&&_.length?(G=_,_=new Uint8Array(G.byteLength+S.data.byteLength),_.set(G),_.set(S.data,G.byteLength)):_=S.data;for(var J;I+7<_.length;){if(_[I]!==255||(_[I+1]&246)!==240){typeof J!="number"&&(J=I),I++;continue}if(typeof J=="number"&&(this.skipWarn_(J,I),J=null),U=(~_[I+1]&1)*2,R=(_[I+3]&3)<<11|_[I+4]<<3|(_[I+5]&224)>>5,q=((_[I+6]&3)+1)*1024,V=q*Xg/Jg[(_[I+2]&60)>>>2],_.byteLength-I<R)break;this.trigger("data",{pts:S.pts+k*V,dts:S.dts+k*V,sampleCount:q,audioobjecttype:(_[I+2]>>>6&3)+1,channelcount:(_[I+2]&1)<<2|(_[I+3]&192)>>>6,samplerate:Jg[(_[I+2]&60)>>>2],samplingfrequencyindex:(_[I+2]&60)>>>2,samplesize:16,data:_.subarray(I+7+U,I+R)}),k++,I+=R}typeof J=="number"&&(this.skipWarn_(J,I),J=null),_=_.subarray(I)}},this.flush=function(){k=0,this.trigger("done")},this.reset=function(){_=void 0,this.trigger("reset")},this.endTimeline=function(){_=void 0,this.trigger("endedtimeline")}},Ls.prototype=new e;var ep=Ls,Gl;Gl=function(v){var _=v.byteLength,k=0,S=0;this.length=function(){return 8*_},this.bitsAvailable=function(){return 8*_+S},this.loadWord=function(){var I=v.byteLength-_,R=new Uint8Array(4),U=Math.min(4,_);if(U===0)throw new Error("no bytes available");R.set(v.subarray(I,I+U)),k=new DataView(R.buffer).getUint32(0),S=U*8,_-=U},this.skipBits=function(I){var R;S>I?(k<<=I,S-=I):(I-=S,R=Math.floor(I/8),I-=R*8,_-=R,this.loadWord(),k<<=I,S-=I)},this.readBits=function(I){var R=Math.min(S,I),U=k>>>32-R;return S-=R,S>0?k<<=R:_>0&&this.loadWord(),R=I-R,R>0?U<<R|this.readBits(R):U},this.skipLeadingZeros=function(){var I;for(I=0;I<S;++I)if((k&2147483648>>>I)!==0)return k<<=I,S-=I,I;return this.loadWord(),I+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var I=this.skipLeadingZeros();return this.readBits(I+1)-1},this.readExpGolomb=function(){var I=this.readUnsignedExpGolomb();return 1&I?1+I>>>1:-1*(I>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Zg=Gl,Au,Os,tp;Os=function(){var v=0,_,k;Os.prototype.init.call(this),this.push=function(S){var I;k?(I=new Uint8Array(k.byteLength+S.data.byteLength),I.set(k),I.set(S.data,k.byteLength),k=I):k=S.data;for(var R=k.byteLength;v<R-3;v++)if(k[v+2]===1){_=v+5;break}for(;_<R;)switch(k[_]){case 0:if(k[_-1]!==0){_+=2;break}else if(k[_-2]!==0){_++;break}v+3!==_-2&&this.trigger("data",k.subarray(v+3,_-2));do _++;while(k[_]!==1&&_<R);v=_-2,_+=3;break;case 1:if(k[_-1]!==0||k[_-2]!==0){_+=3;break}this.trigger("data",k.subarray(v+3,_-2)),v=_-2,_+=3;break;default:_+=3;break}k=k.subarray(v),_-=v,v=0},this.reset=function(){k=null,v=0,this.trigger("reset")},this.flush=function(){k&&k.byteLength>3&&this.trigger("data",k.subarray(v+3)),k=null,v=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Os.prototype=new e,tp={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Au=function(){var v=new Os,_,k,S,I,R,U,G;Au.prototype.init.call(this),_=this,this.push=function(q){q.type==="video"&&(k=q.trackId,S=q.pts,I=q.dts,v.push(q))},v.on("data",function(q){var V={trackId:k,pts:S,dts:I,data:q,nalUnitTypeCode:q[0]&31};switch(V.nalUnitTypeCode){case 5:V.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:V.nalUnitType="sei_rbsp",V.escapedRBSP=R(q.subarray(1));break;case 7:V.nalUnitType="seq_parameter_set_rbsp",V.escapedRBSP=R(q.subarray(1)),V.config=U(V.escapedRBSP);break;case 8:V.nalUnitType="pic_parameter_set_rbsp";break;case 9:V.nalUnitType="access_unit_delimiter_rbsp";break}_.trigger("data",V)}),v.on("done",function(){_.trigger("done")}),v.on("partialdone",function(){_.trigger("partialdone")}),v.on("reset",function(){_.trigger("reset")}),v.on("endedtimeline",function(){_.trigger("endedtimeline")}),this.flush=function(){v.flush()},this.partialFlush=function(){v.partialFlush()},this.reset=function(){v.reset()},this.endTimeline=function(){v.endTimeline()},G=function(V,J){var he=8,je=8,Qe,Te;for(Qe=0;Qe<V;Qe++)je!==0&&(Te=J.readExpGolomb(),je=(he+Te+256)%256),he=je===0?he:je},R=function(V){for(var J=V.byteLength,he=[],je=1,Qe,Te;je<J-2;)V[je]===0&&V[je+1]===0&&V[je+2]===3?(he.push(je+2),je+=2):je++;if(he.length===0)return V;Qe=J-he.length,Te=new Uint8Array(Qe);var W=0;for(je=0;je<Qe;W++,je++)W===he[0]&&(W++,he.shift()),Te[je]=V[W];return Te},U=function(V){var J=0,he=0,je=0,Qe=0,Te,W,le,oe,Ue,lt,zt,bi,Ut,Vl,vb,It=[1,1],$l,La;if(Te=new Zg(V),W=Te.readUnsignedByte(),oe=Te.readUnsignedByte(),le=Te.readUnsignedByte(),Te.skipUnsignedExpGolomb(),tp[W]&&(Ue=Te.readUnsignedExpGolomb(),Ue===3&&Te.skipBits(1),Te.skipUnsignedExpGolomb(),Te.skipUnsignedExpGolomb(),Te.skipBits(1),Te.readBoolean()))for(vb=Ue!==3?8:12,La=0;La<vb;La++)Te.readBoolean()&&(La<6?G(16,Te):G(64,Te));if(Te.skipUnsignedExpGolomb(),lt=Te.readUnsignedExpGolomb(),lt===0)Te.readUnsignedExpGolomb();else if(lt===1)for(Te.skipBits(1),Te.skipExpGolomb(),Te.skipExpGolomb(),zt=Te.readUnsignedExpGolomb(),La=0;La<zt;La++)Te.skipExpGolomb();if(Te.skipUnsignedExpGolomb(),Te.skipBits(1),bi=Te.readUnsignedExpGolomb(),Ut=Te.readUnsignedExpGolomb(),Vl=Te.readBits(1),Vl===0&&Te.skipBits(1),Te.skipBits(1),Te.readBoolean()&&(J=Te.readUnsignedExpGolomb(),he=Te.readUnsignedExpGolomb(),je=Te.readUnsignedExpGolomb(),Qe=Te.readUnsignedExpGolomb()),Te.readBoolean()&&Te.readBoolean()){switch($l=Te.readUnsignedByte(),$l){case 1:It=[1,1];break;case 2:It=[12,11];break;case 3:It=[10,11];break;case 4:It=[16,11];break;case 5:It=[40,33];break;case 6:It=[24,11];break;case 7:It=[20,11];break;case 8:It=[32,11];break;case 9:It=[80,33];break;case 10:It=[18,11];break;case 11:It=[15,11];break;case 12:It=[64,33];break;case 13:It=[160,99];break;case 14:It=[4,3];break;case 15:It=[3,2];break;case 16:It=[2,1];break;case 255:{It=[Te.readUnsignedByte()<<8|Te.readUnsignedByte(),Te.readUnsignedByte()<<8|Te.readUnsignedByte()];break}}It&&It[0]/It[1]}return{profileIdc:W,levelIdc:le,profileCompatibility:oe,width:(bi+1)*16-J*2-he*2,height:(2-Vl)*(Ut+1)*16-je*2-Qe*2,sarRatio:It}}},Au.prototype=new e;var ip={H264Stream:Au,NalByteStream:Os},VA=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],np=function(v,_){var k=v[_+6]<<21|v[_+7]<<14|v[_+8]<<7|v[_+9],S=v[_+5],I=(S&16)>>4;return k=k>=0?k:0,I?k+20:k+10},rp=function D(v,_){return v.length-_<10||v[_]!=="I".charCodeAt(0)||v[_+1]!=="D".charCodeAt(0)||v[_+2]!=="3".charCodeAt(0)?_:(_+=np(v,_),D(v,_))},op=function(v){var _=rp(v,0);return v.length>=_+2&&(v[_]&255)===255&&(v[_+1]&240)===240&&(v[_+1]&22)===16},Ra=function(v){return v[0]<<21|v[1]<<14|v[2]<<7|v[3]},eb=function(v,_,k){var S,I="";for(S=_;S<k;S++)I+="%"+("00"+v[S].toString(16)).slice(-2);return I},tb=function(v,_,k){return unescape(eb(v,_,k))},$A=function(v,_){var k=(v[_+5]&224)>>5,S=v[_+4]<<3,I=v[_+3]&3<<11;return I|S|k},ib=function(v,_){return v[_]==="I".charCodeAt(0)&&v[_+1]==="D".charCodeAt(0)&&v[_+2]==="3".charCodeAt(0)?"timed-metadata":v[_]&!0&&(v[_+1]&240)===240?"audio":null},nb=function(v){for(var _=0;_+5<v.length;){if(v[_]!==255||(v[_+1]&246)!==240){_++;continue}return VA[(v[_+2]&60)>>>2]}return null},rb=function(v){var _,k,S,I;_=10,v[5]&64&&(_+=4,_+=Ra(v.subarray(10,14)));do{if(k=Ra(v.subarray(_+4,_+8)),k<1)return null;if(I=String.fromCharCode(v[_],v[_+1],v[_+2],v[_+3]),I==="PRIV"){S=v.subarray(_+10,_+k+10);for(var R=0;R<S.byteLength;R++)if(S[R]===0){var U=tb(S,0,R);if(U==="com.apple.streaming.transportStreamTimestamp"){var G=S.subarray(R+1),q=(G[3]&1)<<30|G[4]<<22|G[5]<<14|G[6]<<6|G[7]>>>2;return q*=4,q+=G[7]&3,q}break}}_+=10,_+=k}while(_<v.byteLength);return null},Hl={isLikelyAacData:op,parseId3TagSize:np,parseAdtsSize:$A,parseType:ib,parseSampleRate:nb,parseAacTimestamp:rb},xu;xu=function(){var v=new Uint8Array,_=0;xu.prototype.init.call(this),this.setTimestamp=function(k){_=k},this.push=function(k){var S=0,I=0,R,U,G,q;for(v.length?(q=v.length,v=new Uint8Array(k.byteLength+q),v.set(v.subarray(0,q)),v.set(k,q)):v=k;v.length-I>=3;){if(v[I]==="I".charCodeAt(0)&&v[I+1]==="D".charCodeAt(0)&&v[I+2]==="3".charCodeAt(0)){if(v.length-I<10||(S=Hl.parseId3TagSize(v,I),I+S>v.length))break;U={type:"timed-metadata",data:v.subarray(I,I+S)},this.trigger("data",U),I+=S;continue}else if((v[I]&255)===255&&(v[I+1]&240)===240){if(v.length-I<7||(S=Hl.parseAdtsSize(v,I),I+S>v.length))break;G={type:"audio",data:v.subarray(I,I+S),pts:_,dts:_},this.trigger("data",G),I+=S;continue}I++}R=v.length-I,R>0?v=v.subarray(I):v=new Uint8Array},this.reset=function(){v=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){v=new Uint8Array,this.trigger("endedtimeline")}},xu.prototype=new e;var QA=xu,qA=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],ku=qA,KA=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],ap=KA,XA=ip.H264Stream,JA=Hl.isLikelyAacData,sp=ht.ONE_SECOND_IN_TS,Yl,Ms,_u,Pa,ZA=function(v,_){_.stream=v,this.trigger("log",_)},Zt=function(v,_){for(var k=Object.keys(_),S=0;S<k.length;S++){var I=k[S];I==="headOfPipeline"||!_[I].on||_[I].on("log",ZA.bind(v,I))}},Wt=function(v,_){var k;if(v.length!==_.length)return!1;for(k=0;k<v.length;k++)if(v[k]!==_[k])return!1;return!0},lp=function(v,_,k,S,I,R){var U=k-_,G=S-_,q=I-k;return{start:{dts:v,pts:v+U},end:{dts:v+G,pts:v+q},prependedContentDuration:R,baseMediaDecodeTime:v}};Ms=function(v,_){var k=[],S,I=0,R=0,U=1/0;_=_||{},S=_.firstSequenceNumber||0,Ms.prototype.init.call(this),this.push=function(G){Rr.collectDtsInfo(v,G),v&&ku.forEach(function(q){v[q]=G[q]}),k.push(G)},this.setEarliestDts=function(G){I=G},this.setVideoBaseMediaDecodeTime=function(G){U=G},this.setAudioAppendStart=function(G){R=G},this.flush=function(){var G,q,V,J,he,je,Qe;if(k.length===0){this.trigger("done","AudioSegmentStream");return}G=Is.trimAdtsFramesByEarliestDts(k,v,I),v.baseMediaDecodeTime=Rr.calculateTrackBaseMediaDecodeTime(v,_.keepOriginalTimestamps),Qe=Is.prefixWithSilence(v,G,R,U),v.samples=Is.generateSampleTable(G),V=ce.mdat(Is.concatenateFrameData(G)),k=[],q=ce.moof(S,[v]),J=new Uint8Array(q.byteLength+V.byteLength),S++,J.set(q),J.set(V,q.byteLength),Rr.clearDtsInfo(v),he=Math.ceil(sp*1024/v.samplerate),G.length&&(je=G.length*he,this.trigger("segmentTimingInfo",lp(ht.audioTsToVideoTs(v.baseMediaDecodeTime,v.samplerate),G[0].dts,G[0].pts,G[0].dts+je,G[0].pts+je,Qe||0)),this.trigger("timingInfo",{start:G[0].pts,end:G[0].pts+je})),this.trigger("data",{track:v,boxes:J}),this.trigger("done","AudioSegmentStream")},this.reset=function(){Rr.clearDtsInfo(v),k=[],this.trigger("reset")}},Ms.prototype=new e,Yl=function(v,_){var k,S=[],I=[],R,U;_=_||{},k=_.firstSequenceNumber||0,Yl.prototype.init.call(this),delete v.minPTS,this.gopCache_=[],this.push=function(G){Rr.collectDtsInfo(v,G),G.nalUnitType==="seq_parameter_set_rbsp"&&!R&&(R=G.config,v.sps=[G.data],ap.forEach(function(q){v[q]=R[q]},this)),G.nalUnitType==="pic_parameter_set_rbsp"&&!U&&(U=G.data,v.pps=[G.data]),S.push(G)},this.flush=function(){for(var G,q,V,J,he,je,Qe=0,Te,W;S.length&&S[0].nalUnitType!=="access_unit_delimiter_rbsp";)S.shift();if(S.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(G=Jt.groupNalsIntoFrames(S),V=Jt.groupFramesIntoGops(G),V[0][0].keyFrame||(q=this.getGopForFusion_(S[0],v),q?(Qe=q.duration,V.unshift(q),V.byteLength+=q.byteLength,V.nalCount+=q.nalCount,V.pts=q.pts,V.dts=q.dts,V.duration+=q.duration):V=Jt.extendFirstKeyFrame(V)),I.length){var le;if(_.alignGopsAtEnd?le=this.alignGopsAtEnd_(V):le=this.alignGopsAtStart_(V),!le){this.gopCache_.unshift({gop:V.pop(),pps:v.pps,sps:v.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),S=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}Rr.clearDtsInfo(v),V=le}Rr.collectDtsInfo(v,V),v.samples=Jt.generateSampleTable(V),he=ce.mdat(Jt.concatenateNalData(V)),v.baseMediaDecodeTime=Rr.calculateTrackBaseMediaDecodeTime(v,_.keepOriginalTimestamps),this.trigger("processedGopsInfo",V.map(function(oe){return{pts:oe.pts,dts:oe.dts,byteLength:oe.byteLength}})),Te=V[0],W=V[V.length-1],this.trigger("segmentTimingInfo",lp(v.baseMediaDecodeTime,Te.dts,Te.pts,W.dts+W.duration,W.pts+W.duration,Qe)),this.trigger("timingInfo",{start:V[0].pts,end:V[V.length-1].pts+V[V.length-1].duration}),this.gopCache_.unshift({gop:V.pop(),pps:v.pps,sps:v.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),S=[],this.trigger("baseMediaDecodeTime",v.baseMediaDecodeTime),this.trigger("timelineStartInfo",v.timelineStartInfo),J=ce.moof(k,[v]),je=new Uint8Array(J.byteLength+he.byteLength),k++,je.set(J),je.set(he,J.byteLength),this.trigger("data",{track:v,boxes:je}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),S=[],this.gopCache_.length=0,I.length=0,this.trigger("reset")},this.resetStream_=function(){Rr.clearDtsInfo(v),R=void 0,U=void 0},this.getGopForFusion_=function(G){var q=45e3,V=1e4,J=1/0,he,je,Qe,Te,W;for(W=0;W<this.gopCache_.length;W++)Te=this.gopCache_[W],Qe=Te.gop,!(!(v.pps&&Wt(v.pps[0],Te.pps[0]))||!(v.sps&&Wt(v.sps[0],Te.sps[0])))&&(Qe.dts<v.timelineStartInfo.dts||(he=G.dts-Qe.dts-Qe.duration,he>=-V&&he<=q&&(!je||J>he)&&(je=Te,J=he)));return je?je.gop:null},this.alignGopsAtStart_=function(G){var q,V,J,he,je,Qe,Te,W;for(je=G.byteLength,Qe=G.nalCount,Te=G.duration,q=V=0;q<I.length&&V<G.length&&(J=I[q],he=G[V],J.pts!==he.pts);){if(he.pts>J.pts){q++;continue}V++,je-=he.byteLength,Qe-=he.nalCount,Te-=he.duration}return V===0?G:V===G.length?null:(W=G.slice(V),W.byteLength=je,W.duration=Te,W.nalCount=Qe,W.pts=W[0].pts,W.dts=W[0].dts,W)},this.alignGopsAtEnd_=function(G){var q,V,J,he,je,Qe;for(q=I.length-1,V=G.length-1,je=null,Qe=!1;q>=0&&V>=0;){if(J=I[q],he=G[V],J.pts===he.pts){Qe=!0;break}if(J.pts>he.pts){q--;continue}q===I.length-1&&(je=V),V--}if(!Qe&&je===null)return null;var Te;if(Qe?Te=V:Te=je,Te===0)return G;var W=G.slice(Te),le=W.reduce(function(oe,Ue){return oe.byteLength+=Ue.byteLength,oe.duration+=Ue.duration,oe.nalCount+=Ue.nalCount,oe},{byteLength:0,duration:0,nalCount:0});return W.byteLength=le.byteLength,W.duration=le.duration,W.nalCount=le.nalCount,W.pts=W[0].pts,W.dts=W[0].dts,W},this.alignGopsWith=function(G){I=G}},Yl.prototype=new e,Pa=function(v,_){this.numberOfTracks=0,this.metadataStream=_,v=v||{},typeof v.remux!="undefined"?this.remuxTracks=!!v.remux:this.remuxTracks=!0,typeof v.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=v.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Pa.prototype.init.call(this),this.push=function(k){if(k.text)return this.pendingCaptions.push(k);if(k.frames)return this.pendingMetadata.push(k);this.pendingTracks.push(k.track),this.pendingBytes+=k.boxes.byteLength,k.track.type==="video"&&(this.videoTrack=k.track,this.pendingBoxes.push(k.boxes)),k.track.type==="audio"&&(this.audioTrack=k.track,this.pendingBoxes.unshift(k.boxes))}},Pa.prototype=new e,Pa.prototype.flush=function(D){var v=0,_={captions:[],captionStreams:{},metadata:[],info:{}},k,S,I,R=0,U;if(this.pendingTracks.length<this.numberOfTracks){if(D!=="VideoSegmentStream"&&D!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(R=this.videoTrack.timelineStartInfo.pts,ap.forEach(function(G){_.info[G]=this.videoTrack[G]},this)):this.audioTrack&&(R=this.audioTrack.timelineStartInfo.pts,ku.forEach(function(G){_.info[G]=this.audioTrack[G]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?_.type=this.pendingTracks[0].type:_.type="combined",this.emittedTracks+=this.pendingTracks.length,I=ce.initSegment(this.pendingTracks),_.initSegment=new Uint8Array(I.byteLength),_.initSegment.set(I),_.data=new Uint8Array(this.pendingBytes),U=0;U<this.pendingBoxes.length;U++)_.data.set(this.pendingBoxes[U],v),v+=this.pendingBoxes[U].byteLength;for(U=0;U<this.pendingCaptions.length;U++)k=this.pendingCaptions[U],k.startTime=ht.metadataTsToSeconds(k.startPts,R,this.keepOriginalTimestamps),k.endTime=ht.metadataTsToSeconds(k.endPts,R,this.keepOriginalTimestamps),_.captionStreams[k.stream]=!0,_.captions.push(k);for(U=0;U<this.pendingMetadata.length;U++)S=this.pendingMetadata[U],S.cueTime=ht.metadataTsToSeconds(S.pts,R,this.keepOriginalTimestamps),_.metadata.push(S);for(_.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",_),U=0;U<_.captions.length;U++)k=_.captions[U],this.trigger("caption",k);for(U=0;U<_.metadata.length;U++)S=_.metadata[U],this.trigger("id3Frame",S)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Pa.prototype.setRemux=function(D){this.remuxTracks=D},_u=function(v){var _=this,k=!0,S,I;_u.prototype.init.call(this),v=v||{},this.baseMediaDecodeTime=v.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var R={};this.transmuxPipeline_=R,R.type="aac",R.metadataStream=new to.MetadataStream,R.aacStream=new QA,R.audioTimestampRolloverStream=new to.TimestampRolloverStream("audio"),R.timedMetadataTimestampRolloverStream=new to.TimestampRolloverStream("timed-metadata"),R.adtsStream=new ep,R.coalesceStream=new Pa(v,R.metadataStream),R.headOfPipeline=R.aacStream,R.aacStream.pipe(R.audioTimestampRolloverStream).pipe(R.adtsStream),R.aacStream.pipe(R.timedMetadataTimestampRolloverStream).pipe(R.metadataStream).pipe(R.coalesceStream),R.metadataStream.on("timestamp",function(U){R.aacStream.setTimestamp(U.timeStamp)}),R.aacStream.on("data",function(U){U.type!=="timed-metadata"&&U.type!=="audio"||R.audioSegmentStream||(I=I||{timelineStartInfo:{baseMediaDecodeTime:_.baseMediaDecodeTime},codec:"adts",type:"audio"},R.coalesceStream.numberOfTracks++,R.audioSegmentStream=new Ms(I,v),R.audioSegmentStream.on("log",_.getLogTrigger_("audioSegmentStream")),R.audioSegmentStream.on("timingInfo",_.trigger.bind(_,"audioTimingInfo")),R.adtsStream.pipe(R.audioSegmentStream).pipe(R.coalesceStream),_.trigger("trackinfo",{hasAudio:!!I,hasVideo:!!S}))}),R.coalesceStream.on("data",this.trigger.bind(this,"data")),R.coalesceStream.on("done",this.trigger.bind(this,"done")),Zt(this,R)},this.setupTsPipeline=function(){var R={};this.transmuxPipeline_=R,R.type="ts",R.metadataStream=new to.MetadataStream,R.packetStream=new to.TransportPacketStream,R.parseStream=new to.TransportParseStream,R.elementaryStream=new to.ElementaryStream,R.timestampRolloverStream=new to.TimestampRolloverStream,R.adtsStream=new ep,R.h264Stream=new XA,R.captionStream=new to.CaptionStream(v),R.coalesceStream=new Pa(v,R.metadataStream),R.headOfPipeline=R.packetStream,R.packetStream.pipe(R.parseStream).pipe(R.elementaryStream).pipe(R.timestampRolloverStream),R.timestampRolloverStream.pipe(R.h264Stream),R.timestampRolloverStream.pipe(R.adtsStream),R.timestampRolloverStream.pipe(R.metadataStream).pipe(R.coalesceStream),R.h264Stream.pipe(R.captionStream).pipe(R.coalesceStream),R.elementaryStream.on("data",function(U){var G;if(U.type==="metadata"){for(G=U.tracks.length;G--;)!S&&U.tracks[G].type==="video"?(S=U.tracks[G],S.timelineStartInfo.baseMediaDecodeTime=_.baseMediaDecodeTime):!I&&U.tracks[G].type==="audio"&&(I=U.tracks[G],I.timelineStartInfo.baseMediaDecodeTime=_.baseMediaDecodeTime);S&&!R.videoSegmentStream&&(R.coalesceStream.numberOfTracks++,R.videoSegmentStream=new Yl(S,v),R.videoSegmentStream.on("log",_.getLogTrigger_("videoSegmentStream")),R.videoSegmentStream.on("timelineStartInfo",function(q){I&&!v.keepOriginalTimestamps&&(I.timelineStartInfo=q,R.audioSegmentStream.setEarliestDts(q.dts-_.baseMediaDecodeTime))}),R.videoSegmentStream.on("processedGopsInfo",_.trigger.bind(_,"gopInfo")),R.videoSegmentStream.on("segmentTimingInfo",_.trigger.bind(_,"videoSegmentTimingInfo")),R.videoSegmentStream.on("baseMediaDecodeTime",function(q){I&&R.audioSegmentStream.setVideoBaseMediaDecodeTime(q)}),R.videoSegmentStream.on("timingInfo",_.trigger.bind(_,"videoTimingInfo")),R.h264Stream.pipe(R.videoSegmentStream).pipe(R.coalesceStream)),I&&!R.audioSegmentStream&&(R.coalesceStream.numberOfTracks++,R.audioSegmentStream=new Ms(I,v),R.audioSegmentStream.on("log",_.getLogTrigger_("audioSegmentStream")),R.audioSegmentStream.on("timingInfo",_.trigger.bind(_,"audioTimingInfo")),R.audioSegmentStream.on("segmentTimingInfo",_.trigger.bind(_,"audioSegmentTimingInfo")),R.adtsStream.pipe(R.audioSegmentStream).pipe(R.coalesceStream)),_.trigger("trackinfo",{hasAudio:!!I,hasVideo:!!S})}}),R.coalesceStream.on("data",this.trigger.bind(this,"data")),R.coalesceStream.on("id3Frame",function(U){U.dispatchType=R.metadataStream.dispatchType,_.trigger("id3Frame",U)}),R.coalesceStream.on("caption",this.trigger.bind(this,"caption")),R.coalesceStream.on("done",this.trigger.bind(this,"done")),Zt(this,R)},this.setBaseMediaDecodeTime=function(R){var U=this.transmuxPipeline_;v.keepOriginalTimestamps||(this.baseMediaDecodeTime=R),I&&(I.timelineStartInfo.dts=void 0,I.timelineStartInfo.pts=void 0,Rr.clearDtsInfo(I),U.audioTimestampRolloverStream&&U.audioTimestampRolloverStream.discontinuity()),S&&(U.videoSegmentStream&&(U.videoSegmentStream.gopCache_=[]),S.timelineStartInfo.dts=void 0,S.timelineStartInfo.pts=void 0,Rr.clearDtsInfo(S),U.captionStream.reset()),U.timestampRolloverStream&&U.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(R){I&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(R)},this.setRemux=function(R){var U=this.transmuxPipeline_;v.remux=R,U&&U.coalesceStream&&U.coalesceStream.setRemux(R)},this.alignGopsWith=function(R){S&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(R)},this.getLogTrigger_=function(R){var U=this;return function(G){G.stream=R,U.trigger("log",G)}},this.push=function(R){if(k){var U=JA(R);U&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!U&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),k=!1}this.transmuxPipeline_.headOfPipeline.push(R)},this.flush=function(){k=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},_u.prototype=new e;var ex={Transmuxer:_u,VideoSegmentStream:Yl,AudioSegmentStream:Ms,AUDIO_PROPERTIES:ku,VIDEO_PROPERTIES:ap,generateSegmentTimingInfo:lp},tx=function(v){return v>>>0},ix=function(v){return("00"+v.toString(16)).slice(-2)},Tu={toUnsigned:tx,toHexString:ix},nx=function(v){var _="";return _+=String.fromCharCode(v[0]),_+=String.fromCharCode(v[1]),_+=String.fromCharCode(v[2]),_+=String.fromCharCode(v[3]),_},Ho=nx,rx=Tu.toUnsigned,Ui=function D(v,_){var k=[],S,I,R,U,G;if(!_.length)return null;for(S=0;S<v.byteLength;)I=rx(v[S]<<24|v[S+1]<<16|v[S+2]<<8|v[S+3]),R=Ho(v.subarray(S+4,S+8)),U=I>1?S+I:v.byteLength,R===_[0]&&(_.length===1?k.push(v.subarray(S+8,U)):(G=D(v.subarray(S+8,U),_.slice(1)),G.length&&(k=k.concat(G)))),S=U;return k},Vt=Ui,Yo=Tu.toUnsigned,ob=function(v){var _={version:v[0],flags:new Uint8Array(v.subarray(1,4)),baseMediaDecodeTime:Yo(v[4]<<24|v[5]<<16|v[6]<<8|v[7])};return _.version===1&&(_.baseMediaDecodeTime*=Math.pow(2,32),_.baseMediaDecodeTime+=Yo(v[8]<<24|v[9]<<16|v[10]<<8|v[11])),_},Su=ob,ar=function(v){return{isLeading:(v[0]&12)>>>2,dependsOn:v[0]&3,isDependedOn:(v[1]&192)>>>6,hasRedundancy:(v[1]&48)>>>4,paddingValue:(v[1]&14)>>>1,isNonSyncSample:v[1]&1,degradationPriority:v[2]<<8|v[3]}},cp=ar,ab=function(v){var _={version:v[0],flags:new Uint8Array(v.subarray(1,4)),samples:[]},k=new DataView(v.buffer,v.byteOffset,v.byteLength),S=_.flags[2]&1,I=_.flags[2]&4,R=_.flags[1]&1,U=_.flags[1]&2,G=_.flags[1]&4,q=_.flags[1]&8,V=k.getUint32(4),J=8,he;for(S&&(_.dataOffset=k.getInt32(J),J+=4),I&&V&&(he={flags:cp(v.subarray(J,J+4))},J+=4,R&&(he.duration=k.getUint32(J),J+=4),U&&(he.size=k.getUint32(J),J+=4),q&&(_.version===1?he.compositionTimeOffset=k.getInt32(J):he.compositionTimeOffset=k.getUint32(J),J+=4),_.samples.push(he),V--);V--;)he={},R&&(he.duration=k.getUint32(J),J+=4),U&&(he.size=k.getUint32(J),J+=4),G&&(he.flags=cp(v.subarray(J,J+4)),J+=4),q&&(_.version===1?he.compositionTimeOffset=k.getInt32(J):he.compositionTimeOffset=k.getUint32(J),J+=4),_.samples.push(he);return _},up=ab,sb=function(v){var _=new DataView(v.buffer,v.byteOffset,v.byteLength),k={version:v[0],flags:new Uint8Array(v.subarray(1,4)),trackId:_.getUint32(4)},S=k.flags[2]&1,I=k.flags[2]&2,R=k.flags[2]&8,U=k.flags[2]&16,G=k.flags[2]&32,q=k.flags[0]&65536,V=k.flags[0]&131072,J;return J=8,S&&(J+=4,k.baseDataOffset=_.getUint32(12),J+=4),I&&(k.sampleDescriptionIndex=_.getUint32(J),J+=4),R&&(k.defaultSampleDuration=_.getUint32(J),J+=4),U&&(k.defaultSampleSize=_.getUint32(J),J+=4),G&&(k.defaultSampleFlags=_.getUint32(J)),q&&(k.durationIsEmpty=!0),!S&&V&&(k.baseDataOffsetIsMoof=!0),k},dp=sb,lb=jl.discardEmulationPreventionBytes,Nn=bu.CaptionStream,ox=function(v,_){for(var k=v,S=0;S<_.length;S++){var I=_[S];if(k<I.size)return I;k-=I.size}return null},sr=function(v,_,k){var S=new DataView(v.buffer,v.byteOffset,v.byteLength),I={logs:[],seiNals:[]},R,U,G,q;for(U=0;U+4<v.length;U+=G)if(G=S.getUint32(U),U+=4,!(G<=0))switch(v[U]&31){case 6:var V=v.subarray(U+1,U+1+G),J=ox(U,_);if(R={nalUnitType:"sei_rbsp",size:G,data:V,escapedRBSP:lb(V),trackId:k},J)R.pts=J.pts,R.dts=J.dts,q=J;else if(q)R.pts=q.pts,R.dts=q.dts;else{I.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+U+" for trackId "+k+". See mux.js#223."});break}I.seiNals.push(R);break}return I},ax=function(v,_,k){var S=_,I=k.defaultSampleDuration||0,R=k.defaultSampleSize||0,U=k.trackId,G=[];return v.forEach(function(q){var V=up(q),J=V.samples;J.forEach(function(he){he.duration===void 0&&(he.duration=I),he.size===void 0&&(he.size=R),he.trackId=U,he.dts=S,he.compositionTimeOffset===void 0&&(he.compositionTimeOffset=0),he.pts=S+he.compositionTimeOffset,S+=he.duration}),G=G.concat(J)}),G},cb=function(v,_){var k=Vt(v,["moof","traf"]),S=Vt(v,["mdat"]),I={},R=[];return S.forEach(function(U,G){var q=k[G];R.push({mdat:U,traf:q})}),R.forEach(function(U){var G=U.mdat,q=U.traf,V=Vt(q,["tfhd"]),J=dp(V[0]),he=J.trackId,je=Vt(q,["tfdt"]),Qe=je.length>0?Su(je[0]).baseMediaDecodeTime:0,Te=Vt(q,["trun"]),W,le;_===he&&Te.length>0&&(W=ax(Te,Qe,J),le=sr(G,W,he),I[he]||(I[he]={seiNals:[],logs:[]}),I[he].seiNals=I[he].seiNals.concat(le.seiNals),I[he].logs=I[he].logs.concat(le.logs))}),I},Wo=function(v,_,k){var S;if(_===null)return null;S=cb(v,_);var I=S[_]||{};return{seiNals:I.seiNals,logs:I.logs,timescale:k}},Cu=function(){var v=!1,_,k,S,I,R,U;this.isInitialized=function(){return v},this.init=function(G){_=new Nn,v=!0,U=G?G.isPartial:!1,_.on("data",function(q){q.startTime=q.startPts/I,q.endTime=q.endPts/I,R.captions.push(q),R.captionStreams[q.stream]=!0}),_.on("log",function(q){R.logs.push(q)})},this.isNewInit=function(G,q){return G&&G.length===0||q&&typeof q=="object"&&Object.keys(q).length===0?!1:S!==G[0]||I!==q[S]},this.parse=function(G,q,V){var J;if(this.isInitialized()){if(!q||!V)return null;if(this.isNewInit(q,V))S=q[0],I=V[S];else if(S===null||!I)return k.push(G),null}else return null;for(;k.length>0;){var he=k.shift();this.parse(he,q,V)}return J=Wo(G,S,I),J&&J.logs&&(R.logs=R.logs.concat(J.logs)),J===null||!J.seiNals?R.logs.length?{logs:R.logs,captions:[],captionStreams:[]}:null:(this.pushNals(J.seiNals),this.flushStream(),R)},this.pushNals=function(G){if(!this.isInitialized()||!G||G.length===0)return null;G.forEach(function(q){_.push(q)})},this.flushStream=function(){if(!this.isInitialized())return null;U?_.partialFlush():_.flush()},this.clearParsedCaptions=function(){R.captions=[],R.captionStreams={},R.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;_.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){k=[],S=null,I=null,R?this.clearParsedCaptions():R={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},fp=Cu,Ft=Tu.toUnsigned,lr=Tu.toHexString,Eu,ub,zu,db,fb,pp;Eu=function(v){var _={},k=Vt(v,["moov","trak"]);return k.reduce(function(S,I){var R,U,G,q,V;return R=Vt(I,["tkhd"])[0],!R||(U=R[0],G=U===0?12:20,q=Ft(R[G]<<24|R[G+1]<<16|R[G+2]<<8|R[G+3]),V=Vt(I,["mdia","mdhd"])[0],!V)?null:(U=V[0],G=U===0?12:20,S[q]=Ft(V[G]<<24|V[G+1]<<16|V[G+2]<<8|V[G+3]),S)},_)},ub=function(v,_){var k,S,I;return k=Vt(_,["moof","traf"]),S=[].concat.apply([],k.map(function(R){return Vt(R,["tfhd"]).map(function(U){var G,q,V;return G=Ft(U[4]<<24|U[5]<<16|U[6]<<8|U[7]),q=v[G]||9e4,V=Vt(R,["tfdt"]).map(function(J){var he,je;return he=J[0],je=Ft(J[4]<<24|J[5]<<16|J[6]<<8|J[7]),he===1&&(je*=Math.pow(2,32),je+=Ft(J[8]<<24|J[9]<<16|J[10]<<8|J[11])),je})[0],V=typeof V=="number"&&!isNaN(V)?V:1/0,V/q})})),I=Math.min.apply(null,S),isFinite(I)?I:0},zu=function(v,_){var k=Vt(_,["moof","traf"]),S=0,I=0,R;if(k&&k.length){var U=Vt(k[0],["tfhd"])[0],G=Vt(k[0],["trun"])[0],q=Vt(k[0],["tfdt"])[0];if(U){var V=dp(U);R=V.trackId}if(q){var J=Su(q);S=J.baseMediaDecodeTime}if(G){var he=up(G);he.samples&&he.samples.length&&(I=he.samples[0].compositionTimeOffset||0)}}var je=v[R]||9e4;return(S+I)/je},db=function(v){var _=Vt(v,["moov","trak"]),k=[];return _.forEach(function(S){var I=Vt(S,["mdia","hdlr"]),R=Vt(S,["tkhd"]);I.forEach(function(U,G){var q=Ho(U.subarray(8,12)),V=R[G],J,he,je;q==="vide"&&(J=new DataView(V.buffer,V.byteOffset,V.byteLength),he=J.getUint8(0),je=he===0?J.getUint32(12):J.getUint32(20),k.push(je))})}),k},pp=function(v){var _=v[0],k=_===0?12:20;return Ft(v[k]<<24|v[k+1]<<16|v[k+2]<<8|v[k+3])},fb=function(v){var _=Vt(v,["moov","trak"]),k=[];return _.forEach(function(S){var I={},R=Vt(S,["tkhd"])[0],U,G;R&&(U=new DataView(R.buffer,R.byteOffset,R.byteLength),G=U.getUint8(0),I.id=G===0?U.getUint32(12):U.getUint32(20));var q=Vt(S,["mdia","hdlr"])[0];if(q){var V=Ho(q.subarray(8,12));V==="vide"?I.type="video":V==="soun"?I.type="audio":I.type=V}var J=Vt(S,["mdia","minf","stbl","stsd"])[0];if(J){var he=J.subarray(8);I.codec=Ho(he.subarray(4,8));var je=Vt(he,[I.codec])[0],Qe,Te;je&&(/^[asm]vc[1-9]$/i.test(I.codec)?(Qe=je.subarray(78),Te=Ho(Qe.subarray(4,8)),Te==="avcC"&&Qe.length>11?(I.codec+=".",I.codec+=lr(Qe[9]),I.codec+=lr(Qe[10]),I.codec+=lr(Qe[11])):I.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(I.codec)?(Qe=je.subarray(28),Te=Ho(Qe.subarray(4,8)),Te==="esds"&&Qe.length>20&&Qe[19]!==0?(I.codec+="."+lr(Qe[19]),I.codec+="."+lr(Qe[20]>>>2&63).replace(/^0/,"")):I.codec="mp4a.40.2"):I.codec=I.codec.toLowerCase())}var W=Vt(S,["mdia","mdhd"])[0];W&&(I.timescale=pp(W)),k.push(I)}),k};var hp={findBox:Vt,parseType:Ho,timescale:Eu,startTime:ub,compositionStartTime:zu,videoTrackIds:db,tracks:fb,getTimescaleFromMediaHeader:pp},Wl=function(v){var _=v[1]&31;return _<<=8,_|=v[2],_},xo=function(v){return!!(v[1]&64)},Iu=function(v){var _=0;return(v[3]&48)>>>4>1&&(_+=v[4]+1),_},pb=function(v,_){var k=Wl(v);return k===0?"pat":k===_?"pmt":_?"pes":null},hb=function(v){var _=xo(v),k=4+Iu(v);return _&&(k+=v[k]+1),(v[k+10]&31)<<8|v[k+11]},mp=function(v){var _={},k=xo(v),S=4+Iu(v);if(k&&(S+=v[S]+1),!!(v[S+5]&1)){var I,R,U;I=(v[S+1]&15)<<8|v[S+2],R=3+I-4,U=(v[S+10]&15)<<8|v[S+11];for(var G=12+U;G<R;){var q=S+G;_[(v[q+1]&31)<<8|v[q+2]]=v[q],G+=((v[q+3]&15)<<8|v[q+4])+5}return _}},gp=function(v,_){var k=Wl(v),S=_[k];switch(S){case ji.H264_STREAM_TYPE:return"video";case ji.ADTS_STREAM_TYPE:return"audio";case ji.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},mb=function(v){var _=xo(v);if(!_)return null;var k=4+Iu(v);if(k>=v.byteLength)return null;var S=null,I;return I=v[k+7],I&192&&(S={},S.pts=(v[k+9]&14)<<27|(v[k+10]&255)<<20|(v[k+11]&254)<<12|(v[k+12]&255)<<5|(v[k+13]&254)>>>3,S.pts*=4,S.pts+=(v[k+13]&6)>>>1,S.dts=S.pts,I&64&&(S.dts=(v[k+14]&14)<<27|(v[k+15]&255)<<20|(v[k+16]&254)<<12|(v[k+17]&255)<<5|(v[k+18]&254)>>>3,S.dts*=4,S.dts+=(v[k+18]&6)>>>1)),S},bp=function(v){switch(v){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},vp=function(v){for(var _=4+Iu(v),k=v.subarray(_),S=0,I=0,R=!1,U;I<k.byteLength-3;I++)if(k[I+2]===1){S=I+5;break}for(;S<k.byteLength;)switch(k[S]){case 0:if(k[S-1]!==0){S+=2;break}else if(k[S-2]!==0){S++;break}I+3!==S-2&&(U=bp(k[I+3]&31),U==="slice_layer_without_partitioning_rbsp_idr"&&(R=!0));do S++;while(k[S]!==1&&S<k.length);I=S-2,S+=3;break;case 1:if(k[S-1]!==0||k[S-2]!==0){S+=3;break}U=bp(k[I+3]&31),U==="slice_layer_without_partitioning_rbsp_idr"&&(R=!0),I=S-2,S+=3;break;default:S+=3;break}return k=k.subarray(I),S-=I,I=0,k&&k.byteLength>3&&(U=bp(k[I+3]&31),U==="slice_layer_without_partitioning_rbsp_idr"&&(R=!0)),R},yp={parseType:pb,parsePat:hb,parsePmt:mp,parsePayloadUnitStartIndicator:xo,parsePesType:gp,parsePesTime:mb,videoPacketContainsKeyFrame:vp},Ds=Vg.handleRollover,Ot={};Ot.ts=yp,Ot.aac=Hl;var xi=ht.ONE_SECOND_IN_TS,Gi=188,xn=71,gb=function(v,_){for(var k=0,S=Gi,I,R;S<v.byteLength;){if(v[k]===xn&&v[S]===xn){switch(I=v.subarray(k,S),R=Ot.ts.parseType(I,_.pid),R){case"pat":_.pid=Ot.ts.parsePat(I);break;case"pmt":var U=Ot.ts.parsePmt(I);_.table=_.table||{},Object.keys(U).forEach(function(G){_.table[G]=U[G]});break}k+=Gi,S+=Gi;continue}k++,S++}},wp=function(v,_,k){for(var S=0,I=Gi,R,U,G,q,V,J=!1;I<=v.byteLength;){if(v[S]===xn&&(v[I]===xn||I===v.byteLength)){switch(R=v.subarray(S,I),U=Ot.ts.parseType(R,_.pid),U){case"pes":G=Ot.ts.parsePesType(R,_.table),q=Ot.ts.parsePayloadUnitStartIndicator(R),G==="audio"&&q&&(V=Ot.ts.parsePesTime(R),V&&(V.type="audio",k.audio.push(V),J=!0));break}if(J)break;S+=Gi,I+=Gi;continue}S++,I++}for(I=v.byteLength,S=I-Gi,J=!1;S>=0;){if(v[S]===xn&&(v[I]===xn||I===v.byteLength)){switch(R=v.subarray(S,I),U=Ot.ts.parseType(R,_.pid),U){case"pes":G=Ot.ts.parsePesType(R,_.table),q=Ot.ts.parsePayloadUnitStartIndicator(R),G==="audio"&&q&&(V=Ot.ts.parsePesTime(R),V&&(V.type="audio",k.audio.push(V),J=!0));break}if(J)break;S-=Gi,I-=Gi;continue}S--,I--}},sx=function(v,_,k){for(var S=0,I=Gi,R,U,G,q,V,J,he,je,Qe=!1,Te={data:[],size:0};I<v.byteLength;){if(v[S]===xn&&v[I]===xn){switch(R=v.subarray(S,I),U=Ot.ts.parseType(R,_.pid),U){case"pes":if(G=Ot.ts.parsePesType(R,_.table),q=Ot.ts.parsePayloadUnitStartIndicator(R),G==="video"&&(q&&!Qe&&(V=Ot.ts.parsePesTime(R),V&&(V.type="video",k.video.push(V),Qe=!0)),!k.firstKeyFrame)){if(q&&Te.size!==0){for(J=new Uint8Array(Te.size),he=0;Te.data.length;)je=Te.data.shift(),J.set(je,he),he+=je.byteLength;if(Ot.ts.videoPacketContainsKeyFrame(J)){var W=Ot.ts.parsePesTime(J);W?(k.firstKeyFrame=W,k.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}Te.size=0}Te.data.push(R),Te.size+=R.byteLength}break}if(Qe&&k.firstKeyFrame)break;S+=Gi,I+=Gi;continue}S++,I++}for(I=v.byteLength,S=I-Gi,Qe=!1;S>=0;){if(v[S]===xn&&v[I]===xn){switch(R=v.subarray(S,I),U=Ot.ts.parseType(R,_.pid),U){case"pes":G=Ot.ts.parsePesType(R,_.table),q=Ot.ts.parsePayloadUnitStartIndicator(R),G==="video"&&q&&(V=Ot.ts.parsePesTime(R),V&&(V.type="video",k.video.push(V),Qe=!0));break}if(Qe)break;S-=Gi,I-=Gi;continue}S--,I--}},lx=function(v,_){if(v.audio&&v.audio.length){var k=_;(typeof k=="undefined"||isNaN(k))&&(k=v.audio[0].dts),v.audio.forEach(function(R){R.dts=Ds(R.dts,k),R.pts=Ds(R.pts,k),R.dtsTime=R.dts/xi,R.ptsTime=R.pts/xi})}if(v.video&&v.video.length){var S=_;if((typeof S=="undefined"||isNaN(S))&&(S=v.video[0].dts),v.video.forEach(function(R){R.dts=Ds(R.dts,S),R.pts=Ds(R.pts,S),R.dtsTime=R.dts/xi,R.ptsTime=R.pts/xi}),v.firstKeyFrame){var I=v.firstKeyFrame;I.dts=Ds(I.dts,S),I.pts=Ds(I.pts,S),I.dtsTime=I.dts/xi,I.ptsTime=I.pts/xi}}},cx=function(v){for(var _=!1,k=0,S=null,I=null,R=0,U=0,G;v.length-U>=3;){var q=Ot.aac.parseType(v,U);switch(q){case"timed-metadata":if(v.length-U<10){_=!0;break}if(R=Ot.aac.parseId3TagSize(v,U),R>v.length){_=!0;break}I===null&&(G=v.subarray(U,U+R),I=Ot.aac.parseAacTimestamp(G)),U+=R;break;case"audio":if(v.length-U<7){_=!0;break}if(R=Ot.aac.parseAdtsSize(v,U),R>v.length){_=!0;break}S===null&&(G=v.subarray(U,U+R),S=Ot.aac.parseSampleRate(G)),k++,U+=R;break;default:U++;break}if(_)return null}if(S===null||I===null)return null;var V=xi/S,J={audio:[{type:"audio",dts:I,pts:I},{type:"audio",dts:I+k*1024*V,pts:I+k*1024*V}]};return J},ux=function(v){var _={pid:null,table:null},k={};gb(v,_);for(var S in _.table)if(_.table.hasOwnProperty(S)){var I=_.table[S];switch(I){case ji.H264_STREAM_TYPE:k.video=[],sx(v,_,k),k.video.length===0&&delete k.video;break;case ji.ADTS_STREAM_TYPE:k.audio=[],wp(v,_,k),k.audio.length===0&&delete k.audio;break}}return k},dx=function(v,_){var k=Ot.aac.isLikelyAacData(v),S;return k?S=cx(v):S=ux(v),!S||!S.audio&&!S.video?null:(lx(S,_),S)},Bs={inspect:dx,parseAudioPes_:wp},fx=function(v,_){_.on("data",function(k){var S=k.initSegment;k.initSegment={data:S.buffer,byteOffset:S.byteOffset,byteLength:S.byteLength};var I=k.data;k.data=I.buffer,v.postMessage({action:"data",segment:k,byteOffset:I.byteOffset,byteLength:I.byteLength},[k.data])}),_.on("done",function(k){v.postMessage({action:"done"})}),_.on("gopInfo",function(k){v.postMessage({action:"gopInfo",gopInfo:k})}),_.on("videoSegmentTimingInfo",function(k){var S={start:{decode:ht.videoTsToSeconds(k.start.dts),presentation:ht.videoTsToSeconds(k.start.pts)},end:{decode:ht.videoTsToSeconds(k.end.dts),presentation:ht.videoTsToSeconds(k.end.pts)},baseMediaDecodeTime:ht.videoTsToSeconds(k.baseMediaDecodeTime)};k.prependedContentDuration&&(S.prependedContentDuration=ht.videoTsToSeconds(k.prependedContentDuration)),v.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:S})}),_.on("audioSegmentTimingInfo",function(k){var S={start:{decode:ht.videoTsToSeconds(k.start.dts),presentation:ht.videoTsToSeconds(k.start.pts)},end:{decode:ht.videoTsToSeconds(k.end.dts),presentation:ht.videoTsToSeconds(k.end.pts)},baseMediaDecodeTime:ht.videoTsToSeconds(k.baseMediaDecodeTime)};k.prependedContentDuration&&(S.prependedContentDuration=ht.videoTsToSeconds(k.prependedContentDuration)),v.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:S})}),_.on("id3Frame",function(k){v.postMessage({action:"id3Frame",id3Frame:k})}),_.on("caption",function(k){v.postMessage({action:"caption",caption:k})}),_.on("trackinfo",function(k){v.postMessage({action:"trackinfo",trackInfo:k})}),_.on("audioTimingInfo",function(k){v.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:ht.videoTsToSeconds(k.start),end:ht.videoTsToSeconds(k.end)}})}),_.on("videoTimingInfo",function(k){v.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:ht.videoTsToSeconds(k.start),end:ht.videoTsToSeconds(k.end)}})}),_.on("log",function(k){v.postMessage({action:"log",log:k})})},bb=function(){function D(_,k){this.options=k||{},this.self=_,this.init()}var v=D.prototype;return v.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new ex.Transmuxer(this.options),fx(this.self,this.transmuxer)},v.pushMp4Captions=function(k){this.captionParser||(this.captionParser=new fp,this.captionParser.init());var S=new Uint8Array(k.data,k.byteOffset,k.byteLength),I=this.captionParser.parse(S,k.trackIds,k.timescales);this.self.postMessage({action:"mp4Captions",captions:I&&I.captions||[],logs:I&&I.logs||[],data:S.buffer},[S.buffer])},v.probeMp4StartTime=function(k){var S=k.timescales,I=k.data,R=hp.startTime(S,I);this.self.postMessage({action:"probeMp4StartTime",startTime:R,data:I},[I.buffer])},v.probeMp4Tracks=function(k){var S=k.data,I=hp.tracks(S);this.self.postMessage({action:"probeMp4Tracks",tracks:I,data:S},[S.buffer])},v.probeTs=function(k){var S=k.data,I=k.baseStartTime,R=typeof I=="number"&&!isNaN(I)?I*ht.ONE_SECOND_IN_TS:void 0,U=Bs.inspect(S,R),G=null;U&&(G={hasVideo:U.video&&U.video.length===2||!1,hasAudio:U.audio&&U.audio.length===2||!1},G.hasVideo&&(G.videoStart=U.video[0].ptsTime),G.hasAudio&&(G.audioStart=U.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:G,data:S},[S.buffer])},v.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},v.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},v.push=function(k){var S=new Uint8Array(k.data,k.byteOffset,k.byteLength);this.transmuxer.push(S)},v.reset=function(){this.transmuxer.reset()},v.setTimestampOffset=function(k){var S=k.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(ht.secondsToVideoTs(S)))},v.setAudioAppendStart=function(k){this.transmuxer.setAudioAppendStart(Math.ceil(ht.secondsToVideoTs(k.appendStart)))},v.setRemux=function(k){this.transmuxer.setRemux(k.remux)},v.flush=function(k){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},v.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},v.alignGopsWith=function(k){this.transmuxer.alignGopsWith(k.gopsToAlignWith.slice())},D}();self.onmessage=function(D){if(D.data.action==="init"&&D.data.options){this.messageHandlers=new bb(self,D.data.options);return}this.messageHandlers||(this.messageHandlers=new bb(self)),D.data&&D.data.action&&D.data.action!=="init"&&this.messageHandlers[D.data.action]&&this.messageHandlers[D.data.action](D.data)}})),$0e=Vj(V0e),Q0e=function(e,i,n){var r=e.data.segment,o=r.type,a=r.initSegment,s=r.captions,l=r.captionStreams,c=r.metadata,d=r.videoFrameDtsTime,p=r.videoFramePtsTime;i.buffer.push({captions:s,captionStreams:l,metadata:c});var h=e.data.segment.boxes||{data:e.data.segment.data},m={type:o,data:new Uint8Array(h.data,h.data.byteOffset,h.data.byteLength),initSegment:new Uint8Array(a.data,a.byteOffset,a.byteLength)};typeof d!="undefined"&&(m.videoFrameDtsTime=d),typeof p!="undefined"&&(m.videoFramePtsTime=p),n(m)},q0e=function(e){var i=e.transmuxedData,n=e.callback;i.buffer=[],n(i)},K0e=function(e,i){i.gopInfo=e.data.gopInfo},qj=function(e){var i=e.transmuxer,n=e.bytes,r=e.audioAppendStart,o=e.gopsToAlignWith,a=e.remux,s=e.onData,l=e.onTrackInfo,c=e.onAudioTimingInfo,d=e.onVideoTimingInfo,p=e.onVideoSegmentTimingInfo,h=e.onAudioSegmentTimingInfo,m=e.onId3,y=e.onCaptions,w=e.onDone,g=e.onEndedTimeline,A=e.onTransmuxerLog,x=e.isEndOfTimeline,T={buffer:[]},E=x,z=function(F){i.currentTransmux===e&&(F.data.action==="data"&&Q0e(F,T,s),F.data.action==="trackinfo"&&l(F.data.trackInfo),F.data.action==="gopInfo"&&K0e(F,T),F.data.action==="audioTimingInfo"&&c(F.data.audioTimingInfo),F.data.action==="videoTimingInfo"&&d(F.data.videoTimingInfo),F.data.action==="videoSegmentTimingInfo"&&p(F.data.videoSegmentTimingInfo),F.data.action==="audioSegmentTimingInfo"&&h(F.data.audioSegmentTimingInfo),F.data.action==="id3Frame"&&m([F.data.id3Frame],F.data.id3Frame.dispatchType),F.data.action==="caption"&&y(F.data.caption),F.data.action==="endedtimeline"&&(E=!1,g()),F.data.action==="log"&&A(F.data.log),F.data.type==="transmuxed"&&(E||(i.onmessage=null,q0e({transmuxedData:T,callback:w}),Kj(i))))};if(i.onmessage=z,r&&i.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(o)&&i.postMessage({action:"alignGopsWith",gopsToAlignWith:o}),typeof a!="undefined"&&i.postMessage({action:"setRemux",remux:a}),n.byteLength){var M=n instanceof ArrayBuffer?n:n.buffer,B=n instanceof ArrayBuffer?0:n.byteOffset;i.postMessage({action:"push",data:M,byteOffset:B,byteLength:n.byteLength},[M])}x&&i.postMessage({action:"endTimeline"}),i.postMessage({action:"flush"})},Kj=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),typeof e.currentTransmux=="function"?e.currentTransmux():qj(e.currentTransmux))},xL=function(e,i){e.postMessage({action:i}),Kj(e)},Xj=function(e,i){if(!i.currentTransmux){i.currentTransmux=e,xL(i,e);return}i.transmuxQueue.push(xL.bind(null,i,e))},X0e=function(e){Xj("reset",e)},J0e=function(e){Xj("endTimeline",e)},Jj=function(e){if(!e.transmuxer.currentTransmux){e.transmuxer.currentTransmux=e,qj(e);return}e.transmuxer.transmuxQueue.push(e)},Z0e=function(e){var i=new $0e;i.currentTransmux=null,i.transmuxQueue=[];var n=i.terminate;return i.terminate=function(){return i.currentTransmux=null,i.transmuxQueue.length=0,n.call(i)},i.postMessage({action:"init",options:e}),i},Sk={reset:X0e,endTimeline:J0e,transmux:Jj,createTransmuxer:Z0e},Hy=function(e){var i=e.transmuxer,n=e.endAction||e.action,r=e.callback,o=Me({},e,{endAction:null,transmuxer:null,callback:null}),a=function c(d){d.data.action===n&&(i.removeEventListener("message",c),d.data.data&&(d.data.data=new Uint8Array(d.data.data,e.byteOffset||0,e.byteLength||d.data.data.byteLength),e.data&&(e.data=d.data.data)),r(d.data))};if(i.addEventListener("message",a),e.data){var s=e.data instanceof ArrayBuffer;o.byteOffset=s?0:e.data.byteOffset,o.byteLength=e.data.byteLength;var l=[s?e.data:e.data.buffer];i.postMessage(o,l)}else i.postMessage(o)},oa={FAILURE:2,TIMEOUT:-101,ABORTED:-102},U2=function(e){e.forEach(function(i){i.abort()})},eve=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},tve=function(e){var i=e.target,n=Date.now()-i.requestTime,r={bandwidth:1/0,bytesReceived:0,roundTripTime:n||0};return r.bytesReceived=e.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r},qE=function(e,i){return i.timedout?{status:i.status,message:"HLS request timed-out at URL: "+i.uri,code:oa.TIMEOUT,xhr:i}:i.aborted?{status:i.status,message:"HLS request aborted at URL: "+i.uri,code:oa.ABORTED,xhr:i}:e?{status:i.status,message:"HLS request errored at URL: "+i.uri,code:oa.FAILURE,xhr:i}:i.responseType==="arraybuffer"&&i.response.byteLength===0?{status:i.status,message:"Empty HLS response at URL: "+i.uri,code:oa.FAILURE,xhr:i}:null},kL=function(e,i,n){return function(r,o){var a=o.response,s=qE(r,o);if(s)return n(s,e);if(a.byteLength!==16)return n({status:o.status,message:"Invalid HLS key at URL: "+o.uri,code:oa.FAILURE,xhr:o},e);for(var l=new DataView(a),c=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]),d=0;d<i.length;d++)i[d].bytes=c;return n(null,e)}},Zj=function(e,i){var n=uE(e.map.bytes);if(n!=="mp4"){var r=e.map.resolvedUri||e.map.uri;return i({internal:!0,message:"Found unsupported "+(n||"unknown")+" container for initialization segment at URL: "+r,code:oa.FAILURE})}Hy({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(a){var s=a.tracks,l=a.data;return e.map.bytes=l,s.forEach(function(c){e.map.tracks=e.map.tracks||{},!e.map.tracks[c.type]&&(e.map.tracks[c.type]=c,typeof c.id=="number"&&c.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[c.id]=c.timescale))}),i(null)}})},ive=function(e){var i=e.segment,n=e.finishProcessingFn;return function(r,o){var a=qE(r,o);if(a)return n(a,i);var s=new Uint8Array(o.response);if(i.map.key)return i.map.encryptedBytes=s,n(null,i);i.map.bytes=s,Zj(i,function(l){if(l)return l.xhr=o,l.status=o.status,n(l,i);n(null,i)})}},nve=function(e){var i=e.segment,n=e.finishProcessingFn,r=e.responseType;return function(o,a){var s=qE(o,a);if(s)return n(s,i);var l=r==="arraybuffer"||!a.responseText?a.response:Y0e(a.responseText.substring(i.lastReachedChar||0));return i.stats=eve(a),i.key?i.encryptedBytes=new Uint8Array(l):i.bytes=new Uint8Array(l),n(null,i)}},rve=function(e){var i=e.segment,n=e.bytes,r=e.trackInfoFn,o=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,l=e.id3Fn,c=e.captionsFn,d=e.isEndOfTimeline,p=e.endedTimelineFn,h=e.dataFn,m=e.doneFn,y=e.onTransmuxerLog,w=i.map&&i.map.tracks||{},g=Boolean(w.audio&&w.video),A=o.bind(null,i,"audio","start"),x=o.bind(null,i,"audio","end"),T=o.bind(null,i,"video","start"),E=o.bind(null,i,"video","end"),z=function(){return Jj({bytes:n,transmuxer:i.transmuxer,audioAppendStart:i.audioAppendStart,gopsToAlignWith:i.gopsToAlignWith,remux:g,onData:function(L){L.type=L.type==="combined"?"video":L.type,h(i,L)},onTrackInfo:function(L){r&&(g&&(L.isMuxed=!0),r(i,L))},onAudioTimingInfo:function(L){A&&typeof L.start!="undefined"&&(A(L.start),A=null),x&&typeof L.end!="undefined"&&x(L.end)},onVideoTimingInfo:function(L){T&&typeof L.start!="undefined"&&(T(L.start),T=null),E&&typeof L.end!="undefined"&&E(L.end)},onVideoSegmentTimingInfo:function(L){a(L)},onAudioSegmentTimingInfo:function(L){s(L)},onId3:function(L,F){l(i,L,F)},onCaptions:function(L){c(i,[L])},isEndOfTimeline:d,onEndedTimeline:function(){p()},onTransmuxerLog:y,onDone:function(L){!m||(L.type=L.type==="combined"?"video":L.type,m(null,i,L))}})};Hy({action:"probeTs",transmuxer:i.transmuxer,data:n,baseStartTime:i.baseStartTime,callback:function(B){i.bytes=n=B.data;var L=B.result;L&&(r(i,{hasAudio:L.hasAudio,hasVideo:L.hasVideo,isMuxed:g}),r=null,L.hasAudio&&!g&&A(L.audioStart),L.hasVideo&&T(L.videoStart),A=null,T=null),z()}})},eU=function(e){var i=e.segment,n=e.bytes,r=e.trackInfoFn,o=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,l=e.id3Fn,c=e.captionsFn,d=e.isEndOfTimeline,p=e.endedTimelineFn,h=e.dataFn,m=e.doneFn,y=e.onTransmuxerLog,w=new Uint8Array(n);if(Cge(w)){i.isFmp4=!0;var g=i.map.tracks,A={isFmp4:!0,hasVideo:!!g.video,hasAudio:!!g.audio};g.audio&&g.audio.codec&&g.audio.codec!=="enca"&&(A.audioCodec=g.audio.codec),g.video&&g.video.codec&&g.video.codec!=="encv"&&(A.videoCodec=g.video.codec),g.video&&g.audio&&(A.isMuxed=!0),r(i,A);var x=function(E){h(i,{data:w,type:A.hasAudio&&!A.isMuxed?"audio":"video"}),E&&E.length&&c(i,E),m(null,i,{})};Hy({action:"probeMp4StartTime",timescales:i.map.timescales,data:w,transmuxer:i.transmuxer,callback:function(E){var z=E.data,M=E.startTime;if(n=z.buffer,i.bytes=w=z,A.hasAudio&&!A.isMuxed&&o(i,"audio","start",M),A.hasVideo&&o(i,"video","start",M),!g.video||!z.byteLength||!i.transmuxer){x();return}Hy({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:i.transmuxer,data:w,timescales:i.map.timescales,trackIds:[g.video.id],callback:function(L){n=L.data.buffer,i.bytes=w=L.data,L.logs.forEach(function(F){y(ee.mergeOptions(F,{stream:"mp4CaptionParser"}))}),x(L.captions)}})}});return}if(!i.transmuxer){m(null,i,{});return}if(typeof i.container=="undefined"&&(i.container=uE(w)),i.container!=="ts"&&i.container!=="aac"){r(i,{hasAudio:!1,hasVideo:!1}),m(null,i,{});return}rve({segment:i,bytes:n,trackInfoFn:r,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:l,captionsFn:c,isEndOfTimeline:d,endedTimelineFn:p,dataFn:h,doneFn:m,onTransmuxerLog:y})},tU=function(e,i){var n=e.id,r=e.key,o=e.encryptedBytes,a=e.decryptionWorker,s=function c(d){if(d.data.source===n){a.removeEventListener("message",c);var p=d.data.decrypted;i(new Uint8Array(p.bytes,p.byteOffset,p.byteLength))}};a.addEventListener("message",s);var l;r.bytes.slice?l=r.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(r.bytes)),a.postMessage(jj({source:n,encrypted:o,key:l,iv:r.iv}),[o.buffer,l.buffer])},ove=function(e){var i=e.decryptionWorker,n=e.segment,r=e.trackInfoFn,o=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,l=e.id3Fn,c=e.captionsFn,d=e.isEndOfTimeline,p=e.endedTimelineFn,h=e.dataFn,m=e.doneFn,y=e.onTransmuxerLog;tU({id:n.requestId,key:n.key,encryptedBytes:n.encryptedBytes,decryptionWorker:i},function(w){n.bytes=w,eU({segment:n,bytes:n.bytes,trackInfoFn:r,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:l,captionsFn:c,isEndOfTimeline:d,endedTimelineFn:p,dataFn:h,doneFn:m,onTransmuxerLog:y})})},ave=function(e){var i=e.activeXhrs,n=e.decryptionWorker,r=e.trackInfoFn,o=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,l=e.id3Fn,c=e.captionsFn,d=e.isEndOfTimeline,p=e.endedTimelineFn,h=e.dataFn,m=e.doneFn,y=e.onTransmuxerLog,w=0,g=!1;return function(A,x){if(!g){if(A)return g=!0,U2(i),m(A,x);if(w+=1,w===i.length){var T=function(){if(x.encryptedBytes)return ove({decryptionWorker:n,segment:x,trackInfoFn:r,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:l,captionsFn:c,isEndOfTimeline:d,endedTimelineFn:p,dataFn:h,doneFn:m,onTransmuxerLog:y});eU({segment:x,bytes:x.bytes,trackInfoFn:r,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:l,captionsFn:c,isEndOfTimeline:d,endedTimelineFn:p,dataFn:h,doneFn:m,onTransmuxerLog:y})};if(x.endOfAllRequests=Date.now(),x.map&&x.map.encryptedBytes&&!x.map.bytes)return tU({decryptionWorker:n,id:x.requestId+"-init",encryptedBytes:x.map.encryptedBytes,key:x.map.key},function(E){x.map.bytes=E,Zj(x,function(z){if(z)return U2(i),m(z,x);T()})});T()}}}},sve=function(e){var i=e.loadendState,n=e.abortFn;return function(r){var o=r.target;o.aborted&&n&&!i.calledAbortFn&&(n(),i.calledAbortFn=!0)}},lve=function(e){var i=e.segment,n=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(r){var o=r.target;if(!o.aborted)return i.stats=ee.mergeOptions(i.stats,tve(r)),!i.stats.firstBytesReceivedAt&&i.stats.bytesReceived&&(i.stats.firstBytesReceivedAt=Date.now()),n(r,i)}},cve=function(e){var i=e.xhr,n=e.xhrOptions,r=e.decryptionWorker,o=e.segment,a=e.abortFn,s=e.progressFn,l=e.trackInfoFn,c=e.timingInfoFn,d=e.videoSegmentTimingInfoFn,p=e.audioSegmentTimingInfoFn,h=e.id3Fn,m=e.captionsFn,y=e.isEndOfTimeline,w=e.endedTimelineFn,g=e.dataFn,A=e.doneFn,x=e.onTransmuxerLog,T=[],E=ave({activeXhrs:T,decryptionWorker:r,trackInfoFn:l,timingInfoFn:c,videoSegmentTimingInfoFn:d,audioSegmentTimingInfoFn:p,id3Fn:h,captionsFn:m,isEndOfTimeline:y,endedTimelineFn:w,dataFn:g,doneFn:A,onTransmuxerLog:x});if(o.key&&!o.key.bytes){var z=[o.key];o.map&&!o.map.bytes&&o.map.key&&o.map.key.resolvedUri===o.key.resolvedUri&&z.push(o.map.key);var M=ee.mergeOptions(n,{uri:o.key.resolvedUri,responseType:"arraybuffer"}),B=kL(o,z,E),L=i(M,B);T.push(L)}if(o.map&&!o.map.bytes){var F=o.map.key&&(!o.key||o.key.resolvedUri!==o.map.key.resolvedUri);if(F){var H=ee.mergeOptions(n,{uri:o.map.key.resolvedUri,responseType:"arraybuffer"}),X=kL(o,[o.map.key],E),de=i(H,X);T.push(de)}var we=ee.mergeOptions(n,{uri:o.map.resolvedUri,responseType:"arraybuffer",headers:N2(o.map)}),Ee=ive({segment:o,finishProcessingFn:E}),ke=i(we,Ee);T.push(ke)}var Be=ee.mergeOptions(n,{uri:o.part&&o.part.resolvedUri||o.resolvedUri,responseType:"arraybuffer",headers:N2(o)}),De=nve({segment:o,finishProcessingFn:E,responseType:Be.responseType}),We=i(Be,De);We.addEventListener("progress",lve({segment:o,progressFn:s,trackInfoFn:l,timingInfoFn:c,videoSegmentTimingInfoFn:d,audioSegmentTimingInfoFn:p,id3Fn:h,captionsFn:m,isEndOfTimeline:y,endedTimelineFn:w,dataFn:g})),T.push(We);var Pe={};return T.forEach(function(Oe){Oe.addEventListener("loadend",sve({loadendState:Pe,abortFn:a}))}),function(){return U2(T)}},uve=Go("CodecUtils"),dve=function(e){var i=e.attributes||{};if(i.CODECS)return qo(i.CODECS)},iU=function(e,i){var n=i.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&n.AUDIO&&e.mediaGroups.AUDIO[n.AUDIO]},fve=function(e,i){if(!iU(e,i))return!0;var n=i.attributes||{},r=e.mediaGroups.AUDIO[n.AUDIO];for(var o in r)if(!r[o].uri&&!r[o].playlists)return!0;return!1},Yy=function(e){var i={};return e.forEach(function(n){var r=n.mediaType,o=n.type,a=n.details;i[r]=i[r]||[],i[r].push(z7(""+o+a))}),Object.keys(i).forEach(function(n){if(i[n].length>1){uve("multiple "+n+" codecs found as attributes: "+i[n].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),i[n]=null;return}i[n]=i[n][0]}),i},_L=function(e){var i=0;return e.audio&&i++,e.video&&i++,i},Bh=function(e,i){var n=i.attributes||{},r=Yy(dve(i)||[]);if(iU(e,i)&&!r.audio&&!fve(e,i)){var o=Yy(Vhe(e,n.AUDIO)||[]);o.audio&&(r.audio=o.audio)}return r},O0=Go("PlaylistSelector"),TL=function(e){if(!(!e||!e.playlist)){var i=e.playlist;return JSON.stringify({id:i.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:i.attributes&&i.attributes.CODECS||""})}},Wy=function(e,i){if(!e)return"";var n=Q.getComputedStyle(e);return n?n[i]:""},Ed=function(e,i){var n=e.slice();e.sort(function(r,o){var a=i(r,o);return a===0?n.indexOf(r)-n.indexOf(o):a})},KE=function(e,i){var n,r;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||Q.Number.MAX_VALUE,i.attributes.BANDWIDTH&&(r=i.attributes.BANDWIDTH),r=r||Q.Number.MAX_VALUE,n-r},pve=function(e,i){var n,r;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||Q.Number.MAX_VALUE,i.attributes.RESOLUTION&&i.attributes.RESOLUTION.width&&(r=i.attributes.RESOLUTION.width),r=r||Q.Number.MAX_VALUE,n===r&&e.attributes.BANDWIDTH&&i.attributes.BANDWIDTH?e.attributes.BANDWIDTH-i.attributes.BANDWIDTH:n-r},nU=function(e,i,n,r,o,a){if(!!e){var s={bandwidth:i,width:n,height:r,limitRenditionByPlayerDimensions:o},l=e.playlists;br.isAudioOnly(e)&&(l=a.getAudioTrackPlaylists_(),s.audioOnly=!0);var c=l.map(function(H){var X,de=H.attributes&&H.attributes.RESOLUTION&&H.attributes.RESOLUTION.width,we=H.attributes&&H.attributes.RESOLUTION&&H.attributes.RESOLUTION.height;return X=H.attributes&&H.attributes.BANDWIDTH,X=X||Q.Number.MAX_VALUE,{bandwidth:X,width:de,height:we,playlist:H}});Ed(c,function(H,X){return H.bandwidth-X.bandwidth}),c=c.filter(function(H){return!br.isIncompatible(H.playlist)});var d=c.filter(function(H){return br.isEnabled(H.playlist)});d.length||(d=c.filter(function(H){return!br.isDisabled(H.playlist)}));var p=d.filter(function(H){return H.bandwidth*Qi.BANDWIDTH_VARIANCE<i}),h=p[p.length-1],m=p.filter(function(H){return H.bandwidth===h.bandwidth})[0];if(o===!1){var y=m||d[0]||c[0];if(y&&y.playlist){var w="sortedPlaylistReps";return m&&(w="bandwidthBestRep"),d[0]&&(w="enabledPlaylistReps"),O0("choosing "+TL(y)+" using "+w+" with options",s),y.playlist}return O0("could not choose a playlist with options",s),null}var g=p.filter(function(H){return H.width&&H.height});Ed(g,function(H,X){return H.width-X.width});var A=g.filter(function(H){return H.width===n&&H.height===r});h=A[A.length-1];var x=A.filter(function(H){return H.bandwidth===h.bandwidth})[0],T,E,z;x||(T=g.filter(function(H){return H.width>n||H.height>r}),E=T.filter(function(H){return H.width===T[0].width&&H.height===T[0].height}),h=E[E.length-1],z=E.filter(function(H){return H.bandwidth===h.bandwidth})[0]);var M;if(a.experimentalLeastPixelDiffSelector){var B=g.map(function(H){return H.pixelDiff=Math.abs(H.width-n)+Math.abs(H.height-r),H});Ed(B,function(H,X){return H.pixelDiff===X.pixelDiff?X.bandwidth-H.bandwidth:H.pixelDiff-X.pixelDiff}),M=B[0]}var L=M||z||x||m||d[0]||c[0];if(L&&L.playlist){var F="sortedPlaylistReps";return M?F="leastPixelDiffRep":z?F="resolutionPlusOneRep":x?F="resolutionBestRep":m?F="bandwidthBestRep":d[0]&&(F="enabledPlaylistReps"),O0("choosing "+TL(L)+" using "+F+" with options",s),L.playlist}return O0("could not choose a playlist with options",s),null}},SL=function(){var e=this.useDevicePixelRatio&&Q.devicePixelRatio||1;return nU(this.playlists.master,this.systemBandwidth,parseInt(Wy(this.tech_.el(),"width"),10)*e,parseInt(Wy(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},hve=function(e){var i=-1,n=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var r=this.useDevicePixelRatio&&Q.devicePixelRatio||1;return i<0&&(i=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(i=e*this.systemBandwidth+(1-e)*i,n=this.systemBandwidth),nU(this.playlists.master,i,parseInt(Wy(this.tech_.el(),"width"),10)*r,parseInt(Wy(this.tech_.el(),"height"),10)*r,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},mve=function(e){var i=e.master,n=e.currentTime,r=e.bandwidth,o=e.duration,a=e.segmentDuration,s=e.timeUntilRebuffer,l=e.currentTimeline,c=e.syncController,d=i.playlists.filter(function(w){return!br.isIncompatible(w)}),p=d.filter(br.isEnabled);p.length||(p=d.filter(function(w){return!br.isDisabled(w)}));var h=p.filter(br.hasAttribute.bind(null,"BANDWIDTH")),m=h.map(function(w){var g=c.getSyncPoint(w,o,l,n),A=g?1:2,x=br.estimateSegmentRequestTime(a,r,w),T=x*A-s;return{playlist:w,rebufferingImpact:T}}),y=m.filter(function(w){return w.rebufferingImpact<=0});return Ed(y,function(w,g){return KE(g.playlist,w.playlist)}),y.length?y[0]:(Ed(m,function(w,g){return w.rebufferingImpact-g.rebufferingImpact}),m[0]||null)},gve=function(){var e=this,i=this.playlists.master.playlists.filter(br.isEnabled);Ed(i,function(r,o){return KE(r,o)});var n=i.filter(function(r){return!!Bh(e.playlists.master,r).video});return n[0]||null},bve=function(e){var i=0,n;return e.bytes&&(n=new Uint8Array(e.bytes),e.segments.forEach(function(r){n.set(r,i),i+=r.byteLength})),n},vve=function(e,i,n){if(!e[n]){i.trigger({type:"usage",name:"vhs-608"}),i.trigger({type:"usage",name:"hls-608"});var r=n;/^cc708_/.test(n)&&(r="SERVICE"+n.split("_")[1]);var o=i.textTracks().getTrackById(r);if(o)e[n]=o;else{var a=i.options_.vhs&&i.options_.vhs.captionServices||{},s=n,l=n,c=!1,d=a[r];d&&(s=d.label,l=d.language,c=d.default),e[n]=i.addRemoteTextTrack({kind:"captions",id:r,default:c,label:s,language:l},!1).track}}},yve=function(e){var i=e.inbandTextTracks,n=e.captionArray,r=e.timestampOffset;if(!!n){var o=Q.WebKitDataCue||Q.VTTCue;n.forEach(function(a){var s=a.stream;i[s].addCue(new o(a.startTime+r,a.endTime+r,a.text))})}},wve=function(e){Object.defineProperties(e.frame,{id:{get:function(){return ee.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return ee.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return ee.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},Ave=function(e){var i=e.inbandTextTracks,n=e.metadataArray,r=e.timestampOffset,o=e.videoDuration;if(!!n){var a=Q.WebKitDataCue||Q.VTTCue,s=i.metadataTrack_;if(!!s&&(n.forEach(function(m){var y=m.cueTime+r;typeof y!="number"||Q.isNaN(y)||y<0||!(y<1/0)||m.frames.forEach(function(w){var g=new a(y,y,w.value||w.url||w.data||"");g.frame=w,g.value=w,wve(g),s.addCue(g)})}),!(!s.cues||!s.cues.length))){for(var l=s.cues,c=[],d=0;d<l.length;d++)l[d]&&c.push(l[d]);var p=c.reduce(function(m,y){var w=m[y.startTime]||[];return w.push(y),m[y.startTime]=w,m},{}),h=Object.keys(p).sort(function(m,y){return Number(m)-Number(y)});h.forEach(function(m,y){var w=p[m],g=Number(h[y+1])||o;w.forEach(function(A){A.endTime=g})})}}},xve=function(e,i,n){e.metadataTrack_||(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=i)},mh=function(e,i,n){var r,o;if(!!n&&!!n.cues)for(r=n.cues.length;r--;)o=n.cues[r],o.startTime>=e&&o.endTime<=i&&n.removeCue(o)},kve=function(e){var i=e.cues;if(!!i)for(var n=0;n<i.length;n++){for(var r=[],o=0,a=0;a<i.length;a++)i[n].startTime===i[a].startTime&&i[n].endTime===i[a].endTime&&i[n].text===i[a].text&&(o++,o>1&&r.push(i[a]));r.length&&r.forEach(function(s){return e.removeCue(s)})}},_ve=function(e,i,n){if(typeof i=="undefined"||i===null||!e.length)return[];var r=Math.ceil((i-n+3)*Iy.ONE_SECOND_IN_TS),o;for(o=0;o<e.length&&!(e[o].pts>r);o++);return e.slice(o)},Tve=function(e,i,n){if(!i.length)return e;if(n)return i.slice();var r=i[0].pts,o=0;for(o;o<e.length&&!(e[o].pts>=r);o++);return e.slice(0,o).concat(i)},Sve=function(e,i,n,r){for(var o=Math.ceil((i-r)*Iy.ONE_SECOND_IN_TS),a=Math.ceil((n-r)*Iy.ONE_SECOND_IN_TS),s=e.slice(),l=e.length;l--&&!(e[l].pts<=a););if(l===-1)return s;for(var c=l+1;c--&&!(e[c].pts<=o););return c=Math.max(c,0),s.splice(c,l-c+1),s},Cve=function(e,i){if(!e&&!i||!e&&i||e&&!i)return!1;if(e===i)return!0;var n=Object.keys(e).sort(),r=Object.keys(i).sort();if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++){var a=n[o];if(a!==r[o]||e[a]!==i[a])return!1}return!0},rU=22,Eve=function(e,i,n){i=i||[];for(var r=[],o=0,a=0;a<i.length;a++){var s=i[a];if(e===s.timeline&&(r.push(a),o+=s.duration,o>n))return a}return r.length===0?0:r[r.length-1]},th=1,zve=500,CL=function(e){return typeof e=="number"&&isFinite(e)},M0=1/60,Ive=function(e,i,n){return e!=="main"||!i||!n?null:!n.hasAudio&&!n.hasVideo?"Neither audio nor video found in segment.":i.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!i.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},Rve=function(e,i,n){var r=i-Qi.BACK_BUFFER_LENGTH;e.length&&(r=Math.max(r,e.start(0)));var o=i-n;return Math.min(o,r)},Ku=function(e){var i=e.startOfSegment,n=e.duration,r=e.segment,o=e.part,a=e.playlist,s=a.mediaSequence,l=a.id,c=a.segments,d=c===void 0?[]:c,p=e.mediaIndex,h=e.partIndex,m=e.timeline,y=d.length-1,w="mediaIndex/partIndex increment";e.getMediaInfoForTime?w="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(w="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(w+=" with independent "+e.independent);var g=typeof h=="number",A=e.segment.uri?"segment":"pre-segment",x=g?Sj({preloadSegment:r})-1:0;return A+" ["+(s+p)+"/"+(s+y)+"]"+(g?" part ["+h+"/"+x+"]":"")+(" segment start/end ["+r.start+" => "+r.end+"]")+(g?" part start/end ["+o.start+" => "+o.end+"]":"")+(" startOfSegment ["+i+"]")+(" duration ["+n+"]")+(" timeline ["+m+"]")+(" selected by ["+w+"]")+(" playlist ["+l+"]")},EL=function(e){return e+"TimingInfo"},Pve=function(e){var i=e.segmentTimeline,n=e.currentTimeline,r=e.startOfSegment,o=e.buffered,a=e.overrideCheck;return!a&&i===n?null:i<n?r:o.length?o.end(o.length-1):r},zL=function(e){var i=e.timelineChangeController,n=e.currentTimeline,r=e.segmentTimeline,o=e.loaderType,a=e.audioDisabled;if(n===r)return!1;if(o==="audio"){var s=i.lastTimelineChange({type:"main"});return!s||s.to!==r}if(o==="main"&&a){var l=i.pendingTimelineChange({type:"audio"});return!(l&&l.to===r)}return!1},Lve=function(e,i){var n=e&&typeof e.start=="number"&&typeof e.end=="number"?e.end-e.start:0,r=i&&typeof i.start=="number"&&typeof i.end=="number"?i.end-i.start:0;return Math.max(n,r)},IL=function(e){var i=e.segmentDuration,n=e.maxDuration;return i?Math.round(i)>n+Il:!1},Ove=function(e,i){if(i!=="hls")return null;var n=Lve(e.audioTimingInfo,e.videoTimingInfo);if(!n)return null;var r=e.playlist.targetDuration,o=IL({segmentDuration:n,maxDuration:r*2}),a=IL({segmentDuration:n,maxDuration:r}),s="Segment with index "+e.mediaIndex+" "+("from playlist "+e.playlist.id+" ")+("has a duration of "+n+" ")+("when the reported duration is "+e.duration+" ")+("and the target duration is "+r+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return o||a?{severity:o?"warn":"info",message:s}:null},G2=function(t){ye(e,t);function e(n,r){var o;if(o=t.call(this)||this,!n)throw new TypeError("Initialization settings are required");if(typeof n.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!n.mediaSource)throw new TypeError("No MediaSource specified");return o.bandwidth=n.bandwidth,o.throughput={rate:0,count:0},o.roundTrip=NaN,o.resetStats_(),o.mediaIndex=null,o.partIndex=null,o.hasPlayed_=n.hasPlayed,o.currentTime_=n.currentTime,o.seekable_=n.seekable,o.seeking_=n.seeking,o.duration_=n.duration,o.mediaSource_=n.mediaSource,o.vhs_=n.vhs,o.loaderType_=n.loaderType,o.currentMediaInfo_=void 0,o.startingMediaInfo_=void 0,o.segmentMetadataTrack_=n.segmentMetadataTrack,o.goalBufferLength_=n.goalBufferLength,o.sourceType_=n.sourceType,o.sourceUpdater_=n.sourceUpdater,o.inbandTextTracks_=n.inbandTextTracks,o.state_="INIT",o.timelineChangeController_=n.timelineChangeController,o.shouldSaveSegmentTimingInfo_=!0,o.parse708captions_=n.parse708captions,o.captionServices_=n.captionServices,o.experimentalExactManifestTimings=n.experimentalExactManifestTimings,o.checkBufferTimeout_=null,o.error_=void 0,o.currentTimeline_=-1,o.pendingSegment_=null,o.xhrOptions_=null,o.pendingSegments_=[],o.audioDisabled_=!1,o.isPendingTimestampOffset_=!1,o.gopBuffer_=[],o.timeMapping_=0,o.safeAppend_=ee.browser.IE_VERSION>=11,o.appendInitSegment_={audio:!0,video:!0},o.playlistOfLastInitSegment_={audio:null,video:null},o.callQueue_=[],o.loadQueue_=[],o.metadataQueue_={id3:[],caption:[]},o.waitingOnRemove_=!1,o.quotaExceededErrorRetryTimeout_=null,o.activeInitSegmentId_=null,o.initSegments_={},o.cacheEncryptionKeys_=n.cacheEncryptionKeys,o.keyCache_={},o.decrypter_=n.decrypter,o.syncController_=n.syncController,o.syncPoint_={segmentIndex:0,time:0},o.transmuxer_=o.createTransmuxer_(),o.triggerSyncInfoUpdate_=function(){return o.trigger("syncinfoupdate")},o.syncController_.on("syncinfoupdate",o.triggerSyncInfoUpdate_),o.mediaSource_.addEventListener("sourceopen",function(){o.isEndOfStream_()||(o.ended_=!1)}),o.fetchAtBuffer_=!1,o.logger_=Go("SegmentLoader["+o.loaderType_+"]"),Object.defineProperty(re(o),"state",{get:function(){return this.state_},set:function(s){s!==this.state_&&(this.logger_(this.state_+" -> "+s),this.state_=s,this.trigger("statechange"))}}),o.sourceUpdater_.on("ready",function(){o.hasEnoughInfoToAppend_()&&o.processCallQueue_()}),o.loaderType_==="main"&&o.timelineChangeController_.on("pendingtimelinechange",function(){o.hasEnoughInfoToAppend_()&&o.processCallQueue_()}),o.loaderType_==="audio"&&o.timelineChangeController_.on("timelinechange",function(){o.hasEnoughInfoToLoad_()&&o.processLoadQueue_(),o.hasEnoughInfoToAppend_()&&o.processCallQueue_()}),o}var i=e.prototype;return i.createTransmuxer_=function(){return Sk.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},i.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},i.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&Q.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},i.setAudio=function(r){this.audioDisabled_=!r,r?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},i.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},i.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,Q.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},i.checkForAbort_=function(r){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==r},i.error=function(r){return typeof r!="undefined"&&(this.logger_("error occurred:",r),this.error_=r),this.pendingSegment_=null,this.error_},i.endOfStream=function(){this.ended_=!0,this.transmuxer_&&Sk.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},i.buffered_=function(){var r=this.getMediaInfo_();if(!this.sourceUpdater_||!r)return ee.createTimeRanges();if(this.loaderType_==="main"){var o=r.hasAudio,a=r.hasVideo,s=r.isMuxed;if(a&&o&&!this.audioDisabled_&&!s)return this.sourceUpdater_.buffered();if(a)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},i.initSegmentForMap=function(r,o){if(o===void 0&&(o=!1),!r)return null;var a=Gy(r),s=this.initSegments_[a];return o&&!s&&r.bytes&&(this.initSegments_[a]=s={resolvedUri:r.resolvedUri,byterange:r.byterange,bytes:r.bytes,tracks:r.tracks,timescales:r.timescales}),s||r},i.segmentKey=function(r,o){if(o===void 0&&(o=!1),!r)return null;var a=Uj(r),s=this.keyCache_[a];this.cacheEncryptionKeys_&&o&&!s&&r.bytes&&(this.keyCache_[a]=s={resolvedUri:r.resolvedUri,bytes:r.bytes});var l={resolvedUri:(s||r).resolvedUri};return s&&(l.bytes=s.bytes),l},i.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},i.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.playlist=function(r,o){if(o===void 0&&(o={}),!!r){var a=this.playlist_,s=this.pendingSegment_;this.playlist_=r,this.xhrOptions_=o,this.state==="INIT"&&(r.syncInfo={mediaSequence:r.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(r));var l=null;if(a&&(a.id?l=a.id:a.uri&&(l=a.uri)),this.logger_("playlist update ["+l+" => "+(r.id||r.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!a||a.uri!==r.uri){this.mediaIndex!==null&&(r.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var c=r.mediaSequence-a.mediaSequence;if(this.logger_("live window shift ["+c+"]"),this.mediaIndex!==null)if(this.mediaIndex-=c,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var d=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!d.parts||!d.parts.length||!d.parts[this.partIndex])){var p=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=p}}s&&(s.mediaIndex-=c,s.mediaIndex<0?(s.mediaIndex=null,s.partIndex=null):(s.mediaIndex>=0&&(s.segment=r.segments[s.mediaIndex]),s.partIndex>=0&&s.segment.parts&&(s.part=s.segment.parts[s.partIndex]))),this.syncController_.saveExpiredSegmentInfo(a,r)}},i.pause=function(){this.checkBufferTimeout_&&(Q.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},i.paused=function(){return this.checkBufferTimeout_===null},i.resetEverything=function(r){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,r),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},i.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},i.resyncLoader=function(){this.transmuxer_&&Sk.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},i.remove=function(r,o,a,s){if(a===void 0&&(a=function(){}),s===void 0&&(s=!1),o===1/0&&(o=this.duration_()),o<=r){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var l=1,c=function(){l--,l===0&&a()};(s||!this.audioDisabled_)&&(l++,this.sourceUpdater_.removeAudio(r,o,c)),(s||this.loaderType_==="main")&&(this.gopBuffer_=Sve(this.gopBuffer_,r,o,this.timeMapping_),l++,this.sourceUpdater_.removeVideo(r,o,c));for(var d in this.inbandTextTracks_)mh(r,o,this.inbandTextTracks_[d]);mh(r,o,this.segmentMetadataTrack_),c()},i.monitorBuffer_=function(){this.checkBufferTimeout_&&Q.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Q.setTimeout(this.monitorBufferTick_.bind(this),1)},i.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&Q.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Q.setTimeout(this.monitorBufferTick_.bind(this),zve)},i.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var r=this.chooseNextRequest_();!r||(typeof r.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:r.timeline})),this.loadSegment_(r))}},i.isEndOfStream_=function(r,o,a){if(r===void 0&&(r=this.mediaIndex),o===void 0&&(o=this.playlist_),a===void 0&&(a=this.partIndex),!o||!this.mediaSource_)return!1;var s=typeof r=="number"&&o.segments[r],l=r+1===o.segments.length,c=!s||!s.parts||a+1===s.parts.length;return o.endList&&this.mediaSource_.readyState==="open"&&l&&c},i.chooseNextRequest_=function(){var r=this.buffered_(),o=bL(r)||0,a=YE(r,this.currentTime_()),s=!this.hasPlayed_()&&a>=1,l=a>=this.goalBufferLength_(),c=this.playlist_.segments;if(!c.length||s||l)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var d={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(d.isSyncRequest)d.mediaIndex=Eve(this.currentTimeline_,c,o);else if(this.mediaIndex!==null){var p=c[this.mediaIndex],h=typeof this.partIndex=="number"?this.partIndex:-1;d.startOfSegment=p.end?p.end:o,p.parts&&p.parts[h+1]?(d.mediaIndex=this.mediaIndex,d.partIndex=h+1):d.mediaIndex=this.mediaIndex+1}else{var m=br.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?o:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),y=m.segmentIndex,w=m.startTime,g=m.partIndex;d.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+o:"currentTime "+this.currentTime_(),d.mediaIndex=y,d.startOfSegment=w,d.partIndex=g}var A=c[d.mediaIndex],x=A&&typeof d.partIndex=="number"&&A.parts&&A.parts[d.partIndex];if(!A||typeof d.partIndex=="number"&&!x)return null;if(typeof d.partIndex!="number"&&A.parts&&(d.partIndex=0,x=A.parts[0]),!a&&x&&!x.independent)if(d.partIndex===0){var T=c[d.mediaIndex-1],E=T.parts&&T.parts.length&&T.parts[T.parts.length-1];E&&E.independent&&(d.mediaIndex-=1,d.partIndex=T.parts.length-1,d.independent="previous segment")}else A.parts[d.partIndex-1].independent&&(d.partIndex-=1,d.independent="previous part");var z=this.mediaSource_&&this.mediaSource_.readyState==="ended";return d.mediaIndex>=c.length-1&&z&&!this.seeking_()?null:this.generateSegmentInfo_(d)},i.generateSegmentInfo_=function(r){var o=r.independent,a=r.playlist,s=r.mediaIndex,l=r.startOfSegment,c=r.isSyncRequest,d=r.partIndex,p=r.forceTimestampOffset,h=r.getMediaInfoForTime,m=a.segments[s],y=typeof d=="number"&&m.parts[d],w={requestId:"segment-loader-"+Math.random(),uri:y&&y.resolvedUri||m.resolvedUri,mediaIndex:s,partIndex:y?d:null,isSyncRequest:c,startOfSegment:l,playlist:a,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:m.timeline,duration:y&&y.duration||m.duration,segment:m,part:y,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:h,independent:o},g=typeof p!="undefined"?p:this.isPendingTimestampOffset_;w.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:m.timeline,currentTimeline:this.currentTimeline_,startOfSegment:l,buffered:this.buffered_(),overrideCheck:g});var A=bL(this.sourceUpdater_.audioBuffered());return typeof A=="number"&&(w.audioAppendStart=A-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(w.gopsToAlignWith=_ve(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),w},i.timestampOffsetForSegment_=function(r){return Pve(r)},i.earlyAbortWhenNeeded_=function(r){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(r.firstBytesReceivedAt||Date.now())<1e3)){var o=this.currentTime_(),a=r.bandwidth,s=this.pendingSegment_.duration,l=br.estimateSegmentRequestTime(s,a,this.playlist_,r.bytesReceived),c=r0e(this.buffered_(),o,this.vhs_.tech_.playbackRate())-1;if(!(l<=c)){var d=mve({master:this.vhs_.playlists.master,currentTime:o,bandwidth:a,duration:this.duration_(),segmentDuration:s,timeUntilRebuffer:c,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!!d){var p=l-c,h=p-d.rebufferingImpact,m=.5;c<=Il&&(m=1),!(!d.playlist||d.playlist.uri===this.playlist_.uri||h<m)&&(this.bandwidth=d.playlist.attributes.BANDWIDTH*Qi.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},i.handleAbort_=function(r){this.logger_("Aborting "+Ku(r)),this.mediaRequestsAborted+=1},i.handleProgress_=function(r,o){this.earlyAbortWhenNeeded_(o.stats),!this.checkForAbort_(o.requestId)&&this.trigger("progress")},i.handleTrackInfo_=function(r,o){this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)&&(this.checkForIllegalMediaSwitch(o)||(o=o||{},Cve(this.currentMediaInfo_,o)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=o,this.currentMediaInfo_=o,this.logger_("trackinfo update",o),this.trigger("trackinfo")),!this.checkForAbort_(r.requestId)&&(this.pendingSegment_.trackInfo=o,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},i.handleTimingInfo_=function(r,o,a,s){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){var l=this.pendingSegment_,c=EL(o);l[c]=l[c]||{},l[c][a]=s,this.logger_("timinginfo: "+o+" - "+a+" - "+s),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},i.handleCaptions_=function(r,o){var a=this;if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){if(o.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var s=this.pendingSegment_;if(!s.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,r,o));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),c={};o.forEach(function(d){c[d.stream]=c[d.stream]||{startTime:1/0,captions:[],endTime:0};var p=c[d.stream];p.startTime=Math.min(p.startTime,d.startTime+l),p.endTime=Math.max(p.endTime,d.endTime+l),p.captions.push(d)}),Object.keys(c).forEach(function(d){var p=c[d],h=p.startTime,m=p.endTime,y=p.captions,w=a.inbandTextTracks_;a.logger_("adding cues from "+h+" -> "+m+" for "+d),vve(w,a.vhs_.tech_,d),mh(h,m,w[d]),yve({captionArray:y,inbandTextTracks:w,timestampOffset:l})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},i.handleId3_=function(r,o,a){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){var s=this.pendingSegment_;if(!s.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,r,o,a));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();xve(this.inbandTextTracks_,a,this.vhs_.tech_),Ave({inbandTextTracks:this.inbandTextTracks_,metadataArray:o,timestampOffset:l,videoDuration:this.duration_()})}},i.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(r){return r()}),this.metadataQueue_.caption.forEach(function(r){return r()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},i.processCallQueue_=function(){var r=this.callQueue_;this.callQueue_=[],r.forEach(function(o){return o()})},i.processLoadQueue_=function(){var r=this.loadQueue_;this.loadQueue_=[],r.forEach(function(o){return o()})},i.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var r=this.pendingSegment_;return r?this.getCurrentMediaInfo_()?!zL({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:r.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},i.getCurrentMediaInfo_=function(r){return r===void 0&&(r=this.pendingSegment_),r&&r.trackInfo||this.currentMediaInfo_},i.getMediaInfo_=function(r){return r===void 0&&(r=this.pendingSegment_),this.getCurrentMediaInfo_(r)||this.startingMediaInfo_},i.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var r=this.pendingSegment_,o=this.getCurrentMediaInfo_();if(!r||!o)return!1;var a=o.hasAudio,s=o.hasVideo,l=o.isMuxed;return!(s&&!r.videoTimingInfo||a&&!this.audioDisabled_&&!l&&!r.audioTimingInfo||zL({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:r.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},i.handleData_=function(r,o){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,r,o));return}var a=this.pendingSegment_;if(this.setTimeMapping_(a.timeline),this.updateMediaSecondsLoaded_(a.part||a.segment),this.mediaSource_.readyState!=="closed"){if(r.map&&(r.map=this.initSegmentForMap(r.map,!0),a.segment.map=r.map),r.key&&this.segmentKey(r.key,!0),a.isFmp4=r.isFmp4,a.timingInfo=a.timingInfo||{},a.isFmp4)this.trigger("fmp4"),a.timingInfo.start=a[EL(o.type)].start;else{var s=this.getCurrentMediaInfo_(),l=this.loaderType_==="main"&&s&&s.hasVideo,c;l&&(c=a.videoTimingInfo.start),a.timingInfo.start=this.trueSegmentStart_({currentStart:a.timingInfo.start,playlist:a.playlist,mediaIndex:a.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:l,firstVideoFrameTimeForData:c,videoTimingInfo:a.videoTimingInfo,audioTimingInfo:a.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(a,o.type),this.updateSourceBufferTimestampOffset_(a),a.isSyncRequest){this.updateTimingInfoEnd_(a),this.syncController_.saveSegmentTimingInfo({segmentInfo:a,shouldSaveTimelineMapping:this.loaderType_==="main"});var d=this.chooseNextRequest_();if(d.mediaIndex!==a.mediaIndex||d.partIndex!==a.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}a.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(a,o)}}},i.updateAppendInitSegmentStatus=function(r,o){this.loaderType_==="main"&&typeof r.timestampOffset=="number"&&!r.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[o]!==r.playlist&&(this.appendInitSegment_[o]=!0)},i.getInitSegmentAndUpdateState_=function(r){var o=r.type,a=r.initSegment,s=r.map,l=r.playlist;if(s){var c=Gy(s);if(this.activeInitSegmentId_===c)return null;a=this.initSegmentForMap(s,!0).bytes,this.activeInitSegmentId_=c}return a&&this.appendInitSegment_[o]?(this.playlistOfLastInitSegment_[o]=l,this.appendInitSegment_[o]=!1,this.activeInitSegmentId_=null,a):null},i.handleQuotaExceededError_=function(r,o){var a=this,s=r.segmentInfo,l=r.type,c=r.bytes,d=this.sourceUpdater_.audioBuffered(),p=this.sourceUpdater_.videoBuffered();d.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+wc(d).join(", ")),p.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+wc(p).join(", "));var h=d.length?d.start(0):0,m=d.length?d.end(d.length-1):0,y=p.length?p.start(0):0,w=p.length?p.end(p.length-1):0;if(m-h<=th&&w-y<=th){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+c.byteLength+", ")+("audio buffer: "+wc(d).join(", ")+", ")+("video buffer: "+wc(p).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:s,type:l,bytes:c}));var g=this.currentTime_(),A=g-th;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+A),this.remove(0,A,function(){a.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+th+"s"),a.waitingOnRemove_=!1,a.quotaExceededErrorRetryTimeout_=Q.setTimeout(function(){a.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),a.quotaExceededErrorRetryTimeout_=null,a.processCallQueue_()},th*1e3)},!0)},i.handleAppendError_=function(r,o){var a=r.segmentInfo,s=r.type,l=r.bytes;if(!!o){if(o.code===rU){this.handleQuotaExceededError_({segmentInfo:a,type:s,bytes:l});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",o),this.error(s+" append of "+l.length+"b failed for segment "+("#"+a.mediaIndex+" in playlist "+a.playlist.id)),this.trigger("appenderror")}},i.appendToSourceBuffer_=function(r){var o=r.segmentInfo,a=r.type,s=r.initSegment,l=r.data,c=r.bytes;if(!c){var d=[l],p=l.byteLength;s&&(d.unshift(s),p+=s.byteLength),c=bve({bytes:p,segments:d})}this.sourceUpdater_.appendBuffer({segmentInfo:o,type:a,bytes:c},this.handleAppendError_.bind(this,{segmentInfo:o,type:a,bytes:c}))},i.handleSegmentTimingInfo_=function(r,o,a){if(!(!this.pendingSegment_||o!==this.pendingSegment_.requestId)){var s=this.pendingSegment_.segment,l=r+"TimingInfo";s[l]||(s[l]={}),s[l].transmuxerPrependedSeconds=a.prependedContentDuration||0,s[l].transmuxedPresentationStart=a.start.presentation,s[l].transmuxedDecodeStart=a.start.decode,s[l].transmuxedPresentationEnd=a.end.presentation,s[l].transmuxedDecodeEnd=a.end.decode,s[l].baseMediaDecodeTime=a.baseMediaDecodeTime}},i.appendData_=function(r,o){var a=o.type,s=o.data;if(!(!s||!s.byteLength)&&!(a==="audio"&&this.audioDisabled_)){var l=this.getInitSegmentAndUpdateState_({type:a,initSegment:o.initSegment,playlist:r.playlist,map:r.isFmp4?r.segment.map:null});this.appendToSourceBuffer_({segmentInfo:r,type:a,initSegment:l,data:s})}},i.loadSegment_=function(r){var o=this;if(this.state="WAITING",this.pendingSegment_=r,this.trimBackBuffer_(r),typeof r.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var a=Me({},r,{forceTimestampOffset:!0});Me(r,o.generateSegmentInfo_(a)),o.isPendingTimestampOffset_=!1,o.updateTransmuxerAndRequestSegment_(r)});return}this.updateTransmuxerAndRequestSegment_(r)},i.updateTransmuxerAndRequestSegment_=function(r){var o=this;this.shouldUpdateTransmuxerTimestampOffset_(r.timestampOffset)&&(this.gopBuffer_.length=0,r.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:r.timestampOffset}));var a=this.createSimplifiedSegmentObj_(r),s=this.isEndOfStream_(r.mediaIndex,r.playlist,r.partIndex),l=this.mediaIndex!==null,c=r.timeline!==this.currentTimeline_&&r.timeline>0,d=s||l&&c;this.logger_("Requesting "+Ku(r)),a.map&&!a.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),r.abortRequests=cve({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:a,abortFn:this.handleAbort_.bind(this,r),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",r.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",r.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:d,endedTimelineFn:function(){o.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(h){var m=h.message,y=h.level,w=h.stream;o.logger_(Ku(r)+" logged from transmuxer stream "+w+" as a "+y+": "+m)}})},i.trimBackBuffer_=function(r){var o=Rve(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);o>0&&this.remove(0,o)},i.createSimplifiedSegmentObj_=function(r){var o=r.segment,a=r.part,s={resolvedUri:a?a.resolvedUri:o.resolvedUri,byterange:a?a.byterange:o.byterange,requestId:r.requestId,transmuxer:r.transmuxer,audioAppendStart:r.audioAppendStart,gopsToAlignWith:r.gopsToAlignWith,part:r.part},l=r.playlist.segments[r.mediaIndex-1];if(l&&l.timeline===o.timeline&&(l.videoTimingInfo?s.baseStartTime=l.videoTimingInfo.transmuxedDecodeEnd:l.audioTimingInfo&&(s.baseStartTime=l.audioTimingInfo.transmuxedDecodeEnd)),o.key){var c=o.key.iv||new Uint32Array([0,0,0,r.mediaIndex+r.playlist.mediaSequence]);s.key=this.segmentKey(o.key),s.key.iv=c}return o.map&&(s.map=this.initSegmentForMap(o.map)),s},i.saveTransferStats_=function(r){this.mediaRequests+=1,r&&(this.mediaBytesTransferred+=r.bytesReceived,this.mediaTransferDuration+=r.roundTripTime)},i.saveBandwidthRelatedStats_=function(r,o){if(this.pendingSegment_.byteLength=o.bytesReceived,r<M0){this.logger_("Ignoring segment's bandwidth because its duration of "+r+(" is less than the min to record "+M0));return}this.bandwidth=o.bandwidth,this.roundTrip=o.roundTripTime},i.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},i.segmentRequestFinished_=function(r,o,a){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,r,o,a));return}if(this.saveTransferStats_(o.stats),!!this.pendingSegment_&&o.requestId===this.pendingSegment_.requestId){if(r){if(this.pendingSegment_=null,this.state="READY",r.code===oa.ABORTED)return;if(this.pause(),r.code===oa.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(r),this.trigger("error");return}var s=this.pendingSegment_;this.saveBandwidthRelatedStats_(s.duration,o.stats),s.endOfAllRequests=o.endOfAllRequests,a.gopInfo&&(this.gopBuffer_=Tve(this.gopBuffer_,a.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(s)}},i.setTimeMapping_=function(r){var o=this.syncController_.mappingForTimeline(r);o!==null&&(this.timeMapping_=o)},i.updateMediaSecondsLoaded_=function(r){typeof r.start=="number"&&typeof r.end=="number"?this.mediaSecondsLoaded+=r.end-r.start:this.mediaSecondsLoaded+=r.duration},i.shouldUpdateTransmuxerTimestampOffset_=function(r){return r===null?!1:this.loaderType_==="main"&&r!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&r!==this.sourceUpdater_.audioTimestampOffset()},i.trueSegmentStart_=function(r){var o=r.currentStart,a=r.playlist,s=r.mediaIndex,l=r.firstVideoFrameTimeForData,c=r.currentVideoTimestampOffset,d=r.useVideoTimingInfo,p=r.videoTimingInfo,h=r.audioTimingInfo;if(typeof o!="undefined")return o;if(!d)return h.start;var m=a.segments[s-1];return s===0||!m||typeof m.start=="undefined"||m.end!==l+c?l:p.start},i.waitForAppendsToComplete_=function(r){var o=this.getCurrentMediaInfo_(r);if(!o){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var a=o.hasAudio,s=o.hasVideo,l=o.isMuxed,c=this.loaderType_==="main"&&s,d=!this.audioDisabled_&&a&&!l;if(r.waitingOnAppends=0,!r.hasAppendedData_){!r.timingInfo&&typeof r.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),r.timingInfo={start:0},r.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(r),this.processMetadataQueue_()),this.checkAppendsDone_(r);return}c&&r.waitingOnAppends++,d&&r.waitingOnAppends++,c&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,r)),d&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,r))},i.checkAppendsDone_=function(r){this.checkForAbort_(r.requestId)||(r.waitingOnAppends--,r.waitingOnAppends===0&&this.handleAppendsDone_())},i.checkForIllegalMediaSwitch=function(r){var o=Ive(this.loaderType_,this.getCurrentMediaInfo_(),r);return o?(this.error({message:o,blacklistDuration:1/0}),this.trigger("error"),!0):!1},i.updateSourceBufferTimestampOffset_=function(r){if(!(r.timestampOffset===null||typeof r.timingInfo.start!="number"||r.changedTimestampOffset||this.loaderType_!=="main")){var o=!1;r.timestampOffset-=r.timingInfo.start,r.changedTimestampOffset=!0,r.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(r.timestampOffset),o=!0),r.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(r.timestampOffset),o=!0),o&&this.trigger("timestampoffset")}},i.updateTimingInfoEnd_=function(r){r.timingInfo=r.timingInfo||{};var o=this.getMediaInfo_(),a=this.loaderType_==="main"&&o&&o.hasVideo,s=a&&r.videoTimingInfo?r.videoTimingInfo:r.audioTimingInfo;!s||(r.timingInfo.end=typeof s.end=="number"?s.end:s.start+r.duration)},i.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var r=this.pendingSegment_;this.updateTimingInfoEnd_(r),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:r,shouldSaveTimelineMapping:this.loaderType_==="main"});var o=Ove(r,this.sourceType_);if(o&&(o.severity==="warn"?ee.log.warn(o.message):this.logger_(o.message)),this.recordThroughput_(r),this.pendingSegment_=null,this.state="READY",r.isSyncRequest&&(this.trigger("syncinfoupdate"),!r.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+Ku(r));return}this.logger_("Appended "+Ku(r)),this.addSegmentMetadataCue_(r),this.fetchAtBuffer_=!0,this.currentTimeline_!==r.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:r.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:r.timeline})),this.currentTimeline_=r.timeline,this.trigger("syncinfoupdate");var a=r.segment,s=r.part,l=a.end&&this.currentTime_()-a.end>r.playlist.targetDuration*3,c=s&&s.end&&this.currentTime_()-s.end>r.playlist.partTargetDuration*3;if(l||c){this.logger_("bad "+(l?"segment":"part")+" "+Ku(r)),this.resetEverything();return}var d=this.mediaIndex!==null;d&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=r.mediaIndex,this.partIndex=r.partIndex,this.isEndOfStream_(r.mediaIndex,r.playlist,r.partIndex)&&this.endOfStream(),this.trigger("appended"),r.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},i.recordThroughput_=function(r){if(r.duration<M0){this.logger_("Ignoring segment's throughput because its duration of "+r.duration+(" is less than the min to record "+M0));return}var o=this.throughput.rate,a=Date.now()-r.endOfAllRequests+1,s=Math.floor(r.byteLength/a*8*1e3);this.throughput.rate+=(s-o)/++this.throughput.count},i.addSegmentMetadataCue_=function(r){if(!!this.segmentMetadataTrack_){var o=r.segment,a=o.start,s=o.end;if(!(!CL(a)||!CL(s))){mh(a,s,this.segmentMetadataTrack_);var l=Q.WebKitDataCue||Q.VTTCue,c={custom:o.custom,dateTimeObject:o.dateTimeObject,dateTimeString:o.dateTimeString,bandwidth:r.playlist.attributes.BANDWIDTH,resolution:r.playlist.attributes.RESOLUTION,codecs:r.playlist.attributes.CODECS,byteLength:r.byteLength,uri:r.uri,timeline:r.timeline,playlist:r.playlist.id,start:a,end:s},d=JSON.stringify(c),p=new l(a,s,d);p.value=c,this.segmentMetadataTrack_.addCue(p)}}},e}(ee.EventTarget);function es(){}var oU=function(e){return typeof e!="string"?e:e.replace(/./,function(i){return i.toUpperCase()})},Mve=["video","audio"],H2=function(e,i){var n=i[e+"Buffer"];return n&&n.updating||i.queuePending[e]},Dve=function(e,i){for(var n=0;n<i.length;n++){var r=i[n];if(r.type==="mediaSource")return null;if(r.type===e)return n}return null},XE=function t(e,i){if(i.queue.length!==0){var n=0,r=i.queue[n];if(r.type==="mediaSource"){!i.updating()&&i.mediaSource.readyState!=="closed"&&(i.queue.shift(),r.action(i),r.doneFn&&r.doneFn(),t("audio",i),t("video",i));return}if(e!=="mediaSource"&&!(!i.ready()||i.mediaSource.readyState==="closed"||H2(e,i))){if(r.type!==e){if(n=Dve(e,i.queue),n===null)return;r=i.queue[n]}if(i.queue.splice(n,1),i.queuePending[e]=r,r.action(e,i),!r.doneFn){i.queuePending[e]=null,t(e,i);return}}}},aU=function(e,i){var n=i[e+"Buffer"],r=oU(e);!n||(n.removeEventListener("updateend",i["on"+r+"UpdateEnd_"]),n.removeEventListener("error",i["on"+r+"Error_"]),i.codecs[e]=null,i[e+"Buffer"]=null)},Zo=function(e,i){return e&&i&&Array.prototype.indexOf.call(e.sourceBuffers,i)!==-1},Fr={appendBuffer:function(e,i,n){return function(r,o){var a=o[r+"Buffer"];if(!!Zo(o.mediaSource,a)){o.logger_("Appending segment "+i.mediaIndex+"'s "+e.length+" bytes to "+r+"Buffer");try{a.appendBuffer(e)}catch(s){o.logger_("Error with code "+s.code+" "+(s.code===rU?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+i.mediaIndex+" to "+r+"Buffer")),o.queuePending[r]=null,n(s)}}}},remove:function(e,i){return function(n,r){var o=r[n+"Buffer"];if(!!Zo(r.mediaSource,o)){r.logger_("Removing "+e+" to "+i+" from "+n+"Buffer");try{o.remove(e,i)}catch{r.logger_("Remove "+e+" to "+i+" from "+n+"Buffer failed")}}}},timestampOffset:function(e){return function(i,n){var r=n[i+"Buffer"];!Zo(n.mediaSource,r)||(n.logger_("Setting "+i+"timestampOffset to "+e),r.timestampOffset=e)}},callback:function(e){return function(i,n){e()}},endOfStream:function(e){return function(i){if(i.mediaSource.readyState==="open"){i.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{i.mediaSource.endOfStream(e)}catch(n){ee.log.warn("Failed to call media source endOfStream",n)}}}},duration:function(e){return function(i){i.logger_("Setting mediaSource duration to "+e);try{i.mediaSource.duration=e}catch(n){ee.log.warn("Failed to set media source duration",n)}}},abort:function(){return function(e,i){if(i.mediaSource.readyState==="open"){var n=i[e+"Buffer"];if(!!Zo(i.mediaSource,n)){i.logger_("calling abort on "+e+"Buffer");try{n.abort()}catch(r){ee.log.warn("Failed to abort on "+e+"Buffer",r)}}}}},addSourceBuffer:function(e,i){return function(n){var r=oU(e),o=Rm(i);n.logger_("Adding "+e+"Buffer with codec "+i+" to mediaSource");var a=n.mediaSource.addSourceBuffer(o);a.addEventListener("updateend",n["on"+r+"UpdateEnd_"]),a.addEventListener("error",n["on"+r+"Error_"]),n.codecs[e]=i,n[e+"Buffer"]=a}},removeSourceBuffer:function(e){return function(i){var n=i[e+"Buffer"];if(aU(e,i),!!Zo(i.mediaSource,n)){i.logger_("Removing "+e+"Buffer with codec "+i.codecs[e]+" from mediaSource");try{i.mediaSource.removeSourceBuffer(n)}catch(r){ee.log.warn("Failed to removeSourceBuffer "+e+"Buffer",r)}}}},changeType:function(e){return function(i,n){var r=n[i+"Buffer"],o=Rm(e);!Zo(n.mediaSource,r)||n.codecs[i]!==e&&(n.logger_("changing "+i+"Buffer codec from "+n.codecs[i]+" to "+e),r.changeType(o),n.codecs[i]=e)}}},Nr=function(e){var i=e.type,n=e.sourceUpdater,r=e.action,o=e.doneFn,a=e.name;n.queue.push({type:i,action:r,doneFn:o,name:a}),XE(i,n)},RL=function(e,i){return function(n){if(i.queuePending[e]){var r=i.queuePending[e].doneFn;i.queuePending[e]=null,r&&r(i[e+"Error_"])}XE(e,i)}},sU=function(t){ye(e,t);function e(n){var r;return r=t.call(this)||this,r.mediaSource=n,r.sourceopenListener_=function(){return XE("mediaSource",re(r))},r.mediaSource.addEventListener("sourceopen",r.sourceopenListener_),r.logger_=Go("SourceUpdater"),r.audioTimestampOffset_=0,r.videoTimestampOffset_=0,r.queue=[],r.queuePending={audio:null,video:null},r.delayedAudioAppendQueue_=[],r.videoAppendQueued_=!1,r.codecs={},r.onVideoUpdateEnd_=RL("video",re(r)),r.onAudioUpdateEnd_=RL("audio",re(r)),r.onVideoError_=function(o){r.videoError_=o},r.onAudioError_=function(o){r.audioError_=o},r.createdSourceBuffers_=!1,r.initializedEme_=!1,r.triggeredReady_=!1,r}var i=e.prototype;return i.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},i.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},i.hasInitializedAnyEme=function(){return this.initializedEme_},i.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},i.createSourceBuffers=function(r){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(r),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},i.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},i.addSourceBuffer=function(r,o){Nr({type:"mediaSource",sourceUpdater:this,action:Fr.addSourceBuffer(r,o),name:"addSourceBuffer"})},i.abort=function(r){Nr({type:r,sourceUpdater:this,action:Fr.abort(r),name:"abort"})},i.removeSourceBuffer=function(r){if(!this.canRemoveSourceBuffer()){ee.log.error("removeSourceBuffer is not supported!");return}Nr({type:"mediaSource",sourceUpdater:this,action:Fr.removeSourceBuffer(r),name:"removeSourceBuffer"})},i.canRemoveSourceBuffer=function(){return!ee.browser.IE_VERSION&&!ee.browser.IS_FIREFOX&&Q.MediaSource&&Q.MediaSource.prototype&&typeof Q.MediaSource.prototype.removeSourceBuffer=="function"},e.canChangeType=function(){return Q.SourceBuffer&&Q.SourceBuffer.prototype&&typeof Q.SourceBuffer.prototype.changeType=="function"},i.canChangeType=function(){return this.constructor.canChangeType()},i.changeType=function(r,o){if(!this.canChangeType()){ee.log.error("changeType is not supported!");return}Nr({type:r,sourceUpdater:this,action:Fr.changeType(o),name:"changeType"})},i.addOrChangeSourceBuffers=function(r){var o=this;if(!r||typeof r!="object"||Object.keys(r).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(r).forEach(function(a){var s=r[a];if(!o.hasCreatedSourceBuffers())return o.addSourceBuffer(a,s);o.canChangeType()&&o.changeType(a,s)})},i.appendBuffer=function(r,o){var a=this,s=r.segmentInfo,l=r.type,c=r.bytes;if(this.processedAppend_=!0,l==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([r,o]),this.logger_("delayed audio append of "+c.length+" until video append");return}var d=o;if(Nr({type:l,sourceUpdater:this,action:Fr.appendBuffer(c,s||{mediaIndex:-1},d),doneFn:o,name:"appendBuffer"}),l==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var p=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+p.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,p.forEach(function(h){a.appendBuffer.apply(a,h)})}},i.audioBuffered=function(){return Zo(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:ee.createTimeRange()},i.videoBuffered=function(){return Zo(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:ee.createTimeRange()},i.buffered=function(){var r=Zo(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,o=Zo(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return o&&!r?this.audioBuffered():r&&!o?this.videoBuffered():n0e(this.audioBuffered(),this.videoBuffered())},i.setDuration=function(r,o){o===void 0&&(o=es),Nr({type:"mediaSource",sourceUpdater:this,action:Fr.duration(r),name:"duration",doneFn:o})},i.endOfStream=function(r,o){r===void 0&&(r=null),o===void 0&&(o=es),typeof r!="string"&&(r=void 0),Nr({type:"mediaSource",sourceUpdater:this,action:Fr.endOfStream(r),name:"endOfStream",doneFn:o})},i.removeAudio=function(r,o,a){if(a===void 0&&(a=es),!this.audioBuffered().length||this.audioBuffered().end(0)===0){a();return}Nr({type:"audio",sourceUpdater:this,action:Fr.remove(r,o),doneFn:a,name:"remove"})},i.removeVideo=function(r,o,a){if(a===void 0&&(a=es),!this.videoBuffered().length||this.videoBuffered().end(0)===0){a();return}Nr({type:"video",sourceUpdater:this,action:Fr.remove(r,o),doneFn:a,name:"remove"})},i.updating=function(){return!!(H2("audio",this)||H2("video",this))},i.audioTimestampOffset=function(r){return typeof r!="undefined"&&this.audioBuffer&&this.audioTimestampOffset_!==r&&(Nr({type:"audio",sourceUpdater:this,action:Fr.timestampOffset(r),name:"timestampOffset"}),this.audioTimestampOffset_=r),this.audioTimestampOffset_},i.videoTimestampOffset=function(r){return typeof r!="undefined"&&this.videoBuffer&&this.videoTimestampOffset!==r&&(Nr({type:"video",sourceUpdater:this,action:Fr.timestampOffset(r),name:"timestampOffset"}),this.videoTimestampOffset_=r),this.videoTimestampOffset_},i.audioQueueCallback=function(r){!this.audioBuffer||Nr({type:"audio",sourceUpdater:this,action:Fr.callback(r),name:"callback"})},i.videoQueueCallback=function(r){!this.videoBuffer||Nr({type:"video",sourceUpdater:this,action:Fr.callback(r),name:"callback"})},i.dispose=function(){var r=this;this.trigger("dispose"),Mve.forEach(function(o){r.abort(o),r.canRemoveSourceBuffer()?r.removeSourceBuffer(o):r[o+"QueueCallback"](function(){return aU(o,r)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},e}(ee.EventTarget),PL=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},LL=new Uint8Array(`

`.split("").map(function(t){return t.charCodeAt(0)})),Bve=function(t){ye(e,t);function e(n,r){var o;return r===void 0&&(r={}),o=t.call(this,n,r)||this,o.mediaSource_=null,o.subtitlesTrack_=null,o.loaderType_="subtitle",o.featuresNativeTextTracks_=n.featuresNativeTextTracks,o.shouldSaveSegmentTimingInfo_=!1,o}var i=e.prototype;return i.createTransmuxer_=function(){return null},i.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return ee.createTimeRanges();var r=this.subtitlesTrack_.cues,o=r[0].startTime,a=r[r.length-1].startTime;return ee.createTimeRanges([[o,a]])},i.initSegmentForMap=function(r,o){if(o===void 0&&(o=!1),!r)return null;var a=Gy(r),s=this.initSegments_[a];if(o&&!s&&r.bytes){var l=LL.byteLength+r.bytes.byteLength,c=new Uint8Array(l);c.set(r.bytes),c.set(LL,r.bytes.byteLength),this.initSegments_[a]=s={resolvedUri:r.resolvedUri,byterange:r.byterange,bytes:c}}return s||r},i.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.track=function(r){return typeof r=="undefined"?this.subtitlesTrack_:(this.subtitlesTrack_=r,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},i.remove=function(r,o){mh(r,o,this.subtitlesTrack_)},i.fillBuffer_=function(){var r=this,o=this.chooseNextRequest_();if(!!o){if(this.syncController_.timestampOffsetForTimeline(o.timeline)===null){var a=function(){r.state="READY",r.paused()||r.monitorBuffer_()};this.syncController_.one("timestampoffset",a),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(o)}},i.timestampOffsetForSegment_=function(){return null},i.chooseNextRequest_=function(){return this.skipEmptySegments_(t.prototype.chooseNextRequest_.call(this))},i.skipEmptySegments_=function(r){for(;r&&r.segment.empty;){if(r.mediaIndex+1>=r.playlist.segments.length){r=null;break}r=this.generateSegmentInfo_({playlist:r.playlist,mediaIndex:r.mediaIndex+1,startOfSegment:r.startOfSegment+r.duration,isSyncRequest:r.isSyncRequest})}return r},i.stopForError=function(r){this.error(r),this.state="READY",this.pause(),this.trigger("error")},i.segmentRequestFinished_=function(r,o,a){var s=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(o.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(r){r.code===oa.TIMEOUT&&this.handleTimeout_(),r.code===oa.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(r);return}var l=this.pendingSegment_;this.saveBandwidthRelatedStats_(l.duration,o.stats),this.state="APPENDING",this.trigger("appending");var c=l.segment;if(c.map&&(c.map.bytes=o.map.bytes),l.bytes=o.bytes,typeof Q.WebVTT!="function"&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var d,p=function(){s.subtitlesTrack_.tech_.off("vttjsloaded",d),s.stopForError({message:"Error loading vtt.js"})};d=function(){s.subtitlesTrack_.tech_.off("vttjserror",p),s.segmentRequestFinished_(r,o,a)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",d),this.subtitlesTrack_.tech_.one("vttjserror",p);return}c.requested=!0;try{this.parseVTTCues_(l)}catch(h){this.stopForError({message:h.message});return}if(this.updateTimeMapping_(l,this.syncController_.timelines[l.timeline],this.playlist_),l.cues.length?l.timingInfo={start:l.cues[0].startTime,end:l.cues[l.cues.length-1].endTime}:l.timingInfo={start:l.startOfSegment,end:l.startOfSegment+l.duration},l.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}l.byteLength=l.bytes.byteLength,this.mediaSecondsLoaded+=c.duration,l.cues.forEach(function(h){s.subtitlesTrack_.addCue(s.featuresNativeTextTracks_?new Q.VTTCue(h.startTime,h.endTime,h.text):h)}),kve(this.subtitlesTrack_),this.handleAppendsDone_()},i.handleData_=function(){},i.updateTimingInfoEnd_=function(){},i.parseVTTCues_=function(r){var o,a=!1;typeof Q.TextDecoder=="function"?o=new Q.TextDecoder("utf8"):(o=Q.WebVTT.StringDecoder(),a=!0);var s=new Q.WebVTT.Parser(Q,Q.vttjs,o);if(r.cues=[],r.timestampmap={MPEGTS:0,LOCAL:0},s.oncue=r.cues.push.bind(r.cues),s.ontimestampmap=function(d){r.timestampmap=d},s.onparsingerror=function(d){ee.log.warn("Error encountered when parsing cues: "+d.message)},r.segment.map){var l=r.segment.map.bytes;a&&(l=PL(l)),s.parse(l)}var c=r.bytes;a&&(c=PL(c)),s.parse(c),s.flush()},i.updateTimeMapping_=function(r,o,a){var s=r.segment;if(!!o){if(!r.cues.length){s.empty=!0;return}var l=r.timestampmap,c=l.MPEGTS/Iy.ONE_SECOND_IN_TS-l.LOCAL+o.mapping;if(r.cues.forEach(function(h){h.startTime+=c,h.endTime+=c}),!a.syncInfo){var d=r.cues[0].startTime,p=r.cues[r.cues.length-1].startTime;a.syncInfo={mediaSequence:a.mediaSequence+r.mediaIndex,time:Math.min(d,p-s.duration)}}}},e}(G2),Fve=function(e,i){for(var n=e.cues,r=0;r<n.length;r++){var o=n[r];if(i>=o.adStartTime&&i<=o.adEndTime)return o}return null},Nve=function(e,i,n){if(n===void 0&&(n=0),!!e.segments)for(var r=n,o,a=0;a<e.segments.length;a++){var s=e.segments[a];if(o||(o=Fve(i,r+s.duration/2)),o){if("cueIn"in s){o.endTime=r,o.adEndTime=r,r+=s.duration,o=null;continue}if(r<o.endTime){r+=s.duration;continue}o.endTime+=s.duration}else if("cueOut"in s&&(o=new Q.VTTCue(r,r+s.duration,s.cueOut),o.adStartTime=r,o.adEndTime=r+parseFloat(s.cueOut),i.addCue(o)),"cueOutCont"in s){var l=s.cueOutCont.split("/").map(parseFloat),c=l[0],d=l[1];o=new Q.VTTCue(r,r+s.duration,""),o.adStartTime=r-c,o.adEndTime=o.adStartTime+d,i.addCue(o)}r+=s.duration}},jve=86400,OL=[{name:"VOD",run:function(e,i,n,r,o){if(n!==1/0){var a={time:0,segmentIndex:0,partIndex:null};return a}return null}},{name:"ProgramDateTime",run:function(e,i,n,r,o){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var a=null,s=null,l=O2(i);o=o||0;for(var c=0;c<l.length;c++){var d=i.endList||o===0?c:l.length-(c+1),p=l[d],h=p.segment,m=e.timelineToDatetimeMappings[h.timeline];if(!(!m||!h.dateTimeObject)){var y=h.dateTimeObject.getTime()/1e3,w=y+m;if(h.parts&&typeof p.partIndex=="number")for(var g=0;g<p.partIndex;g++)w+=h.parts[g].duration;var A=Math.abs(o-w);if(s!==null&&(A===0||s<A))break;s=A,a={time:w,segmentIndex:p.segmentIndex,partIndex:p.partIndex}}}return a}},{name:"Segment",run:function(e,i,n,r,o){var a=null,s=null;o=o||0;for(var l=O2(i),c=0;c<l.length;c++){var d=i.endList||o===0?c:l.length-(c+1),p=l[d],h=p.segment,m=p.part&&p.part.start||h&&h.start;if(h.timeline===r&&typeof m!="undefined"){var y=Math.abs(o-m);if(s!==null&&s<y)break;(!a||s===null||s>=y)&&(s=y,a={time:m,segmentIndex:p.segmentIndex,partIndex:p.partIndex})}}return a}},{name:"Discontinuity",run:function(e,i,n,r,o){var a=null;if(o=o||0,i.discontinuityStarts&&i.discontinuityStarts.length)for(var s=null,l=0;l<i.discontinuityStarts.length;l++){var c=i.discontinuityStarts[l],d=i.discontinuitySequence+l+1,p=e.discontinuities[d];if(p){var h=Math.abs(o-p.time);if(s!==null&&s<h)break;(!a||s===null||s>=h)&&(s=h,a={time:p.time,segmentIndex:c,partIndex:null})}}return a}},{name:"Playlist",run:function(e,i,n,r,o){if(i.syncInfo){var a={time:i.syncInfo.time,segmentIndex:i.syncInfo.mediaSequence-i.mediaSequence,partIndex:null};return a}return null}}],Uve=function(t){ye(e,t);function e(n){var r;return r=t.call(this)||this,r.timelines=[],r.discontinuities=[],r.timelineToDatetimeMappings={},r.logger_=Go("SyncController"),r}var i=e.prototype;return i.getSyncPoint=function(r,o,a,s){var l=this.runStrategies_(r,o,a,s);return l.length?this.selectSyncPoint_(l,{key:"time",value:s}):null},i.getExpiredTime=function(r,o){if(!r||!r.segments)return null;var a=this.runStrategies_(r,o,r.discontinuitySequence,0);if(!a.length)return null;var s=this.selectSyncPoint_(a,{key:"segmentIndex",value:0});return s.segmentIndex>0&&(s.time*=-1),Math.abs(s.time+Dh({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:s.segmentIndex,endIndex:0}))},i.runStrategies_=function(r,o,a,s){for(var l=[],c=0;c<OL.length;c++){var d=OL[c],p=d.run(this,r,o,a,s);p&&(p.strategy=d.name,l.push({strategy:d.name,syncPoint:p}))}return l},i.selectSyncPoint_=function(r,o){for(var a=r[0].syncPoint,s=Math.abs(r[0].syncPoint[o.key]-o.value),l=r[0].strategy,c=1;c<r.length;c++){var d=Math.abs(r[c].syncPoint[o.key]-o.value);d<s&&(s=d,a=r[c].syncPoint,l=r[c].strategy)}return this.logger_("syncPoint for ["+o.key+": "+o.value+"] chosen with strategy"+(" ["+l+"]: [time:"+a.time+",")+(" segmentIndex:"+a.segmentIndex)+(typeof a.partIndex=="number"?",partIndex:"+a.partIndex:"")+"]"),a},i.saveExpiredSegmentInfo=function(r,o){var a=o.mediaSequence-r.mediaSequence;if(a>jve){ee.log.warn("Not saving expired segment info. Media sequence gap "+a+" is too large.");return}for(var s=a-1;s>=0;s--){var l=r.segments[s];if(l&&typeof l.start!="undefined"){o.syncInfo={mediaSequence:r.mediaSequence+s,time:l.start},this.logger_("playlist refresh sync: [time:"+o.syncInfo.time+","+(" mediaSequence: "+o.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},i.setDateTimeMappingForStart=function(r){if(this.timelineToDatetimeMappings={},r.segments&&r.segments.length&&r.segments[0].dateTimeObject){var o=r.segments[0],a=o.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[o.timeline]=-a}},i.saveSegmentTimingInfo=function(r){var o=r.segmentInfo,a=r.shouldSaveTimelineMapping,s=this.calculateSegmentTimeMapping_(o,o.timingInfo,a),l=o.segment;s&&(this.saveDiscontinuitySyncInfo_(o),o.playlist.syncInfo||(o.playlist.syncInfo={mediaSequence:o.playlist.mediaSequence+o.mediaIndex,time:l.start}));var c=l.dateTimeObject;l.discontinuity&&a&&c&&(this.timelineToDatetimeMappings[l.timeline]=-(c.getTime()/1e3))},i.timestampOffsetForTimeline=function(r){return typeof this.timelines[r]=="undefined"?null:this.timelines[r].time},i.mappingForTimeline=function(r){return typeof this.timelines[r]=="undefined"?null:this.timelines[r].mapping},i.calculateSegmentTimeMapping_=function(r,o,a){var s=r.segment,l=r.part,c=this.timelines[r.timeline],d,p;if(typeof r.timestampOffset=="number")c={time:r.startOfSegment,mapping:r.startOfSegment-o.start},a&&(this.timelines[r.timeline]=c,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+r.timeline+": "+("[time: "+c.time+"] [mapping: "+c.mapping+"]"))),d=r.startOfSegment,p=o.end+c.mapping;else if(c)d=o.start+c.mapping,p=o.end+c.mapping;else return!1;return l&&(l.start=d,l.end=p),(!s.start||d<s.start)&&(s.start=d),s.end=p,!0},i.saveDiscontinuitySyncInfo_=function(r){var o=r.playlist,a=r.segment;if(a.discontinuity)this.discontinuities[a.timeline]={time:a.start,accuracy:0};else if(o.discontinuityStarts&&o.discontinuityStarts.length)for(var s=0;s<o.discontinuityStarts.length;s++){var l=o.discontinuityStarts[s],c=o.discontinuitySequence+s+1,d=l-r.mediaIndex,p=Math.abs(d);if(!this.discontinuities[c]||this.discontinuities[c].accuracy>p){var h=void 0;d<0?h=a.start-Dh({defaultDuration:o.targetDuration,durationList:o.segments,startIndex:r.mediaIndex,endIndex:l}):h=a.end+Dh({defaultDuration:o.targetDuration,durationList:o.segments,startIndex:r.mediaIndex+1,endIndex:l}),this.discontinuities[c]={time:h,accuracy:p}}}},i.dispose=function(){this.trigger("dispose"),this.off()},e}(ee.EventTarget),Gve=function(t){ye(e,t);function e(){var n;return n=t.call(this)||this,n.pendingTimelineChanges_={},n.lastTimelineChanges_={},n}var i=e.prototype;return i.clearPendingTimelineChange=function(r){this.pendingTimelineChanges_[r]=null,this.trigger("pendingtimelinechange")},i.pendingTimelineChange=function(r){var o=r.type,a=r.from,s=r.to;return typeof a=="number"&&typeof s=="number"&&(this.pendingTimelineChanges_[o]={type:o,from:a,to:s},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[o]},i.lastTimelineChange=function(r){var o=r.type,a=r.from,s=r.to;return typeof a=="number"&&typeof s=="number"&&(this.lastTimelineChanges_[o]={type:o,from:a,to:s},delete this.pendingTimelineChanges_[o],this.trigger("timelinechange")),this.lastTimelineChanges_[o]},i.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(ee.EventTarget),Hve=$j(Qj(function(){function t(w,g,A){return A={path:g,exports:{},require:function(T,E){return e(T,E==null?A.path:E)}},w(A,A.exports),A.exports}function e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var i=t(function(w){function g(x,T){for(var E=0;E<T.length;E++){var z=T[E];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(x,z.key,z)}}function A(x,T,E){return T&&g(x.prototype,T),E&&g(x,E),x}w.exports=A,w.exports.default=w.exports,w.exports.__esModule=!0}),n=t(function(w){function g(A,x){return w.exports=g=Object.setPrototypeOf||function(E,z){return E.__proto__=z,E},w.exports.default=w.exports,w.exports.__esModule=!0,g(A,x)}w.exports=g,w.exports.default=w.exports,w.exports.__esModule=!0}),r=t(function(w){function g(A,x){A.prototype=Object.create(x.prototype),A.prototype.constructor=A,n(A,x)}w.exports=g,w.exports.default=w.exports,w.exports.__esModule=!0}),o=function(){function w(){this.listeners={}}var g=w.prototype;return g.on=function(x,T){this.listeners[x]||(this.listeners[x]=[]),this.listeners[x].push(T)},g.off=function(x,T){if(!this.listeners[x])return!1;var E=this.listeners[x].indexOf(T);return this.listeners[x]=this.listeners[x].slice(0),this.listeners[x].splice(E,1),E>-1},g.trigger=function(x){var T=this.listeners[x];if(!!T)if(arguments.length===2)for(var E=T.length,z=0;z<E;++z)T[z].call(this,arguments[1]);else for(var M=Array.prototype.slice.call(arguments,1),B=T.length,L=0;L<B;++L)T[L].apply(this,M)},g.dispose=function(){this.listeners={}},g.pipe=function(x){this.on("data",function(T){x.push(T)})},w}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function a(w){return w.subarray(0,w.byteLength-w[w.byteLength-1])}/*! @name aes-decrypter @version 3.1.2 @license Apache-2.0 */var s=function(){var g=[[[],[],[],[],[]],[[],[],[],[],[]]],A=g[0],x=g[1],T=A[4],E=x[4],z,M,B,L=[],F=[],H,X,de,we,Ee,ke;for(z=0;z<256;z++)F[(L[z]=z<<1^(z>>7)*283)^z]=z;for(M=B=0;!T[M];M^=H||1,B=F[B]||1)for(we=B^B<<1^B<<2^B<<3^B<<4,we=we>>8^we&255^99,T[M]=we,E[we]=M,de=L[X=L[H=L[M]]],ke=de*16843009^X*65537^H*257^M*16843008,Ee=L[we]*257^we*16843008,z=0;z<4;z++)A[z][M]=Ee=Ee<<24^Ee>>>8,x[z][we]=ke=ke<<24^ke>>>8;for(z=0;z<5;z++)A[z]=A[z].slice(0),x[z]=x[z].slice(0);return g},l=null,c=function(){function w(A){l||(l=s()),this._tables=[[l[0][0].slice(),l[0][1].slice(),l[0][2].slice(),l[0][3].slice(),l[0][4].slice()],[l[1][0].slice(),l[1][1].slice(),l[1][2].slice(),l[1][3].slice(),l[1][4].slice()]];var x,T,E,z=this._tables[0][4],M=this._tables[1],B=A.length,L=1;if(B!==4&&B!==6&&B!==8)throw new Error("Invalid aes key size");var F=A.slice(0),H=[];for(this._key=[F,H],x=B;x<4*B+28;x++)E=F[x-1],(x%B===0||B===8&&x%B===4)&&(E=z[E>>>24]<<24^z[E>>16&255]<<16^z[E>>8&255]<<8^z[E&255],x%B===0&&(E=E<<8^E>>>24^L<<24,L=L<<1^(L>>7)*283)),F[x]=F[x-B]^E;for(T=0;x;T++,x--)E=F[T&3?x:x-4],x<=4||T<4?H[T]=E:H[T]=M[0][z[E>>>24]]^M[1][z[E>>16&255]]^M[2][z[E>>8&255]]^M[3][z[E&255]]}var g=w.prototype;return g.decrypt=function(x,T,E,z,M,B){var L=this._key[1],F=x^L[0],H=z^L[1],X=E^L[2],de=T^L[3],we,Ee,ke,Be=L.length/4-2,De,We=4,Pe=this._tables[1],Oe=Pe[0],se=Pe[1],Z=Pe[2],ce=Pe[3],te=Pe[4];for(De=0;De<Be;De++)we=Oe[F>>>24]^se[H>>16&255]^Z[X>>8&255]^ce[de&255]^L[We],Ee=Oe[H>>>24]^se[X>>16&255]^Z[de>>8&255]^ce[F&255]^L[We+1],ke=Oe[X>>>24]^se[de>>16&255]^Z[F>>8&255]^ce[H&255]^L[We+2],de=Oe[de>>>24]^se[F>>16&255]^Z[H>>8&255]^ce[X&255]^L[We+3],We+=4,F=we,H=Ee,X=ke;for(De=0;De<4;De++)M[(3&-De)+B]=te[F>>>24]<<24^te[H>>16&255]<<16^te[X>>8&255]<<8^te[de&255]^L[We++],we=F,F=H,H=X,X=de,de=we},w}(),d=function(w){r(g,w);function g(){var x;return x=w.call(this,o)||this,x.jobs=[],x.delay=1,x.timeout_=null,x}var A=g.prototype;return A.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},A.push=function(T){this.jobs.push(T),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},g}(o),p=function(g){return g<<24|(g&65280)<<8|(g&16711680)>>8|g>>>24},h=function(g,A,x){var T=new Int32Array(g.buffer,g.byteOffset,g.byteLength>>2),E=new c(Array.prototype.slice.call(A)),z=new Uint8Array(g.byteLength),M=new Int32Array(z.buffer),B,L,F,H,X,de,we,Ee,ke;for(B=x[0],L=x[1],F=x[2],H=x[3],ke=0;ke<T.length;ke+=4)X=p(T[ke]),de=p(T[ke+1]),we=p(T[ke+2]),Ee=p(T[ke+3]),E.decrypt(X,de,we,Ee,M,ke),M[ke]=p(M[ke]^B),M[ke+1]=p(M[ke+1]^L),M[ke+2]=p(M[ke+2]^F),M[ke+3]=p(M[ke+3]^H),B=X,L=de,F=we,H=Ee;return z},m=function(){function w(A,x,T,E){var z=w.STEP,M=new Int32Array(A.buffer),B=new Uint8Array(A.byteLength),L=0;for(this.asyncStream_=new d,this.asyncStream_.push(this.decryptChunk_(M.subarray(L,L+z),x,T,B)),L=z;L<M.length;L+=z)T=new Uint32Array([p(M[L-4]),p(M[L-3]),p(M[L-2]),p(M[L-1])]),this.asyncStream_.push(this.decryptChunk_(M.subarray(L,L+z),x,T,B));this.asyncStream_.push(function(){E(null,a(B))})}var g=w.prototype;return g.decryptChunk_=function(x,T,E,z){return function(){var M=h(x,T,E);z.set(M,x.byteOffset)}},i(w,null,[{key:"STEP",get:function(){return 32e3}}]),w}(),y=function(g){var A={};return Object.keys(g).forEach(function(x){var T=g[x];ArrayBuffer.isView(T)?A[x]={bytes:T.buffer,byteOffset:T.byteOffset,byteLength:T.byteLength}:A[x]=T}),A};self.onmessage=function(w){var g=w.data,A=new Uint8Array(g.encrypted.bytes,g.encrypted.byteOffset,g.encrypted.byteLength),x=new Uint32Array(g.key.bytes,g.key.byteOffset,g.key.byteLength/4),T=new Uint32Array(g.iv.bytes,g.iv.byteOffset,g.iv.byteLength/4);new m(A,x,T,function(E,z){self.postMessage(y({source:g.source,decrypted:z}),[z.buffer])})}})),Yve=Vj(Hve),Wve=function(e){var i=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(i="main-desc"),i},Vy=function(e,i){e.abort(),e.pause(),i&&i.activePlaylistLoader&&(i.activePlaylistLoader.pause(),i.activePlaylistLoader=null)},Y2=function(e,i){i.activePlaylistLoader=e,e.load()},Vve=function(e,i){return function(){var n=i.segmentLoaders,r=n[e],o=n.main,a=i.mediaTypes[e],s=a.activeTrack(),l=a.getActiveGroup(),c=a.activePlaylistLoader,d=a.lastGroup_;if(!(l&&d&&l.id===d.id)&&(a.lastGroup_=l,a.lastTrack_=s,Vy(r,a),!(!l||l.isMasterPlaylist))){if(!l.playlistLoader){c&&o.resetEverything();return}r.resyncLoader(),Y2(l.playlistLoader,a)}}},$ve=function(e,i){return function(){var n=i.segmentLoaders[e],r=i.mediaTypes[e];r.lastGroup_=null,n.abort(),n.pause()}},Qve=function(e,i){return function(){var n=i.masterPlaylistLoader,r=i.segmentLoaders,o=r[e],a=r.main,s=i.mediaTypes[e],l=s.activeTrack(),c=s.getActiveGroup(),d=s.activePlaylistLoader,p=s.lastTrack_;if(!(p&&l&&p.id===l.id)&&(s.lastGroup_=c,s.lastTrack_=l,Vy(o,s),!!c)){if(c.isMasterPlaylist){if(!l||!p||l.id===p.id)return;var h=i.vhs.masterPlaylistController_,m=h.selectPlaylist();if(h.media()===m)return;s.logger_("track change. Switching master audio from "+p.id+" to "+l.id),n.pause(),a.resetEverything(),h.fastQualityChange_(m);return}if(e==="AUDIO"){if(!c.playlistLoader){a.setAudio(!0),a.resetEverything();return}o.setAudio(!0),a.setAudio(!1)}if(d===c.playlistLoader){Y2(c.playlistLoader,s);return}o.track&&o.track(l),o.resetEverything(),Y2(c.playlistLoader,s)}}},$y={AUDIO:function(e,i){return function(){var n=i.segmentLoaders[e],r=i.mediaTypes[e],o=i.blacklistCurrentPlaylist;Vy(n,r);var a=r.activeTrack(),s=r.activeGroup(),l=(s.filter(function(p){return p.default})[0]||s[0]).id,c=r.tracks[l];if(a===c){o({message:"Problem encountered loading the default audio track."});return}ee.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var d in r.tracks)r.tracks[d].enabled=r.tracks[d]===c;r.onTrackChanged()}},SUBTITLES:function(e,i){return function(){var n=i.segmentLoaders[e],r=i.mediaTypes[e];ee.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Vy(n,r);var o=r.activeTrack();o&&(o.mode="disabled"),r.onTrackChanged()}}},ML={AUDIO:function(e,i,n){if(!!i){var r=n.tech,o=n.requestOptions,a=n.segmentLoaders[e];i.on("loadedmetadata",function(){var s=i.media();a.playlist(s,o),(!r.paused()||s.endList&&r.preload()!=="none")&&a.load()}),i.on("loadedplaylist",function(){a.playlist(i.media(),o),r.paused()||a.load()}),i.on("error",$y[e](e,n))}},SUBTITLES:function(e,i,n){var r=n.tech,o=n.requestOptions,a=n.segmentLoaders[e],s=n.mediaTypes[e];i.on("loadedmetadata",function(){var l=i.media();a.playlist(l,o),a.track(s.activeTrack()),(!r.paused()||l.endList&&r.preload()!=="none")&&a.load()}),i.on("loadedplaylist",function(){a.playlist(i.media(),o),r.paused()||a.load()}),i.on("error",$y[e](e,n))}},qve={AUDIO:function(e,i){var n=i.vhs,r=i.sourceType,o=i.segmentLoaders[e],a=i.requestOptions,s=i.master.mediaGroups,l=i.mediaTypes[e],c=l.groups,d=l.tracks,p=l.logger_,h=i.masterPlaylistLoader,m=Fg(h.master);(!s[e]||Object.keys(s[e]).length===0)&&(s[e]={main:{default:{default:!0}}},m&&(s[e].main.default.playlists=h.master.playlists));for(var y in s[e]){c[y]||(c[y]=[]);for(var w in s[e][y]){var g=s[e][y][w],A=void 0;if(m?(p("AUDIO group '"+y+"' label '"+w+"' is a master playlist"),g.isMasterPlaylist=!0,A=null):r==="vhs-json"&&g.playlists?A=new pd(g.playlists[0],n,a):g.resolvedUri?A=new pd(g.resolvedUri,n,a):g.playlists&&r==="dash"?A=new j2(g.playlists[0],n,a,h):A=null,g=ee.mergeOptions({id:w,playlistLoader:A},g),ML[e](e,g.playlistLoader,i),c[y].push(g),typeof d[w]=="undefined"){var x=new ee.AudioTrack({id:w,kind:Wve(g),enabled:!1,language:g.language,default:g.default,label:w});d[w]=x}}}o.on("error",$y[e](e,i))},SUBTITLES:function(e,i){var n=i.tech,r=i.vhs,o=i.sourceType,a=i.segmentLoaders[e],s=i.requestOptions,l=i.master.mediaGroups,c=i.mediaTypes[e],d=c.groups,p=c.tracks,h=i.masterPlaylistLoader;for(var m in l[e]){d[m]||(d[m]=[]);for(var y in l[e][m])if(!l[e][m][y].forced){var w=l[e][m][y],g=void 0;if(o==="hls")g=new pd(w.resolvedUri,r,s);else if(o==="dash"){var A=w.playlists.filter(function(T){return T.excludeUntil!==1/0});if(!A.length)return;g=new j2(w.playlists[0],r,s,h)}else o==="vhs-json"&&(g=new pd(w.playlists?w.playlists[0]:w.resolvedUri,r,s));if(w=ee.mergeOptions({id:y,playlistLoader:g},w),ML[e](e,w.playlistLoader,i),d[m].push(w),typeof p[y]=="undefined"){var x=n.addRemoteTextTrack({id:y,kind:"subtitles",default:w.default&&w.autoselect,language:w.language,label:y},!1).track;p[y]=x}}}a.on("error",$y[e](e,i))},"CLOSED-CAPTIONS":function(e,i){var n=i.tech,r=i.master.mediaGroups,o=i.mediaTypes[e],a=o.groups,s=o.tracks;for(var l in r[e]){a[l]||(a[l]=[]);for(var c in r[e][l]){var d=r[e][l][c];if(!!/^(?:CC|SERVICE)/.test(d.instreamId)){var p=n.options_.vhs&&n.options_.vhs.captionServices||{},h={label:c,language:d.language,instreamId:d.instreamId,default:d.default&&d.autoselect};if(p[h.instreamId]&&(h=ee.mergeOptions(h,p[h.instreamId])),h.default===void 0&&delete h.default,a[l].push(ee.mergeOptions({id:c},d)),typeof s[c]=="undefined"){var m=n.addRemoteTextTrack({id:h.instreamId,kind:"captions",default:h.default,language:h.language,label:h.label},!1).track;s[c]=m}}}}}},Kve=function t(e,i){for(var n=0;n<e.length;n++)if($E(i,e[n])||e[n].playlists&&t(e[n].playlists,i))return!0;return!1},Xve=function(e,i){return function(n){var r=i.masterPlaylistLoader,o=i.mediaTypes[e].groups,a=r.media();if(!a)return null;var s=null;a.attributes[e]&&(s=o[a.attributes[e]]);var l=Object.keys(o);if(!s)if(e==="AUDIO"&&l.length>1&&Fg(i.master))for(var c=0;c<l.length;c++){var d=o[l[c]];if(Kve(d,a)){s=d;break}}else o.main?s=o.main:l.length===1&&(s=o[l[0]]);return typeof n=="undefined"?s:n===null||!s?null:s.filter(function(p){return p.id===n.id})[0]||null}},Jve={AUDIO:function(e,i){return function(){var n=i.mediaTypes[e].tracks;for(var r in n)if(n[r].enabled)return n[r];return null}},SUBTITLES:function(e,i){return function(){var n=i.mediaTypes[e].tracks;for(var r in n)if(n[r].mode==="showing"||n[r].mode==="hidden")return n[r];return null}}},Zve=function(e,i){var n=i.mediaTypes;return function(){var r=n[e].activeTrack();return r?n[e].activeGroup(r):null}},eye=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(y){qve[y](y,e)});var i=e.mediaTypes,n=e.masterPlaylistLoader,r=e.tech,o=e.vhs,a=e.segmentLoaders,s=a.AUDIO,l=a.main;["AUDIO","SUBTITLES"].forEach(function(y){i[y].activeGroup=Xve(y,e),i[y].activeTrack=Jve[y](y,e),i[y].onGroupChanged=Vve(y,e),i[y].onGroupChanging=$ve(y,e),i[y].onTrackChanged=Qve(y,e),i[y].getActiveGroup=Zve(y,e)});var c=i.AUDIO.activeGroup();if(c){var d=(c.filter(function(y){return y.default})[0]||c[0]).id;i.AUDIO.tracks[d].enabled=!0,i.AUDIO.onGroupChanged(),i.AUDIO.onTrackChanged();var p=i.AUDIO.getActiveGroup();p.playlistLoader?(l.setAudio(!1),s.setAudio(!0)):l.setAudio(!0)}n.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(y){return i[y].onGroupChanged()})}),n.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(y){return i[y].onGroupChanging()})});var h=function(){i.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"}),r.trigger({type:"usage",name:"hls-audio-change"})};r.audioTracks().addEventListener("change",h),r.remoteTextTracks().addEventListener("change",i.SUBTITLES.onTrackChanged),o.on("dispose",function(){r.audioTracks().removeEventListener("change",h),r.remoteTextTracks().removeEventListener("change",i.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(var m in i.AUDIO.tracks)r.audioTracks().addTrack(i.AUDIO.tracks[m])},tye=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(i){e[i]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:es,activeTrack:es,getActiveGroup:es,onGroupChanged:es,onTrackChanged:es,lastTrack_:null,logger_:Go("MediaGroups["+i+"]")}}),e},iye=60*2,Ya,nye=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],rye=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},oye=function(e){var i=e.currentPlaylist,n=e.buffered,r=e.currentTime,o=e.nextPlaylist,a=e.bufferLowWaterLine,s=e.bufferHighWaterLine,l=e.duration,c=e.experimentalBufferBasedABR,d=e.log;if(!o)return ee.log.warn("We received no playlist to switch to. Please check your stream."),!1;var p="allowing switch "+(i&&i.id||"null")+" -> "+o.id;if(!i)return d(p+" as current playlist is not set"),!0;if(o.id===i.id)return!1;var h=Boolean(fd(n,r).length);if(!i.endList)return!h&&typeof i.partTargetDuration=="number"?(d("not "+p+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(d(p+" as current playlist is live"),!0);var m=YE(n,r),y=c?Qi.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Qi.MAX_BUFFER_LOW_WATER_LINE;if(l<y)return d(p+" as duration < max low water line ("+l+" < "+y+")"),!0;var w=o.attributes.BANDWIDTH,g=i.attributes.BANDWIDTH;if(w<g&&(!c||m<s)){var A=p+" as next bandwidth < current bandwidth ("+w+" < "+g+")";return c&&(A+=" and forwardBuffer < bufferHighWaterLine ("+m+" < "+s+")"),d(A),!0}if((!c||w>g)&&m>=a){var x=p+" as forwardBuffer >= bufferLowWaterLine ("+m+" >= "+a+")";return c&&(x+=" and next bandwidth > current bandwidth ("+w+" > "+g+")"),d(x),!0}return d("not "+p+" as no switching criteria met"),!1},aye=function(t){ye(e,t);function e(n){var r;r=t.call(this)||this;var o=n.src,a=n.handleManifestRedirects,s=n.withCredentials,l=n.tech,c=n.bandwidth,d=n.externVhs,p=n.useCueTags,h=n.blacklistDuration,m=n.enableLowInitialPlaylist,y=n.sourceType,w=n.cacheEncryptionKeys,g=n.experimentalBufferBasedABR,A=n.experimentalLeastPixelDiffSelector,x=n.captionServices;if(!o)throw new Error("A non-empty playlist URL or JSON manifest string is required");var T=n.maxPlaylistRetries;(T===null||typeof T=="undefined")&&(T=1/0),Ya=d,r.experimentalBufferBasedABR=Boolean(g),r.experimentalLeastPixelDiffSelector=Boolean(A),r.withCredentials=s,r.tech_=l,r.vhs_=l.vhs,r.sourceType_=y,r.useCueTags_=p,r.blacklistDuration=h,r.maxPlaylistRetries=T,r.enableLowInitialPlaylist=m,r.useCueTags_&&(r.cueTagsTrack_=r.tech_.addTextTrack("metadata","ad-cues"),r.cueTagsTrack_.inBandMetadataTrackDispatchType=""),r.requestOptions_={withCredentials:s,handleManifestRedirects:a,maxPlaylistRetries:T,timeout:null},r.on("error",r.pauseLoading),r.mediaTypes_=tye(),r.mediaSource=new Q.MediaSource,r.handleDurationChange_=r.handleDurationChange_.bind(re(r)),r.handleSourceOpen_=r.handleSourceOpen_.bind(re(r)),r.handleSourceEnded_=r.handleSourceEnded_.bind(re(r)),r.mediaSource.addEventListener("durationchange",r.handleDurationChange_),r.mediaSource.addEventListener("sourceopen",r.handleSourceOpen_),r.mediaSource.addEventListener("sourceended",r.handleSourceEnded_),r.seekable_=ee.createTimeRanges(),r.hasPlayed_=!1,r.syncController_=new Uve(n),r.segmentMetadataTrack_=l.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,r.decrypter_=new Yve,r.sourceUpdater_=new sU(r.mediaSource),r.inbandTextTracks_={},r.timelineChangeController_=new Gve;var E={vhs:r.vhs_,parse708captions:n.parse708captions,captionServices:x,mediaSource:r.mediaSource,currentTime:r.tech_.currentTime.bind(r.tech_),seekable:function(){return r.seekable()},seeking:function(){return r.tech_.seeking()},duration:function(){return r.duration()},hasPlayed:function(){return r.hasPlayed_},goalBufferLength:function(){return r.goalBufferLength()},bandwidth:c,syncController:r.syncController_,decrypter:r.decrypter_,sourceType:r.sourceType_,inbandTextTracks:r.inbandTextTracks_,cacheEncryptionKeys:w,sourceUpdater:r.sourceUpdater_,timelineChangeController:r.timelineChangeController_,experimentalExactManifestTimings:n.experimentalExactManifestTimings};r.masterPlaylistLoader_=r.sourceType_==="dash"?new j2(o,r.vhs_,r.requestOptions_):new pd(o,r.vhs_,r.requestOptions_),r.setupMasterPlaylistLoaderListeners_(),r.mainSegmentLoader_=new G2(ee.mergeOptions(E,{segmentMetadataTrack:r.segmentMetadataTrack_,loaderType:"main"}),n),r.audioSegmentLoader_=new G2(ee.mergeOptions(E,{loaderType:"audio"}),n),r.subtitleSegmentLoader_=new Bve(ee.mergeOptions(E,{loaderType:"vtt",featuresNativeTextTracks:r.tech_.featuresNativeTextTracks}),n),r.setupSegmentLoaderListeners_(),r.experimentalBufferBasedABR&&(r.masterPlaylistLoader_.one("loadedplaylist",function(){return r.startABRTimer_()}),r.tech_.on("pause",function(){return r.stopABRTimer_()}),r.tech_.on("play",function(){return r.startABRTimer_()})),nye.forEach(function(M){r[M+"_"]=rye.bind(re(r),M)}),r.logger_=Go("MPC"),r.triggeredFmp4Usage=!1,r.tech_.preload()==="none"?(r.loadOnPlay_=function(){r.loadOnPlay_=null,r.masterPlaylistLoader_.load()},r.tech_.one("play",r.loadOnPlay_)):r.masterPlaylistLoader_.load(),r.timeToLoadedData__=-1,r.mainAppendsToLoadedData__=-1,r.audioAppendsToLoadedData__=-1;var z=r.tech_.preload()==="none"?"play":"loadstart";return r.tech_.one(z,function(){var M=Date.now();r.tech_.one("loadeddata",function(){r.timeToLoadedData__=Date.now()-M,r.mainAppendsToLoadedData__=r.mainSegmentLoader_.mediaAppends,r.audioAppendsToLoadedData__=r.audioSegmentLoader_.mediaAppends})}),r}var i=e.prototype;return i.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},i.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},i.appendsToLoadedData_=function(){var r=this.mainAppendsToLoadedData_(),o=this.audioAppendsToLoadedData_();return r===-1||o===-1?-1:r+o},i.timeToLoadedData_=function(){return this.timeToLoadedData__},i.checkABR_=function(){var r=this.selectPlaylist();r&&this.shouldSwitchToMedia_(r)&&this.switchMedia_(r,"abr")},i.switchMedia_=function(r,o,a){var s=this.media(),l=s&&(s.id||s.uri),c=r.id||r.uri;l&&l!==c&&(this.logger_("switch media "+l+" -> "+c+" from "+o),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+o})),this.masterPlaylistLoader_.media(r,a)},i.startABRTimer_=function(){var r=this;this.stopABRTimer_(),this.abrTimer_=Q.setInterval(function(){return r.checkABR_()},250)},i.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(Q.clearInterval(this.abrTimer_),this.abrTimer_=null)},i.getAudioTrackPlaylists_=function(){var r=this.master(),o=r&&r.playlists||[];if(!r||!r.mediaGroups||!r.mediaGroups.AUDIO)return o;var a=r.mediaGroups.AUDIO,s=Object.keys(a),l;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)l=this.mediaTypes_.AUDIO.activeTrack();else{var c=a.main||s.length&&a[s[0]];for(var d in c)if(c[d].default){l={label:d};break}}if(!l)return o;var p=[];for(var h in a)if(a[h][l.label]){var m=a[h][l.label];if(m.playlists&&m.playlists.length)p.push.apply(p,m.playlists);else if(m.uri)p.push(m);else if(r.playlists.length)for(var y=0;y<r.playlists.length;y++){var w=r.playlists[y];w.attributes&&w.attributes.AUDIO&&w.attributes.AUDIO===h&&p.push(w)}}return p.length?p:o},i.setupMasterPlaylistLoaderListeners_=function(){var r=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var o=r.masterPlaylistLoader_.media(),a=o.targetDuration*1.5*1e3;M2(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.media())?r.requestOptions_.timeout=0:r.requestOptions_.timeout=a,o.endList&&r.tech_.preload()!=="none"&&(r.mainSegmentLoader_.playlist(o,r.requestOptions_),r.mainSegmentLoader_.load()),eye({sourceType:r.sourceType_,segmentLoaders:{AUDIO:r.audioSegmentLoader_,SUBTITLES:r.subtitleSegmentLoader_,main:r.mainSegmentLoader_},tech:r.tech_,requestOptions:r.requestOptions_,masterPlaylistLoader:r.masterPlaylistLoader_,vhs:r.vhs_,master:r.master(),mediaTypes:r.mediaTypes_,blacklistCurrentPlaylist:r.blacklistCurrentPlaylist.bind(r)}),r.triggerPresenceUsage_(r.master(),o),r.setupFirstPlay(),!r.mediaTypes_.AUDIO.activePlaylistLoader||r.mediaTypes_.AUDIO.activePlaylistLoader.media()?r.trigger("selectedinitialmedia"):r.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){r.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){r.loadOnPlay_&&r.tech_.off("play",r.loadOnPlay_);var o=r.masterPlaylistLoader_.media();if(!o){r.excludeUnsupportedVariants_();var a;if(r.enableLowInitialPlaylist&&(a=r.selectInitialPlaylist()),a||(a=r.selectPlaylist()),!a||!r.shouldSwitchToMedia_(a))return;r.initialMedia_=a,r.switchMedia_(r.initialMedia_,"initial");var s=r.sourceType_==="vhs-json"&&r.initialMedia_.segments;if(!s)return;o=r.initialMedia_}r.handleUpdatedMediaPlaylist(o)}),this.masterPlaylistLoader_.on("error",function(){r.blacklistCurrentPlaylist(r.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){r.mainSegmentLoader_.abort(),r.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var o=r.masterPlaylistLoader_.media(),a=o.targetDuration*1.5*1e3;M2(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.media())?r.requestOptions_.timeout=0:r.requestOptions_.timeout=a,r.mainSegmentLoader_.playlist(o,r.requestOptions_),r.mainSegmentLoader_.load(),r.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var o=r.masterPlaylistLoader_.media();if(o.lastExcludeReason_!=="playlist-unchanged"){var a=r.stuckAtPlaylistEnd_(o);a&&(r.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),r.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){r.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),r.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){r.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),r.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},i.handleUpdatedMediaPlaylist=function(r){this.useCueTags_&&this.updateAdCues_(r),this.mainSegmentLoader_.playlist(r,this.requestOptions_),this.updateDuration(!r.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},i.triggerPresenceUsage_=function(r,o){var a=r.mediaGroups||{},s=!0,l=Object.keys(a.AUDIO);for(var c in a.AUDIO)for(var d in a.AUDIO[c]){var p=a.AUDIO[c][d];p.uri||(s=!1)}s&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(a.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),Ya.Playlist.isAes(o)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),l.length&&Object.keys(a.AUDIO[l[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},i.shouldSwitchToMedia_=function(r){var o=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,a=this.tech_.currentTime(),s=this.bufferLowWaterLine(),l=this.bufferHighWaterLine(),c=this.tech_.buffered();return oye({buffered:c,currentTime:a,currentPlaylist:o,nextPlaylist:r,bufferLowWaterLine:s,bufferHighWaterLine:l,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},i.setupSegmentLoaderListeners_=function(){var r=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",function(){var a=r.selectPlaylist();r.shouldSwitchToMedia_(a)&&r.switchMedia_(a,"bandwidthupdate"),r.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){r.trigger("progress")})),this.mainSegmentLoader_.on("error",function(){r.blacklistCurrentPlaylist(r.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){r.error=r.mainSegmentLoader_.error_,r.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){r.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){r.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),r.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){r.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){r.error=r.audioSegmentLoader_.error_,r.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){r.logger_("main segment loader ended"),r.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(a){r.experimentalBufferBasedABR||(r.delegateLoaders_("all",["abort"]),r.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},iye))});var o=function(){if(!r.sourceUpdater_.hasCreatedSourceBuffers())return r.tryToCreateSourceBuffers_();var s=r.getCodecsOrExclude_();!s||r.sourceUpdater_.addOrChangeSourceBuffers(s)};this.mainSegmentLoader_.on("trackinfo",o),this.audioSegmentLoader_.on("trackinfo",o),this.mainSegmentLoader_.on("fmp4",function(){r.triggeredFmp4Usage||(r.tech_.trigger({type:"usage",name:"vhs-fmp4"}),r.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){r.triggeredFmp4Usage||(r.tech_.trigger({type:"usage",name:"vhs-fmp4"}),r.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){r.logger_("audioSegmentLoader ended"),r.onEndOfStream()})},i.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},i.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},i.smoothQualityChange_=function(r){r===void 0&&(r=this.selectPlaylist()),this.fastQualityChange_(r)},i.fastQualityChange_=function(r){var o=this;if(r===void 0&&(r=this.selectPlaylist()),r===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(r,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){ee.browser.IE_VERSION||ee.browser.IS_EDGE?o.tech_.setCurrentTime(o.tech_.currentTime()+.04):o.tech_.setCurrentTime(o.tech_.currentTime())})},i.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var r=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<r.start(0))return this.tech_.setCurrentTime(r.end(r.length-1))}},i.setupFirstPlay=function(){var r=this,o=this.masterPlaylistLoader_.media();if(!o||this.tech_.paused()||this.hasPlayed_)return!1;if(!o.endList){var a=this.seekable();if(!a.length)return!1;if(ee.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){r.trigger("firstplay"),r.tech_.setCurrentTime(a.end(0)),r.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(a.end(0))}return this.hasPlayed_=!0,this.load(),!0},i.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var r=this.tech_.play();typeof r!="undefined"&&typeof r.then=="function"&&r.then(null,function(o){})}this.trigger("sourceopen")},i.handleSourceEnded_=function(){if(!!this.inbandTextTracks_.metadataTrack_){var r=this.inbandTextTracks_.metadataTrack_.cues;if(!(!r||!r.length)){var o=this.duration();r[r.length-1].endTime=isNaN(o)||Math.abs(o)===1/0?Number.MAX_VALUE:o}}},i.handleDurationChange_=function(){this.tech_.trigger("durationchange")},i.onEndOfStream=function(){var r=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var o=this.mainSegmentLoader_.getCurrentMediaInfo_();!o||o.hasVideo?r=r&&this.audioSegmentLoader_.ended_:r=this.audioSegmentLoader_.ended_}!r||(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},i.stuckAtPlaylistEnd_=function(r){var o=this.seekable();if(!o.length)return!1;var a=this.syncController_.getExpiredTime(r,this.duration());if(a===null)return!1;var s=Ya.Playlist.playlistEnd(r,a),l=this.tech_.currentTime(),c=this.tech_.buffered();if(!c.length)return s-l<=ra;var d=c.end(c.length-1);return d-l<=ra&&s-d<=ra},i.blacklistCurrentPlaylist=function(r,o){r===void 0&&(r={});var a=r.playlist||this.masterPlaylistLoader_.media();if(o=o||r.blacklistDuration||this.blacklistDuration,!a){this.error=r,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}a.playlistErrors_++;var s=this.masterPlaylistLoader_.master.playlists,l=s.filter(PA),c=l.length===1&&l[0]===a;if(s.length===1&&o!==1/0)return ee.log.warn("Problem encountered with playlist "+a.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(c);if(c){var d=!1;s.forEach(function(A){if(A!==a){var x=A.excludeUntil;typeof x!="undefined"&&x!==1/0&&(d=!0,delete A.excludeUntil)}}),d&&(ee.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var p;a.playlistErrors_>this.maxPlaylistRetries?p=1/0:p=Date.now()+o*1e3,a.excludeUntil=p,r.reason&&(a.lastExcludeReason_=r.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var h=this.selectPlaylist();if(!h){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var m=r.internal?this.logger_:ee.log.warn,y=r.message?" "+r.message:"";m((r.internal?"Internal problem":"Problem")+" encountered with playlist "+a.id+"."+(y+" Switching to playlist "+h.id+".")),h.attributes.AUDIO!==a.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),h.attributes.SUBTITLES!==a.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var w=h.targetDuration/2*1e3||5*1e3,g=typeof h.lastRequest=="number"&&Date.now()-h.lastRequest<=w;return this.switchMedia_(h,"exclude",c||g)},i.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},i.delegateLoaders_=function(r,o){var a=this,s=[],l=r==="all";(l||r==="main")&&s.push(this.masterPlaylistLoader_);var c=[];(l||r==="audio")&&c.push("AUDIO"),(l||r==="subtitle")&&(c.push("CLOSED-CAPTIONS"),c.push("SUBTITLES")),c.forEach(function(d){var p=a.mediaTypes_[d]&&a.mediaTypes_[d].activePlaylistLoader;p&&s.push(p)}),["main","audio","subtitle"].forEach(function(d){var p=a[d+"SegmentLoader_"];p&&(r===d||r==="all")&&s.push(p)}),s.forEach(function(d){return o.forEach(function(p){typeof d[p]=="function"&&d[p]()})})},i.setCurrentTime=function(r){var o=fd(this.tech_.buffered(),r);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(o&&o.length)return r;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},i.duration=function(){if(!this.masterPlaylistLoader_)return 0;var r=this.masterPlaylistLoader_.media();return r?r.endList?this.mediaSource?this.mediaSource.duration:Ya.Playlist.duration(r):1/0:0},i.seekable=function(){return this.seekable_},i.onSyncInfoUpdate_=function(){var r;if(!(!this.masterPlaylistLoader_||this.sourceUpdater_.hasCreatedSourceBuffers())){var o=this.masterPlaylistLoader_.media();if(!!o){var a=this.syncController_.getExpiredTime(o,this.duration());if(a!==null){var s=this.masterPlaylistLoader_.master,l=Ya.Playlist.seekable(o,a,Ya.Playlist.liveEdgeDelay(s,o));if(l.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(o=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),a=this.syncController_.getExpiredTime(o,this.duration()),a===null||(r=Ya.Playlist.seekable(o,a,Ya.Playlist.liveEdgeDelay(s,o)),r.length===0)))){var c,d;this.seekable_&&this.seekable_.length&&(c=this.seekable_.end(0),d=this.seekable_.start(0)),r?r.start(0)>l.end(0)||l.start(0)>r.end(0)?this.seekable_=l:this.seekable_=ee.createTimeRanges([[r.start(0)>l.start(0)?r.start(0):l.start(0),r.end(0)<l.end(0)?r.end(0):l.end(0)]]):this.seekable_=l,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===c&&this.seekable_.start(0)===d)&&(this.logger_("seekable updated ["+_j(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},i.updateDuration=function(r){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,r),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(r){var o=this.seekable();if(!o.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<o.end(o.length-1))&&this.sourceUpdater_.setDuration(o.end(o.length-1));return}var a=this.tech_.buffered(),s=Ya.Playlist.duration(this.masterPlaylistLoader_.media());a.length>0&&(s=Math.max(s,a.end(a.length-1))),this.mediaSource.duration!==s&&this.sourceUpdater_.setDuration(s)},i.dispose=function(){var r=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(o){var a=r.mediaTypes_[o].groups;for(var s in a)a[s].forEach(function(l){l.playlistLoader&&l.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},i.master=function(){return this.masterPlaylistLoader_.master},i.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},i.areMediaTypesKnown_=function(){var r=!!this.mediaTypes_.AUDIO.activePlaylistLoader,o=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),a=r?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!o||!a)},i.getCodecsOrExclude_=function(){var r=this,o={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};o.video=o.main;var a=Bh(this.master(),this.media()),s={},l=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(o.main.hasVideo&&(s.video=a.video||o.main.videoCodec||Qhe),o.main.isMuxed&&(s.video+=","+(a.audio||o.main.audioCodec||kP)),(o.main.hasAudio&&!o.main.isMuxed||o.audio.hasAudio||l)&&(s.audio=a.audio||o.main.audioCodec||o.audio.audioCodec||kP,o.audio.isFmp4=o.main.hasAudio&&!o.main.isMuxed?o.main.isFmp4:o.audio.isFmp4),!s.audio&&!s.video){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var c=function(g,A){return g?cv(A):ck(A)},d={},p;if(["video","audio"].forEach(function(w){if(s.hasOwnProperty(w)&&!c(o[w].isFmp4,s[w])){var g=o[w].isFmp4?"browser":"muxer";d[g]=d[g]||[],d[g].push(s[w]),w==="audio"&&(p=g)}}),l&&p&&this.media().attributes.AUDIO){var h=this.media().attributes.AUDIO;this.master().playlists.forEach(function(w){var g=w.attributes&&w.attributes.AUDIO;g===h&&w!==r.media()&&(w.excludeUntil=1/0)}),this.logger_("excluding audio group "+h+" as "+p+' does not support codec(s): "'+s.audio+'"')}if(Object.keys(d).length){var m=Object.keys(d).reduce(function(w,g){return w&&(w+=", "),w+=g+' does not support codec(s): "'+d[g].join(",")+'"',w},"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:m,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var y=[];if(["video","audio"].forEach(function(w){var g=(qo(r.sourceUpdater_.codecs[w]||"")[0]||{}).type,A=(qo(s[w]||"")[0]||{}).type;g&&A&&g.toLowerCase()!==A.toLowerCase()&&y.push('"'+r.sourceUpdater_.codecs[w]+'" -> "'+s[w]+'"')}),y.length){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+y.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return s},i.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&!!this.areMediaTypesKnown_()){var r=this.getCodecsOrExclude_();if(!!r){this.sourceUpdater_.createSourceBuffers(r);var o=[r.video,r.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(o)}}},i.excludeUnsupportedVariants_=function(){var r=this,o=this.master().playlists,a=[];Object.keys(o).forEach(function(s){var l=o[s];if(a.indexOf(l.id)===-1){a.push(l.id);var c=Bh(r.master,l),d=[];c.audio&&!ck(c.audio)&&!cv(c.audio)&&d.push("audio codec "+c.audio),c.video&&!ck(c.video)&&!cv(c.video)&&d.push("video codec "+c.video),c.text&&c.text==="stpp.ttml.im1t"&&d.push("text codec "+c.text),d.length&&(l.excludeUntil=1/0,r.logger_("excluding "+l.id+" for unsupported: "+d.join(", ")))}})},i.excludeIncompatibleVariants_=function(r){var o=this,a=[],s=this.master().playlists,l=Yy(qo(r)),c=_L(l),d=l.video&&qo(l.video)[0]||null,p=l.audio&&qo(l.audio)[0]||null;Object.keys(s).forEach(function(h){var m=s[h];if(!(a.indexOf(m.id)!==-1||m.excludeUntil===1/0)){a.push(m.id);var y=[],w=Bh(o.masterPlaylistLoader_.master,m),g=_L(w);if(!(!w.audio&&!w.video)){if(g!==c&&y.push('codec count "'+g+'" !== "'+c+'"'),!o.sourceUpdater_.canChangeType()){var A=w.video&&qo(w.video)[0]||null,x=w.audio&&qo(w.audio)[0]||null;A&&d&&A.type.toLowerCase()!==d.type.toLowerCase()&&y.push('video codec "'+A.type+'" !== "'+d.type+'"'),x&&p&&x.type.toLowerCase()!==p.type.toLowerCase()&&y.push('audio codec "'+x.type+'" !== "'+p.type+'"')}y.length&&(m.excludeUntil=1/0,o.logger_("blacklisting "+m.id+": "+y.join(" && ")))}}})},i.updateAdCues_=function(r){var o=0,a=this.seekable();a.length&&(o=a.start(0)),Nve(r,this.cueTagsTrack_,o)},i.goalBufferLength=function(){var r=this.tech_.currentTime(),o=Qi.GOAL_BUFFER_LENGTH,a=Qi.GOAL_BUFFER_LENGTH_RATE,s=Math.max(o,Qi.MAX_GOAL_BUFFER_LENGTH);return Math.min(o+r*a,s)},i.bufferLowWaterLine=function(){var r=this.tech_.currentTime(),o=Qi.BUFFER_LOW_WATER_LINE,a=Qi.BUFFER_LOW_WATER_LINE_RATE,s=Math.max(o,Qi.MAX_BUFFER_LOW_WATER_LINE),l=Math.max(o,Qi.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(o+r*a,this.experimentalBufferBasedABR?l:s)},i.bufferHighWaterLine=function(){return Qi.BUFFER_HIGH_WATER_LINE},e}(ee.EventTarget),sye=function(e,i,n){return function(r){var o=e.master.playlists[i],a=VE(o),s=PA(o);return typeof r=="undefined"?s:(r?delete o.disabled:o.disabled=!0,r!==s&&!a&&(n(),r?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),r)}},lye=function(e,i,n){var r=e.masterPlaylistController_,o=e.options_.smoothQualityChange,a=o?"smooth":"fast",s=r[a+"QualityChange_"].bind(r);if(i.attributes){var l=i.attributes.RESOLUTION;this.width=l&&l.width,this.height=l&&l.height,this.bandwidth=i.attributes.BANDWIDTH}this.codecs=Bh(r.master(),i),this.playlist=i,this.id=n,this.enabled=sye(e.playlists,i.id,s)},cye=function(e){e.representations=function(){var i=e.masterPlaylistController_.master(),n=Fg(i)?e.masterPlaylistController_.getAudioTrackPlaylists_():i.playlists;return n?n.filter(function(r){return!VE(r)}).map(function(r,o){return new lye(e,r,r.id)}):[]}},DL=["seeking","seeked","pause","playing","error"],uye=function(){function t(i){var n=this;this.masterPlaylistController_=i.masterPlaylistController,this.tech_=i.tech,this.seekable=i.seekable,this.allowSeeksWithinUnsafeLiveWindow=i.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=i.liveRangeSafeTimeDelta,this.media=i.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Go("PlaybackWatcher"),this.logger_("initialize");var r=function(){return n.monitorCurrentTime_()},o=function(){return n.monitorCurrentTime_()},a=function(){return n.techWaiting_()},s=function(){return n.cancelTimer_()},l=this.masterPlaylistController_,c=["main","subtitle","audio"],d={};c.forEach(function(h){d[h]={reset:function(){return n.resetSegmentDownloads_(h)},updateend:function(){return n.checkSegmentDownloads_(h)}},l[h+"SegmentLoader_"].on("appendsdone",d[h].updateend),l[h+"SegmentLoader_"].on("playlistupdate",d[h].reset),n.tech_.on(["seeked","seeking"],d[h].reset)});var p=function(m){["main","audio"].forEach(function(y){l[y+"SegmentLoader_"][m]("appended",n.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){n.fixesBadSeeks_()&&(n.consecutiveUpdates=0,n.lastRecordedTime=n.tech_.currentTime(),p("off"))},this.clearSeekingAppendCheck_=function(){return p("off")},this.watchForBadSeeking_=function(){n.clearSeekingAppendCheck_(),p("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",a),this.tech_.on(DL,s),this.tech_.on("canplay",o),this.tech_.one("play",r),this.dispose=function(){n.clearSeekingAppendCheck_(),n.logger_("dispose"),n.tech_.off("waiting",a),n.tech_.off(DL,s),n.tech_.off("canplay",o),n.tech_.off("play",r),n.tech_.off("seeking",n.watchForBadSeeking_),n.tech_.off("seeked",n.clearSeekingAppendCheck_),c.forEach(function(h){l[h+"SegmentLoader_"].off("appendsdone",d[h].updateend),l[h+"SegmentLoader_"].off("playlistupdate",d[h].reset),n.tech_.off(["seeked","seeking"],d[h].reset)}),n.checkCurrentTimeTimeout_&&Q.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}var e=t.prototype;return e.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&Q.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=Q.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function(n){var r=this.masterPlaylistController_[n+"SegmentLoader_"];this[n+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+n+" loader"),this[n+"StalledDownloads_"]=0,this[n+"Buffered_"]=r.buffered_()},e.checkSegmentDownloads_=function(n){var r=this.masterPlaylistController_,o=r[n+"SegmentLoader_"],a=o.buffered_(),s=o0e(this[n+"Buffered_"],a);if(this[n+"Buffered_"]=a,s){this.resetSegmentDownloads_(n);return}this[n+"StalledDownloads_"]++,this.logger_("found #"+this[n+"StalledDownloads_"]+" "+n+" appends that did not increase buffer (possible stalled download)",{playlistId:o.playlist_&&o.playlist_.id,buffered:wc(a)}),!(this[n+"StalledDownloads_"]<10)&&(this.logger_(n+" loader stalled download exclusion"),this.resetSegmentDownloads_(n),this.tech_.trigger({type:"usage",name:"vhs-"+n+"-download-exclusion"}),n!=="subtitle"&&r.blacklistCurrentPlaylist({message:"Excessive "+n+" segment downloading detected."},1/0))},e.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var n=this.tech_.currentTime(),r=this.tech_.buffered();if(this.lastRecordedTime===n&&(!r.length||n+ra>=r.end(r.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&n===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):n===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=n)}},e.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function(){var n=this.tech_.seeking();if(!n)return!1;var r=this.seekable(),o=this.tech_.currentTime(),a=this.afterSeekableWindow_(r,o,this.media(),this.allowSeeksWithinUnsafeLiveWindow),s;if(a){var l=r.end(r.length-1);s=l}if(this.beforeSeekableWindow_(r,o)){var c=r.start(0);s=c+(c===r.end(0)?0:ra)}if(typeof s!="undefined")return this.logger_("Trying to seek outside of seekable at time "+o+" with "+("seekable range "+_j(r)+". Seeking to ")+(s+".")),this.tech_.setCurrentTime(s),!0;for(var d=this.masterPlaylistController_.sourceUpdater_,p=this.tech_.buffered(),h=d.audioBuffer?d.audioBuffered():null,m=d.videoBuffer?d.videoBuffered():null,y=this.media(),w=y.partTargetDuration?y.partTargetDuration:(y.targetDuration-Il)*2,g=[h,m],A=0;A<g.length;A++)if(!!g[A]){var x=YE(g[A],o);if(x<w)return!1}var T=L0(p,o);return T.length===0?!1:(s=T.start(0)+ra,this.logger_("Buffered region starts ("+T.start(0)+") "+(" just beyond seek point ("+o+"). Seeking to "+s+".")),this.tech_.setCurrentTime(s),!0)},e.waiting_=function(){if(!this.techWaiting_()){var n=this.tech_.currentTime(),r=this.tech_.buffered(),o=fd(r,n);if(o.length&&n+3<=o.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(n),this.logger_("Stopped at "+n+" while inside a buffered region "+("["+o.start(0)+" -> "+o.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},e.techWaiting_=function(){var n=this.seekable(),r=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(n,r)){var o=n.end(n.length-1);return this.logger_("Fell out of live window at time "+r+". Seeking to "+("live point (seekable end) "+o)),this.cancelTimer_(),this.tech_.setCurrentTime(o),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var a=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,s=this.tech_.buffered(),l=this.videoUnderflow_({audioBuffered:a.audioBuffered(),videoBuffered:a.videoBuffered(),currentTime:r});if(l)return this.cancelTimer_(),this.tech_.setCurrentTime(r),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var c=L0(s,r);if(c.length>0){var d=c.start(0)-r;return this.logger_("Stopped at "+r+", setting timer for "+d+", seeking "+("to "+c.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),d*1e3,r),!0}return!1},e.afterSeekableWindow_=function(n,r,o,a){if(a===void 0&&(a=!1),!n.length)return!1;var s=n.end(n.length-1)+ra,l=!o.endList;return l&&a&&(s=n.end(n.length-1)+o.targetDuration*3),r>s},e.beforeSeekableWindow_=function(n,r){return!!(n.length&&n.start(0)>0&&r<n.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function(n){var r=n.videoBuffered,o=n.audioBuffered,a=n.currentTime;if(!!r){var s;if(r.length&&o.length){var l=fd(r,a-3),c=fd(r,a),d=fd(o,a);d.length&&!c.length&&l.length&&(s={start:l.end(0),end:d.end(0)})}else{var p=L0(r,a);p.length||(s=this.gapFromVideoUnderflow_(r,a))}return s?(this.logger_("Encountered a gap in video from "+s.start+" to "+s.end+". "+("Seeking to current time "+a)),!0):!1}},e.skipTheGap_=function(n){var r=this.tech_.buffered(),o=this.tech_.currentTime(),a=L0(r,o);this.cancelTimer_(),!(a.length===0||o!==n)&&(this.logger_("skipTheGap_:","currentTime:",o,"scheduled currentTime:",n,"nextRange start:",a.start(0)),this.tech_.setCurrentTime(a.start(0)+Il),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function(n,r){for(var o=i0e(n),a=0;a<o.length;a++){var s=o.start(a),l=o.end(a);if(r-s<4&&r-s>2)return{start:s,end:l}}return null},t}(),dye={errorInterval:30,getSource:function(e){var i=this.tech({IWillNotUseThisInPlugins:!0}),n=i.currentSource_||this.currentSource();return e(n)}},fye=function t(e,i){var n=0,r=0,o=ee.mergeOptions(dye,i);e.ready(function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var a=function(){r&&e.currentTime(r)},s=function(h){h!=null&&(r=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",a),e.src(h),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},l=function(){if(Date.now()-n<o.errorInterval*1e3){e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),e.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!o.getSource||typeof o.getSource!="function"){ee.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return n=Date.now(),o.getSource.call(e,s)},c=function p(){e.off("loadedmetadata",a),e.off("error",l),e.off("dispose",p)},d=function(h){c(),t(e,h)};e.on("error",l),e.on("dispose",c),e.reloadSourceOnError=d},pye=function(e){fye(this,e)},lU="2.12.0",hye="5.14.1",mye="0.19.2",gye="4.7.0",bye="3.1.2",fn={PlaylistLoader:pd,Playlist:br,utils:z0e,STANDARD_PLAYLIST_SELECTOR:SL,INITIAL_PLAYLIST_SELECTOR:gve,lastBandwidthSelector:SL,movingAverageBandwidthSelector:hve,comparePlaylistBandwidth:KE,comparePlaylistResolution:pve,xhr:Nj()};Object.keys(Qi).forEach(function(t){Object.defineProperty(fn,t,{get:function(){return ee.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),Qi[t]},set:function(i){if(ee.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),typeof i!="number"||i<0){ee.log.warn("value of Vhs."+t+" must be greater than or equal to 0");return}Qi[t]=i}})});var cU="videojs-vhs",uU=function(e,i){for(var n=i.media(),r=-1,o=0;o<e.length;o++)if(e[o].id===n.id){r=o;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})},vye=function(e,i){i.representations().forEach(function(n){e.addQualityLevel(n)}),uU(e,i.playlists)};fn.canPlaySource=function(){return ee.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var yye=function(e,i,n){if(!e)return e;var r={};i&&i.attributes&&i.attributes.CODECS&&(r=Yy(qo(i.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(r.audio=n.attributes.CODECS);var o=Rm(r.video),a=Rm(r.audio),s={};for(var l in e)s[l]={},a&&(s[l].audioContentType=a),o&&(s[l].videoContentType=o),i.contentProtection&&i.contentProtection[l]&&i.contentProtection[l].pssh&&(s[l].pssh=i.contentProtection[l].pssh),typeof e[l]=="string"&&(s[l].url=e[l]);return ee.mergeOptions(e,s)},wye=function(e,i){return e.reduce(function(n,r){if(!r.contentProtection)return n;var o=i.reduce(function(a,s){var l=r.contentProtection[s];return l&&l.pssh&&(a[s]={pssh:l.pssh}),a},{});return Object.keys(o).length&&n.push(o),n},[])},Aye=function(e){var i=e.player,n=e.sourceKeySystems,r=e.audioMedia,o=e.mainPlaylists;if(!i.eme.initializeMediaKeys)return Promise.resolve();var a=r?o.concat([r]):o,s=wye(a,Object.keys(n)),l=[],c=[];return s.forEach(function(d){c.push(new Promise(function(p,h){i.tech_.one("keysessioncreated",p)})),l.push(new Promise(function(p,h){i.eme.initializeMediaKeys({keySystems:d},function(m){if(m){h(m);return}p()})}))}),Promise.race([Promise.all(l),Promise.race(c)])},xye=function(e){var i=e.player,n=e.sourceKeySystems,r=e.media,o=e.audioMedia,a=yye(n,r,o);return a?(i.currentSource().keySystems=a,a&&!i.eme?(ee.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},dU=function(){if(!Q.localStorage)return null;var e=Q.localStorage.getItem(cU);if(!e)return null;try{return JSON.parse(e)}catch{return null}},kye=function(e){if(!Q.localStorage)return!1;var i=dU();i=i?ee.mergeOptions(i,e):e;try{Q.localStorage.setItem(cU,JSON.stringify(i))}catch{return!1}return i},_ye=function(e){return e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(e.substring(e.indexOf(",")+1)):e};fn.supportsNativeHls=function(){if(!Le||!Le.createElement)return!1;var t=Le.createElement("video");if(!ee.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(i){return/maybe|probably/i.test(t.canPlayType(i))})}();fn.supportsNativeDash=function(){return!Le||!Le.createElement||!ee.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Le.createElement("video").canPlayType("application/dash+xml"))}();fn.supportsTypeNatively=function(t){return t==="hls"?fn.supportsNativeHls:t==="dash"?fn.supportsNativeDash:!1};fn.isSupported=function(){return ee.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Tye=ee.getComponent("Component"),JE=function(t){ye(e,t);function e(n,r,o){var a;if(a=t.call(this,r,ee.mergeOptions(o.hls,o.vhs))||this,o.hls&&Object.keys(o.hls).length&&ee.log.warn("Using hls options is deprecated. Use vhs instead."),typeof o.initialBandwidth=="number"&&(a.options_.bandwidth=o.initialBandwidth),a.logger_=Go("VhsHandler"),r.options_&&r.options_.playerId){var s=ee(r.options_.playerId);s.hasOwnProperty("hls")||Object.defineProperty(s,"hls",{get:function(){return ee.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),r.trigger({type:"usage",name:"hls-player-access"}),re(a)},configurable:!0}),s.hasOwnProperty("vhs")||Object.defineProperty(s,"vhs",{get:function(){return ee.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),r.trigger({type:"usage",name:"vhs-player-access"}),re(a)},configurable:!0}),s.hasOwnProperty("dash")||Object.defineProperty(s,"dash",{get:function(){return ee.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),re(a)},configurable:!0}),a.player_=s}if(a.tech_=r,a.source_=n,a.stats={},a.ignoreNextSeekingEvent_=!1,a.setOptions_(),a.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(a.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return a.on(Le,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(l){var c=Le.fullscreenElement||Le.webkitFullscreenElement||Le.mozFullScreenElement||Le.msFullscreenElement;c&&c.contains(a.tech_.el())?a.masterPlaylistController_.fastQualityChange_():a.masterPlaylistController_.checkABR_()}),a.on(a.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),a.on(a.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),a.on(a.tech_,"play",a.play),a}var i=e.prototype;return i.setOptions_=function(){var r=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage!="undefined"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var o=dU();o&&o.bandwidth&&(this.options_.bandwidth=o.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),o&&o.throughput&&(this.options_.throughput=o.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Qi.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Qi.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(a){typeof r.source_[a]!="undefined"&&(r.options_[a]=r.source_[a])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},i.src=function(r,o){var a=this;if(!!r){this.setOptions_(),this.options_.src=_ye(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=fn,this.options_.sourceType=R7(o),this.options_.seekTo=function(c){a.tech_.setCurrentTime(c)},this.options_.smoothQualityChange&&ee.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new aye(this.options_);var s=ee.mergeOptions({liveRangeSafeTimeDelta:ra},this.options_,{seekable:function(){return a.seekable()},media:function(){return a.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new uye(s),this.masterPlaylistController_.on("error",function(){var c=ee.players[a.tech_.options_.playerId],d=a.masterPlaylistController_.error;typeof d=="object"&&!d.code?d.code=3:typeof d=="string"&&(d={message:d,code:3}),c.error(d)});var l=this.options_.experimentalBufferBasedABR?fn.movingAverageBandwidthSelector(.55):fn.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):l.bind(this),this.masterPlaylistController_.selectInitialPlaylist=fn.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(d){this.masterPlaylistController_.selectPlaylist=d.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(d){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=d,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var d=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,p=Q.navigator.connection||Q.navigator.mozConnection||Q.navigator.webkitConnection,h=1e7;if(this.options_.useNetworkInformationApi&&p){var m=p.downlink*1e3*1e3;m>=h&&d>=h?d=Math.max(d,m):d=m}return d},set:function(d){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=d,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var d=1/(this.bandwidth||1),p;this.throughput>0?p=1/this.throughput:p=0;var h=Math.floor(1/(d+p));return h},set:function(){ee.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return a.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return a.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return a.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return a.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return a.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return a.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return a.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return a.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return a.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return a.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return a.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return a.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return a.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return wc(a.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return a.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return a.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return a.tech_.name_},enumerable:!0},duration:{get:function(){return a.tech_.duration()},enumerable:!0},master:{get:function(){return a.playlists.master},enumerable:!0},playerDimensions:{get:function(){return a.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return wc(a.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return a.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){a.options_.useBandwidthFromLocalStorage&&kye({bandwidth:a.bandwidth,throughput:Math.round(a.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){cye(a)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){a.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=Q.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},i.setupEme_=function(){var r=this,o=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,a=xye({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:o&&o.media()});if(this.player_.tech_.on("keystatuschange",function(s){s.status==="output-restricted"&&r.masterPlaylistController_.blacklistCurrentPlaylist({playlist:r.masterPlaylistController_.media(),message:"DRM keystatus changed to "+s.status+". Playlist will fail to play. Check for HDCP content.",blacklistDuration:1/0})}),ee.browser.IE_VERSION===11||!a){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.logger_("waiting for EME key session creation"),Aye({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:o&&o.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){r.logger_("created EME key session"),r.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(s){r.logger_("error while creating EME key session",s),r.player_.error({message:"Failed to initialize media keys for EME",code:3})})},i.setupQualityLevels_=function(){var r=this,o=ee.players[this.tech_.options_.playerId];!o||!o.qualityLevels||this.qualityLevels_||(this.qualityLevels_=o.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){vye(r.qualityLevels_,r)}),this.playlists.on("mediachange",function(){uU(r.qualityLevels_,r.playlists)}))},e.version=function(){return{"@videojs/http-streaming":lU,"mux.js":hye,"mpd-parser":mye,"m3u8-parser":gye,"aes-decrypter":bye}},i.version=function(){return this.constructor.version()},i.canChangeType=function(){return sU.canChangeType()},i.play=function(){this.masterPlaylistController_.play()},i.setCurrentTime=function(r){this.masterPlaylistController_.setCurrentTime(r)},i.duration=function(){return this.masterPlaylistController_.duration()},i.seekable=function(){return this.masterPlaylistController_.seekable()},i.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&Q.URL.revokeObjectURL&&(Q.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),t.prototype.dispose.call(this)},i.convertToProgramTime=function(r,o){return D0e({playlist:this.masterPlaylistController_.media(),time:r,callback:o})},i.seekToProgramTime=function(r,o,a,s){return a===void 0&&(a=!0),s===void 0&&(s=2),B0e({programTime:r,playlist:this.masterPlaylistController_.media(),retryCount:s,pauseAfterSeek:a,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:o})},e}(Tye),LA={name:"videojs-http-streaming",VERSION:lU,canHandleSource:function(e,i){i===void 0&&(i={});var n=ee.mergeOptions(ee.options,i);return LA.canPlayType(e.type,n)},handleSource:function(e,i,n){n===void 0&&(n={});var r=ee.mergeOptions(ee.options,n);return i.vhs=new JE(e,i,r),ee.hasOwnProperty("hls")||Object.defineProperty(i,"hls",{get:function(){return ee.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),i.vhs},configurable:!0}),i.vhs.xhr=Nj(),i.vhs.src(e.src,e.type),i.vhs},canPlayType:function(e,i){i===void 0&&(i={});var n=ee.mergeOptions(ee.options,i),r=n.vhs.overrideNative,o=r===void 0?!ee.browser.IS_ANY_SAFARI:r,a=R7(e),s=a&&(!fn.supportsTypeNatively(a)||o);return s?"maybe":""}},Sye=function(){return cv("avc1.4d400d,mp4a.40.2")};Sye()&&ee.getTech("Html5").registerSourceHandler(LA,0);ee.VhsHandler=JE;Object.defineProperty(ee,"HlsHandler",{get:function(){return ee.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),JE},configurable:!0});ee.VhsSourceHandler=LA;Object.defineProperty(ee,"HlsSourceHandler",{get:function(){return ee.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),LA},configurable:!0});ee.Vhs=fn;Object.defineProperty(ee,"Hls",{get:function(){return ee.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),fn},configurable:!0});ee.use||(ee.registerComponent("Hls",fn),ee.registerComponent("Vhs",fn));ee.options.vhs=ee.options.vhs||{};ee.options.hls=ee.options.hls||{};if(!ee.getPlugin||!ee.getPlugin("reloadSourceOnError")){var Cye=ee.registerPlugin||ee.plugin;Cye("reloadSourceOnError",pye)}var Eye=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"})),zye={exports:{}},Iye=Q2(Eye);(function(t,e){(function(i,n){{var r=Iye;t.exports=n(r.default||r)}})(zo,function(i){var n=i.browser.IS_IOS||i.browser.IS_NATIVE_ANDROID,r=i.getTech("Tech"),o=i.extend(r,{constructor:function(c,d){r.call(this,c,d),this.setPoster(c.poster),this.setSrc(this.options_.source,!0),this.setTimeout(function(){this.el_&&(this.el_.parentNode.className+=" vjs-youtube",n&&(this.el_.parentNode.className+=" vjs-youtube-mobile"),o.isApiReady?this.initYTPlayer():o.apiReadyQueue.push(this))}.bind(this))},dispose:function(){if(this.ytPlayer)this.ytPlayer.stopVideo&&this.ytPlayer.stopVideo(),this.ytPlayer.destroy&&this.ytPlayer.destroy();else{var c=o.apiReadyQueue.indexOf(this);c!==-1&&o.apiReadyQueue.splice(c,1)}this.ytPlayer=null,this.el_.parentNode.className=this.el_.parentNode.className.replace(" vjs-youtube","").replace(" vjs-youtube-mobile",""),this.el_.parentNode.removeChild(this.el_),r.prototype.dispose.call(this)},createEl:function(){var c=document.createElement("div");c.setAttribute("id",this.options_.techId),c.setAttribute("style","width:100%;height:100%;top:0;left:0;position:absolute"),c.setAttribute("class","vjs-tech");var d=document.createElement("div");if(d.appendChild(c),!n&&!this.options_.ytControls){var p=document.createElement("div");p.setAttribute("class","vjs-iframe-blocker"),p.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%"),p.onclick=function(){this.pause()}.bind(this),d.appendChild(p)}return d},initYTPlayer:function(){var c={controls:0,modestbranding:1,rel:0,showinfo:0,loop:this.options_.loop?1:0};if(typeof this.options_.autohide!="undefined"&&(c.autohide=this.options_.autohide),typeof this.options_.cc_load_policy!="undefined"&&(c.cc_load_policy=this.options_.cc_load_policy),typeof this.options_.ytControls!="undefined"&&(c.controls=this.options_.ytControls),typeof this.options_.disablekb!="undefined"&&(c.disablekb=this.options_.disablekb),typeof this.options_.color!="undefined"&&(c.color=this.options_.color),c.controls?typeof this.options_.fs!="undefined"&&(c.fs=this.options_.fs):c.fs=0,this.options_.source.src.indexOf("end=")!==-1){var d=this.options_.source.src.match(/end=([0-9]*)/);this.options_.end=parseInt(d[1])}if(typeof this.options_.end!="undefined"&&(c.end=this.options_.end),typeof this.options_.hl!="undefined"?c.hl=this.options_.hl:typeof this.options_.language!="undefined"&&(c.hl=this.options_.language.substr(0,2)),typeof this.options_.iv_load_policy!="undefined"&&(c.iv_load_policy=this.options_.iv_load_policy),typeof this.options_.list!="undefined"?c.list=this.options_.list:this.url&&typeof this.url.listId!="undefined"&&(c.list=this.url.listId),typeof this.options_.listType!="undefined"&&(c.listType=this.options_.listType),typeof this.options_.modestbranding!="undefined"&&(c.modestbranding=this.options_.modestbranding),typeof this.options_.playlist!="undefined"&&(c.playlist=this.options_.playlist),typeof this.options_.playsinline!="undefined"&&(c.playsinline=this.options_.playsinline),typeof this.options_.rel!="undefined"&&(c.rel=this.options_.rel),typeof this.options_.showinfo!="undefined"&&(c.showinfo=this.options_.showinfo),this.options_.source.src.indexOf("start=")!==-1){var p=this.options_.source.src.match(/start=([0-9]*)/);this.options_.start=parseInt(p[1])}if(typeof this.options_.start!="undefined"&&(c.start=this.options_.start),typeof this.options_.theme!="undefined"&&(c.theme=this.options_.theme),typeof this.options_.customVars!="undefined"){var h=this.options_.customVars;Object.keys(h).forEach(function(y){c[y]=h[y]})}this.activeVideoId=this.url?this.url.videoId:null,this.activeList=c.list;var m={videoId:this.activeVideoId,playerVars:c,events:{onReady:this.onPlayerReady.bind(this),onPlaybackQualityChange:this.onPlayerPlaybackQualityChange.bind(this),onPlaybackRateChange:this.onPlayerPlaybackRateChange.bind(this),onStateChange:this.onPlayerStateChange.bind(this),onVolumeChange:this.onPlayerVolumeChange.bind(this),onError:this.onPlayerError.bind(this)}};typeof this.options_.enablePrivacyEnhancedMode!="undefined"&&this.options_.enablePrivacyEnhancedMode&&(m.host="https://www.youtube-nocookie.com"),this.ytPlayer=new YT.Player(this.options_.techId,m)},onPlayerReady:function(){this.options_.muted&&this.ytPlayer.mute();var c=this.ytPlayer.getAvailablePlaybackRates();c.length>1&&(this.featuresPlaybackRate=!0),this.playerReady_=!0,this.triggerReady(),this.playOnReady?this.play():this.cueOnReady&&(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)},onPlayerPlaybackQualityChange:function(){},onPlayerPlaybackRateChange:function(){this.trigger("ratechange")},onPlayerStateChange:function(c){var d=c.data;if(!(d===this.lastState||this.errorNumber))switch(this.lastState=d,d){case-1:this.trigger("loadstart"),this.trigger("loadedmetadata"),this.trigger("durationchange"),this.trigger("ratechange");break;case YT.PlayerState.ENDED:this.trigger("ended");break;case YT.PlayerState.PLAYING:this.trigger("timeupdate"),this.trigger("durationchange"),this.trigger("playing"),this.trigger("play"),this.isSeeking&&this.onSeeked();break;case YT.PlayerState.PAUSED:this.trigger("canplay"),this.isSeeking?this.onSeeked():this.trigger("pause");break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate"),this.player_.trigger("waiting");break}},onPlayerVolumeChange:function(){this.trigger("volumechange")},onPlayerError:function(c){this.errorNumber=c.data,this.trigger("pause"),this.trigger("error")},error:function(){var c=1e3+this.errorNumber;switch(this.errorNumber){case 5:return{code:c,message:"Error while trying to play the video"};case 2:case 100:return{code:c,message:"Unable to find the video"};case 101:case 150:return{code:c,message:"Playback on other Websites has been disabled by the video owner."}}return{code:c,message:"YouTube unknown error ("+this.errorNumber+")"}},loadVideoById_:function(c){var d={videoId:c};this.options_.start&&(d.startSeconds=this.options_.start),this.options_.end&&(d.endSeconds=this.options_.end),this.ytPlayer.loadVideoById(d)},cueVideoById_:function(c){var d={videoId:c};this.options_.start&&(d.startSeconds=this.options_.start),this.options_.end&&(d.endSeconds=this.options_.end),this.ytPlayer.cueVideoById(d)},src:function(c){return c&&this.setSrc({src:c}),this.source},poster:function(){return n?null:this.poster_},setPoster:function(c){this.poster_=c},setSrc:function(c){!c||!c.src||(delete this.errorNumber,this.source=c,this.url=o.parseUrl(c.src),this.options_.poster||this.url.videoId&&(this.poster_="https://img.youtube.com/vi/"+this.url.videoId+"/0.jpg",this.trigger("posterchange"),this.checkHighResPoster()),this.options_.autoplay&&!n?this.isReady_?this.play():this.playOnReady=!0:this.activeVideoId!==this.url.videoId&&(this.isReady_?(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId):this.cueOnReady=!0))},autoplay:function(){return this.options_.autoplay},setAutoplay:function(c){this.options_.autoplay=c},loop:function(){return this.options_.loop},setLoop:function(c){this.options_.loop=c},play:function(){!this.url||!this.url.videoId||(this.wasPausedBeforeSeek=!1,this.isReady_?(this.url.listId&&(this.activeList===this.url.listId?this.ytPlayer.playVideo():(this.ytPlayer.loadPlaylist(this.url.listId),this.activeList=this.url.listId)),this.activeVideoId===this.url.videoId?this.ytPlayer.playVideo():(this.loadVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)):(this.trigger("waiting"),this.playOnReady=!0))},pause:function(){this.ytPlayer&&this.ytPlayer.pauseVideo()},paused:function(){return this.ytPlayer?this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING:!0},currentTime:function(){return this.ytPlayer?this.ytPlayer.getCurrentTime():0},setCurrentTime:function(c){this.lastState===YT.PlayerState.PAUSED&&(this.timeBeforeSeek=this.currentTime()),this.isSeeking||(this.wasPausedBeforeSeek=this.paused()),this.ytPlayer.seekTo(c,!0),this.trigger("timeupdate"),this.trigger("seeking"),this.isSeeking=!0,this.lastState===YT.PlayerState.PAUSED&&this.timeBeforeSeek!==c&&(clearInterval(this.checkSeekedInPauseInterval),this.checkSeekedInPauseInterval=setInterval(function(){this.lastState!==YT.PlayerState.PAUSED||!this.isSeeking?clearInterval(this.checkSeekedInPauseInterval):this.currentTime()!==this.timeBeforeSeek&&(this.trigger("timeupdate"),this.onSeeked())}.bind(this),250))},seeking:function(){return this.isSeeking},seekable:function(){return this.ytPlayer?i.createTimeRange(0,this.ytPlayer.getDuration()):i.createTimeRange()},onSeeked:function(){clearInterval(this.checkSeekedInPauseInterval),this.isSeeking=!1,this.wasPausedBeforeSeek&&this.pause(),this.trigger("seeked")},playbackRate:function(){return this.ytPlayer?this.ytPlayer.getPlaybackRate():1},setPlaybackRate:function(c){!this.ytPlayer||this.ytPlayer.setPlaybackRate(c)},duration:function(){return this.ytPlayer?this.ytPlayer.getDuration():0},currentSrc:function(){return this.source&&this.source.src},ended:function(){return this.ytPlayer?this.lastState===YT.PlayerState.ENDED:!1},volume:function(){return this.ytPlayer?this.ytPlayer.getVolume()/100:1},setVolume:function(c){!this.ytPlayer||this.ytPlayer.setVolume(c*100)},muted:function(){return this.ytPlayer?this.ytPlayer.isMuted():!1},setMuted:function(c){if(this.ytPlayer)this.muted(!0);else return;c?this.ytPlayer.mute():this.ytPlayer.unMute(),this.setTimeout(function(){this.trigger("volumechange")},50)},buffered:function(){if(!this.ytPlayer||!this.ytPlayer.getVideoLoadedFraction)return i.createTimeRange();var c=this.ytPlayer.getVideoLoadedFraction()*this.ytPlayer.getDuration();return i.createTimeRange(0,c)},preload:function(){},load:function(){},reset:function(){},networkState:function(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case-1:return 0;case 3:return 2;default:return 1}},readyState:function(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case-1:return 0;case 5:return 1;case 3:return 2;default:return 4}},supportsFullScreen:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled},checkHighResPoster:function(){var c="https://img.youtube.com/vi/"+this.url.videoId+"/maxresdefault.jpg";try{var d=new Image;d.onload=function(){if("naturalHeight"in d){if(d.naturalHeight<=90||d.naturalWidth<=120)return}else if(d.height<=90||d.width<=120)return;this.poster_=c,this.trigger("posterchange")}.bind(this),d.onerror=function(){},d.src=c}catch{}}});o.isSupported=function(){return!0},o.canPlaySource=function(c){return o.canPlayType(c.type)},o.canPlayType=function(c){return c==="video/youtube"},o.parseUrl=function(c){var d={videoId:null},p=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,h=c.match(p);h&&h[2].length===11&&(d.videoId=h[2]);var m=/[?&]list=([^#\&\?]+)/;return h=c.match(m),h&&h[1]&&(d.listId=h[1]),d};function a(){YT.ready(function(){o.isApiReady=!0;for(var c=0;c<o.apiReadyQueue.length;++c)o.apiReadyQueue[c].initYTPlayer()})}function s(c,d){var p=!1,h=document.createElement("script"),m=document.getElementsByTagName("script")[0];!m||(m.parentNode.insertBefore(h,m),h.onload=function(){p||(p=!0,d())},h.onreadystatechange=function(){!p&&(this.readyState==="complete"||this.readyState==="loaded")&&(p=!0,d())},h.src=c)}function l(){var c=".vjs-youtube .vjs-iframe-blocker { display: none; }.vjs-youtube.vjs-user-inactive .vjs-iframe-blocker { display: block; }.vjs-youtube .vjs-poster { background-size: cover; }.vjs-youtube-mobile .vjs-big-play-button { display: none; }",d=document.head||document.getElementsByTagName("head")[0],p=document.createElement("style");p.type="text/css",p.styleSheet?p.styleSheet.cssText=c:p.appendChild(document.createTextNode(c)),d.appendChild(p)}o.apiReadyQueue=[],typeof document!="undefined"&&(s("https://www.youtube.com/iframe_api",a),l()),typeof i.registerTech!="undefined"?i.registerTech("Youtube",o):i.registerComponent("Youtube",o)})})(zye);const fU=t=>{const e=t.trim().split(":").reverse();let i=0;return e.forEach((n,r)=>{const o=parseFloat(n);isNaN(o)||n.includes("-")?i+=NaN:i+=o*Math.pow(60,r)}),i&&(i=Math.floor(i)),i},BL=t=>{if(isNaN(t))return"NaN";const e=Math.floor(t),i=Math.floor(e/3600),n=Math.floor((e-i*3600)/60),r=e-i*3600-n*60,o=Lh(r);return i>0?`${i}:${Lh(n)}:${o}`:`${n}:${o}`};var cc=(t=>(t[t.UPDATE_VALUE=0]="UPDATE_VALUE",t[t.VALIDATE_VALUE=1]="VALIDATE_VALUE",t[t.OPEN=2]="OPEN",t[t.CLOSE=3]="CLOSE",t))(cc||{});const Rye={value:"",isDisabled:!1,isActive:!1,isOpen:!1},Pye=(t,e)=>{switch(e.type){case 0:return{...t,value:e.payload};case 1:{const i=BL(fU(t.value));return e.payload!==void 0?{...t,value:i,isDisabled:!e.payload,isActive:e.payload}:{...t,value:i}}case 2:{const i=BL(e.payload);return{...t,isOpen:!0,value:i,isDisabled:!1,isActive:!1}}case 3:return{...t,isOpen:!1};default:return t}},Lye=()=>P("svg",{transform:"scale(-1,1)",xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),Oye=Fe.button({display:"flex",justifyContent:"center",alignItems:"center",columnGap:4,border:0,padding:"8px 16px",fontWeight:600,"& > svg":{width:"1rem",height:"1rem"}}),Mye=Fe.div({border:`1px solid ${Ro.lightgrey}`,borderRadius:2,display:"flex",justifyContent:"space-between",alignItems:"center",columnGap:24,"& > input":{flex:1,border:0,marginLeft:16},"& > .mzp-c-button":{padding:"8px 16px",fontWeight:600,border:0},"& > .mzp-c-button, & > .mzp-c-button:hover":{color:Ro.dark_blue}}),Dye=Fe.div({display:"flex",alignItems:"center",columnGap:8,"& > label":{padding:0}}),Bye=Fe.input(t=>({border:0,borderBottomColor:t.disabled?"white":"black",borderBottomStyle:"solid",borderBottomWidth:"1.5px",width:64})),Fye=Fe(d2)({"i.close.icon":{top:0,right:0,color:"black"},"i.close::before":{content:'"\u2716"'}}),Nye=({sessionIndex:t,getCurrentTime:e})=>{const i=$.exports.useRef(null),n=$.exports.useRef(null),r=$.exports.useRef(null),o=wf(),[a,s]=$.exports.useReducer(Pye,Rye),l=$.exports.useCallback(()=>{const g=e();s({type:cc.OPEN,payload:g})},[e]),c=()=>{s({type:cc.CLOSE})},d=g=>{s({type:cc.VALIDATE_VALUE,payload:g.target.checked})},p=async()=>{var g;(g=n.current)==null||g.select(),navigator.clipboard?await navigator.clipboard.writeText(w()):document.execCommand("copy")},h=g=>{s({type:cc.UPDATE_VALUE,payload:g.target.value})},m=()=>{s({type:cc.VALIDATE_VALUE})},y=g=>{g.key==="Enter"&&s({type:cc.VALIDATE_VALUE})},w=$.exports.useCallback(()=>{const g=fU(a.value),A=`${document.location.href.split("#")[0]}#${o.pathname}?s=${t}`;return a.isActive&&g?`${A}&t=${g}`:`${A}`},[a.value,a.isActive,t,o]);return ue(yo,{children:[ue(Fye,{closeIcon:!0,trigger:ue(Oye,{className:"mzp-c-button mzp-t-secondary",onClick:l,children:[P(Lye,{}),"SHARE"]}),open:a.isOpen,onClose:c,mountNode:i.current,size:"small",children:[P(d2.Header,{children:"Share"}),ue(d2.Content,{children:[ue(Mye,{children:[P("input",{readOnly:!0,"aria-readonly":!0,ref:n,value:w()}),P("button",{className:"mzp-c-button mzp-t-secondary",onClick:p,children:"COPY"})]}),P("br",{}),ue(Dye,{children:[P("input",{id:"share-with-time-point",type:"checkbox",checked:a.isActive,onChange:d}),P("label",{htmlFor:"share-with-time-point",children:"Start at"}),P(Bye,{disabled:a.isDisabled,value:a.value,onChange:h,onBlur:m,onKeyUp:y,ref:r})]})]})]}),P("div",{ref:i})]})};var hv=(t=>(t.mp4="mp4",t.webm="webm",t.youtube="youtube",t))(hv||{});function jye(t){let e;if(t.match(/youtu?.be/))e=hv.youtube;else{const i=t.match(new RegExp(`(${hv.webm}|${hv.mp4})$`));i&&(e=i[0])}return e}function Uye(t){const e=jye(t),i={src:t};return e&&(i.type=`video/${e}`),i}const FL=10,Gye=({sessionIndex:t,uri:e,componentRef:i,initialSeconds:n})=>{const{language:r}=jo(),o=$.exports.useRef(null),a=$.exports.useRef();$.exports.useImperativeHandle(i,()=>({seekTo:c=>{var d,p,h;(d=a.current)==null||d.currentTime(c),(p=a.current)!=null&&p.paused()&&((h=a.current)==null||h.play())},pause:()=>{var c;return(c=a.current)==null?void 0:c.pause()}}));const s=$.exports.useCallback(()=>a.current?a.current.currentTime():0,[]),l=()=>ue(yo,{children:[P("div",{style:{display:"flex",flexDirection:"row-reverse",marginBottom:4},children:P(Nye,{sessionIndex:t,getCurrentTime:s})}),P("div",{"data-vjs-player":!0,children:P("video",{ref:o,className:"video-js vjs-big-play-centered vjs-theme-cdp"})})]});return $.exports.useEffect(()=>{const c=o.current;let d;return c&&(d=ee(c,{autoplay:!1,controls:!0,controlBar:{currentTimeDisplay:!0,timeDivider:!0,durationDisplay:!0,customControlSpacer:!0,remainingTimeDisplay:!1},preload:n?"auto":"metadata",aspectRatio:"16:9",fluid:!0,language:r,playbackRates:[2,1.5,1,.75,.5],responsive:!0,techOrder:["youtube","html5"],sources:[Uye(e)],userActions:{hotkeys:p=>{var h,m,y,w,g,A,x,T,E,z,M,B;p.which===75||p.which===32?(h=a.current)!=null&&h.paused()?(m=a.current)==null||m.play():(y=a.current)==null||y.pause():p.which===77?(g=a.current)==null||g.muted(!((w=a.current)!=null&&w.muted())):p.which===70?(A=a.current)!=null&&A.isFullscreen()?(x=a.current)==null||x.exitFullscreen():(T=a.current)==null||T.requestFullscreen():p.which===37?(z=a.current)==null||z.currentTime(((E=a.current)==null?void 0:E.currentTime())-FL):p.which===39&&((B=a.current)==null||B.currentTime(((M=a.current)==null?void 0:M.currentTime())+FL))}}},function(){n&&n>0&&this.currentTime(n),a.current=this})),()=>{d&&d.dispose()}},[e,n,r]),P(l,{})};var pU=Fe(_de)(t=>({"& > .ui.tab":{margin:0,border:0,padding:t.padding},[`@media (min-width:${Dt.tablet})`]:{"& > .ui.menu > a.item":{fontSize:Tr.font_size_7}},[`@media (max-width:${t.breakpoint})`]:{"& > .ui.menu":{flexDirection:"column"},"& > .ui.secondary.pointing.menu > a.item":{alignSelf:"flex-start",borderBottomStyle:"none"},"& > .ui.secondary.pointing.menu > a.active.item":{borderLeft:"2px solid"}}}));const Hye=({eventVideoRefs:t,sessions:e,currentSession:i,initialSeconds:n,setCurrentSession:r})=>{const{language:o}=jo(),[,a]=$.exports.useState(""),s=(d,p)=>r(h=>{var m;return(m=t[h].current)==null||m.pause(),p.activeIndex}),l=$.exports.useRef(e.map((d,p)=>({menuItem:`${Se.session} ${p+1}`,pane:{key:`session_index_${p+1}`,content:P(Gye,{sessionIndex:p,initialSeconds:p===i?n:0,uri:d.video_uri,componentRef:t[p]})}})));$.exports.useEffect(()=>{for(let d=0;d<l.current.length;d++)l.current[d].menuItem=`${Se.session} ${d+1}`;a(o)},[o]);const c=e.length>3?Dt.largeMobile:Dt.smallMobile;return P(pU,{padding:"0px",breakpoint:c,menu:{secondary:!0,pointing:!0},panes:l.current,renderActiveOnly:!1,activeIndex:i,onTabChange:s})};var Yye=ze.memo(Hye);const Wye=Fe.div({maxHeight:"100vh",overflowY:"auto"}),Vye=({sentences:t,transcriptItemsRefs:e,jumpToVideoClip:i})=>{const n=(r,o)=>()=>i(r,o);return P(Wye,{children:t.map((r,o)=>P(v7,{sessionIndex:r.session_index,speakerName:r.speaker_name,text:r.text,startTime:y7(r.start_time),handleJumpToVideoClip:n(r.session_index,r.start_time),searchQuery:"",speakerId:r.speaker_id,speakerPictureSrc:r.speaker_pictureSrc,componentRef:e[o]},r.index))})},$ye=()=>P("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 12H6"})}),Qye=()=>P("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),qye=Fe.summary({color:Ro.dark_blue,display:"flex",alignItems:"center","&::before, &::marker":{content:"none"},"& svg":{marginLeft:4,width:"1rem",height:"1rem"}}),hU=({documents:t})=>{const[e,i]=$.exports.useState(!1),n=()=>i(r=>!r);return!t||t.length===0?null:ue("details",{onToggle:n,children:[ue(qye,{children:[Se.see_documents,e?P($ye,{}):P(Qye,{})]}),P("ul",{className:"mzp-u-list-styled",children:t.map(r=>P("li",{children:P("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",children:r.label})},r.label))})]})},Kye=Fe.li({"& > div:first-of-type":{fontWeight:600},"& > a":{display:"flex",alignItems:"center"},"& > a > svg":{width:"1rem",height:"1rem",transform:"rotate(-90deg)"}}),Xye=({minutesItems:t})=>P("ol",{className:"mzp-u-list-styled",children:t.map(e=>ue(Kye,{children:[P("div",{children:e.name}),e.matter_ref&&ue(pn,{to:`/matters/${e.matter_ref}`,children:[Se.go_to_matter_details," ",P(IF,{})]}),e.description&&P("div",{children:e.description}),P(hU,{documents:e.documents})]},e.name))}),Jye=()=>P("svg",{className:"cdp-acceptance-green",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Zye=()=>P("svg",{xmlns:"http://www.w3.org/2000/svg",className:"cdp-rejected-red",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),ewe=()=>P("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"cdp-in-progress_orange",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),twe=()=>P("svg",{className:"cdp-light-purple",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:P("g",{id:"Group 1",children:ue("g",{id:"Frame 1",children:[P("circle",{id:"Ellipse 1",cx:"12",cy:"12",r:"9",stroke:"currentColor",strokeWidth:"2"}),P("circle",{id:"Ellipse 2",cx:"12",cy:"12",r:"4",stroke:"currentColor",strokeWidth:"2"}),P("path",{id:"Line 1",d:"M8.00001 16L16 7.99998",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})})});var qa=(t=>(t.ALTERNATE="Alternate",t.CHAIR="Chair",t.COUNCILMEMBER="Councilmember",t.MEMBER="Member",t.COUNCILPRESIDENT="Council President",t.VICE_CHAIR="Vice Chair",t.SUPERVISOR="Supervisor",t))(qa||{}),oi=(t=>(t.ABSTAIN_APPROVE="Abstain (Approve)",t.ABSTAIN_NON_VOTING="Abstain (Non-Voting)",t.ABSTAIN_REJECT="Abstain (Reject)",t.ABSENT_APPROVE="Absent (Approve)",t.ABSENT_NON_VOTING="Absent (Non-Voting)",t.ABSENT_REJECT="Absent (Reject)",t.APPROVE="Approve",t.REJECT="Reject",t))(oi||{}),Oo=(t=>(t.ADOPTED="Adopted",t.IN_PROGRESS="In Progress",t.REJECTED="Rejected",t))(Oo||{}),W2=(t=>(t.FAILED="Failed",t.PASSED="Passed",t))(W2||{});const ks=({result:t,style:e})=>{let i=P("div",{});switch(t){case W2.PASSED:case Oo.ADOPTED:case oi.ABSENT_APPROVE:case oi.ABSTAIN_APPROVE:case oi.APPROVE:i=P(Jye,{});break;case W2.FAILED:case Oo.REJECTED:case oi.ABSENT_REJECT:case oi.ABSTAIN_REJECT:case oi.REJECT:i=P(Zye,{});break;case oi.ABSENT_NON_VOTING:case oi.ABSTAIN_NON_VOTING:i=P(twe,{});break;case Oo.IN_PROGRESS:i=P(ewe,{});break}const n=Ta.exports.useMediaQuery({query:`(max-width: ${Dt.tablet})`}),r=Se[t.toLowerCase().replace(/[()]/g,"").replace(/[ -]/g,"_")];return e||(e={display:"flex",flex:1,alignItems:"center"}),n?P("div",{style:{height:24,width:24},children:i}):ue("div",{style:e,children:[P("div",{style:{height:24,width:24},children:i}),P("div",{children:P("p",{className:"mzp-c-card-desc",style:{marginLeft:8},children:r})})]})};ks.defaultProps={result:Oo.IN_PROGRESS};const OA=({index:t})=>{const e=t%2===0?"rgb(236,236,236)":"white";return P("div",{style:{display:"flex",flex:1,flexDirection:"column",padding:16,borderBottom:"1px solid #000000",backgroundColor:e},children:P("p",{className:"mzp-c-card-desc",children:t===0?"No results found.":"Record missing."})})},mU=({index:t,children:e,columnNames:i,columnDistribution:n,onClick:r})=>{const o=t%2===0?PR.COLORS.EVEN_CELL:PR.COLORS.ODD_CELL,a=Ta.exports.useMediaQuery({query:`(max-width: ${Dt.tablet})`});return!e||e.length===0?P(OA,{index:t}):a?P("div",{style:{display:"flex",flex:1,flexDirection:"column",padding:16,borderBottom:"1px solid #000000",backgroundColor:o},children:e==null?void 0:e.map((s,l)=>{const c=i?i[l]:"";return ue("div",{style:{display:"flex",justifyContent:"space-between",flex:1,alignItems:"flex-start"},children:[P("p",{style:{flex:1,fontWeight:"bold",paddingRight:8},className:"mzp-c-card-desc",children:c}),s]},l)})}):P("div",{style:{display:"flex",flex:1,backgroundColor:o,flexDirection:"row",padding:16},onClick:r,children:e==null?void 0:e.map((s,l)=>{const c=n?n[l]:"0%";return P("div",{style:{width:c},children:s},l)})})};function iwe(t,e,i){if(t)return P(ze.Fragment,{children:e.map((n,r)=>{const o=`/people/${n.personId}`;return ue("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[P(pn,{style:{flex:1},to:o,children:n.name}),P(ks,{result:n.decision})]},`individual-vote-${r}-${n.id}`)})});{let n=0,r=0,o=0;e.forEach(c=>{[oi.ABSENT_APPROVE,oi.ABSTAIN_APPROVE,oi.APPROVE].includes(c.decision)&&n++,[oi.ABSENT_REJECT,oi.ABSTAIN_REJECT,oi.REJECT].includes(c.decision)&&r++,[oi.ABSENT_NON_VOTING,oi.ABSTAIN_NON_VOTING].includes(c.decision)&&o++});const a=Se.number_approved.replace("{number}",`${n}`),s=Se.number_rejected.replace("{number}",`${r}`),l=Se.number_non_voting.replace("{number}",`${o}`);return i?ue("div",{style:{display:"flex",flexDirection:"column"},children:[P("p",{children:a}),P("p",{children:s}),P("p",{children:l})]}):P("p",{children:`${a} ${Ay} ${s} ${Ay} ${l}`})}}const nwe=({index:t,legislationLink:e,legislationName:i,legislationDescription:n,councilDecision:r,votes:o,columnNames:a,columnDistribution:s})=>{const[l,c]=$.exports.useState(!1),d=Ta.exports.useMediaQuery({query:`(max-width: ${Dt.tablet})`});return ue(mU,{index:t,columnNames:a,columnDistribution:s,onClick:()=>{c(!l)},children:[ue("div",{children:[P(pn,{to:e,children:P("p",{className:"mzp-c-card-desc",style:{fontWeight:600,marginBottom:0},children:i})}),!d&&P("p",{children:n})]}),P(ks,{result:r}),iwe(l,o,d)]},`meeting-table-row-${t}`)},rwe=Fe.div({padding:8,fontSize:Tr.font_size_6,fontWeight:600}),owe=({columnNames:t,columnDistribution:e})=>Ta.exports.useMediaQuery({query:`(max-width: ${Dt.tablet})`})?null:P("div",{style:{display:"flex",flex:1,flexDirection:"row"},children:t==null?void 0:t.map((n,r)=>{const o=e[r]||0;return P("div",{style:{width:o},children:P(rwe,{children:n})},n)})});function awe(t){return P(OA,{index:t},`empty-table-row-${t}`)}const gU=({data:t,renderRow:e,columnDistribution:i,columnNames:n})=>{const r=!t||!t.length||t.length===0;return ue(ze.Fragment,{children:[P(owe,{columnDistribution:i,columnNames:n}),r&&awe(0),t.map((o,a)=>e(o,a))]})};function swe(t){return P(OA,{index:t},`empty-table-row-${t}`)}const lwe=({votesPage:t})=>{const e=[Se.legislation,Se.council_decision,Se.votes],i=["35%","25%","40%"];function n(r,o){if(!r.matter||!r.votes)return swe(o);const a=r.matter.name,s=r.matter.description,l=r.council_decision,c=`/matters/${r.matter.id}`;return P(nwe,{index:o,legislationName:a,legislationDescription:s,councilDecision:l,legislationLink:c,votes:r.votes,columnDistribution:i,columnNames:e},`meeting-voting-table-row-${o}`)}return ue(yo,{children:[P("p",{children:Se.meeting_votes_caption}),P(gU,{data:t,columnDistribution:i,columnNames:e,renderRow:n})]})},cwe=({currentInfoTab:t,setCurrentInfoTab:e,sentences:i,transcriptItemsRefs:n,eventMinutesItems:r,votes:o,jumpToVideoClip:a})=>{const{language:s}=jo(),l=(y,w)=>e(w.activeIndex),c=$.exports.useMemo(()=>r.map(({minutes_item:y,files:w})=>({name:y==null?void 0:y.name,description:y==null?void 0:y.description,matter_ref:y==null?void 0:y.matter_ref,documents:w&&w.length>0?w.map(({name:g,uri:A})=>({label:g,url:A})):void 0})),[r]),d=$.exports.useMemo(()=>o.reduce((y,w)=>(Object.keys(y).includes(w.event_minutes_item_ref)||(y[w.event_minutes_item_ref]=[]),y[w.event_minutes_item_ref].push(w),y),{}),[o]),p=$.exports.useMemo(()=>r.map(y=>d[y.id]||[]),[d,r]),h=$.exports.useMemo(()=>{const y=[];return r.forEach(({minutes_item:w,decision:g},A)=>{const x=p[A];x&&x.length>0&&y.push({matter:{name:w==null?void 0:w.name,description:w==null?void 0:w.description,id:w==null?void 0:w.matter_ref},council_decision:g,votes:x.map(({person:T,decision:E,id:z})=>({personId:T==null?void 0:T.id,name:T==null?void 0:T.name,decision:E,id:z}))})}),y},[r,p]),m=$.exports.useMemo(()=>[{menuItem:Se.minutes,pane:{key:"agenda",content:P(Xye,{minutesItems:c})}},{menuItem:Se.transcript,pane:{key:"transcript",content:P(_g,{data:"transcript",isLoading:i.isLoading,error:i.error,notFound:!i.data||i.data.length===0,children:i.data&&P(Vye,{sentences:i.data,transcriptItemsRefs:n,jumpToVideoClip:a})})}},{menuItem:Se.votes,pane:{key:"votes",content:P(lwe,{votesPage:h})}}],[c,i,n,a,h,s]);return P(pU,{padding:"16px",menu:{secondary:!0,pointing:!0},panes:m,activeIndex:t,onTabChange:l,renderActiveOnly:!1})};var uwe=ze.memo(cwe);const dwe=Fe.div({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",rowGap:"32px","& > *":{width:"100%"}}),fwe=Fe.div({"& > h1":{margin:0}}),pwe=Fe.div({position:"sticky",top:0,zIndex:2,backgroundColor:"white",[`@media (min-width:${Dt.tablet})`]:{position:"static"},[`@media (min-aspect-ratio:5/4), (min-width:${Dt.desktop})`]:{width:"50%"}}),hwe=Fe.div({[`@media (min-aspect-ratio:5/4), (min-width:${Dt.desktop})`]:{width:"47%"}}),mwe=({event:t,sessions:e,sentences:i,eventMinutesItems:n,votes:r,initialSession:o,initialSeconds:a,searchQuery:s})=>{var E,z,M,B,L;const{municipality:l}=Di(),{language:c}=jo();xf(`${(E=t.body)==null?void 0:E.name}${((z=t.body)==null?void 0:z.name)&&t.event_datetime&&" -- "}${(M=t.event_datetime)==null?void 0:M.toLocaleDateString(c,{timeZone:l.timeZone})}`);const[d,p]=$.exports.useState(o),[h,m]=$.exports.useState(0),y=$.exports.useRef(e.map(()=>$.exports.createRef())),w=$.exports.useCallback((F,H)=>{var X;p(de=>{var we;return de!==F&&((we=y.current[de].current)==null||we.pause()),F}),(X=y.current[F].current)==null||X.seekTo(H)},[y]),g=$.exports.useMemo(()=>(i.data||[]).map(()=>$.exports.createRef()),[i.data]),[A,x]=$.exports.useState(),T=$.exports.useCallback(F=>{var H;h!==1?(m(1),x(F)):(H=g[F].current)==null||H.scrollIntoView()},[g,h]);return $.exports.useEffect(()=>{var F;h===1&&A!==void 0&&((F=g[A].current)==null||F.scrollIntoView(),x(void 0))},[h,A,g]),ue(dwe,{children:[ue(fwe,{children:[P("h1",{className:"mzp-u-title-sm",children:(B=t.body)==null?void 0:B.name}),P("p",{className:"mzp-c-card-desc",children:(L=t.event_datetime)==null?void 0:L.toLocaleString(c,{timeZone:l.timeZone,timeZoneName:"short",month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})})]}),P(pwe,{children:P(Yye,{eventVideoRefs:y.current,sessions:e,currentSession:d,initialSeconds:a,setCurrentSession:p})}),P(hwe,{children:P(Wpe,{searchQuery:s||"",sentences:i,jumpToVideoClip:w,jumpToTranscript:T})}),P("div",{children:P(uwe,{currentInfoTab:h,setCurrentInfoTab:m,sentences:i,transcriptItemsRefs:g,eventMinutesItems:n,votes:r,jumpToVideoClip:w})})]})},gwe="Reproducir",bwe="Pausa",vwe="Duraci\xF3n total",ywe="DIRECTO",wwe="Cargado",Awe="Progreso",xwe="Pantalla completa",kwe="Silenciar",_we="No silenciado",Twe="Subt\xEDtulos",Swe="Subt\xEDtulos especiales",Cwe="Cap\xEDtulos",Ewe="Volver a reproducir",zwe="Descripciones",Iwe="Cerrar",Rwe="Texto",Pwe="Blanco",Lwe="Negro",Owe="Rojo",Mwe="Verde",Dwe="Azul",Bwe="Amarillo",Fwe="Magenta",Nwe="Cian",jwe="Fondo",Uwe="Ventana",Gwe="Transparente",Hwe="Opaca",Ywe="Ninguno",Wwe="En relieve",Vwe="Hundido",$we="Uniforme",Qwe="Sombra paralela",qwe="Informal",Kwe="Cursiva",Xwe="Restablecer",Jwe="Listo";var Zwe={Play:gwe,"Play Video":"Reproducir V\xEDdeo",Pause:bwe,"Current Time":"Tiempo reproducido",Duration:vwe,"Remaining Time":"Tiempo restante","Stream Type":"Tipo de secuencia",LIVE:ywe,Loaded:wwe,Progress:Awe,Fullscreen:xwe,"Non-Fullscreen":"Pantalla no completa",Mute:kwe,Unmute:_we,"Playback Rate":"Velocidad de reproducci\xF3n",Subtitles:Twe,"subtitles off":"Subt\xEDtulos desactivados",Captions:Swe,"captions off":"Subt\xEDtulos especiales desactivados",Chapters:Cwe,"You aborted the media playback":"Ha interrumpido la reproducci\xF3n del v\xEDdeo.","A network error caused the media download to fail part-way.":"Un error de red ha interrumpido la descarga del v\xEDdeo.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"No se ha podido cargar el v\xEDdeo debido a un fallo de red o del servidor o porque el formato es incompatible.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"La reproducci\xF3n de v\xEDdeo se ha interrumpido por un problema de corrupci\xF3n de datos o porque el v\xEDdeo precisa funciones que su navegador no ofrece.","No compatible source was found for this media.":"No se ha encontrado ninguna fuente compatible con este v\xEDdeo.","Audio Player":"Reproductor de audio","Video Player":"Reproductor de video",Replay:Ewe,"Seek to live, currently behind live":"Buscar en vivo, actualmente demorado con respecto a la transmisi\xF3n en vivo","Seek to live, currently playing live":"Buscar en vivo, actualmente reproduciendo en vivo","Progress Bar":"Barra de progreso","progress bar timing: currentTime={1} duration={2}":"{1} de {2}",Descriptions:zwe,"descriptions off":"descripciones desactivadas","Audio Track":"Pista de audio","Volume Level":"Nivel de volumen","The media is encrypted and we do not have the keys to decrypt it.":"El material audiovisual est\xE1 cifrado y no tenemos las claves para descifrarlo.",Close:Iwe,"Modal Window":"Ventana modal","This is a modal window":"Esta es una ventana modal","This modal can be closed by pressing the Escape key or activating the close button.":"Esta ventana modal puede cerrarse presionando la tecla Escape o activando el bot\xF3n de cierre.",", opens captions settings dialog":", abre el di\xE1logo de configuraci\xF3n de leyendas",", opens subtitles settings dialog":", abre el di\xE1logo de configuraci\xF3n de subt\xEDtulos",", selected":", seleccionado","Close Modal Dialog":"Cierra cuadro de di\xE1logo modal",", opens descriptions settings dialog":", abre el di\xE1logo de configuraci\xF3n de las descripciones","captions settings":"configuraci\xF3n de leyendas","subtitles settings":"configuraci\xF3n de subt\xEDtulos","descriptions settings":"configuraci\xF3n de descripciones",Text:Rwe,White:Pwe,Black:Lwe,Red:Owe,Green:Mwe,Blue:Dwe,Yellow:Bwe,Magenta:Fwe,Cyan:Nwe,Background:jwe,Window:Uwe,Transparent:Gwe,"Semi-Transparent":"Semitransparente",Opaque:Hwe,"Font Size":"Tama\xF1o de fuente","Text Edge Style":"Estilo de borde del texto",None:Ywe,Raised:Wwe,Depressed:Vwe,Uniform:$we,Dropshadow:Qwe,"Font Family":"Familia de fuente","Proportional Sans-Serif":"Sans-Serif proporcional","Monospace Sans-Serif":"Sans-Serif monoespacio","Proportional Serif":"Serif proporcional","Monospace Serif":"Serif monoespacio",Casual:qwe,Script:Kwe,"Small Caps":"Min\xFAsculas",Reset:Xwe,"restore all settings to the default values":"restablece todas las configuraciones a los valores predeterminados",Done:Jwe,"Caption Settings Dialog":"Di\xE1logo de configuraci\xF3n de leyendas","Beginning of dialog window. Escape will cancel and close the window.":"Comienzo de la ventana de di\xE1logo. La tecla Escape cancelar\xE1 la operaci\xF3n y cerrar\xE1 la ventana.","End of dialog window.":"Final de la ventana de di\xE1logo.","{1} is loading.":"{1} se est\xE1 cargando.","Exit Picture-in-Picture":"Salir de imagen sobre imagen","Picture-in-Picture":"Imagen sobre imagen"};const eAe="Wiedergabe",tAe="Pause",iAe="Erneut abspielen",nAe="Dauer",rAe="LIVE",oAe="Geladen",aAe="Status",sAe="Vollbild",lAe="Ton aus",cAe="Ton ein",uAe="Untertitel",dAe="Untertitel",fAe="Kapitel",pAe="Schlie\xDFen",hAe="Beschreibungen",mAe="Schrift",gAe="Wei\xDF",bAe="Schwarz",vAe="Rot",yAe="Gr\xFCn",wAe="Blau",AAe="Gelb",xAe="Magenta",kAe="T\xFCrkis",_Ae="Hintergrund",TAe="Fenster",SAe="Durchsichtig",CAe="Undurchsichtig",EAe="Kein",zAe="Erhoben",IAe="Gedr\xFCckt",RAe="Uniform",PAe="Schlagschatten",LAe="Zwanglos",OAe="Schreibschrift",MAe="Zur\xFCcksetzen",DAe="Fertig";var BAe={Play:eAe,Pause:tAe,Replay:iAe,"Current Time":"Aktueller Zeitpunkt",Duration:nAe,"Remaining Time":"Verbleibende Zeit","Stream Type":"Streamtyp",LIVE:rAe,Loaded:oAe,Progress:aAe,Fullscreen:sAe,"Non-Fullscreen":"Vollbildmodus beenden",Mute:lAe,Unmute:cAe,"Playback Rate":"Wiedergabegeschwindigkeit",Subtitles:uAe,"subtitles off":"Untertitel aus",Captions:dAe,"captions off":"Untertitel aus",Chapters:fAe,"You aborted the media playback":"Sie haben die Videowiedergabe abgebrochen.","A network error caused the media download to fail part-way.":"Der Videodownload ist aufgrund eines Netzwerkfehlers fehlgeschlagen.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Das Video konnte nicht geladen werden, da entweder ein Server- oder Netzwerkfehler auftrat oder das Format nicht unterst\xFCtzt wird.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Die Videowiedergabe wurde entweder wegen eines Problems mit einem besch\xE4digten Video oder wegen verwendeten Funktionen, die vom Browser nicht unterst\xFCtzt werden, abgebrochen.","No compatible source was found for this media.":"F\xFCr dieses Video wurde keine kompatible Quelle gefunden.","Play Video":"Video abspielen",Close:pAe,"Modal Window":"Modales Fenster","This is a modal window":"Dies ist ein modales Fenster","This modal can be closed by pressing the Escape key or activating the close button.":'Durch Dr\xFCcken der Esc-Taste bzw. Bet\xE4tigung der Schaltfl\xE4che "Schlie\xDFen" wird dieses modale Fenster geschlossen.',", opens captions settings dialog":", \xF6ffnet Einstellungen f\xFCr Untertitel",", opens subtitles settings dialog":", \xF6ffnet Einstellungen f\xFCr Untertitel",", selected":", ausgew\xE4hlt","captions settings":"Untertiteleinstellungen","subtitles settings":"Untertiteleinstellungen","descriptions settings":"Einstellungen f\xFCr Beschreibungen","Close Modal Dialog":"Modales Fenster schlie\xDFen",Descriptions:hAe,"descriptions off":"Beschreibungen aus","The media is encrypted and we do not have the keys to decrypt it.":"Die Entschl\xFCsselungsschl\xFCssel f\xFCr den verschl\xFCsselten Medieninhalt sind nicht verf\xFCgbar.",", opens descriptions settings dialog":", \xF6ffnet Einstellungen f\xFCr Beschreibungen","Audio Track":"Tonspur",Text:mAe,White:gAe,Black:bAe,Red:vAe,Green:yAe,Blue:wAe,Yellow:AAe,Magenta:xAe,Cyan:kAe,Background:_Ae,Window:TAe,Transparent:SAe,"Semi-Transparent":"Halbdurchsichtig",Opaque:CAe,"Font Size":"Schriftgr\xF6\xDFe","Text Edge Style":"Textkantenstil",None:EAe,Raised:zAe,Depressed:IAe,Uniform:RAe,Dropshadow:PAe,"Font Family":"Schriftfamilie","Proportional Sans-Serif":"Proportionale Sans-Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Serif":"Proportionale Serif","Monospace Serif":"Monospace Serif",Casual:LAe,Script:OAe,"Small Caps":"Small-Caps",Reset:MAe,"restore all settings to the default values":"Alle Einstellungen auf die Standardwerte zur\xFCcksetzen",Done:DAe,"Caption Settings Dialog":"Einstellungsdialog f\xFCr Untertitel","Beginning of dialog window. Escape will cancel and close the window.":"Anfang des Dialogfensters. Esc bricht ab und schlie\xDFt das Fenster.","End of dialog window.":"Ende des Dialogfensters.","Audio Player":"Audio-Player","Video Player":"Video-Player","Progress Bar":"Fortschrittsbalken","progress bar timing: currentTime={1} duration={2}":"{1} von {2}","Volume Level":"Lautst\xE4rke","{1} is loading.":"{1} wird geladen.","Seek to live, currently behind live":"Zur Live-\xDCbertragung wechseln. Aktuell wird es nicht live abgespielt.","Seek to live, currently playing live":"Zur Live-\xDCbertragung wechseln. Es wird aktuell live abgespielt.","Exit Picture-in-Picture":"Bild-im-Bild-Modus beenden","Picture-in-Picture":"Bild-im-Bild-Modus"};const FAe=()=>{ee.addLanguage("es",Zwe),ee.addLanguage("de",BAe)};FAe();const NAe=()=>{const{id:t}=rS(),{firebaseConfig:e}=Di(),i=wf(),n=$.exports.useMemo(()=>i.state?i.state.query:"",[i.state]),[r,o]=$.exports.useMemo(()=>{const{s:E,t:z}=kw.parse(i.search);return[E,z].map(M=>{if(M!==null&&typeof M=="string"){const B=parseFloat(M);return isNaN(B)||B<0?0:Math.floor(B)}else return 0})},[i.search]),a=$.exports.useCallback(async()=>{const z=await new lA(e).getEventById(t);return Promise.resolve(z)},[e,t]),{state:s}=dn({...Io},a),l=$.exports.useCallback(async()=>{const z=await new ufe(e).getSessionsByEventId(t);return Promise.resolve(z)},[e,t]),{state:c}=dn({...Io},l),d=$.exports.useCallback(async()=>{const E=new hfe(e),z=new YF(e),M=await E.getEventMinutesItemsByEventId(t),B=await Promise.all(M.map(({id:L})=>z.getEventMinutesItemFilesByEventMinutesItemId(L)));return Promise.resolve(M.map((L,F)=>({...L,files:B[F]})))},[e,t]),{state:p}=dn({...Io},d),h=$.exports.useCallback(async()=>{const z=await new fA(e).getVotesByEventId(t);return Promise.resolve(z)},[e,t]),{state:m}=dn({...Io},h),y=$.exports.useCallback(async()=>{const E=new ffe(e),z=new bfe(e);if(c.data){const M=await Promise.all(c.data.map(({id:F})=>E.getTranscriptBySessionId(F))),B=await Promise.all(M.map(F=>{var H;return z.download((H=F[0].file)==null?void 0:H.uri)})),L=[];return B.forEach((F,H)=>{var X;(X=F==null?void 0:F.sentences)==null||X.forEach(de=>{L.push({session_index:H,index:L.length,start_time:de.start_time,end_time:de.end_time,text:de.text,speaker_name:de.speaker_name,speaker_index:de.speaker_index,speaker_id:void 0,speaker_pictureSrc:void 0})})}),Promise.resolve(L)}return Promise.resolve([])},[e,c.data]),{state:w,dispatch:g}=dn({...Io,hasFetchRequest:!1},y);$.exports.useEffect(()=>{c.data&&g({type:vy.FETCH})},[c.data,g]);const A=$.exports.useMemo(()=>s.isLoading||c.isLoading||p.isLoading||m.isLoading,[s.isLoading,c.isLoading,p.isLoading,m.isLoading]),x=$.exports.useMemo(()=>{if(!(!s.data||!c.data||!p.data||!m.data))return{event:s.data,sessions:c.data,eventMinutesItems:p.data,votes:m.data}},[s.data,c.data,p.data,m.data]),T=$.exports.useMemo(()=>{const E=[s.error,c.error,p.error,m.error].map(z=>(z==null?void 0:z.message)||"").filter(z=>z.length>0);return E.length>0?new Error(E.join(`
`)):null},[s.error,c.error,p.error,m.error]);return P(Of,{isLoading:A,error:T,children:x&&P(mwe,{...x,sentences:w,searchQuery:n,initialSession:r>0&&r<x.sessions.length?r:0,initialSeconds:o})})};var jm=(t=>(t.FAILURE="FAILURE",t.SUCCESS="SUCCESS",t.FETCH_MODELS="FETCH_MODELS",t))(jm||{});const jAe=()=>(t,e)=>{switch(e.type){case"SUCCESS":return{...t,models:t.fetchModels?e.payload:[...t.models,...e.payload],fetchModels:!1,showMoreModels:!1,hasMoreModels:e.payload.length===t.batchSize};case"FAILURE":return{...t,error:e.payload,fetchModels:!1,showMoreModels:!1};case"FETCH_MODELS":return{...t,error:null,fetchModels:e.payload,showMoreModels:!e.payload};default:return t}};function ZE(t,e){const[i,n]=$.exports.useReducer(jAe(),t);return $.exports.useEffect(()=>{let r=!1;const o=async()=>{try{const a=await e(i)();r||n({type:"SUCCESS",payload:a})}catch(a){if(!r){const s=ha(a);n({type:"FAILURE",payload:s})}}};return(i.fetchModels||i.showMoreModels)&&o(),()=>{r=!0}},[i,i.batchSize,i.models,i.fetchModels,i.showMoreModels,e,n]),{state:i,dispatch:n}}const UAe=({bodies:t,initialSelectedBodies:e})=>{const{firebaseConfig:i,municipality:n}=Di(),{language:r}=jo(),o=Sc({name:Se.date,initialState:{start:"",end:""},defaultDataValue:"",textRepFunction:DF(r,n.timeZone)}),a=Sc({name:Se.committee,initialState:t.reduce((T,E)=>(T[E.id]=e[E.id]||!1,T),{}),defaultDataValue:!1,textRepFunction:F8,limit:bC}),s=Sc({name:"Sort",initialState:{by:"event_datetime",order:Ki.desc,label:Se.newest_first},defaultDataValue:"",textRepFunction:BF}),l=$.exports.useCallback(T=>async()=>{const E=!T.fetchModels&&T.models.length>0?T.models[T.models.length-1].event_datetime:void 0,z=new lA(i),M=await z.getEvents(T.batchSize,dS(a.state),{start:ef(new Date(o.state.start),n.timeZone),end:ef(new Date(o.state.end),n.timeZone)},{by:s.state.by,order:s.state.order},E),B=await Promise.all(M.map(L=>z.getRenderableEvent(L)));return Promise.resolve(B)},[i,a.state,o.state,s.state,n.timeZone]),c=Ta.exports.useMediaQuery({query:`(min-width: ${Dt.desktop})`}),{state:d,dispatch:p}=ZE({batchSize:GF-(c?1:0),models:[],fetchModels:!0,showMoreModels:!1,hasMoreModels:!1,error:null},l),h=nS(),[m,y]=$.exports.useState(""),w=()=>{const T=`?q=${m.trim().replace(/\s+/g,"+")}`;h.push({pathname:`/${$r.EVENT}/search`,search:T,state:{query:m.trim(),committees:a.state,dateRange:o.state}})},g=$.exports.useCallback(()=>{p({type:jm.FETCH_MODELS,payload:!0})},[p]),A=$.exports.useCallback(()=>p({type:jm.FETCH_MODELS,payload:!1}),[p]),x=$.exports.useMemo(()=>{if(d.fetchModels)return P(va,{active:!0,size:"massive"});if(d.error)return P(Rh,{children:d.error.toString()});if(d.models.length===0)return P(Rh,{children:Se.no_results_found});{const T=d.models.map(({keyGrams:E,...z})=>({link:`/${$r.EVENT}/${z.id}`,jsx:P(zF,{event:z,tags:E})}));return P(FC,{cards:T})}},[d.fetchModels,d.error,d.models]);return ue(NF,{children:[ue(UF,{children:[P("h1",{className:"mzp-u-title-sm",children:Se.events}),P(jF,{placeholder:Se.search_topic_placeholder,query:m,setQuery:y,handleSearch:w})]}),P(FF,{allBodies:t,filters:[a,o,s],sortOptions:[{by:"event_datetime",order:Ki.desc,label:Se.newest_first},{by:"event_datetime",order:Ki.asc,label:Se.oldest_first}],handlePopupClose:g}),x,P(cA,{isVisible:d.hasMoreModels&&!d.fetchModels,children:ue("button",{className:"mzp-c-button mzp-t-secondary mzp-t-lg",onClick:A,children:[P("span",{children:Se.show_more}),P(va,{inline:!0,active:d.showMoreModels,size:"tiny"})]})})]})},GAe=()=>{const{firebaseConfig:t}=Di();xf(Se.events);const e=wf(),i=$.exports.useMemo(()=>{if(e.state)return e.state;const{body:o}=kw.parse(e.search),a={};return o&&typeof o=="string"&&(a[o]=!0),{committees:a}},[e]),n=$.exports.useCallback(async()=>{const a=await new r6(t).getAllBodies();return Promise.resolve({bodies:a})},[t]),{state:r}=dn({isLoading:!1,error:null,hasFetchRequest:!0},n);return P(Of,{isLoading:r.isLoading,error:r.error,children:r.data&&P(UAe,{...r.data,initialSelectedBodies:i.committees})})};class HAe extends Dn{constructor(e){super(_e.Person,e)}async getPersonById(e){const i=new Ci(_e.File,vt.PersonPictureRef),n=this.networkService.getDocument(e,_e.Person,new Ji([i]));return this.createModel(n,dA,`getPersonById(${e})`)}}class bU{constructor(e){this.id=e.id,this.name=e.name,e.external_source_id&&(this.external_source_id=e.external_source_id),e.electoral_area&&(this.electoral_area=e.electoral_area),e.electoral_type&&(this.electoral_type=e.electoral_type),e.image_ref&&(e.image_ref instanceof kt?this.image_ref=e.image_ref.id:typeof e.image_ref=="object"&&(this.image=new Zd(e.image_ref)))}}class D0{constructor(e){this.id=e.id,this.title=e.title,this.person_ref=e.person_ref.id,this.seat_ref=e.seat_ref.id,this.start_datetime=ma(e.start_datetime),e.end_datetime&&(this.end_datetime=ma(e.end_datetime)),typeof e.person_ref=="object"&&!(e.person_ref instanceof kt)&&(this.person=new dA(e.person_ref)),e.body_ref&&(e.body_ref instanceof kt?this.body_ref=e.body_ref.id:typeof e.body_ref=="object"&&(this.body=new uy(e.body_ref))),typeof e.seat_ref=="object"&&!(e.seat_ref instanceof kt)&&(this.seat=new bU(e.seat_ref)),e.external_source_id&&(this.external_source_id=e.external_source_id)}}class V2 extends Dn{constructor(e){super(_e.Role,e)}async getPopulatedRolesByPersonId(e){const i=new Ci(_e.Body,vt.RoleBodyRef),n=this.networkService.getDocuments(_e.Role,[Ai(vt.RolePersonRef,mi.eq,Yi(Qt.getDb(),_e.Person,e)),Rn("start_datetime",Ki.desc)],new Ji([i]));return this.createModels(n,D0,`getPopulatedRolesByPersonId(${e})`)}async getCouncilMemberRolesByPersonId(e){const i=new Ci(_e.Seat,vt.RoleSeatRef),n=this.networkService.getDocuments(_e.Role,[Ai(vt.RolePersonRef,mi.eq,Yi(Qt.getDb(),_e.Person,e)),Ai("title",mi.eq,qa.COUNCILMEMBER),Rn("start_datetime",Ki.desc)],new Ji([i]));return this.createModels(n,D0,`getCouncilMemberRolesByPersonId(${e})`)}async getMostRecentCouncilMemberRoleBySeat(e){const i=new Ci(_e.Person,vt.RolePersonRef),n=this.networkService.getDocuments(_e.Role,[Ai(vt.RoleSeatRef,mi.eq,Yi(Qt.getDb(),_e.Seat,e)),Ai("end_datetime",mi.eq,null),Qc(1),Rn("start_datetime",Ki.desc)],new Ji([i])),r=await this.createModels(n,D0,"getMostRecentCouncilMemberRoleBySeatWithNullEndDates");if(r[0])return Promise.resolve(r[0]);const o=this.networkService.getDocuments(_e.Role,[Ai(vt.RoleSeatRef,mi.eq,Yi(Qt.getDb(),_e.Seat,e)),Qc(1),Rn("end_datetime",Ki.desc)],new Ji([i])),a=await this.createModels(o,D0,"getMostRecentCouncilMemberRoleBySeat");return a[0]?Promise.resolve(a[0]):Promise.resolve(null)}}var Rl=Fe.h2(t=>({display:t.isInline?"inline":"block",paddingBottom:t.hasBorderBottom?8:0,borderBottom:t.hasBorderBottom?`1px solid ${Ro.grey}`:0}));const YAe=Fe.div({"& > address > a:nth-of-type(2)":{marginTop:8},"& a":{display:"flex",alignItems:"center",columnGap:8},"& svg":{width:Tr.font_size_5,height:Tr.font_size_5,color:Ro.black}}),WAe=({person:t})=>t.phone||t.email||t.website?ue(YAe,{children:[P(Rl,{hasBorderBottom:!0,className:"mzp-u-title-xs",children:Se.contact}),(t.phone||t.email)&&ue("address",{children:[t.email&&ue("a",{className:"mzp-c-cta-link",href:`mailto:${t.email}`,children:[P("svg",{width:16,height:16,xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),t.email]}),t.phone&&ue("a",{className:"mzp-c-cta-link",href:`tel:${t.phone}`,children:[P("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),t.phone]})]}),t.website&&ue(yo,{children:[P("br",{}),P("a",{className:"mzp-c-cta-link",target:"_blank",rel:"noopener noreferrer",href:t.website,children:Se.visit_persons_website.replace("{person_name}",t.name)})]})]}):null,VAe=xy[Math.floor(Math.random()*xy.length)],$Ae=Fe.div({position:"relative",height:150,"& img":{objectFit:"cover"},[`@media (min-width:${Dt.tablet})`]:{height:400}}),QAe=Fe.img({width:"100%",height:"100%"}),qAe=Fe.img(t=>({visibility:t.isLoading?"hidden":"visible",position:"absolute",left:-5,bottom:-35,width:100,height:100,borderRadius:"50%",[`@media (min-width:${Dt.tablet})`]:{left:-25,width:200,height:200}})),KAe=({personName:t,personPictureSrc:e,seatPictureSrc:i,electoralArea:n})=>{const[r,o]=$.exports.useState(!0),[a,s]=$.exports.useState(!0);return $.exports.useEffect(()=>{e.data===null&&o(!1)},[e.data]),ue($Ae,{children:[P(BC,{contentIsLoading:a||r,children:P(QAe,{className:"mzp-c-card-image",src:i.data===null?VAe:i.data,alt:`${n||""}`,onLoad:()=>s(!1)})}),e.data&&P(qAe,{isLoading:a||r,className:"mzp-c-card-image",src:e.data,alt:`Picture of ${t}`,onLoad:()=>o(!1)})]})};class NL{constructor(e){this.id=e.id,this.person_ref=e.person_ref.id,this.matter_ref=e.matter_ref.id,e.external_source_id&&(this.external_source_id=e.external_source_id),typeof e.person_ref=="object"&&!(e.person_ref instanceof kt)&&(this.person=new dA(e.person_ref)),typeof e.matter_ref=="object"&&!(e.matter_ref instanceof kt)&&(this.matter=new kg(e.matter_ref))}}class vU extends Dn{constructor(e){super(_e.MatterSponsor,e)}async getMatterSponsorByMatterId(e){const i=new Ci(_e.MatterSponsor,vt.MatterSponsorPersonRef),n=this.networkService.getDocuments(_e.MatterSponsor,[Ai(vt.MatterSponsorMatterRef,mi.eq,Yi(Qt.getDb(),_e.Matter,e))],new Ji([i]));return this.createModels(n,NL,`getMatterSponsorByMatterId(${e})`)}async getMattersSponsoredByPersonId(e,i,n){const r=new Ci(_e.Matter,vt.MatterSponsorMatterRef),o=[];if(o.push(Ai(vt.MatterSponsorPersonRef,mi.eq,Yi(Qt.getDb(),_e.Person,e))),o.push(Rn(vt.MatterSponsorMatterRef,Ki.asc)),n){const s=Yi(Qt.getDb(),_e.MatterSponsor,n),l=await hC(s);o.push(pC(l))}o.push(Qc(i));const a=this.networkService.getDocuments(_e.MatterSponsor,o,new Ji([r]));return this.createModels(a,NL,`getMattersSponsoredByPersonId(${e})`)}}const XAe=25,JAe=25,ZAe=Fe.summary(t=>({"&::before":{content:"none"},cursor:"pointer",paddingRight:0,paddingBottom:t.hasBorderBottom?8:0,borderBottom:t.hasBorderBottom?`1px solid ${Ro.grey}`:0})),fu=({summaryContent:t,hiddenContent:e,defaultOpen:i,hasBorderBottom:n})=>ue("details",{open:i,children:[P(ZAe,{hasBorderBottom:n,children:t}),e]});var Qy=Fe.ul(t=>({marginLeft:"1.25rem","& > li":{marginTop:t.gap}}));const exe=({personId:t})=>{const{firebaseConfig:e}=Di(),i=$.exports.useCallback(s=>async()=>{const l=!s.fetchModels&&s.models.length>0?s.models[s.models.length-1].id:void 0,d=await new vU(e).getMattersSponsoredByPersonId(t,s.batchSize,l);return Promise.resolve(d)},[e,t]),{state:n,dispatch:r}=ZE({batchSize:JAe,models:[],fetchModels:!0,showMoreModels:!1,hasMoreModels:!1,error:null},i),o=$.exports.useCallback(()=>r({type:jm.FETCH_MODELS,payload:!1}),[r]),a=$.exports.useMemo(()=>ue(_g,{data:"legislations",isLoading:n.fetchModels,error:n.error,notFound:!n.fetchModels&&n.models.length===0,children:[P(Qy,{gap:8,children:n.models.map(s=>{var l,c,d,p;return P("li",{children:ue("dl",{children:[P("dt",{children:P(pn,{to:`/matters/${(l=s.matter)==null?void 0:l.id}`,children:P("strong",{children:(c=s.matter)==null?void 0:c.name})},(d=s.matter)==null?void 0:d.id)}),P("dd",{children:(p=s.matter)==null?void 0:p.title})]})},s.id)})}),P("br",{}),P(cA,{isVisible:!n.fetchModels&&n.hasMoreModels,children:ue("button",{className:"mzp-c-button mzp-t-secondary mzp-t-lg",onClick:o,children:[P("span",{children:Se.show_more}),P(va,{inline:!0,active:n.showMoreModels,size:"tiny"})]})})]}),[n,o]);return P("div",{style:{marginTop:16},children:P(fu,{hasBorderBottom:!0,defaultOpen:!1,summaryContent:P(Rl,{className:"mzp-u-title-xs",isInline:!0,children:Se.legislation_sponsored}),hiddenContent:a})})};function txe(t){function e(n,r){return`${n.toISOString()}${r==null?void 0:r.toISOString()}`}return[...new Map(t.map(n=>[e(n.start_datetime,n.end_datetime),n])).values()].sort((n,r)=>r.start_datetime.getTime()-n.start_datetime.getTime())}function ixe(t,e){const i=t.filter(a=>a.title!==qa.COUNCILMEMBER),n=[qa.COUNCILPRESIDENT,qa.CHAIR,qa.VICE_CHAIR,qa.SUPERVISOR,qa.MEMBER,qa.ALTERNATE];i.sort((a,s)=>n.indexOf(a.title)-n.indexOf(s.title));const r=e.reduce((a,s)=>(a[s.id]=[[],[]],a),{}),o=new Date;for(const a of i){const s=a.end_datetime||o;for(const l of e){const c=l.end_datetime||o;s>=l.start_datetime&&s<=c&&(s>o?r[l.id][0].push(a):r[l.id][1].push(a))}}return[r,i]}const Ck=({hasBorderBottom:t,roles:e,defaultOpen:i,title:n})=>P(fu,{hasBorderBottom:t,defaultOpen:i,summaryContent:n,hiddenContent:P(Qy,{gap:4,children:e.map(r=>{var o,a,s;return ue("li",{children:[P("strong",{children:`${Se[r.title.toLowerCase().replace(" ","_")]}: `}),P(pn,{to:{pathname:"/events",search:`?body=${(o=r.body)==null?void 0:o.id}`,state:{committees:{[(a=r.body)==null?void 0:a.id]:!0}}},children:P("strong",{children:`${(s=r.body)==null?void 0:s.name}`})})]},r.id)})})}),nxe=({councilMemberRoles:t,allRoles:e})=>{const{municipality:i}=Di(),{language:n}=jo(),[r,o,a]=$.exports.useMemo(()=>{const s=txe(t),[l,c]=ixe(e,s);return[s,l,c]},[t,e]);return e.length===0?null:r.length===0&&a.length>0?P(Ck,{hasBorderBottom:!0,roles:a,defaultOpen:!1,title:P(Rl,{isInline:!0,className:"mzp-u-title-xs",children:Se.committees})}):ue("div",{children:[P(Rl,{hasBorderBottom:!0,className:"mzp-u-title-xs",children:Se.terms}),P(Qy,{gap:16,children:r.map(s=>{var c,d;const l=!s.end_datetime||s.end_datetime>new Date;return P("li",{children:P(fu,{defaultOpen:l,summaryContent:ue("span",{style:{fontSize:Tr.font_size_6},children:[P("strong",{children:`${Se[s.title.toLowerCase().replace(" ","_")]}: `})," ",`${(c=s.seat)==null?void 0:c.name} // ${(d=s.seat)==null?void 0:d.electoral_area} (${s.start_datetime.toLocaleDateString(n,{timeZone:i.timeZone})} - ${s.end_datetime?s.end_datetime.toLocaleDateString(n,{timeZone:i.timeZone}):""})`]}),hiddenContent:ue(Qy,{gap:8,children:[o[s.id][0].length>0&&P("li",{children:P(Ck,{hasBorderBottom:!1,roles:o[s.id][0],defaultOpen:l,title:Se.committee_membership})}),o[s.id][1].length>0&&P("li",{children:P(Ck,{hasBorderBottom:!1,roles:o[s.id][1],defaultOpen:!l,title:Se.former_committee_membership})})]})})},s.id)})})]})},rxe=({index:t,legislationLink:e,legislationName:i,legislationTags:n,voteDecision:r,councilDecision:o,meetingDate:a,meetingLink:s,committeeName:l,columnNames:c,columnDistribution:d})=>{const{municipality:p}=Di(),{language:h}=jo(),m=n&&n.length>0?n.join(Ay):"",y=a==null?void 0:a.toLocaleDateString(h,{timeZone:p.timeZone,month:"long",day:"numeric",year:"numeric"}),w=Ta.exports.useMediaQuery({query:`(max-width: ${Dt.tablet})`});return ue(mU,{index:t,columnNames:c,columnDistribution:d,children:[ue(ze.Fragment,{children:[P(pn,{to:e,children:P("p",{className:"mzp-c-card-desc",style:{fontWeight:600,marginBottom:0},children:i})}),!w&&P("p",{className:"mzp-c-card-desc",children:m})]}),P(ks,{result:r}),P(ks,{result:o}),ue(ze.Fragment,{children:[P(pn,{to:s,children:y}),!w&&P("p",{className:"mzp-c-card-desc",children:l})]})]},`voting-table-row-${t}`)};function oxe(t){return P(OA,{index:t},`empty-table-row-${t}`)}const axe=({name:t,votesPage:e})=>{const i=[Se.legislation,Se.persons_vote.replace("{name}",t),Se.council_decision,Se.meeting],n=["30%","15%","20%","35%"];function r(o,a){var w;if(!o.matter||!o.decision||!o.event)return oxe(a);const s=o.matter.name,l=o.decision,c=(w=o.event_minutes_item)==null?void 0:w.decision,d=`/matters/${o.matter.id}`,p=o.matter.keywords,h=o.event.event_datetime,m=`/events/${o.event.id}`,y=o.event.body.name;return P(rxe,{index:a,legislationName:s,voteDecision:l,councilDecision:c,legislationLink:d,legislationTags:p,meetingDate:h,meetingLink:m,committeeName:y,columnNames:i,columnDistribution:n},`voting-table-row-${a}`)}return P(gU,{data:e,columnDistribution:n,columnNames:i,renderRow:r})},sxe=({personId:t,personName:e})=>{const{firebaseConfig:i}=Di(),n=$.exports.useCallback(l=>async()=>{const c=!l.fetchModels&&l.models.length>0?l.models[l.models.length-1].id:void 0,p=await new fA(i).getFullyPopulatedVotesByPersonId(t,l.batchSize,c);return Promise.resolve(p)},[i,t]),{state:r,dispatch:o}=ZE({batchSize:XAe,models:[],fetchModels:!0,showMoreModels:!1,hasMoreModels:!1,error:null},n),a=$.exports.useCallback(()=>o({type:jm.FETCH_MODELS,payload:!1}),[o]),s=$.exports.useMemo(()=>ue(_g,{data:"votes",isLoading:r.fetchModels,error:r.error,notFound:!r.fetchModels&&r.models.length===0,children:[P(axe,{name:e,votesPage:r.models}),P("br",{}),P(cA,{isVisible:!r.fetchModels&&r.hasMoreModels,children:ue("button",{className:"mzp-c-button mzp-t-secondary mzp-t-lg",onClick:a,children:[P("span",{children:Se.show_more}),P(va,{inline:!0,active:r.showMoreModels,size:"tiny"})]})})]}),[e,r,a]);return P(fu,{hasBorderBottom:!0,defaultOpen:!1,summaryContent:P(Rl,{className:"mzp-u-title-xs",isInline:!0,children:Se.persons_voting_record.replace("{person_name}",e)}),hiddenContent:ue(yo,{children:[P("br",{}),s]})})},lxe=Fe.div({display:"grid",gridTemplateColumns:"1fr",rowGap:64}),cxe=Fe.h1({margin:0,"& > span:first-of-type":{fontSize:"inherit",fontWeight:"inherit"},"& > span:not(:first-of-type)":{fontSize:Tr.font_size_7},"& > span:nth-of-type(2)":{marginLeft:16,padding:"0px 8px",borderRadius:4,fontWeight:300},"& > span:nth-of-type(3)":{marginTop:16,display:"block",fontWeight:400}}),uxe=Fe.div(t=>({display:t.isVisible?"grid":"none",rowGap:64,gridTemplateColumns:"1fr",[`@media (min-width:${Dt.tablet})`]:{gridTemplateColumns:"auto 1fr",columnGap:128}})),dxe=({person:t,roles:e,councilMemberRoles:i,personPictureSrc:n,seatPictureSrc:r})=>{var c;const o=i.length>0?i[0]:void 0,a=!(o!=null&&o.end_datetime)||(o==null?void 0:o.end_datetime)>new Date,s=!!(t.phone||t.email||t.website),l=e.length>0;return xf(t.name),ue(lxe,{children:[P(KAe,{personName:t.name,personPictureSrc:n,seatPictureSrc:r,electoralArea:(c=o==null?void 0:o.seat)==null?void 0:c.electoral_area}),ue(cxe,{className:"mzp-u-title-sm",children:[P("span",{children:t.name}),o&&P("span",{className:a?"cdp-bg-neon-green":"cdp-bg-dark-grey",children:a?Se.active:Se.inactive}),(o==null?void 0:o.seat)&&P("span",{children:`${o==null?void 0:o.seat.name} // ${o.seat.electoral_area}`})]}),ue(uxe,{isVisible:s||l,children:[P(WAe,{person:t}),P(nxe,{councilMemberRoles:i,allRoles:e})]}),P(exe,{personId:t.id}),P("div",{children:P(sxe,{personId:t.id,personName:t.name})})]})},fxe=()=>{const{id:t}=rS(),{firebaseConfig:e}=Di(),i=$.exports.useCallback(async()=>{const x=await new HAe(e).getPersonById(t);return Promise.resolve(x)},[t,e]),{state:n}=dn({...Io},i),r=$.exports.useCallback(async()=>{var T;const A=new wy(e),{networkService:x}=A;if((T=n.data)!=null&&T.picture){const E=await x.getDownloadUrl(n.data.picture.uri);return Promise.resolve(E)}return Promise.resolve(null)},[n.data,e]),{state:o,dispatch:a}=dn({...Io,hasFetchRequest:!1},r);$.exports.useEffect(()=>{n.data&&a({type:vy.FETCH})},[n.data,a]);const s=$.exports.useCallback(async()=>{const x=await new V2(e).getCouncilMemberRolesByPersonId(t);return Promise.resolve(x)},[t,e]),{state:l}=dn({...Io},s),c=$.exports.useCallback(async()=>{const A=new wy(e),{networkService:x}=A;if(l.data&&l.data.length>0&&l.data[0].seat&&l.data[0].seat.image_ref){const T=await A.getFileById(l.data[0].seat.image_ref),E=await x.getDownloadUrl(T.uri);return Promise.resolve(E)}return Promise.resolve(null)},[l.data,e]),{state:d,dispatch:p}=dn({...Io,hasFetchRequest:!1},c);$.exports.useEffect(()=>{l.data&&p({type:vy.FETCH})},[l.data,p]);const h=$.exports.useCallback(async()=>{const x=await new V2(e).getPopulatedRolesByPersonId(t);return Promise.resolve(x)},[t,e]),{state:m}=dn({...Io},h),y=$.exports.useMemo(()=>n.isLoading||l.isLoading||m.isLoading,[n.isLoading,l.isLoading,m.isLoading]),w=$.exports.useMemo(()=>{if(!(!n.data||!l.data||!m.data))return{person:n.data,councilMemberRoles:l.data,roles:m.data}},[n.data,l.data,m.data]),g=$.exports.useMemo(()=>{const A=[n.error,l.error,m.error].map(x=>(x==null?void 0:x.message)||"").filter(x=>x.length>0);return A.length>0?new Error(A.join(`
`)):null},[n.error,l.error,m.error]);return P(Of,{isLoading:y,error:g,children:w&&P(dxe,{...w,personPictureSrc:o,seatPictureSrc:d})})},pxe=xy[Math.floor(Math.random()*xy.length)],hxe=Fe.div({float:"right",marginRight:8,marginBottom:8,borderRadius:"10%",padding:"0 4px"}),jL=Fe.img(t=>({objectFit:"cover",left:`${t.left} !important`,width:`${t.width} !important`,height:"100%"})),mxe=({person:t,seat:e})=>{var c,d,p,h,m,y;const{firebaseConfig:i}=Di(),n=$.exports.useCallback(async()=>{const w=new wy(i),{networkService:g}=w,A=[Promise.resolve(void 0),Promise.resolve(void 0)];e.image_ref&&(A[0]=w.getFileById(e.image_ref).then(E=>g.getDownloadUrl(E.uri)).catch(()=>Promise.resolve(void 0))),t.picture_ref&&(A[1]=w.getFileById(t.picture_ref).then(E=>g.getDownloadUrl(E.uri)).catch(()=>Promise.resolve(void 0)));const[x,T]=await Promise.all(A);return Promise.resolve({seatPictureSrc:x,personPictureSrc:T})},[t.picture_ref,e.image_ref,i]),{state:r}=dn({isLoading:!1,error:null,hasFetchRequest:!0},n),[o,a]=$.exports.useState(!0),[s,l]=$.exports.useState(!0);return $.exports.useEffect(()=>{var w;!r.isLoading&&((w=r.data)==null?void 0:w.personPictureSrc)===void 0&&a(!1)},[r]),P("section",{className:"mzp-c-card mzp-c-card-medium mzp-has-aspect-16-9",children:ue("div",{className:"mzp-c-card-block-link",children:[P("div",{className:"mzp-c-card-media-wrapper",children:P(EF,{children:ue(BC,{contentIsLoading:o||s,children:[((c=r.data)==null?void 0:c.personPictureSrc)&&P(jL,{className:"mzp-c-card-image",src:r.data.personPictureSrc,width:(d=r.data)!=null&&d.seatPictureSrc?"40%":"100%",left:"0",alt:t.name,onLoad:()=>a(!1)}),P(jL,{className:"mzp-c-card-image",src:!r.isLoading&&((p=r.data)==null?void 0:p.seatPictureSrc)===void 0?pxe:(h=r.data)==null?void 0:h.seatPictureSrc,width:(m=r.data)!=null&&m.personPictureSrc?"60%":"100%",left:(y=r.data)!=null&&y.personPictureSrc?"40%":"0",alt:`${e.name} - ${e.electoral_area}`,onLoad:()=>l(!1)})]})})}),ue("div",{className:"mzp-c-card-content",children:[P("h2",{className:"mzp-c-card-title",children:t.name}),P(hxe,{className:t.is_active?"cdp-bg-neon-green":"cdp-bg-dark-grey",children:t.is_active?Se.active:Se.inactive}),ue("p",{className:"mzp-c-card-desc",children:[e.name," \u2022 ",e.electoral_area]})]})]})})},gxe=({roles:t,seats:e})=>{const i=t.reduce((n,r,o)=>(r.person&&n.push({link:`/people/${r.person.id}`,jsx:P(mxe,{person:r.person,seat:e[o]},`person-card-${r.person.name}`)}),n),[]);return ue("div",{children:[P("h1",{className:"mzp-u-title-sm",children:"Current Councilmembers"}),P(FC,{cards:i})]})};class bxe extends Dn{constructor(e){super(_e.Seat,e)}async getAllSeats(){const e=this.networkService.getDocuments(_e.Seat,[Rn("name")]);return this.createModels(e,bU,"getAllSeats")}}const vxe=()=>{const{firebaseConfig:t}=Di(),e=$.exports.useCallback(async()=>{const n=new bxe(t),r=new V2(t),o=await n.getAllSeats(),a=o.map(d=>r.getMostRecentCouncilMemberRoleBySeat(d.id)),s=await Promise.all(a),l=s.reduce((d,p,h)=>(p===null&&d.push(h),d),[]),c=s.reduce((d,p)=>(p!==null&&d.push(p),d),[]);for(let d=l.length-1;d>=0;d--)o.splice(l[d],1);return{seats:o,roles:c}},[t]),{state:i}=dn({isLoading:!1,error:null,hasFetchRequest:!0},e);return P(Of,{isLoading:i.isLoading,error:i.error,children:i.data&&P(gxe,{roles:i.data.roles,seats:i.data.seats})})},yxe=({matterStatus:t,indexedMatterGrams:e})=>{var i,n;return ue("div",{children:[P("h1",{className:"mzp-u-title-sm",children:(i=t.matter)==null?void 0:i.name}),P("b",{children:(n=t.matter)==null?void 0:n.title}),ue("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",marginTop:12,marginBottom:12},children:[P(ks,{result:t.status,style:{display:"flex",alignItems:"center",flex:0,whiteSpace:"nowrap"}}),P("div",{style:{display:"flex",flexDirection:"row",justifyContent:"left",alignItems:"center",flex:1},children:e&&e.map(r=>ue("div",{children:[P("p",{style:{display:"inline",paddingLeft:11,paddingRight:11},children:"\u2022"}),P("p",{style:{display:"inline"},children:r.unstemmed_gram})]},r.id))})]})]})},Um=20,$2=6,uc=Fe.div({width:Um,height:Um,borderRadius:"50%",zIndex:1}),yU=29,wxe=`calc(50% + ${Um/2}px + ${$2+2}px)`,Axe=Fe.div({height:yU,position:"relative"}),UL=Fe.div(t=>({position:"absolute",top:0,left:0,height:yU,width:t.width,borderTopLeftRadius:"50em",borderBottomLeftRadius:"50em",borderTopRightRadius:"50em",borderBottomRightRadius:"50em",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:t.zIndex,"& > div:first-of-type":{marginLeft:$2},"& > div:last-of-type":{marginRight:$2}})),xxe=Fe.div({display:"flex",justifyContent:"space-between","& > div":{fontWeight:500}}),kxe={[Oo.ADOPTED]:["cdp-bg-acceptance-green","cdp-bg-light-acceptance_green"],[Oo.REJECTED]:["cdp-bg-rejected-red","cdp-bg-light-rejected_red"],[Oo.IN_PROGRESS]:["cdp-bg-in-progress_orange","cdp-bg-light-in_progress_orange"]},_xe=({status:t})=>{const e=kxe[t],i=t===Oo.IN_PROGRESS;return ue("div",{children:[ue(Axe,{children:[ue(UL,{className:e[1],width:i?wxe:"100%",zIndex:2,children:[P(uc,{className:e[0]}),P(uc,{className:e[0]}),!i&&P(uc,{className:e[0]})]}),ue(UL,{className:"cdp-bg-light-neutral_grey",width:"100%",zIndex:1,children:[P(uc,{className:"cdp-bg-neutral-grey"}),P(uc,{className:"cdp-bg-neutral-grey"}),P(uc,{className:"cdp-bg-neutral-grey"})]})]}),ue(xxe,{children:[P("div",{children:"Introduced"}),P("div",{children:Oo.IN_PROGRESS}),P("div",{style:{opacity:i?"0.75":"1"},children:i?Oo.ADOPTED:t})]})]})},Txe=Fe(Rl)({display:"flex",justifyContent:"space-between",alignItems:"flex-end","& > em":{fontSize:Tr.font_size_6,fontWeight:400}}),Sxe=Fe.div({display:"flex",flexWrap:"wrap"}),Cxe=Fe.dl({fontSize:Tr.font_size_6,display:"flex",flexDirection:"column",rowGap:16,"& > div:not(:nth-of-type(2))":{display:"flex",columnGap:4,flexWrap:"wrap"},"& > div:nth-of-type(2)":{margin:"16px 0"},"& > div:nth-of-type(2) > dt":{width:0,height:0,overflow:"hidden"},"& dt":{fontWeight:600},"& dd":{fontWeight:400}}),Exe=({matterStatus:t,event:e,sponsors:i,document:n})=>{const{municipality:r}=Di(),{language:o}=jo();return ue("div",{children:[ue(Txe,{hasBorderBottom:!0,className:"mzp-u-title-xs",children:[P("span",{children:"Legislation Overview"}),P("em",{children:`Last Updated ${t.update_datetime.toLocaleDateString(o,{timeZone:r.timeZone,month:"long",day:"numeric",year:"numeric"})}`})]}),ue(Cxe,{children:[ue("div",{children:[P("dt",{children:"Legislation Status:"}),P("dd",{children:P(ks,{result:t.status})})]}),ue("div",{children:[P("dt",{children:"Progress bar"}),P("dd",{children:P(_xe,{status:t.status})})]}),e&&ue("div",{children:[P("dt",{children:"Latest Meeting:"}),P("dd",{children:P(pn,{to:`/events/${e.id}`,children:e.event_datetime.toLocaleDateString(o,{timeZone:r.timeZone,month:"short",day:"numeric",year:"numeric"})})})]}),n&&ue("div",{children:[P("dt",{children:"Latest Document:"}),P("dd",{children:P("a",{target:"_blank",rel:"noopener noreferrer",href:n.url,children:n.name})})]}),ue("div",{children:[P("dt",{children:"Sponsored by:"}),P("dd",{children:P(Sxe,{children:i.map((a,s)=>[s>0&&P("span",{style:{whiteSpace:"pre-wrap"},children:",  "}),P(pn,{to:`/people/${a.id}`,children:a.name},a.id)])})})]})]})]})},zxe=Fe.div({flex:4}),GL=Fe.div(t=>({position:"absolute",top:0,left:0,height:t.height,width:t.width,borderTopLeftRadius:"50em",borderBottomLeftRadius:"50em",borderTopRightRadius:"50em",borderBottomRightRadius:"50em",zIndex:t.zIndex})),Ek=({statusColor:t,percentage:e,height:i,votes:n,label:r})=>{const[o,a]=$.exports.useState(!1),s=Ta.exports.useMediaQuery({query:`(max-width: ${Dt.tablet})`}),l=n.map((h,m)=>{var y;return ue("div",{style:{marginTop:4,display:"flex"},children:[P(pn,{to:`/people/${h.id}`,style:{marginLeft:12,flex:1},children:(y=h.person)==null?void 0:y.name}),P(ks,{result:h.decision}),!s&&P(zxe,{style:{flex:4}})]},`${m}_${h.id}_vote`)}),c=s?"column":"row",d=s?"100%":"80%",p=s?"100%":"20%";return ue("div",{style:{display:"flex",flexDirection:"column",marginTop:16},children:[ue("div",{style:{display:"flex",flexDirection:c,flex:1,alignItems:"center"},children:[ue("div",{style:{height:i,position:"relative",width:d,cursor:"pointer"},onClick:()=>{a(!o)},children:[P(GL,{className:t,width:`${e}%`,height:i,zIndex:2}),P(GL,{className:"cdp-bg-neutral-grey",width:"100%",height:i,zIndex:1})]}),P("b",{style:{marginLeft:16,width:p},children:r})]}),o&&l]})};function Ixe(t){const e=[],i=[],n=[];return t.forEach(r=>{[oi.ABSENT_APPROVE,oi.ABSTAIN_APPROVE,oi.APPROVE].includes(r.decision)&&e.push(r),[oi.ABSENT_REJECT,oi.ABSTAIN_REJECT,oi.REJECT].includes(r.decision)&&i.push(r),[oi.ABSENT_NON_VOTING,oi.ABSTAIN_NON_VOTING].includes(r.decision)&&n.push(r)}),{inFavor:e,against:i,abstained:n}}const zk=16,wU=({votes:t})=>{const{inFavor:e,against:i,abstained:n}=Ixe(t),r=Se.number_approved.replace("{number}",`${e.length}`),o=Se.number_rejected.replace("{number}",`${i.length}`),a=Se.number_non_voting.replace("{number}",`${n.length}`),s=[P(Ek,{statusColor:"cdp-bg-acceptance-green",votes:e,percentage:e.length/t.length*100,height:zk,label:r},"inFavorVoteBar"),P(Ek,{statusColor:"cdp-bg-rejected-red",votes:i,percentage:i.length/t.length*100,height:zk,label:o},"againstVoteBar"),P(Ek,{statusColor:"cdp-bg-light-purple",votes:n,percentage:n.length/t.length*100,height:zk,label:a},"abstainedVoteBar")];return P("div",{style:{display:"flex",flexDirection:"column"},children:s})},Rxe=({votes:t})=>P("div",{style:{marginTop:16},children:P(fu,{hasBorderBottom:!0,defaultOpen:!1,summaryContent:P(Rl,{className:"mzp-u-title-xs",isInline:!0,children:Se.latest_vote}),hiddenContent:P(wU,{votes:t})})}),Pxe=({eventMinutesItem:t,isLastIndex:e})=>{var g,A,x,T,E,z,M,B;const{municipality:i}=Di(),n=Ta.exports.useMediaQuery({query:`(max-width: ${Dt.tablet})`}),r=n?4:12,o=Fe.div({position:"relative"}),a=Fe.div({margin:r,display:"flex",flexDirection:"row",gap:r*3}),s=Fe.div({flex:1}),l=Fe.div({display:"flex",flexDirection:"row"}),c=Fe.div(()=>({flex:1,marginTop:r,marginLeft:n?0:r*2})),d=Fe.div({position:"absolute",top:r+Um,left:Um/2+r,height:"100%",width:2,zIndex:0,backgroundColor:"grey"}),{firebaseConfig:p}=Di(),{language:h}=jo(),m=(g=t.event)==null?void 0:g.event_datetime.toLocaleDateString(h,{timeZone:i.timeZone,month:"long",day:"numeric",year:"numeric"}),y=$.exports.useCallback(async()=>{const L={votes:[],files:[]},H=await new YF(p).getEventMinutesItemFilesByEventMinutesItemId(t.id);if(L.files=H.map(({name:X,uri:de})=>({label:X,url:de})),t.decision){const X=new fA(p);L.votes=await X.getVotesByEventMinutesItemId(t.id)}return Promise.resolve(L)},[t.id,t.decision,p]),{state:w}=dn({...Io},y);return ue(o,{children:[ue(a,{children:[P(uc,{className:"cdp-bg-neutral-grey"}),ue(s,{children:[ue(l,{children:[P(pn,{to:`/events/${(A=t.event)==null?void 0:A.id}`,children:m}),t.decision&&P(ks,{result:t.decision,style:{marginLeft:r,display:"flex",flex:1,alignItems:"center"}})]}),ue(_g,{data:"votes and documents associated with this event",isLoading:w.isLoading,error:w.error,notFound:!w.data,children:[((x=w.data)==null?void 0:x.votes)&&((T=w.data)==null?void 0:T.votes.length)>0&&P(fu,{summaryContent:Se.votes,hiddenContent:P(c,{children:P(wU,{votes:(E=w.data)==null?void 0:E.votes})}),defaultOpen:!1,hasBorderBottom:!1}),((z=w.data)==null?void 0:z.files)&&((M=w.data)==null?void 0:M.files.length)>0&&P(hU,{documents:(B=w.data)==null?void 0:B.files})]})]})]}),!e&&P(d,{})]})},Lxe=Fe.div({marginTop:16}),Oxe=Fe.div({display:"flex",flexDirection:"column"}),Mxe=({eventMinutesItems:t})=>P(Lxe,{children:P(fu,{hasBorderBottom:!0,defaultOpen:!1,summaryContent:P(Rl,{className:"mzp-u-title-xs",isInline:!0,children:Se.history}),hiddenContent:P(Oxe,{children:t.map((e,i)=>P(Pxe,{isLastIndex:i===t.length-1,eventMinutesItem:e},`leg_hist_node_${e.id}_${i}`))})})}),Dxe=Fe.div({display:"grid",gridTemplateColumns:"1fr",rowGap:64}),Bxe=({matterStatus:t,indexedMatterGrams:e,event:i,sponsors:n,votes:r,legislationHistory:o})=>ue(Dxe,{children:[P(yxe,{matterStatus:t,indexedMatterGrams:e}),P(Exe,{matterStatus:t,event:i,sponsors:n}),r&&P(Rxe,{votes:r}),o&&P(Mxe,{eventMinutesItems:o})]});class Fxe extends Dn{constructor(e){super(_e.Matter,e)}async getMatterById(e){const i=this.networkService.getDocument(e,_e.Matter);return this.createModel(i,kg,`getMatterById(${e})`)}}class Nxe{constructor(e){this.id=e.id,this.matter_ref=e.matter_ref.id,this.status=e.status,this.update_datetime=ma(e.update_datetime),e.event_minutes_item_ref&&(e.event_minutes_item_ref instanceof kt?this.event_minutes_item_ref=e.event_minutes_item_ref.id:typeof e.event_minutes_item_ref=="object"&&(this.event_minutes_item=new uA(e.event_minutes_item_ref))),e.external_source_id&&(this.external_source_id=e.external_source_id),typeof e.matter_ref=="object"&&!(e.matter_ref instanceof kt)&&(this.matter=new kg(e.matter_ref))}}class jxe extends Dn{constructor(e){super(_e.MatterStatus,e)}async getMatterStatusesByMatterId(e){const i=new Ci(_e.EventMinutesItem,vt.EventMinutesItemEventRef),n=new Ci(_e.MatterStatus,vt.MatterStatusEventMinutesItemRef,new Ji([i])),r=this.networkService.getDocuments(_e.MatterStatus,[Ai(vt.MatterStatusMatterRef,mi.eq,Yi(Qt.getDb(),_e.Matter,e)),Rn("update_datetime",Ki.desc)],new Ji([n]));return this.createModels(r,Nxe,`getMatterStatusByMatterId(${e})`)}}const Uxe=()=>{const{firebaseConfig:t}=Di(),{id:e}=rS(),i=$.exports.useCallback(async()=>{const r=new Fxe(t),o=new jxe(t),a=new vU(t),s=new lA(t),l=r.getMatterById(e),c=a.getMatterSponsorByMatterId(e),d=o.getMatterStatusesByMatterId(e),p=await Promise.all([l,c,d]),[h,m,y]=p,w=m.filter(E=>E.person).map(E=>E.person),g=y.reduce((E,z)=>(z.event_minutes_item&&E.push(z.event_minutes_item),E),[]),A=y[0];A.matter=h;const x={matterStatus:A,indexedMatterGrams:[],sponsors:w,legislationHistory:g};let T;for(const E of y)if(E.event_minutes_item){T=E.event_minutes_item;break}if(T){const E=new fA(t),z=await Promise.all([E.getVotesByEventMinutesItemId(T.id),s.getEventById(T.event_ref)]);x.votes=z[0],x.event=z[1]}return x},[t,e]),{state:n}=dn({isLoading:!1,error:null,hasFetchRequest:!0},i);return P(Of,{isLoading:n.isLoading,error:n.error,children:n.data&&P(Bxe,{indexedMatterGrams:n.data.indexedMatterGrams,matterStatus:n.data.matterStatus,sponsors:n.data.sponsors,event:n.data.event,votes:n.data.votes,legislationHistory:n.data.legislationHistory})})},Gxe=Fe.div({minHeight:"100vh",display:"flex",flexDirection:"column"}),Hxe=Fe.main({boxSizing:"border-box",width:"100%",padding:"16px",flex:1,alignSelf:"center",display:"flex",flexDirection:"column",[`@media (min-width:${Dt.tablet})`]:{padding:"32px",maxWidth:"1280px"}});function Yxe(){xf(Se.council_data_project);const{municipality:t}=Di(),[e,i]=$.exports.useState(sfe[0]);return P(yo,{children:P(HQ,{languageConfig:{language:e,setLanguage:i},children:ue(Bq,{basename:"/",children:[P(kK,{styles:P8`
              html,
              body {
                font-size: 100%;
              }

              body {
                font-family: Inter, X-LocaleSpecific, sans-serif;
              }
            `}),ue(Gxe,{children:[P(JK,{municipalityName:t.name}),P(Hxe,{children:ue(Dq,{children:[P(Ys,{exact:!0,path:"/",children:P(mX,{})}),P(Ys,{exact:!0,path:`/${$r.EVENT}`,children:P(GAe,{})}),P(Ys,{exact:!0,path:`/${$r.EVENT}/search`,children:P(cfe,{})}),P(Ys,{exact:!0,path:`/${$r.EVENT}/:id`,children:P(NAe,{})}),P(Ys,{exact:!0,path:"/people",children:P(vxe,{})}),P(Ys,{exact:!0,path:"/people/:id",children:P(fxe,{})}),P(Ys,{exact:!0,path:"/matters/:id",children:P(Uxe,{})}),P(Ys,{path:"*",component:AF})]})}),P(eX,{footerLinksSections:t.footerLinksSections})]})]})})})}BQ.render(P(ze.StrictMode,{children:P(GQ,{appConfig:{firebaseConfig:{options:{projectId:"cdp-seattle-staging-dbengvtn"},settings:{}},municipality:{name:"Seattle Staging",timeZone:"America/Los_Angeles",footerLinksSections:[]}},children:P(Yxe,{})})}),document.getElementById("root"))});export default Wxe();
